{"version":3,"file":"static/js/8503f815820b0.chunk.js","mappings":";gJAEA,QADqB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,0VAA8V,KAAQ,SAAU,MAAS,0BCMjhB,EAAiB,SAAwBA,EAAOC,GAClD,OAAoB,gBAAoBC,EAAAC,GAAU,OAAS,CAAC,EAAGH,EAAO,CACpEC,IAAKA,EACLG,KAAM,IAEV,EAOA,QAJ2B,aAAiB,yECb5C,QADsB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,sxDAA0xD,KAAQ,UAAW,MAAS,0BCM/8D,EAAkB,SAAyBJ,EAAOC,GACpD,OAAoB,gBAAoBC,EAAAC,GAAU,OAAS,CAAC,EAAGH,EAAO,CACpEC,IAAKA,EACLG,KAAM,IAEV,EAOA,QAJ2B,aAAiB,iDCZ5C,gBAAkB,mNCDlB,MA8DA,GAAe,QAAc,cAAcC,GA9DtBA,KACnB,MAAM,aACJC,EAAY,QACZC,EAAO,OACPC,EAAM,YACNC,EAAW,UACXC,EAAS,aACTC,EAAY,UACZC,EAAS,SACTC,EAAQ,SACRC,EAAQ,iBACRC,EAAgB,iBAChBC,GACEX,EACJ,MAAO,CACL,CAACC,GAAe,CACdW,OAAQR,EACR,CAAC,IAAID,aAAmB,CACtBM,YAEF,CAAC,GAAGR,aAAyB,CAC3BY,aAAcL,EACdM,QAAS,OACTC,SAAU,SACVC,WAAY,QACZ,CAAC,KAAKf,kBAA6BC,KAAY,CAC7Ce,MAAOX,EACPG,WACAS,WAAY,EACZC,gBAAiBX,GAEnB,CAAC,GAAGP,WAAuB,CACzBmB,WAAYV,EACZO,MAAON,EACP,eAAgB,CACdS,WAAY,WAGhB,CAAC,GAAGnB,iBAA6B,CAC/BoB,UAAWd,EACXU,MAAOZ,IAGX,CAAC,GAAGJ,aAAyB,CAC3BqB,UAAW,MACXC,WAAY,SACZC,OAAQ,CACNC,kBAAmBjB,KAI1B,EAWiDkB,CAAa1B,KAR5BA,IACnC,MAAM,gBACJ2B,GACE3B,EACJ,MAAO,CACLI,YAAauB,EAAkB,GAChC,GAE6F,CAC9FC,YAAY,IC/Dd,IAAIC,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,CAAC,EACT,IAAK,IAAIC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAC9F,GAAS,MAALH,GAAqD,mBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,IADuB,CAGvH,OAAOR,CACT,EAaO,MAAMW,EAAUhD,IACrB,MAAM,UACJiD,EAAS,cACTC,EAAa,kBACbC,EAAiB,MACjBC,EAAK,YACLC,EAAW,WACXC,EAAU,OACVC,EAAM,OACNC,EAAS,UAAS,KAClBpD,EAAoB,gBAAoBqD,EAAA,EAAyB,MAAK,WACtEC,GAAa,EAAI,MACjBC,EAAK,UACLC,EAAS,SACTC,EAAQ,aACRC,GACE9D,GACE,aACJ+D,GACE,aAAiB,OACdC,IAAiB,EAAAC,EAAA,GAAU,aAAc,IAAcC,YACxDC,GAAY,EAAAC,EAAA,GAAmBhB,GAC/BiB,GAAkB,EAAAD,EAAA,GAAmBf,GAC3C,OAAoB,gBAAoB,MAAO,CAC7CiB,UAAW,GAAGrB,kBACdsB,QAAST,GACK,gBAAoB,MAAO,CACzCQ,UAAW,GAAGrB,aACb7C,GAAqB,gBAAoB,OAAQ,CAClDkE,UAAW,GAAGrB,kBACb7C,GAAoB,gBAAoB,MAAO,CAChDkE,UAAW,GAAGrB,kBACbkB,GAA0B,gBAAoB,MAAO,CACtDG,UAAW,GAAGrB,WACbkB,GAAYE,GAAgC,gBAAoB,MAAO,CACxEC,UAAW,GAAGrB,iBACboB,KAAiC,gBAAoB,MAAO,CAC7DC,UAAW,GAAGrB,aACbS,GAA6B,gBAAoB,KAAQnB,OAAOiC,OAAO,CACxED,QAASV,EACTY,KAAM,SACLtB,GAAoBG,IAAeU,aAAqD,EAASA,EAAcV,aAA4B,gBAAoBoB,EAAAvE,EAAc,CAC9KwE,YAAapC,OAAOiC,OAAOjC,OAAOiC,OAAO,CACvCC,KAAM,UACL,QAAmBjB,IAAUN,GAChC0B,SAAUhB,EACVD,MAAOA,EACPV,UAAWc,EAAa,OACxBc,0BAA0B,EAC1BC,WAAW,GACVvB,IAAWS,aAAqD,EAASA,EAAcT,UAAU,EAwBtG,EAtBkBvD,IAChB,MACIiD,UAAW8B,EAAkB,UAC7BC,EAAS,UACTV,EAAS,MACTW,GACEjF,EACJkF,EAAYhD,EAAOlC,EAAO,CAAC,YAAa,YAAa,YAAa,WAC9D,aACJ+D,GACE,aAAiB,MACfd,EAAYc,EAAa,aAAcgB,IACtCI,GAAc,EAASlC,GAC9B,OAAOkC,EAAyB,gBAAoB,KAAkB,CACpEH,UAAWA,EACXV,UAAW,IAAWrB,EAAWqB,GACjCW,MAAOA,EACPG,QAAsB,gBAAoBpC,EAAST,OAAOiC,OAAO,CAC/DvB,UAAWA,GACViC,MACF,EC5FL,IAAI,EAAgC,SAAU/C,EAAGC,GAC/C,IAAIC,EAAI,CAAC,EACT,IAAK,IAAIC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAC9F,GAAS,MAALH,GAAqD,mBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,IADuB,CAGvH,OAAOR,CACT,EAUA,MAqEM6B,EArEkC,cAAiB,CAAClE,EAAOC,KAC/D,IAAIoF,EAAIC,EACR,MACIrC,UAAW8B,EAAkB,UAC7BC,EAAY,MAAK,QACjBO,EAAU,QAAO,OACjB/B,EAAS,UAAS,KAClBpD,EAAoB,gBAAoBqD,EAAA,EAAyB,MAAK,SACtE+B,EAAQ,iBACRC,EAAgB,aAChBC,EAAY,gBACZC,GACE3F,EACJkF,EAAY,EAAOlF,EAAO,CAAC,YAAa,YAAa,UAAW,SAAU,OAAQ,WAAY,mBAAoB,eAAgB,qBAC9H,aACJ+D,GACE,aAAiB,OACd6B,EAAMC,IAAW,EAAAC,EAAA,IAAe,EAAO,CAC5CC,MAA6B,QAArBV,EAAKrF,EAAM4F,YAAyB,IAAPP,EAAgBA,EAAKrF,EAAMgG,QAChEC,aAA2C,QAA5BX,EAAKtF,EAAMkG,mBAAgC,IAAPZ,EAAgBA,EAAKtF,EAAMmG,iBAE1EC,EAAc,CAACL,EAAO3D,KAC1ByD,EAAQE,GAAO,GACfJ,SAAkEA,EAAgBI,GAClFL,SAA4DA,EAAaK,EAAO3D,EAAE,EAuB9Ea,EAAYc,EAAa,aAAcgB,GACvCsB,EAAoB,IAAWpD,EAAWwC,IACzCN,GAAc,EAASlC,GAC9B,OAAOkC,EAAyB,gBAAoB,IAAS5C,OAAOiC,OAAO,CAAC,GAAG,EAAA8B,EAAA,GAAKpB,EAAW,CAAC,UAAW,CACzGK,QAASA,EACTP,UAAWA,EACXU,aAf2B,CAACK,EAAO3D,KACnC,MAAM,SACJmE,GAAW,GACTvG,EACAuG,GAGJH,EAAYL,EAAO3D,EAAE,EASrBwD,KAAMA,EACN3F,IAAKA,EACLwF,iBAAkBY,EAClBjB,QAAsB,gBAAoBpC,EAAST,OAAOiC,OAAO,CAC/DhB,OAAQA,EACRpD,KAAMA,GACLJ,EAAO,CACRiD,UAAWA,EACXU,MApCUvB,IACZgE,GAAY,EAAOhE,EAAE,EAoCnBwB,UAlCcxB,IAChB,IAAIiD,EACJ,OAAkC,QAA1BA,EAAKrF,EAAM4D,iBAA8B,IAAPyB,OAAgB,EAASA,EAAG3C,UAAK,EAAMN,EAAE,EAiCjFyB,SA/BazB,IACf,IAAIiD,EACJe,GAAY,EAAOhE,GACO,QAAzBiD,EAAKrF,EAAM6D,gBAA6B,IAAPwB,GAAyBA,EAAG3C,UAAK,EAAMN,EAAE,KA8B3E,uBAAuB,IACrBoD,GAAU,IAKhBtB,EAAWsC,uCAAyC,EAIpD,wDC5FA,gBAAkB,0LCElB,MAuFaC,EAAepG,IAC1B,MAAM,UACJqG,EAAS,aACTC,EAAY,KACZC,GACEvG,EACEwG,EAAcxG,EAAMyG,WAU1B,OATiB,QAAWzG,EAAO,CACjCwG,cACAE,eAAe,QAAKH,EAAKvG,EAAM2G,cAAcC,IAAIJ,GAAaK,SAC9DC,YAAaP,EAAKD,GAAcS,IAAIR,EAAKF,GAAWO,IAAI,IAAIC,QAE5DG,qBAAsB,EAEtBC,gBAAiBjH,EAAMkH,WAEV,EAEJC,EAAwBnH,IAAS,CAC5CkH,UAAW,IAAI,IAAUlH,EAAMoH,qBAAqBC,aAAarH,EAAMsH,kBAAkBC,cACzFC,aAAcxH,EAAMK,YAEtB,GAAe,QAAc,OAAOL,GA7GfA,KACnB,MAAM,WACJyH,EAAU,UACVpB,EAAS,qBACTW,EAAoB,aACpB/G,EAAY,KACZsG,GACEvG,EACE0H,EAAgBnB,EAAKS,GAAsBD,IAAIV,GAAWQ,QAC1Dc,EAAmBpB,EAAKkB,GAAYV,IAAIV,GAAWQ,QACzD,MAAO,CAEL,CAAC5G,GAAeiC,OAAOiC,OAAOjC,OAAOiC,OAAO,CAAC,GAAG,QAAenE,IAAS,CACtEc,QAAS,eACT8G,OAAQ,OAERzG,gBAAiBnB,EAAMQ,SACvBkH,gBACAjH,SAAUT,EAAMwG,YAChBtF,WAAYlB,EAAM0G,cAClBnF,WAAY,SACZsG,WAAY7H,EAAMkH,UAClBY,OAAQ,IAAG,QAAK9H,EAAMqG,cAAcrG,EAAM+H,YAAY/H,EAAMgI,cAC5DC,aAAcjI,EAAMkI,eACpBC,QAAS,EACTC,WAAY,OAAOpI,EAAMqI,oBACzB/G,UAAW,QACXgH,SAAU,WAEV,CAAC,IAAIrI,SAAqB,CACxBsI,UAAW,OAEb,gBAAiB,CACftH,MAAOjB,EAAMwH,cAEf,CAAC,GAAGvH,gBAA4B,CAC9BwB,kBAAmBkG,EACnBlH,SAAUT,EAAM8G,YAChB7F,MAAOjB,EAAMwI,qBACbC,OAAQ,UACRL,WAAY,OAAOpI,EAAMqI,oBACzB,UAAW,CACTpH,MAAOjB,EAAMW,mBAGjB,CAAC,IAAIV,eAA2B,CAC9ByI,YAAa,cACb,CAAC,kBAAkB1I,EAAME,kBAAkBF,EAAME,uBAAwB,CACvEe,MAAOjB,EAAM2I,sBAGjB,cAAe,CACbC,gBAAiB,cACjBF,YAAa,cACbD,OAAQ,UACR,CAAC,SAASxI,8BAA0C,CAClDgB,MAAOjB,EAAM6I,aACbD,gBAAiB5I,EAAM8I,oBAEzB,sBAAuB,CACrB7H,MAAOjB,EAAM2I,qBAEf,YAAa,CACXC,gBAAiB5I,EAAM6I,aACvB,UAAW,CACTD,gBAAiB5I,EAAM+I,oBAG3B,WAAY,CACVH,gBAAiB5I,EAAMgJ,qBAG3B,WAAY,CACVlI,QAAS,QAGX,CAAC,KAAKd,EAAME,4BAA4BF,EAAME,WAAY,CACxDuB,kBAAmBiG,KAGvB,CAAC,GAAGzH,gBAA4B,CAC9ByI,YAAa,cACbb,WAAY7H,EAAMiH,iBAErB,EA2BMvF,CADU0E,EAAapG,KAE7BmH,GCnHH,IAAItF,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,CAAC,EACT,IAAK,IAAIC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAC9F,GAAS,MAALH,GAAqD,mBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,IADuB,CAGvH,OAAOR,CACT,EAKA,MAAMiH,EAA4B,cAAiB,CAACtJ,EAAOC,KACzD,MACIgD,UAAW8B,EAAkB,MAC7BE,EAAK,UACLX,EAAS,QACTiF,EAAO,SACPC,EAAQ,QACRjF,GACEvE,EACJkF,EAAYhD,EAAOlC,EAAO,CAAC,YAAa,QAAS,YAAa,UAAW,WAAY,aACjF,aACJ+D,EAAY,IACZ0F,GACE,aAAiB,MAKfxG,EAAYc,EAAa,MAAOgB,IAE/BI,EAAYuE,EAAQC,GAAa,EAAS1G,GAC3C2G,EAAM,IAAW3G,EAAW,GAAGA,cAAuB,CAC1D,CAAC,GAAGA,uBAAgCsG,GACnCE,aAAiC,EAASA,EAAInF,UAAWA,EAAWoF,EAAQC,GAC/E,OAAOxE,EAAyB,gBAAoB,OAAQ5C,OAAOiC,OAAO,CAAC,EAAGU,EAAW,CACvFjF,IAAKA,EACLgF,MAAO1C,OAAOiC,OAAOjC,OAAOiC,OAAO,CAAC,EAAGS,GAAQwE,aAAiC,EAASA,EAAIxE,OAC7FX,UAAWsF,EACXrF,QAdkBnC,IAClBoH,SAAoDA,GAAUD,GAC9DhF,SAAkDA,EAAQnC,EAAE,KAa1D,IAEN,kBCzCA,MAyBA,GAAe,QAAqB,CAAC,MAAO,WAAW/B,GAzBhCA,KAAS,EAAAwJ,EAAA,GAAexJ,GAAO,CAACyJ,EAAUC,KAC/D,IAAI,UACFC,EAAS,iBACTC,EAAgB,WAChBC,EAAU,UACVC,GACEJ,EACJ,MAAO,CACL,CAAC,GAAG1J,EAAMC,eAAeD,EAAMC,gBAAgBwJ,KAAa,CAC1DxI,MAAO0I,EACP9B,WAAYgC,EACZnB,YAAakB,EAEb,YAAa,CACX3I,MAAOjB,EAAM2I,oBACbd,WAAYiC,EACZpB,YAAaoB,GAEf,CAAC,IAAI9J,EAAMC,2BAA4B,CACrCyI,YAAa,gBAGlB,IAKMqB,CADU3D,EAAapG,KAE7BmH,GC7BH,MAAM6C,EAAoB,CAAChK,EAAOiK,EAAQC,KACxC,MAAMC,ECHa,iBADcC,EDIaF,GCFrCE,EAEGA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,GAJvC,IAAoBH,EDKjC,MAAO,CACL,CAAC,GAAGpK,EAAMC,eAAeD,EAAMC,gBAAgBgK,KAAW,CACxDhJ,MAAOjB,EAAM,QAAQkK,KACrBrC,WAAY7H,EAAM,QAAQmK,OAC1BzB,YAAa1I,EAAM,QAAQmK,WAC3B,CAAC,IAAInK,EAAMC,2BAA4B,CACrCyI,YAAa,gBAGlB,EAGH,GAAe,QAAqB,CAAC,MAAO,WAAW1I,IACrD,MAAMwK,EAAWpE,EAAapG,GAC9B,MAAO,CAACgK,EAAkBQ,EAAU,UAAW,WAAYR,EAAkBQ,EAAU,aAAc,QAASR,EAAkBQ,EAAU,QAAS,SAAUR,EAAkBQ,EAAU,UAAW,WAAW,GAC9MrD,GElBH,IAAI,EAAgC,SAAUrF,EAAGC,GAC/C,IAAIC,EAAI,CAAC,EACT,IAAK,IAAIC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAC9F,GAAS,MAALH,GAAqD,mBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,IADuB,CAGvH,OAAOR,CACT,EAcA,MAAMyI,EAA2B,cAAiB,CAACC,EAAU9K,KAC3D,MACIgD,UAAW8B,EAAkB,UAC7BT,EAAS,cACT0G,EAAa,MACb/F,EAAK,SACLO,EAAQ,KACRpF,EAAI,MACJkB,EAAK,QACL2J,EAAO,SACPC,GAAW,EACXlF,QAASmF,GACPJ,EACJ/K,EAAQ,EAAO+K,EAAU,CAAC,YAAa,YAAa,gBAAiB,QAAS,WAAY,OAAQ,QAAS,UAAW,WAAY,aAC9H,aACJhH,EAAY,UACZ6E,EACAa,IAAK2B,GACH,aAAiB,OACdpF,EAASqF,GAAc,YAAe,GACvCC,GAAW,EAAAhF,EAAA,GAAKtG,EAAO,CAAC,YAAa,aAM3C,aAAgB,UACYuL,IAAtBJ,GACFE,EAAWF,EACb,GACC,CAACA,IACJ,MAAMK,GAAW,QAAclK,GACzBmK,GAAW,QAAoBnK,GAC/BoK,EAAkBF,GAAYC,EAC9BE,EAAWpJ,OAAOiC,OAAOjC,OAAOiC,OAAO,CAC3CyE,gBAAiB3H,IAAUoK,EAAkBpK,OAAQiK,GACpDH,aAA+C,EAASA,EAAWnG,OAAQA,GACxEhC,EAAYc,EAAa,MAAOgB,IAC/BI,EAAYuE,EAAQC,GAAa,EAAS1G,GAE3C2I,EAAe,IAAW3I,EAAWmI,aAA+C,EAASA,EAAW9G,UAAW,CACvH,CAAC,GAAGrB,KAAa3B,KAAUoK,EAC3B,CAAC,GAAGzI,eAAwB3B,IAAUoK,EACtC,CAAC,GAAGzI,aAAsB+C,EAC1B,CAAC,GAAG/C,SAAgC,QAAd2F,EACtB,CAAC,GAAG3F,iBAA0BiI,GAC7B5G,EAAW0G,EAAetB,EAAQC,GAC/BkC,EAAmBzJ,IACvBA,EAAE0J,kBACFb,SAAkDA,EAAQ7I,GACtDA,EAAE2J,kBAGNV,GAAW,EAAM,GAEZ,CAAEW,IAAmB,EAAAC,EAAA,IAAY,OAAalB,IAAW,OAAaK,GAAa,CACxFc,UAAU,EACVC,gBAAiBC,IACf,MAAMC,EAA2B,gBAAoB,OAAQ,CAC3D/H,UAAW,GAAGrB,eACdsB,QAASsH,GACRO,GACH,OAAO,QAAeA,EAAUC,GAAaC,IAAe,CAC1D/H,QAASnC,IACP,IAAIiD,EACqF,QAAxFA,EAAKiH,aAAiD,EAASA,EAAY/H,eAA4B,IAAPc,GAAyBA,EAAG3C,KAAK4J,EAAalK,GAC/IyJ,EAAiBzJ,EAAE,EAErBkC,UAAW,IAAWgI,aAAiD,EAASA,EAAYhI,UAAW,GAAGrB,mBACzG,IAGDsJ,EAAsC,mBAAlBvM,EAAMuE,SAA0BiB,GAA8B,MAAlBA,EAASgH,KACzEJ,EAAWhM,GAAQ,KACnBqM,EAAOL,EAA0B,gBAAoB,WAAgB,KAAMA,EAAU5G,GAAyB,gBAAoB,OAAQ,KAAMA,IAAcA,EAC9JkH,EAAuB,gBAAoB,OAAQnK,OAAOiC,OAAO,CAAC,EAAG8G,EAAU,CACnFrL,IAAKA,EACLqE,UAAWsH,EACX3G,MAAO0G,IACLc,EAAMT,EAAiBR,GAAyB,gBAAoB,EAAW,CACjFmB,IAAK,SACL1J,UAAWA,IACTwI,GAAyB,gBAAoB,EAAW,CAC1DkB,IAAK,SACL1J,UAAWA,KAEb,OAAOkC,EAAWoH,EAA0B,gBAAoB,IAAM,CACpEK,UAAW,OACVF,GAAWA,EAAQ,IAElBG,EAAM/B,EAIZ+B,EAAIvD,aAAe,EACnB,gCCtHA,iBAQE,WAGA,IAAIiC,EAUAuB,EAAkB,sBAIlBC,EAAiB,4BAMjBC,EAAc,yBAgBdC,EAAwB,GACxBC,EAAoB,GACpBC,EAA0B,GAC1BC,EAAgB,IAChBC,EAAkB,IAiBlBC,EAAW,IACXC,EAAmB,iBAEnBC,EAAM,IAGNC,EAAmB,WAKnBC,EAAY,CACd,CAAC,MAAON,GACR,CAAC,OAtCkB,GAuCnB,CAAC,UAtCsB,GAuCvB,CAAC,QArCmB,GAsCpB,CAAC,aAAcH,GACf,CAAC,OAjCkB,KAkCnB,CAAC,UAAWC,GACZ,CAAC,eAAgBC,GACjB,CAAC,QAASE,IAIRM,EAAU,qBACVC,EAAW,iBAEXC,EAAU,mBACVC,EAAU,gBAEVC,EAAW,iBACXC,EAAU,oBACVC,EAAS,6BACTC,EAAS,eACTC,EAAY,kBAEZC,EAAY,kBACZC,EAAa,mBAEbC,EAAY,kBACZC,EAAS,eACTC,EAAY,kBACZC,EAAY,kBAEZC,EAAa,mBAGbC,EAAiB,uBACjBC,EAAc,oBACdC,EAAa,wBACbC,EAAa,wBACbC,EAAU,qBACVC,EAAW,sBACXC,EAAW,sBACXC,EAAW,sBACXC,EAAkB,6BAClBC,EAAY,uBACZC,EAAY,uBAGZC,EAAuB,iBACvBC,EAAsB,qBACtBC,EAAwB,gCAGxBC,EAAgB,4BAChBC,EAAkB,WAClBC,EAAmBC,OAAOH,EAAcI,QACxCC,EAAqBF,OAAOF,EAAgBG,QAG5CE,EAAW,mBACXC,EAAa,kBACbC,GAAgB,mBAGhBC,GAAe,mDACfC,GAAgB,QAChBC,GAAa,mGAMbC,GAAe,sBACfC,GAAkBV,OAAOS,GAAaR,QAGtCU,GAAc,OAGdC,GAAe,KAGfC,GAAgB,4CAChBC,GAAgB,oCAChBC,GAAiB,QAGjBC,GAAc,4CAYdC,GAA6B,mBAG7BC,GAAe,WAMfC,GAAe,kCAGfC,GAAU,OAGVC,GAAa,qBAGbC,GAAa,aAGbC,GAAe,8BAGfC,GAAY,cAGZC,GAAW,mBAGXC,GAAU,8CAGVC,GAAY,OAGZC,GAAoB,yBAGpBC,GAAgB,kBAIhBC,GAAeC,gDACfC,GAAiB,kBACjBC,GAAe,4BAKfC,GAAe,4BACfC,GAAa,iBACbC,GAAeC,8OAGfC,GAAS,OACTC,GAAW,IAAMV,GAAgB,IACjCW,GAAU,IAAMJ,GAAe,IAC/BK,GAAU,IAAMX,GAAe,IAC/BY,GAAW,OACXC,GAAY,IAAMX,GAAiB,IACnCY,GAAU,IAAMX,GAAe,IAC/BY,GAAS,KAAOhB,GAAgBO,GAAeM,GAAWV,GAAiBC,GAAeC,GAAe,IACzGY,GAAS,2BAETC,GAAc,KAAOlB,GAAgB,IACrCmB,GAAa,kCACbC,GAAa,qCACbC,GAAU,IAAMhB,GAAe,IAC/BiB,GAAQ,UAGRC,GAAc,MAAQR,GAAU,IAAMC,GAAS,IAC/CQ,GAAc,MAAQH,GAAU,IAAML,GAAS,IAC/CS,GAAkB,gCAClBC,GAAkB,gCAClBC,GAZa,MAAQf,GAAU,IAAMK,GAAS,IAYtB,IACxBW,GAAW,IAAMtB,GAAa,KAI9BuB,GAAQD,GAAWD,IAHP,MAAQL,GAAQ,MAAQ,CAACJ,GAAaC,GAAYC,IAAYU,KAAK,KAAO,IAAMF,GAAWD,GAAW,MAIlHI,GAAU,MAAQ,CAACjB,GAAWK,GAAYC,IAAYU,KAAK,KAAO,IAAMD,GACxEG,GAAW,MAAQ,CAACd,GAAcN,GAAU,IAAKA,GAASO,GAAYC,GAAYV,IAAUoB,KAAK,KAAO,IAGxGG,GAAS9D,OAAOsC,GAAQ,KAMxByB,GAAc/D,OAAOyC,GAAS,KAG9BuB,GAAYhE,OAAO8C,GAAS,MAAQA,GAAS,KAAOe,GAAWH,GAAO,KAGtEO,GAAgBjE,OAAO,CACzBkD,GAAU,IAAMN,GAAU,IAAMU,GAAkB,MAAQ,CAACd,GAASU,GAAS,KAAKS,KAAK,KAAO,IAC9FN,GAAc,IAAME,GAAkB,MAAQ,CAACf,GAASU,GAAUE,GAAa,KAAKO,KAAK,KAAO,IAChGT,GAAU,IAAME,GAAc,IAAME,GACpCJ,GAAU,IAAMK,GAtBD,mDADA,mDA0Bfb,GACAkB,IACAD,KAAK,KAAM,KAGTO,GAAelE,OAAO,IAAMmD,GAAQtB,GAAiBC,GAAeK,GAAa,KAGjFgC,GAAmB,qEAGnBC,GAAe,CACjB,QAAS,SAAU,WAAY,OAAQ,QAAS,eAAgB,eAChE,WAAY,YAAa,aAAc,aAAc,MAAO,OAAQ,SACpE,UAAW,SAAU,MAAO,SAAU,SAAU,YAAa,aAC7D,oBAAqB,cAAe,cAAe,UACnD,IAAK,eAAgB,WAAY,WAAY,cAI3CC,IAAmB,EAGnBC,GAAiB,CAAC,EACtBA,GAAerF,GAAcqF,GAAepF,GAC5CoF,GAAenF,GAAWmF,GAAelF,GACzCkF,GAAejF,GAAYiF,GAAehF,GAC1CgF,GAAe/E,GAAmB+E,GAAe9E,GACjD8E,GAAe7E,IAAa,EAC5B6E,GAAevG,GAAWuG,GAAetG,GACzCsG,GAAevF,GAAkBuF,GAAerG,GAChDqG,GAAetF,GAAesF,GAAepG,GAC7CoG,GAAenG,GAAYmG,GAAelG,GAC1CkG,GAAehG,GAAUgG,GAAe/F,GACxC+F,GAAe9F,GAAa8F,GAAe5F,GAC3C4F,GAAe3F,GAAU2F,GAAe1F,GACxC0F,GAAexF,IAAc,EAG7B,IAAIyF,GAAgB,CAAC,EACrBA,GAAcxG,GAAWwG,GAAcvG,GACvCuG,GAAcxF,GAAkBwF,GAAcvF,GAC9CuF,GAActG,GAAWsG,GAAcrG,GACvCqG,GAActF,GAAcsF,GAAcrF,GAC1CqF,GAAcpF,GAAWoF,GAAcnF,GACvCmF,GAAclF,GAAYkF,GAAcjG,GACxCiG,GAAchG,GAAagG,GAAc/F,GACzC+F,GAAc7F,GAAa6F,GAAc5F,GACzC4F,GAAc3F,GAAa2F,GAAc1F,GACzC0F,GAAcjF,GAAYiF,GAAchF,GACxCgF,GAAc/E,GAAa+E,GAAc9E,IAAa,EACtD8E,GAAcpG,GAAYoG,GAAcnG,GACxCmG,GAAczF,IAAc,EAG5B,IA4EI0F,GAAgB,CAClB,KAAM,KACN,IAAK,IACL,KAAM,IACN,KAAM,IACN,SAAU,QACV,SAAU,SAIRC,GAAiBC,WACjBC,GAAeC,SAGfC,GAA8B,iBAAV,EAAAC,GAAsB,EAAAA,GAAU,EAAAA,EAAOnS,SAAWA,QAAU,EAAAmS,EAGhFC,GAA0B,iBAARC,MAAoBA,MAAQA,KAAKrS,SAAWA,QAAUqS,KAGxEC,GAAOJ,IAAcE,IAAYG,SAAS,cAATA,GAGjCC,GAA4CC,IAAYA,EAAQC,UAAYD,EAG5EE,GAAaH,IAA4CI,IAAWA,EAAOF,UAAYE,EAGvFC,GAAgBF,IAAcA,GAAWF,UAAYD,GAGrDM,GAAcD,IAAiBX,GAAWa,QAG1CC,GAAY,WACd,IAEE,IAAIC,EAAQN,IAAcA,GAAWO,SAAWP,GAAWO,QAAQ,QAAQD,MAE3E,OAAIA,GAKGH,IAAeA,GAAYK,SAAWL,GAAYK,QAAQ,OACnE,CAAE,MAAOtT,GAAI,CACf,CAZe,GAeXuT,GAAoBJ,IAAYA,GAASK,cACzCC,GAAaN,IAAYA,GAASO,OAClCC,GAAYR,IAAYA,GAASS,MACjCC,GAAeV,IAAYA,GAASW,SACpCC,GAAYZ,IAAYA,GAASa,MACjCC,GAAmBd,IAAYA,GAASe,aAc5C,SAASC,GAAMC,EAAMC,EAASC,GAC5B,OAAQA,EAAK5T,QACX,KAAK,EAAG,OAAO0T,EAAK9T,KAAK+T,GACzB,KAAK,EAAG,OAAOD,EAAK9T,KAAK+T,EAASC,EAAK,IACvC,KAAK,EAAG,OAAOF,EAAK9T,KAAK+T,EAASC,EAAK,GAAIA,EAAK,IAChD,KAAK,EAAG,OAAOF,EAAK9T,KAAK+T,EAASC,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE3D,OAAOF,EAAKD,MAAME,EAASC,EAC7B,CAYA,SAASC,GAAgBC,EAAOC,EAAQC,EAAUC,GAIhD,IAHA,IAAIC,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,SAE9BkU,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GAClBH,EAAOE,EAAahR,EAAO+Q,EAAS/Q,GAAQ6Q,EAC9C,CACA,OAAOG,CACT,CAWA,SAASE,GAAUL,EAAOE,GAIxB,IAHA,IAAIE,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,SAE9BkU,EAAQlU,IAC8B,IAAzCgU,EAASF,EAAMI,GAAQA,EAAOJ,KAIpC,OAAOA,CACT,CAWA,SAASM,GAAeN,EAAOE,GAG7B,IAFA,IAAIhU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OAEhCA,MAC0C,IAA3CgU,EAASF,EAAM9T,GAASA,EAAQ8T,KAItC,OAAOA,CACT,CAYA,SAASO,GAAWP,EAAOQ,GAIzB,IAHA,IAAIJ,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,SAE9BkU,EAAQlU,GACf,IAAKsU,EAAUR,EAAMI,GAAQA,EAAOJ,GAClC,OAAO,EAGX,OAAO,CACT,CAWA,SAASS,GAAYT,EAAOQ,GAM1B,IALA,IAAIJ,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACnCwU,EAAW,EACXC,EAAS,KAEJP,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdI,EAAUrR,EAAOiR,EAAOJ,KAC1BW,EAAOD,KAAcvR,EAEzB,CACA,OAAOwR,CACT,CAWA,SAASC,GAAcZ,EAAO7Q,GAE5B,SADsB,MAAT6Q,EAAgB,EAAIA,EAAM9T,SACpB2U,GAAYb,EAAO7Q,EAAO,IAAM,CACrD,CAWA,SAAS2R,GAAkBd,EAAO7Q,EAAO4R,GAIvC,IAHA,IAAIX,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,SAE9BkU,EAAQlU,GACf,GAAI6U,EAAW5R,EAAO6Q,EAAMI,IAC1B,OAAO,EAGX,OAAO,CACT,CAWA,SAASY,GAAShB,EAAOE,GAKvB,IAJA,IAAIE,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACnCyU,EAASM,MAAM/U,KAEVkU,EAAQlU,GACfyU,EAAOP,GAASF,EAASF,EAAMI,GAAQA,EAAOJ,GAEhD,OAAOW,CACT,CAUA,SAASO,GAAUlB,EAAOmB,GAKxB,IAJA,IAAIf,GAAS,EACTlU,EAASiV,EAAOjV,OAChBkV,EAASpB,EAAM9T,SAEVkU,EAAQlU,GACf8T,EAAMoB,EAAShB,GAASe,EAAOf,GAEjC,OAAOJ,CACT,CAcA,SAASqB,GAAYrB,EAAOE,EAAUC,EAAamB,GACjD,IAAIlB,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OAKvC,IAHIoV,GAAapV,IACfiU,EAAcH,IAAQI,MAEfA,EAAQlU,GACfiU,EAAcD,EAASC,EAAaH,EAAMI,GAAQA,EAAOJ,GAE3D,OAAOG,CACT,CAcA,SAASoB,GAAiBvB,EAAOE,EAAUC,EAAamB,GACtD,IAAIpV,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OAIvC,IAHIoV,GAAapV,IACfiU,EAAcH,IAAQ9T,IAEjBA,KACLiU,EAAcD,EAASC,EAAaH,EAAM9T,GAASA,EAAQ8T,GAE7D,OAAOG,CACT,CAYA,SAASqB,GAAUxB,EAAOQ,GAIxB,IAHA,IAAIJ,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,SAE9BkU,EAAQlU,GACf,GAAIsU,EAAUR,EAAMI,GAAQA,EAAOJ,GACjC,OAAO,EAGX,OAAO,CACT,CASA,IAAIyB,GAAYC,GAAa,UAmC7B,SAASC,GAAYC,EAAYpB,EAAWqB,GAC1C,IAAIlB,EAOJ,OANAkB,EAASD,GAAY,SAASzS,EAAO4G,EAAK6L,GACxC,GAAIpB,EAAUrR,EAAO4G,EAAK6L,GAExB,OADAjB,EAAS5K,GACF,CAEX,IACO4K,CACT,CAaA,SAASmB,GAAc9B,EAAOQ,EAAWuB,EAAWC,GAIlD,IAHA,IAAI9V,EAAS8T,EAAM9T,OACfkU,EAAQ2B,GAAaC,EAAY,GAAK,GAElCA,EAAY5B,MAAYA,EAAQlU,GACtC,GAAIsU,EAAUR,EAAMI,GAAQA,EAAOJ,GACjC,OAAOI,EAGX,OAAQ,CACV,CAWA,SAASS,GAAYb,EAAO7Q,EAAO4S,GACjC,OAAO5S,GAAUA,EAidnB,SAAuB6Q,EAAO7Q,EAAO4S,GACnC,IAAI3B,EAAQ2B,EAAY,EACpB7V,EAAS8T,EAAM9T,OAEnB,OAASkU,EAAQlU,GACf,GAAI8T,EAAMI,KAAWjR,EACnB,OAAOiR,EAGX,OAAQ,CACV,CA1dM6B,CAAcjC,EAAO7Q,EAAO4S,GAC5BD,GAAc9B,EAAOkC,GAAWH,EACtC,CAYA,SAASI,GAAgBnC,EAAO7Q,EAAO4S,EAAWhB,GAIhD,IAHA,IAAIX,EAAQ2B,EAAY,EACpB7V,EAAS8T,EAAM9T,SAEVkU,EAAQlU,GACf,GAAI6U,EAAWf,EAAMI,GAAQjR,GAC3B,OAAOiR,EAGX,OAAQ,CACV,CASA,SAAS8B,GAAU/S,GACjB,OAAOA,GAAUA,CACnB,CAWA,SAASiT,GAASpC,EAAOE,GACvB,IAAIhU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAOA,EAAUmW,GAAQrC,EAAOE,GAAYhU,EAAU0K,CACxD,CASA,SAAS8K,GAAa3L,GACpB,OAAO,SAASuM,GACd,OAAiB,MAAVA,EAAiB3N,EAAY2N,EAAOvM,EAC7C,CACF,CASA,SAASwM,GAAeD,GACtB,OAAO,SAASvM,GACd,OAAiB,MAAVuM,EAAiB3N,EAAY2N,EAAOvM,EAC7C,CACF,CAeA,SAASyM,GAAWZ,EAAY1B,EAAUC,EAAamB,EAAWO,GAMhE,OALAA,EAASD,GAAY,SAASzS,EAAOiR,EAAOwB,GAC1CzB,EAAcmB,GACTA,GAAY,EAAOnS,GACpB+Q,EAASC,EAAahR,EAAOiR,EAAOwB,EAC1C,IACOzB,CACT,CA+BA,SAASkC,GAAQrC,EAAOE,GAKtB,IAJA,IAAIS,EACAP,GAAS,EACTlU,EAAS8T,EAAM9T,SAEVkU,EAAQlU,GAAQ,CACvB,IAAIuW,EAAUvC,EAASF,EAAMI,IACzBqC,IAAY9N,IACdgM,EAASA,IAAWhM,EAAY8N,EAAW9B,EAAS8B,EAExD,CACA,OAAO9B,CACT,CAWA,SAAS+B,GAAUC,EAAGzC,GAIpB,IAHA,IAAIE,GAAS,EACTO,EAASM,MAAM0B,KAEVvC,EAAQuC,GACfhC,EAAOP,GAASF,EAASE,GAE3B,OAAOO,CACT,CAwBA,SAASiC,GAASC,GAChB,OAAOA,EACHA,EAAO7O,MAAM,EAAG8O,GAAgBD,GAAU,GAAGE,QAAQpJ,GAAa,IAClEkJ,CACN,CASA,SAASG,GAAUpD,GACjB,OAAO,SAASzQ,GACd,OAAOyQ,EAAKzQ,EACd,CACF,CAYA,SAAS8T,GAAWX,EAAQlZ,GAC1B,OAAO4X,GAAS5X,GAAO,SAAS2M,GAC9B,OAAOuM,EAAOvM,EAChB,GACF,CAUA,SAASmN,GAASC,EAAOpN,GACvB,OAAOoN,EAAMC,IAAIrN,EACnB,CAWA,SAASsN,GAAgBC,EAAYC,GAInC,IAHA,IAAInD,GAAS,EACTlU,EAASoX,EAAWpX,SAEfkU,EAAQlU,GAAU2U,GAAY0C,EAAYD,EAAWlD,GAAQ,IAAM,IAC5E,OAAOA,CACT,CAWA,SAASoD,GAAcF,EAAYC,GAGjC,IAFA,IAAInD,EAAQkD,EAAWpX,OAEhBkU,KAAWS,GAAY0C,EAAYD,EAAWlD,GAAQ,IAAM,IACnE,OAAOA,CACT,CA8BA,IAAIqD,GAAelB,GAjxBG,CAEpB,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IACtB,EAAQ,IAAM,EAAQ,IACtB,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IACtB,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAC1E,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IAAK,EAAQ,IAChD,EAAQ,IAAM,EAAQ,IAAK,EAAQ,IACnC,EAAQ,KAAM,EAAQ,KACtB,EAAQ,KAAM,EAAQ,KACtB,EAAQ,KAER,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACvE,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACvE,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACvE,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACvE,EAAU,IAAM,EAAU,IAC1B,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACvE,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACvE,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IACxD,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACtF,EAAU,IAAM,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IAAK,EAAU,IACtF,EAAU,IAAM,EAAU,IAC1B,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,IAAM,EAAU,IAAK,EAAU,IACzC,EAAU,KAAM,EAAU,KAC1B,EAAU,KAAM,EAAU,KAC1B,EAAU,KAAM,EAAU,MAouBxBmB,GAAiBnB,GAhuBH,CAChB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,UAouBP,SAASoB,GAAiBC,GACxB,MAAO,KAAOpG,GAAcoG,EAC9B,CAqBA,SAASC,GAAWhB,GAClB,OAAO3F,GAAa4G,KAAKjB,EAC3B,CAqCA,SAASkB,GAAWC,GAClB,IAAI5D,GAAS,EACTO,EAASM,MAAM+C,EAAInW,MAKvB,OAHAmW,EAAIC,SAAQ,SAAS9U,EAAO4G,GAC1B4K,IAASP,GAAS,CAACrK,EAAK5G,EAC1B,IACOwR,CACT,CAUA,SAASuD,GAAQtE,EAAMuE,GACrB,OAAO,SAASC,GACd,OAAOxE,EAAKuE,EAAUC,GACxB,CACF,CAWA,SAASC,GAAerE,EAAOsE,GAM7B,IALA,IAAIlE,GAAS,EACTlU,EAAS8T,EAAM9T,OACfwU,EAAW,EACXC,EAAS,KAEJP,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdjR,IAAUmV,GAAenV,IAAUiH,IACrC4J,EAAMI,GAAShK,EACfuK,EAAOD,KAAcN,EAEzB,CACA,OAAOO,CACT,CASA,SAAS4D,GAAWC,GAClB,IAAIpE,GAAS,EACTO,EAASM,MAAMuD,EAAI3W,MAKvB,OAHA2W,EAAIP,SAAQ,SAAS9U,GACnBwR,IAASP,GAASjR,CACpB,IACOwR,CACT,CASA,SAAS8D,GAAWD,GAClB,IAAIpE,GAAS,EACTO,EAASM,MAAMuD,EAAI3W,MAKvB,OAHA2W,EAAIP,SAAQ,SAAS9U,GACnBwR,IAASP,GAAS,CAACjR,EAAOA,EAC5B,IACOwR,CACT,CAmDA,SAAS+D,GAAW7B,GAClB,OAAOgB,GAAWhB,GAiDpB,SAAqBA,GACnB,IAAIlC,EAAS3D,GAAU2H,UAAY,EACnC,KAAO3H,GAAU8G,KAAKjB,MAClBlC,EAEJ,OAAOA,CACT,CAtDMiE,CAAY/B,GACZpB,GAAUoB,EAChB,CASA,SAASgC,GAAchC,GACrB,OAAOgB,GAAWhB,GAmDpB,SAAwBA,GACtB,OAAOA,EAAOiC,MAAM9H,KAAc,EACpC,CApDM+H,CAAelC,GA7kBrB,SAAsBA,GACpB,OAAOA,EAAOmC,MAAM,GACtB,CA4kBMC,CAAapC,EACnB,CAUA,SAASC,GAAgBD,GAGvB,IAFA,IAAIzC,EAAQyC,EAAO3W,OAEZkU,KAAWxG,GAAakK,KAAKjB,EAAO/O,OAAOsM,MAClD,OAAOA,CACT,CASA,IAAI8E,GAAmB3C,GA38BH,CAClB,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,QAAS,MA4gCX,IAs3eI4C,GAt3ee,SAAUC,EAAaC,GAIxC,IA6BMC,EA7BFrE,GAHJoE,EAAqB,MAAXA,EAAkBpH,GAAOkH,GAAEI,SAAStH,GAAKtS,SAAU0Z,EAASF,GAAEK,KAAKvH,GAAMb,MAG/D6D,MAChBwE,GAAOJ,EAAQI,KACfC,GAAQL,EAAQK,MAChBxH,GAAWmH,EAAQnH,SACnByH,GAAON,EAAQM,KACfha,GAAS0Z,EAAQ1Z,OACjBqN,GAASqM,EAAQrM,OACjB4M,GAASP,EAAQO,OACjBC,GAAYR,EAAQQ,UAGpBC,GAAa7E,EAAMrV,UACnBma,GAAY7H,GAAStS,UACrBoa,GAAcra,GAAOC,UAGrBqa,GAAaZ,EAAQ,sBAGrBa,GAAeH,GAAUI,SAGzBta,GAAiBma,GAAYna,eAG7Bua,GAAY,EAGZC,IACEf,EAAM,SAASgB,KAAKL,IAAcA,GAAWM,MAAQN,GAAWM,KAAKC,UAAY,KACvE,iBAAmBlB,EAAO,GAQtCmB,GAAuBT,GAAYG,SAGnCO,GAAmBR,GAAapa,KAAKH,IAGrCgb,GAAU1I,GAAKkH,EAGfyB,GAAa5N,GAAO,IACtBkN,GAAapa,KAAKD,IAAgBkX,QAAQtJ,GAAc,QACvDsJ,QAAQ,yDAA0D,SAAW,KAI5E8D,GAASrI,GAAgB6G,EAAQwB,OAASlS,EAC1CmS,GAASzB,EAAQyB,OACjBC,GAAa1B,EAAQ0B,WACrBC,GAAcH,GAASA,GAAOG,YAAcrS,EAC5CsS,GAAe/C,GAAQvY,GAAOub,eAAgBvb,IAC9Cwb,GAAexb,GAAOyb,OACtBjb,GAAuB6Z,GAAY7Z,qBACnCkb,GAASvB,GAAWuB,OACpBC,GAAmBR,GAASA,GAAOS,mBAAqB5S,EACxD6S,GAAcV,GAASA,GAAOW,SAAW9S,EACzC+S,GAAiBZ,GAASA,GAAOa,YAAchT,EAE/CiT,GAAkB,WACpB,IACE,IAAIhI,EAAOiI,GAAUlc,GAAQ,kBAE7B,OADAiU,EAAK,CAAC,EAAG,GAAI,CAAC,GACPA,CACT,CAAE,MAAOpU,GAAI,CACf,CANqB,GASjBsc,GAAkBzC,EAAQ0C,eAAiB9J,GAAK8J,cAAgB1C,EAAQ0C,aACxEC,GAASvC,IAAQA,GAAKwC,MAAQhK,GAAKwH,KAAKwC,KAAOxC,GAAKwC,IACpDC,GAAgB7C,EAAQ8C,aAAelK,GAAKkK,YAAc9C,EAAQ8C,WAGlEC,GAAazC,GAAK0C,KAClBC,GAAc3C,GAAK4C,MACnBC,GAAmB7c,GAAOK,sBAC1Byc,GAAiB5B,GAASA,GAAO6B,SAAW/T,EAC5CgU,GAAiBtD,EAAQuD,SACzBC,GAAa/C,GAAWnJ,KACxBmM,GAAa5E,GAAQvY,GAAO4a,KAAM5a,IAClCod,GAAYpD,GAAKqD,IACjBC,GAAYtD,GAAKuD,IACjBC,GAAY1D,GAAKwC,IACjBmB,GAAiB/D,EAAQzH,SACzByL,GAAe1D,GAAK2D,OACpBC,GAAgBzD,GAAW0D,QAG3BC,GAAW5B,GAAUxC,EAAS,YAC9BqE,GAAM7B,GAAUxC,EAAS,OACzBsE,GAAU9B,GAAUxC,EAAS,WAC7BuE,GAAM/B,GAAUxC,EAAS,OACzBwE,GAAUhC,GAAUxC,EAAS,WAC7ByE,GAAejC,GAAUlc,GAAQ,UAGjCoe,GAAUF,IAAW,IAAIA,GAGzBG,GAAY,CAAC,EAGbC,GAAqBC,GAAST,IAC9BU,GAAgBD,GAASR,IACzBU,GAAoBF,GAASP,IAC7BU,GAAgBH,GAASN,IACzBU,GAAoBJ,GAASL,IAG7BU,GAAczD,GAASA,GAAOlb,UAAY+I,EAC1C6V,GAAgBD,GAAcA,GAAYE,QAAU9V,EACpD+V,GAAiBH,GAAcA,GAAYpE,SAAWxR,EAyH1D,SAASgW,GAAOxb,GACd,GAAIyb,GAAazb,KAAW0b,GAAQ1b,MAAYA,aAAiB2b,IAAc,CAC7E,GAAI3b,aAAiB4b,GACnB,OAAO5b,EAET,GAAItD,GAAeC,KAAKqD,EAAO,eAC7B,OAAO6b,GAAa7b,EAExB,CACA,OAAO,IAAI4b,GAAc5b,EAC3B,CAUA,IAAI8b,GAAc,WAChB,SAAS3I,IAAU,CACnB,OAAO,SAAS4I,GACd,IAAKC,GAASD,GACZ,MAAO,CAAC,EAEV,GAAI/D,GACF,OAAOA,GAAa+D,GAEtB5I,EAAO1W,UAAYsf,EACnB,IAAIvK,EAAS,IAAI2B,EAEjB,OADAA,EAAO1W,UAAY+I,EACZgM,CACT,CACF,CAdiB,GAqBjB,SAASyK,KAET,CASA,SAASL,GAAc5b,EAAOkc,GAC5BC,KAAKC,YAAcpc,EACnBmc,KAAKE,YAAc,GACnBF,KAAKG,YAAcJ,EACnBC,KAAKI,UAAY,EACjBJ,KAAKK,WAAahX,CACpB,CA+EA,SAASmW,GAAY3b,GACnBmc,KAAKC,YAAcpc,EACnBmc,KAAKE,YAAc,GACnBF,KAAKM,QAAU,EACfN,KAAKO,cAAe,EACpBP,KAAKQ,cAAgB,GACrBR,KAAKS,cAAgBlV,EACrByU,KAAKU,UAAY,EACnB,CA+GA,SAASC,GAAKC,GACZ,IAAI9L,GAAS,EACTlU,EAAoB,MAAXggB,EAAkB,EAAIA,EAAQhgB,OAG3C,IADAof,KAAKa,UACI/L,EAAQlU,GAAQ,CACvB,IAAIkgB,EAAQF,EAAQ9L,GACpBkL,KAAK9G,IAAI4H,EAAM,GAAIA,EAAM,GAC3B,CACF,CA+FA,SAASC,GAAUH,GACjB,IAAI9L,GAAS,EACTlU,EAAoB,MAAXggB,EAAkB,EAAIA,EAAQhgB,OAG3C,IADAof,KAAKa,UACI/L,EAAQlU,GAAQ,CACvB,IAAIkgB,EAAQF,EAAQ9L,GACpBkL,KAAK9G,IAAI4H,EAAM,GAAIA,EAAM,GAC3B,CACF,CA4GA,SAASE,GAASJ,GAChB,IAAI9L,GAAS,EACTlU,EAAoB,MAAXggB,EAAkB,EAAIA,EAAQhgB,OAG3C,IADAof,KAAKa,UACI/L,EAAQlU,GAAQ,CACvB,IAAIkgB,EAAQF,EAAQ9L,GACpBkL,KAAK9G,IAAI4H,EAAM,GAAIA,EAAM,GAC3B,CACF,CA+FA,SAASG,GAASpL,GAChB,IAAIf,GAAS,EACTlU,EAAmB,MAAViV,EAAiB,EAAIA,EAAOjV,OAGzC,IADAof,KAAKkB,SAAW,IAAIF,KACXlM,EAAQlU,GACfof,KAAKmB,IAAItL,EAAOf,GAEpB,CA2CA,SAASsM,GAAMR,GACb,IAAIS,EAAOrB,KAAKkB,SAAW,IAAIH,GAAUH,GACzCZ,KAAKzd,KAAO8e,EAAK9e,IACnB,CAoGA,SAAS+e,GAAczd,EAAO0d,GAC5B,IAAIC,EAAQjC,GAAQ1b,GAChB4d,GAASD,GAASE,GAAY7d,GAC9B8d,GAAUH,IAAUC,GAASrE,GAASvZ,GACtC+d,GAAUJ,IAAUC,IAAUE,GAAUvN,GAAavQ,GACrDge,EAAcL,GAASC,GAASE,GAAUC,EAC1CvM,EAASwM,EAAczK,GAAUvT,EAAMjD,OAAQ0Z,IAAU,GACzD1Z,EAASyU,EAAOzU,OAEpB,IAAK,IAAI6J,KAAO5G,GACT0d,IAAahhB,GAAeC,KAAKqD,EAAO4G,IACvCoX,IAEQ,UAAPpX,GAECkX,IAAkB,UAAPlX,GAA0B,UAAPA,IAE9BmX,IAAkB,UAAPnX,GAA0B,cAAPA,GAA8B,cAAPA,IAEtDqX,GAAQrX,EAAK7J,KAElByU,EAAO0M,KAAKtX,GAGhB,OAAO4K,CACT,CASA,SAAS2M,GAAYtN,GACnB,IAAI9T,EAAS8T,EAAM9T,OACnB,OAAOA,EAAS8T,EAAMuN,GAAW,EAAGrhB,EAAS,IAAMyI,CACrD,CAUA,SAAS6Y,GAAgBxN,EAAO2C,GAC9B,OAAO8K,GAAYC,GAAU1N,GAAQ2N,GAAUhL,EAAG,EAAG3C,EAAM9T,QAC7D,CASA,SAAS0hB,GAAa5N,GACpB,OAAOyN,GAAYC,GAAU1N,GAC/B,CAWA,SAAS6N,GAAiBvL,EAAQvM,EAAK5G,IAChCA,IAAUwF,IAAcmZ,GAAGxL,EAAOvM,GAAM5G,IACxCA,IAAUwF,KAAeoB,KAAOuM,KACnCyL,GAAgBzL,EAAQvM,EAAK5G,EAEjC,CAYA,SAAS6e,GAAY1L,EAAQvM,EAAK5G,GAChC,IAAI8e,EAAW3L,EAAOvM,GAChBlK,GAAeC,KAAKwW,EAAQvM,IAAQ+X,GAAGG,EAAU9e,KAClDA,IAAUwF,GAAeoB,KAAOuM,IACnCyL,GAAgBzL,EAAQvM,EAAK5G,EAEjC,CAUA,SAAS+e,GAAalO,EAAOjK,GAE3B,IADA,IAAI7J,EAAS8T,EAAM9T,OACZA,KACL,GAAI4hB,GAAG9N,EAAM9T,GAAQ,GAAI6J,GACvB,OAAO7J,EAGX,OAAQ,CACV,CAaA,SAASiiB,GAAevM,EAAY3B,EAAQC,EAAUC,GAIpD,OAHAiO,GAASxM,GAAY,SAASzS,EAAO4G,EAAK6L,GACxC3B,EAAOE,EAAahR,EAAO+Q,EAAS/Q,GAAQyS,EAC9C,IACOzB,CACT,CAWA,SAASkO,GAAW/L,EAAQrJ,GAC1B,OAAOqJ,GAAUgM,GAAWrV,EAAQsN,GAAKtN,GAASqJ,EACpD,CAwBA,SAASyL,GAAgBzL,EAAQvM,EAAK5G,GACzB,aAAP4G,GAAsB6R,GACxBA,GAAetF,EAAQvM,EAAK,CAC1B,cAAgB,EAChB,YAAc,EACd,MAAS5G,EACT,UAAY,IAGdmT,EAAOvM,GAAO5G,CAElB,CAUA,SAASof,GAAOjM,EAAQkM,GAMtB,IALA,IAAIpO,GAAS,EACTlU,EAASsiB,EAAMtiB,OACfyU,EAASM,EAAM/U,GACfuiB,EAAiB,MAAVnM,IAEFlC,EAAQlU,GACfyU,EAAOP,GAASqO,EAAO9Z,EAAY+Z,GAAIpM,EAAQkM,EAAMpO,IAEvD,OAAOO,CACT,CAWA,SAASgN,GAAUgB,EAAQC,EAAOC,GAShC,OARIF,GAAWA,IACTE,IAAUla,IACZga,EAASA,GAAUE,EAAQF,EAASE,GAElCD,IAAUja,IACZga,EAASA,GAAUC,EAAQD,EAASC,IAGjCD,CACT,CAkBA,SAASG,GAAU3f,EAAO4f,EAASC,EAAYjZ,EAAKuM,EAAQ2M,GAC1D,IAAItO,EACAuO,EArkFc,EAqkFLH,EACTI,EArkFc,EAqkFLJ,EACTK,EArkFiB,EAqkFRL,EAKb,GAHIC,IACFrO,EAAS2B,EAAS0M,EAAW7f,EAAO4G,EAAKuM,EAAQ2M,GAASD,EAAW7f,IAEnEwR,IAAWhM,EACb,OAAOgM,EAET,IAAKwK,GAAShc,GACZ,OAAOA,EAET,IAAI2d,EAAQjC,GAAQ1b,GACpB,GAAI2d,GAEF,GADAnM,EA68GJ,SAAwBX,GACtB,IAAI9T,EAAS8T,EAAM9T,OACfyU,EAAS,IAAIX,EAAMqP,YAAYnjB,GAG/BA,GAA6B,iBAAZ8T,EAAM,IAAkBnU,GAAeC,KAAKkU,EAAO,WACtEW,EAAOP,MAAQJ,EAAMI,MACrBO,EAAO2O,MAAQtP,EAAMsP,OAEvB,OAAO3O,CACT,CAv9Ga4O,CAAepgB,IACnB+f,EACH,OAAOxB,GAAUve,EAAOwR,OAErB,CACL,IAAI9N,EAAM2c,GAAOrgB,GACbsgB,EAAS5c,GAAOuE,GAAWvE,GAAOwE,EAEtC,GAAIqR,GAASvZ,GACX,OAAOugB,GAAYvgB,EAAO+f,GAE5B,GAAIrc,GAAO2E,GAAa3E,GAAOkE,GAAY0Y,IAAWnN,GAEpD,GADA3B,EAAUwO,GAAUM,EAAU,CAAC,EAAIE,GAAgBxgB,IAC9C+f,EACH,OAAOC,EA+nEf,SAAuBlW,EAAQqJ,GAC7B,OAAOgM,GAAWrV,EAAQ2W,GAAa3W,GAASqJ,EAClD,CAhoEYuN,CAAc1gB,EAnH1B,SAAsBmT,EAAQrJ,GAC5B,OAAOqJ,GAAUgM,GAAWrV,EAAQ6W,GAAO7W,GAASqJ,EACtD,CAiHiCyN,CAAapP,EAAQxR,IAknEtD,SAAqB8J,EAAQqJ,GAC3B,OAAOgM,GAAWrV,EAAQ+W,GAAW/W,GAASqJ,EAChD,CAnnEY2N,CAAY9gB,EAAOkf,GAAW1N,EAAQxR,QAEvC,CACL,IAAKoO,GAAc1K,GACjB,OAAOyP,EAASnT,EAAQ,CAAC,EAE3BwR,EA49GN,SAAwB2B,EAAQzP,EAAKqc,GACnC,IAAIgB,EAAO5N,EAAO+M,YAClB,OAAQxc,GACN,KAAKkF,EACH,OAAOoY,GAAiB7N,GAE1B,KAAKrL,EACL,KAAKC,EACH,OAAO,IAAIgZ,GAAM5N,GAEnB,KAAKtK,EACH,OA5nDN,SAAuBoY,EAAUlB,GAC/B,IAAImB,EAASnB,EAASiB,GAAiBC,EAASC,QAAUD,EAASC,OACnE,OAAO,IAAID,EAASf,YAAYgB,EAAQD,EAASE,WAAYF,EAASG,WACxE,CAynDaC,CAAclO,EAAQ4M,GAE/B,KAAKjX,EAAY,KAAKC,EACtB,KAAKC,EAAS,KAAKC,EAAU,KAAKC,EAClC,KAAKC,EAAU,KAAKC,EAAiB,KAAKC,EAAW,KAAKC,EACxD,OAAOgY,GAAgBnO,EAAQ4M,GAEjC,KAAK5X,EACH,OAAO,IAAI4Y,EAEb,KAAK3Y,EACL,KAAKK,EACH,OAAO,IAAIsY,EAAK5N,GAElB,KAAK5K,EACH,OA/nDN,SAAqBgZ,GACnB,IAAI/P,EAAS,IAAI+P,EAAOrB,YAAYqB,EAAOzX,OAAQmB,GAAQkM,KAAKoK,IAEhE,OADA/P,EAAOgE,UAAY+L,EAAO/L,UACnBhE,CACT,CA2nDagQ,CAAYrO,GAErB,KAAK3K,EACH,OAAO,IAAIuY,EAEb,KAAKrY,EACH,OAxnDe+Y,EAwnDItO,EAvnDhBkI,GAAgB7e,GAAO6e,GAAc1e,KAAK8kB,IAAW,CAAC,EAD/D,IAAqBA,CA0nDrB,CA9/GeC,CAAe1hB,EAAO0D,EAAKqc,EACtC,CACF,CAEAD,IAAUA,EAAQ,IAAIvC,IACtB,IAAIoE,EAAU7B,EAAMP,IAAIvf,GACxB,GAAI2hB,EACF,OAAOA,EAET7B,EAAMzK,IAAIrV,EAAOwR,GAEbnB,GAAMrQ,GACRA,EAAM8U,SAAQ,SAAS8M,GACrBpQ,EAAO8L,IAAIqC,GAAUiC,EAAUhC,EAASC,EAAY+B,EAAU5hB,EAAO8f,GACvE,IACS7P,GAAMjQ,IACfA,EAAM8U,SAAQ,SAAS8M,EAAUhb,GAC/B4K,EAAO6D,IAAIzO,EAAK+Y,GAAUiC,EAAUhC,EAASC,EAAYjZ,EAAK5G,EAAO8f,GACvE,IAGF,IAII7lB,EAAQ0jB,EAAQnY,GAJLya,EACVD,EAAS6B,GAAeC,GACxB9B,EAASW,GAASvJ,IAEkBpX,GASzC,OARAkR,GAAUjX,GAAS+F,GAAO,SAAS4hB,EAAUhb,GACvC3M,IAEF2nB,EAAW5hB,EADX4G,EAAMgb,IAIR/C,GAAYrN,EAAQ5K,EAAK+Y,GAAUiC,EAAUhC,EAASC,EAAYjZ,EAAK5G,EAAO8f,GAChF,IACOtO,CACT,CAwBA,SAASuQ,GAAe5O,EAAQrJ,EAAQ7P,GACtC,IAAI8C,EAAS9C,EAAM8C,OACnB,GAAc,MAAVoW,EACF,OAAQpW,EAGV,IADAoW,EAAS3W,GAAO2W,GACTpW,KAAU,CACf,IAAI6J,EAAM3M,EAAM8C,GACZsU,EAAYvH,EAAOlD,GACnB5G,EAAQmT,EAAOvM,GAEnB,GAAK5G,IAAUwF,KAAeoB,KAAOuM,KAAa9B,EAAUrR,GAC1D,OAAO,CAEX,CACA,OAAO,CACT,CAYA,SAASgiB,GAAUvR,EAAMwR,EAAMtR,GAC7B,GAAmB,mBAARF,EACT,MAAM,IAAIiG,GAAU3P,GAEtB,OAAOiS,IAAW,WAAavI,EAAKD,MAAMhL,EAAWmL,EAAO,GAAGsR,EACjE,CAaA,SAASC,GAAerR,EAAOmB,EAAQjB,EAAUa,GAC/C,IAAIX,GAAS,EACTkR,EAAW1Q,GACX2Q,GAAW,EACXrlB,EAAS8T,EAAM9T,OACfyU,EAAS,GACT6Q,EAAerQ,EAAOjV,OAE1B,IAAKA,EACH,OAAOyU,EAELT,IACFiB,EAASH,GAASG,EAAQ6B,GAAU9C,KAElCa,GACFuQ,EAAWxQ,GACXyQ,GAAW,GAEJpQ,EAAOjV,QAtvFG,MAuvFjBolB,EAAWpO,GACXqO,GAAW,EACXpQ,EAAS,IAAIoL,GAASpL,IAExBsQ,EACA,OAASrR,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdsR,EAAuB,MAAZxR,EAAmB/Q,EAAQ+Q,EAAS/Q,GAGnD,GADAA,EAAS4R,GAAwB,IAAV5R,EAAeA,EAAQ,EAC1CoiB,GAAYG,GAAaA,EAAU,CAErC,IADA,IAAIC,EAAcH,EACXG,KACL,GAAIxQ,EAAOwQ,KAAiBD,EAC1B,SAASD,EAGb9Q,EAAO0M,KAAKle,EACd,MACUmiB,EAASnQ,EAAQuQ,EAAU3Q,IACnCJ,EAAO0M,KAAKle,EAEhB,CACA,OAAOwR,CACT,CAlkCAgK,GAAOiH,iBAAmB,CAQxB,OAAUzY,EAQV,SAAYC,EAQZ,YAAeC,GAQf,SAAY,GAQZ,QAAW,CAQT,EAAKsR,KAKTA,GAAO/e,UAAYwf,GAAWxf,UAC9B+e,GAAO/e,UAAUyjB,YAAc1E,GAE/BI,GAAcnf,UAAYqf,GAAWG,GAAWxf,WAChDmf,GAAcnf,UAAUyjB,YAActE,GAsHtCD,GAAYlf,UAAYqf,GAAWG,GAAWxf,WAC9Ckf,GAAYlf,UAAUyjB,YAAcvE,GAoGpCmB,GAAKrgB,UAAUugB,MAvEf,WACEb,KAAKkB,SAAW1C,GAAeA,GAAa,MAAQ,CAAC,EACrDwB,KAAKzd,KAAO,CACd,EAqEAoe,GAAKrgB,UAAkB,OAzDvB,SAAoBmK,GAClB,IAAI4K,EAAS2K,KAAKlI,IAAIrN,WAAeuV,KAAKkB,SAASzW,GAEnD,OADAuV,KAAKzd,MAAQ8S,EAAS,EAAI,EACnBA,CACT,EAsDAsL,GAAKrgB,UAAU8iB,IA3Cf,SAAiB3Y,GACf,IAAI4W,EAAOrB,KAAKkB,SAChB,GAAI1C,GAAc,CAChB,IAAInJ,EAASgM,EAAK5W,GAClB,OAAO4K,IAAWxK,EAAiBxB,EAAYgM,CACjD,CACA,OAAO9U,GAAeC,KAAK6gB,EAAM5W,GAAO4W,EAAK5W,GAAOpB,CACtD,EAqCAsX,GAAKrgB,UAAUwX,IA1Bf,SAAiBrN,GACf,IAAI4W,EAAOrB,KAAKkB,SAChB,OAAO1C,GAAgB6C,EAAK5W,KAASpB,EAAa9I,GAAeC,KAAK6gB,EAAM5W,EAC9E,EAwBAkW,GAAKrgB,UAAU4Y,IAZf,SAAiBzO,EAAK5G,GACpB,IAAIwd,EAAOrB,KAAKkB,SAGhB,OAFAlB,KAAKzd,MAAQyd,KAAKlI,IAAIrN,GAAO,EAAI,EACjC4W,EAAK5W,GAAQ+T,IAAgB3a,IAAUwF,EAAawB,EAAiBhH,EAC9Dmc,IACT,EAwHAe,GAAUzgB,UAAUugB,MApFpB,WACEb,KAAKkB,SAAW,GAChBlB,KAAKzd,KAAO,CACd,EAkFAwe,GAAUzgB,UAAkB,OAvE5B,SAAyBmK,GACvB,IAAI4W,EAAOrB,KAAKkB,SACZpM,EAAQ8N,GAAavB,EAAM5W,GAE/B,QAAIqK,EAAQ,KAIRA,GADYuM,EAAKzgB,OAAS,EAE5BygB,EAAKkF,MAELxK,GAAOvb,KAAK6gB,EAAMvM,EAAO,KAEzBkL,KAAKzd,MACA,EACT,EAyDAwe,GAAUzgB,UAAU8iB,IA9CpB,SAAsB3Y,GACpB,IAAI4W,EAAOrB,KAAKkB,SACZpM,EAAQ8N,GAAavB,EAAM5W,GAE/B,OAAOqK,EAAQ,EAAIzL,EAAYgY,EAAKvM,GAAO,EAC7C,EA0CAiM,GAAUzgB,UAAUwX,IA/BpB,SAAsBrN,GACpB,OAAOmY,GAAa5C,KAAKkB,SAAUzW,IAAQ,CAC7C,EA8BAsW,GAAUzgB,UAAU4Y,IAlBpB,SAAsBzO,EAAK5G,GACzB,IAAIwd,EAAOrB,KAAKkB,SACZpM,EAAQ8N,GAAavB,EAAM5W,GAQ/B,OANIqK,EAAQ,KACRkL,KAAKzd,KACP8e,EAAKU,KAAK,CAACtX,EAAK5G,KAEhBwd,EAAKvM,GAAO,GAAKjR,EAEZmc,IACT,EA0GAgB,GAAS1gB,UAAUugB,MAtEnB,WACEb,KAAKzd,KAAO,EACZyd,KAAKkB,SAAW,CACd,KAAQ,IAAIP,GACZ,IAAO,IAAKvC,IAAO2C,IACnB,OAAU,IAAIJ,GAElB,EAgEAK,GAAS1gB,UAAkB,OArD3B,SAAwBmK,GACtB,IAAI4K,EAASmR,GAAWxG,KAAMvV,GAAa,OAAEA,GAE7C,OADAuV,KAAKzd,MAAQ8S,EAAS,EAAI,EACnBA,CACT,EAkDA2L,GAAS1gB,UAAU8iB,IAvCnB,SAAqB3Y,GACnB,OAAO+b,GAAWxG,KAAMvV,GAAK2Y,IAAI3Y,EACnC,EAsCAuW,GAAS1gB,UAAUwX,IA3BnB,SAAqBrN,GACnB,OAAO+b,GAAWxG,KAAMvV,GAAKqN,IAAIrN,EACnC,EA0BAuW,GAAS1gB,UAAU4Y,IAdnB,SAAqBzO,EAAK5G,GACxB,IAAIwd,EAAOmF,GAAWxG,KAAMvV,GACxBlI,EAAO8e,EAAK9e,KAIhB,OAFA8e,EAAKnI,IAAIzO,EAAK5G,GACdmc,KAAKzd,MAAQ8e,EAAK9e,MAAQA,EAAO,EAAI,EAC9Byd,IACT,EA0DAiB,GAAS3gB,UAAU6gB,IAAMF,GAAS3gB,UAAUyhB,KAnB5C,SAAqBle,GAEnB,OADAmc,KAAKkB,SAAShI,IAAIrV,EAAOgH,GAClBmV,IACT,EAiBAiB,GAAS3gB,UAAUwX,IANnB,SAAqBjU,GACnB,OAAOmc,KAAKkB,SAASpJ,IAAIjU,EAC3B,EAsGAud,GAAM9gB,UAAUugB,MA3EhB,WACEb,KAAKkB,SAAW,IAAIH,GACpBf,KAAKzd,KAAO,CACd,EAyEA6e,GAAM9gB,UAAkB,OA9DxB,SAAqBmK,GACnB,IAAI4W,EAAOrB,KAAKkB,SACZ7L,EAASgM,EAAa,OAAE5W,GAG5B,OADAuV,KAAKzd,KAAO8e,EAAK9e,KACV8S,CACT,EAyDA+L,GAAM9gB,UAAU8iB,IA9ChB,SAAkB3Y,GAChB,OAAOuV,KAAKkB,SAASkC,IAAI3Y,EAC3B,EA6CA2W,GAAM9gB,UAAUwX,IAlChB,SAAkBrN,GAChB,OAAOuV,KAAKkB,SAASpJ,IAAIrN,EAC3B,EAiCA2W,GAAM9gB,UAAU4Y,IArBhB,SAAkBzO,EAAK5G,GACrB,IAAIwd,EAAOrB,KAAKkB,SAChB,GAAIG,aAAgBN,GAAW,CAC7B,IAAI0F,EAAQpF,EAAKH,SACjB,IAAK9C,IAAQqI,EAAM7lB,OAAS8lB,IAG1B,OAFAD,EAAM1E,KAAK,CAACtX,EAAK5G,IACjBmc,KAAKzd,OAAS8e,EAAK9e,KACZyd,KAETqB,EAAOrB,KAAKkB,SAAW,IAAIF,GAASyF,EACtC,CAGA,OAFApF,EAAKnI,IAAIzO,EAAK5G,GACdmc,KAAKzd,KAAO8e,EAAK9e,KACVyd,IACT,EAqcA,IAAI8C,GAAW6D,GAAeC,IAU1BC,GAAgBF,GAAeG,IAAiB,GAWpD,SAASC,GAAUzQ,EAAYpB,GAC7B,IAAIG,GAAS,EAKb,OAJAyN,GAASxM,GAAY,SAASzS,EAAOiR,EAAOwB,GAE1C,OADAjB,IAAWH,EAAUrR,EAAOiR,EAAOwB,EAErC,IACOjB,CACT,CAYA,SAAS2R,GAAatS,EAAOE,EAAUa,GAIrC,IAHA,IAAIX,GAAS,EACTlU,EAAS8T,EAAM9T,SAEVkU,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdqC,EAAUvC,EAAS/Q,GAEvB,GAAe,MAAXsT,IAAoBiP,IAAa/c,EAC5B8N,GAAYA,IAAY8P,GAAS9P,GAClC1B,EAAW0B,EAASiP,IAE1B,IAAIA,EAAWjP,EACX9B,EAASxR,CAEjB,CACA,OAAOwR,CACT,CAsCA,SAAS6R,GAAW5Q,EAAYpB,GAC9B,IAAIG,EAAS,GAMb,OALAyN,GAASxM,GAAY,SAASzS,EAAOiR,EAAOwB,GACtCpB,EAAUrR,EAAOiR,EAAOwB,IAC1BjB,EAAO0M,KAAKle,EAEhB,IACOwR,CACT,CAaA,SAAS8R,GAAYzS,EAAO0S,EAAOlS,EAAWmS,EAAUhS,GACtD,IAAIP,GAAS,EACTlU,EAAS8T,EAAM9T,OAKnB,IAHAsU,IAAcA,EAAYoS,IAC1BjS,IAAWA,EAAS,MAEXP,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdsS,EAAQ,GAAKlS,EAAUrR,GACrBujB,EAAQ,EAEVD,GAAYtjB,EAAOujB,EAAQ,EAAGlS,EAAWmS,EAAUhS,GAEnDO,GAAUP,EAAQxR,GAEVwjB,IACVhS,EAAOA,EAAOzU,QAAUiD,EAE5B,CACA,OAAOwR,CACT,CAaA,IAAIkS,GAAUC,KAYVC,GAAeD,IAAc,GAUjC,SAASZ,GAAW5P,EAAQpC,GAC1B,OAAOoC,GAAUuQ,GAAQvQ,EAAQpC,EAAUqG,GAC7C,CAUA,SAAS6L,GAAgB9P,EAAQpC,GAC/B,OAAOoC,GAAUyQ,GAAazQ,EAAQpC,EAAUqG,GAClD,CAWA,SAASyM,GAAc1Q,EAAQlZ,GAC7B,OAAOqX,GAAYrX,GAAO,SAAS2M,GACjC,OAAOkd,GAAW3Q,EAAOvM,GAC3B,GACF,CAUA,SAASmd,GAAQ5Q,EAAQ6Q,GAMvB,IAHA,IAAI/S,EAAQ,EACRlU,GAHJinB,EAAOC,GAASD,EAAM7Q,IAGJpW,OAED,MAAVoW,GAAkBlC,EAAQlU,GAC/BoW,EAASA,EAAO+Q,GAAMF,EAAK/S,OAE7B,OAAQA,GAASA,GAASlU,EAAUoW,EAAS3N,CAC/C,CAaA,SAAS2e,GAAehR,EAAQiR,EAAUC,GACxC,IAAI7S,EAAS4S,EAASjR,GACtB,OAAOuI,GAAQvI,GAAU3B,EAASO,GAAUP,EAAQ6S,EAAYlR,GAClE,CASA,SAASmR,GAAWtkB,GAClB,OAAa,MAATA,EACKA,IAAUwF,EAn7FJ,qBARL,gBA67FF+S,IAAkBA,MAAkB/b,GAAOwD,GA23FrD,SAAmBA,GACjB,IAAIukB,EAAQ7nB,GAAeC,KAAKqD,EAAOuY,IACnC7U,EAAM1D,EAAMuY,IAEhB,IACEvY,EAAMuY,IAAkB/S,EACxB,IAAIgf,GAAW,CACjB,CAAE,MAAOnoB,GAAI,CAEb,IAAImV,EAAS8F,GAAqB3a,KAAKqD,GACnCwkB,IACED,EACFvkB,EAAMuY,IAAkB7U,SAEjB1D,EAAMuY,KAGjB,OAAO/G,CACT,CA54FMiT,CAAUzkB,GA+5GhB,SAAwBA,GACtB,OAAOsX,GAAqB3a,KAAKqD,EACnC,CAh6GM0kB,CAAe1kB,EACrB,CAWA,SAAS2kB,GAAO3kB,EAAO4kB,GACrB,OAAO5kB,EAAQ4kB,CACjB,CAUA,SAASC,GAAQ1R,EAAQvM,GACvB,OAAiB,MAAVuM,GAAkBzW,GAAeC,KAAKwW,EAAQvM,EACvD,CAUA,SAASke,GAAU3R,EAAQvM,GACzB,OAAiB,MAAVuM,GAAkBvM,KAAOpK,GAAO2W,EACzC,CAyBA,SAAS4R,GAAiBC,EAAQjU,EAAUa,GAS1C,IARA,IAAIuQ,EAAWvQ,EAAaD,GAAoBF,GAC5C1U,EAASioB,EAAO,GAAGjoB,OACnBkoB,EAAYD,EAAOjoB,OACnBmoB,EAAWD,EACXE,EAASrT,EAAMmT,GACfG,EAAYC,IACZ7T,EAAS,GAEN0T,KAAY,CACjB,IAAIrU,EAAQmU,EAAOE,GACfA,GAAYnU,IACdF,EAAQgB,GAAShB,EAAOgD,GAAU9C,KAEpCqU,EAAYtL,GAAUjJ,EAAM9T,OAAQqoB,GACpCD,EAAOD,IAAatT,IAAeb,GAAahU,GAAU,KAAO8T,EAAM9T,QAAU,KAC7E,IAAIqgB,GAAS8H,GAAYrU,GACzBrL,CACN,CACAqL,EAAQmU,EAAO,GAEf,IAAI/T,GAAS,EACTqU,EAAOH,EAAO,GAElB7C,EACA,OAASrR,EAAQlU,GAAUyU,EAAOzU,OAASqoB,GAAW,CACpD,IAAIplB,EAAQ6Q,EAAMI,GACdsR,EAAWxR,EAAWA,EAAS/Q,GAASA,EAG5C,GADAA,EAAS4R,GAAwB,IAAV5R,EAAeA,EAAQ,IACxCslB,EACEvR,GAASuR,EAAM/C,GACfJ,EAAS3Q,EAAQ+Q,EAAU3Q,IAC5B,CAEL,IADAsT,EAAWD,IACFC,GAAU,CACjB,IAAIlR,EAAQmR,EAAOD,GACnB,KAAMlR,EACED,GAASC,EAAOuO,GAChBJ,EAAS6C,EAAOE,GAAW3C,EAAU3Q,IAE3C,SAAS0Q,CAEb,CACIgD,GACFA,EAAKpH,KAAKqE,GAEZ/Q,EAAO0M,KAAKle,EACd,CACF,CACA,OAAOwR,CACT,CA8BA,SAAS+T,GAAWpS,EAAQ6Q,EAAMrT,GAGhC,IAAIF,EAAiB,OADrB0C,EAASqS,GAAOrS,EADhB6Q,EAAOC,GAASD,EAAM7Q,KAEMA,EAASA,EAAO+Q,GAAMuB,GAAKzB,KACvD,OAAe,MAARvT,EAAejL,EAAYgL,GAAMC,EAAM0C,EAAQxC,EACxD,CASA,SAAS+U,GAAgB1lB,GACvB,OAAOyb,GAAazb,IAAUskB,GAAWtkB,IAAU4H,CACrD,CAsCA,SAAS+d,GAAY3lB,EAAO4kB,EAAOhF,EAASC,EAAYC,GACtD,OAAI9f,IAAU4kB,IAGD,MAAT5kB,GAA0B,MAAT4kB,IAAmBnJ,GAAazb,KAAWyb,GAAamJ,GACpE5kB,GAAUA,GAAS4kB,GAAUA,EAmBxC,SAAyBzR,EAAQyR,EAAOhF,EAASC,EAAY+F,EAAW9F,GACtE,IAAI+F,EAAWnK,GAAQvI,GACnB2S,EAAWpK,GAAQkJ,GACnBmB,EAASF,EAAWhe,EAAWwY,GAAOlN,GACtC6S,EAASF,EAAWje,EAAWwY,GAAOuE,GAKtCqB,GAHJF,EAASA,GAAUne,EAAUS,EAAY0d,IAGhB1d,EACrB6d,GAHJF,EAASA,GAAUpe,EAAUS,EAAY2d,IAGhB3d,EACrB8d,EAAYJ,GAAUC,EAE1B,GAAIG,GAAa5M,GAASpG,GAAS,CACjC,IAAKoG,GAASqL,GACZ,OAAO,EAETiB,GAAW,EACXI,GAAW,CACb,CACA,GAAIE,IAAcF,EAEhB,OADAnG,IAAUA,EAAQ,IAAIvC,IACdsI,GAAYtV,GAAa4C,GAC7BiT,GAAYjT,EAAQyR,EAAOhF,EAASC,EAAY+F,EAAW9F,GA81EnE,SAAoB3M,EAAQyR,EAAOlhB,EAAKkc,EAASC,EAAY+F,EAAW9F,GACtE,OAAQpc,GACN,KAAKmF,EACH,GAAKsK,EAAOiO,YAAcwD,EAAMxD,YAC3BjO,EAAOgO,YAAcyD,EAAMzD,WAC9B,OAAO,EAEThO,EAASA,EAAO+N,OAChB0D,EAAQA,EAAM1D,OAEhB,KAAKtY,EACH,QAAKuK,EAAOiO,YAAcwD,EAAMxD,aAC3BwE,EAAU,IAAIhO,GAAWzE,GAAS,IAAIyE,GAAWgN,KAKxD,KAAK9c,EACL,KAAKC,EACL,KAAKK,EAGH,OAAOuW,IAAIxL,GAASyR,GAEtB,KAAK5c,EACH,OAAOmL,EAAOkT,MAAQzB,EAAMyB,MAAQlT,EAAOmT,SAAW1B,EAAM0B,QAE9D,KAAK/d,EACL,KAAKE,EAIH,OAAO0K,GAAWyR,EAAQ,GAE5B,KAAKzc,EACH,IAAIoe,EAAU3R,GAEhB,KAAKpM,EACH,IAAIge,EAxnLe,EAwnLH5G,EAGhB,GAFA2G,IAAYA,EAAUnR,IAElBjC,EAAOzU,MAAQkmB,EAAMlmB,OAAS8nB,EAChC,OAAO,EAGT,IAAI7E,EAAU7B,EAAMP,IAAIpM,GACxB,GAAIwO,EACF,OAAOA,GAAWiD,EAEpBhF,GAloLqB,EAqoLrBE,EAAMzK,IAAIlC,EAAQyR,GAClB,IAAIpT,EAAS4U,GAAYG,EAAQpT,GAASoT,EAAQ3B,GAAQhF,EAASC,EAAY+F,EAAW9F,GAE1F,OADAA,EAAc,OAAE3M,GACT3B,EAET,KAAK9I,EACH,GAAI2S,GACF,OAAOA,GAAc1e,KAAKwW,IAAWkI,GAAc1e,KAAKioB,GAG9D,OAAO,CACT,CA55EQ6B,CAAWtT,EAAQyR,EAAOmB,EAAQnG,EAASC,EAAY+F,EAAW9F,GAExE,KAvvGuB,EAuvGjBF,GAAiC,CACrC,IAAI8G,EAAeT,GAAYvpB,GAAeC,KAAKwW,EAAQ,eACvDwT,EAAeT,GAAYxpB,GAAeC,KAAKioB,EAAO,eAE1D,GAAI8B,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAevT,EAAOnT,QAAUmT,EAC/C0T,EAAeF,EAAe/B,EAAM5kB,QAAU4kB,EAGlD,OADA9E,IAAUA,EAAQ,IAAIvC,IACfqI,EAAUgB,EAAcC,EAAcjH,EAASC,EAAYC,EACpE,CACF,CACA,IAAKqG,EACH,OAAO,EAGT,OADArG,IAAUA,EAAQ,IAAIvC,IA05ExB,SAAsBpK,EAAQyR,EAAOhF,EAASC,EAAY+F,EAAW9F,GACnE,IAAI0G,EAjqLmB,EAiqLP5G,EACZkH,EAAWhF,GAAW3O,GACtB4T,EAAYD,EAAS/pB,OACrBiqB,EAAWlF,GAAW8C,GACtBK,EAAY+B,EAASjqB,OAEzB,GAAIgqB,GAAa9B,IAAcuB,EAC7B,OAAO,EAET,IAAIvV,EAAQ8V,EACZ,KAAO9V,KAAS,CACd,IAAIrK,EAAMkgB,EAAS7V,GACnB,KAAMuV,EAAY5f,KAAOge,EAAQloB,GAAeC,KAAKioB,EAAOhe,IAC1D,OAAO,CAEX,CAEA,IAAIqgB,EAAanH,EAAMP,IAAIpM,GACvB+T,EAAapH,EAAMP,IAAIqF,GAC3B,GAAIqC,GAAcC,EAChB,OAAOD,GAAcrC,GAASsC,GAAc/T,EAE9C,IAAI3B,GAAS,EACbsO,EAAMzK,IAAIlC,EAAQyR,GAClB9E,EAAMzK,IAAIuP,EAAOzR,GAEjB,IAAIgU,EAAWX,EACf,OAASvV,EAAQ8V,GAAW,CAE1B,IAAIjI,EAAW3L,EADfvM,EAAMkgB,EAAS7V,IAEXmW,EAAWxC,EAAMhe,GAErB,GAAIiZ,EACF,IAAIwH,EAAWb,EACX3G,EAAWuH,EAAUtI,EAAUlY,EAAKge,EAAOzR,EAAQ2M,GACnDD,EAAWf,EAAUsI,EAAUxgB,EAAKuM,EAAQyR,EAAO9E,GAGzD,KAAMuH,IAAa7hB,EACVsZ,IAAasI,GAAYxB,EAAU9G,EAAUsI,EAAUxH,EAASC,EAAYC,GAC7EuH,GACD,CACL7V,GAAS,EACT,KACF,CACA2V,IAAaA,EAAkB,eAAPvgB,EAC1B,CACA,GAAI4K,IAAW2V,EAAU,CACvB,IAAIG,EAAUnU,EAAO+M,YACjBqH,EAAU3C,EAAM1E,YAGhBoH,GAAWC,KACV,gBAAiBpU,MAAU,gBAAiByR,IACzB,mBAAX0C,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvD/V,GAAS,EAEb,CAGA,OAFAsO,EAAc,OAAE3M,GAChB2M,EAAc,OAAE8E,GACTpT,CACT,CAx9ESgW,CAAarU,EAAQyR,EAAOhF,EAASC,EAAY+F,EAAW9F,EACrE,CA5DS2H,CAAgBznB,EAAO4kB,EAAOhF,EAASC,EAAY8F,GAAa7F,GACzE,CAkFA,SAAS4H,GAAYvU,EAAQrJ,EAAQ6d,EAAW9H,GAC9C,IAAI5O,EAAQ0W,EAAU5qB,OAClBA,EAASkU,EACT2W,GAAgB/H,EAEpB,GAAc,MAAV1M,EACF,OAAQpW,EAGV,IADAoW,EAAS3W,GAAO2W,GACTlC,KAAS,CACd,IAAIuM,EAAOmK,EAAU1W,GACrB,GAAK2W,GAAgBpK,EAAK,GAClBA,EAAK,KAAOrK,EAAOqK,EAAK,MACtBA,EAAK,KAAMrK,GAEnB,OAAO,CAEX,CACA,OAASlC,EAAQlU,GAAQ,CAEvB,IAAI6J,GADJ4W,EAAOmK,EAAU1W,IACF,GACX6N,EAAW3L,EAAOvM,GAClBihB,EAAWrK,EAAK,GAEpB,GAAIoK,GAAgBpK,EAAK,IACvB,GAAIsB,IAAatZ,KAAeoB,KAAOuM,GACrC,OAAO,MAEJ,CACL,IAAI2M,EAAQ,IAAIvC,GAChB,GAAIsC,EACF,IAAIrO,EAASqO,EAAWf,EAAU+I,EAAUjhB,EAAKuM,EAAQrJ,EAAQgW,GAEnE,KAAMtO,IAAWhM,EACTmgB,GAAYkC,EAAU/I,EAAUgJ,EAA+CjI,EAAYC,GAC3FtO,GAEN,OAAO,CAEX,CACF,CACA,OAAO,CACT,CAUA,SAASuW,GAAa/nB,GACpB,SAAKgc,GAAShc,KA05FEyQ,EA15FiBzQ,EA25FxBkX,IAAeA,MAAczG,MAx5FxBqT,GAAW9jB,GAASyX,GAAarM,IAChCuJ,KAAKoG,GAAS/a,IAs5F/B,IAAkByQ,CAr5FlB,CA2CA,SAASuX,GAAahoB,GAGpB,MAAoB,mBAATA,EACFA,EAEI,MAATA,EACKioB,GAEW,iBAATjoB,EACF0b,GAAQ1b,GACXkoB,GAAoBloB,EAAM,GAAIA,EAAM,IACpCmoB,GAAYnoB,GAEXooB,GAASpoB,EAClB,CASA,SAASqoB,GAASlV,GAChB,IAAKmV,GAAYnV,GACf,OAAOwG,GAAWxG,GAEpB,IAAI3B,EAAS,GACb,IAAK,IAAI5K,KAAOpK,GAAO2W,GACjBzW,GAAeC,KAAKwW,EAAQvM,IAAe,eAAPA,GACtC4K,EAAO0M,KAAKtX,GAGhB,OAAO4K,CACT,CASA,SAAS+W,GAAWpV,GAClB,IAAK6I,GAAS7I,GACZ,OA09FJ,SAAsBA,GACpB,IAAI3B,EAAS,GACb,GAAc,MAAV2B,EACF,IAAK,IAAIvM,KAAOpK,GAAO2W,GACrB3B,EAAO0M,KAAKtX,GAGhB,OAAO4K,CACT,CAl+FWgX,CAAarV,GAEtB,IAAIsV,EAAUH,GAAYnV,GACtB3B,EAAS,GAEb,IAAK,IAAI5K,KAAOuM,GACD,eAAPvM,IAAyB6hB,GAAY/rB,GAAeC,KAAKwW,EAAQvM,KACrE4K,EAAO0M,KAAKtX,GAGhB,OAAO4K,CACT,CAWA,SAASkX,GAAO1oB,EAAO4kB,GACrB,OAAO5kB,EAAQ4kB,CACjB,CAUA,SAAS+D,GAAQlW,EAAY1B,GAC3B,IAAIE,GAAS,EACTO,EAASoX,GAAYnW,GAAcX,EAAMW,EAAW1V,QAAU,GAKlE,OAHAkiB,GAASxM,GAAY,SAASzS,EAAO4G,EAAK6L,GACxCjB,IAASP,GAASF,EAAS/Q,EAAO4G,EAAK6L,EACzC,IACOjB,CACT,CASA,SAAS2W,GAAYre,GACnB,IAAI6d,EAAYkB,GAAa/e,GAC7B,OAAwB,GAApB6d,EAAU5qB,QAAe4qB,EAAU,GAAG,GACjCmB,GAAwBnB,EAAU,GAAG,GAAIA,EAAU,GAAG,IAExD,SAASxU,GACd,OAAOA,IAAWrJ,GAAU4d,GAAYvU,EAAQrJ,EAAQ6d,EAC1D,CACF,CAUA,SAASO,GAAoBlE,EAAM6D,GACjC,OAAIkB,GAAM/E,IAASgF,GAAmBnB,GAC7BiB,GAAwB5E,GAAMF,GAAO6D,GAEvC,SAAS1U,GACd,IAAI2L,EAAWS,GAAIpM,EAAQ6Q,GAC3B,OAAQlF,IAAatZ,GAAasZ,IAAa+I,EAC3CoB,GAAM9V,EAAQ6Q,GACd2B,GAAYkC,EAAU/I,EAAUgJ,EACtC,CACF,CAaA,SAASoB,GAAU/V,EAAQrJ,EAAQqf,EAAUtJ,EAAYC,GACnD3M,IAAWrJ,GAGf4Z,GAAQ5Z,GAAQ,SAAS+d,EAAUjhB,GAEjC,GADAkZ,IAAUA,EAAQ,IAAIvC,IAClBvB,GAAS6L,IA+BjB,SAAuB1U,EAAQrJ,EAAQlD,EAAKuiB,EAAUC,EAAWvJ,EAAYC,GAC3E,IAAIhB,EAAWuK,GAAQlW,EAAQvM,GAC3BihB,EAAWwB,GAAQvf,EAAQlD,GAC3B+a,EAAU7B,EAAMP,IAAIsI,GAExB,GAAIlG,EAEF,YADAjD,GAAiBvL,EAAQvM,EAAK+a,GAGhC,IAAI2H,EAAWzJ,EACXA,EAAWf,EAAU+I,EAAWjhB,EAAM,GAAKuM,EAAQrJ,EAAQgW,GAC3Dta,EAEA4c,EAAWkH,IAAa9jB,EAE5B,GAAI4c,EAAU,CACZ,IAAIzE,EAAQjC,GAAQmM,GAChB/J,GAAUH,GAASpE,GAASsO,GAC5B0B,GAAW5L,IAAUG,GAAUvN,GAAasX,GAEhDyB,EAAWzB,EACPlK,GAASG,GAAUyL,EACjB7N,GAAQoD,GACVwK,EAAWxK,EAEJ0K,GAAkB1K,GACzBwK,EAAW/K,GAAUO,GAEdhB,GACPsE,GAAW,EACXkH,EAAW/I,GAAYsH,GAAU,IAE1B0B,GACPnH,GAAW,EACXkH,EAAWhI,GAAgBuG,GAAU,IAGrCyB,EAAW,GAGNG,GAAc5B,IAAahK,GAAYgK,IAC9CyB,EAAWxK,EACPjB,GAAYiB,GACdwK,EAAWI,GAAc5K,GAEjB9C,GAAS8C,KAAagF,GAAWhF,KACzCwK,EAAW9I,GAAgBqH,KAI7BzF,GAAW,CAEf,CACIA,IAEFtC,EAAMzK,IAAIwS,EAAUyB,GACpBF,EAAUE,EAAUzB,EAAUsB,EAAUtJ,EAAYC,GACpDA,EAAc,OAAE+H,IAElBnJ,GAAiBvL,EAAQvM,EAAK0iB,EAChC,CA1FMK,CAAcxW,EAAQrJ,EAAQlD,EAAKuiB,EAAUD,GAAWrJ,EAAYC,OAEjE,CACH,IAAIwJ,EAAWzJ,EACXA,EAAWwJ,GAAQlW,EAAQvM,GAAMihB,EAAWjhB,EAAM,GAAKuM,EAAQrJ,EAAQgW,GACvEta,EAEA8jB,IAAa9jB,IACf8jB,EAAWzB,GAEbnJ,GAAiBvL,EAAQvM,EAAK0iB,EAChC,CACF,GAAG3I,GACL,CAuFA,SAASiJ,GAAQ/Y,EAAO2C,GACtB,IAAIzW,EAAS8T,EAAM9T,OACnB,GAAKA,EAIL,OAAOkhB,GADPzK,GAAKA,EAAI,EAAIzW,EAAS,EACJA,GAAU8T,EAAM2C,GAAKhO,CACzC,CAWA,SAASqkB,GAAYpX,EAAYqX,EAAWC,GAExCD,EADEA,EAAU/sB,OACA8U,GAASiY,GAAW,SAAS/Y,GACvC,OAAI2K,GAAQ3K,GACH,SAAS/Q,GACd,OAAO+jB,GAAQ/jB,EAA2B,IAApB+Q,EAAShU,OAAegU,EAAS,GAAKA,EAC9D,EAEKA,CACT,IAEY,CAACkX,IAGf,IAAIhX,GAAS,EACb6Y,EAAYjY,GAASiY,EAAWjW,GAAUmW,OAE1C,IAAIxY,EAASmX,GAAQlW,GAAY,SAASzS,EAAO4G,EAAK6L,GACpD,IAAIwX,EAAWpY,GAASiY,GAAW,SAAS/Y,GAC1C,OAAOA,EAAS/Q,EAClB,IACA,MAAO,CAAE,SAAYiqB,EAAU,QAAWhZ,EAAO,MAASjR,EAC5D,IAEA,OA5xFJ,SAAoB6Q,EAAOqZ,GACzB,IAAIntB,EAAS8T,EAAM9T,OAGnB,IADA8T,EAAMsZ,KAAKD,GACJntB,KACL8T,EAAM9T,GAAU8T,EAAM9T,GAAQiD,MAEhC,OAAO6Q,CACT,CAoxFWuZ,CAAW5Y,GAAQ,SAAS2B,EAAQyR,GACzC,OA04BJ,SAAyBzR,EAAQyR,EAAOmF,GACtC,IAAI9Y,GAAS,EACToZ,EAAclX,EAAO8W,SACrBK,EAAc1F,EAAMqF,SACpBltB,EAASstB,EAAYttB,OACrBwtB,EAAeR,EAAOhtB,OAE1B,OAASkU,EAAQlU,GAAQ,CACvB,IAAIyU,EAASgZ,GAAiBH,EAAYpZ,GAAQqZ,EAAYrZ,IAC9D,GAAIO,EACF,OAAIP,GAASsZ,EACJ/Y,EAGFA,GAAmB,QADduY,EAAO9Y,IACiB,EAAI,EAE5C,CAQA,OAAOkC,EAAOlC,MAAQ2T,EAAM3T,KAC9B,CAn6BWwZ,CAAgBtX,EAAQyR,EAAOmF,EACxC,GACF,CA0BA,SAASW,GAAWvX,EAAQkM,EAAOhO,GAKjC,IAJA,IAAIJ,GAAS,EACTlU,EAASsiB,EAAMtiB,OACfyU,EAAS,CAAC,IAELP,EAAQlU,GAAQ,CACvB,IAAIinB,EAAO3E,EAAMpO,GACbjR,EAAQ+jB,GAAQ5Q,EAAQ6Q,GAExB3S,EAAUrR,EAAOgkB,IACnB2G,GAAQnZ,EAAQyS,GAASD,EAAM7Q,GAASnT,EAE5C,CACA,OAAOwR,CACT,CA0BA,SAASoZ,GAAY/Z,EAAOmB,EAAQjB,EAAUa,GAC5C,IAAIhV,EAAUgV,EAAaoB,GAAkBtB,GACzCT,GAAS,EACTlU,EAASiV,EAAOjV,OAChBuoB,EAAOzU,EAQX,IANIA,IAAUmB,IACZA,EAASuM,GAAUvM,IAEjBjB,IACFuU,EAAOzT,GAAShB,EAAOgD,GAAU9C,OAE1BE,EAAQlU,GAKf,IAJA,IAAI6V,EAAY,EACZ5S,EAAQgS,EAAOf,GACfsR,EAAWxR,EAAWA,EAAS/Q,GAASA,GAEpC4S,EAAYhW,EAAQ0oB,EAAM/C,EAAU3P,EAAWhB,KAAgB,GACjE0T,IAASzU,GACXqH,GAAOvb,KAAK2oB,EAAM1S,EAAW,GAE/BsF,GAAOvb,KAAKkU,EAAO+B,EAAW,GAGlC,OAAO/B,CACT,CAWA,SAASga,GAAWha,EAAOia,GAIzB,IAHA,IAAI/tB,EAAS8T,EAAQia,EAAQ/tB,OAAS,EAClCyY,EAAYzY,EAAS,EAElBA,KAAU,CACf,IAAIkU,EAAQ6Z,EAAQ/tB,GACpB,GAAIA,GAAUyY,GAAavE,IAAU8Z,EAAU,CAC7C,IAAIA,EAAW9Z,EACXgN,GAAQhN,GACViH,GAAOvb,KAAKkU,EAAOI,EAAO,GAE1B+Z,GAAUna,EAAOI,EAErB,CACF,CACA,OAAOJ,CACT,CAWA,SAASuN,GAAWqB,EAAOC,GACzB,OAAOD,EAAQtG,GAAYe,MAAkBwF,EAAQD,EAAQ,GAC/D,CAiCA,SAASwL,GAAWvX,EAAQF,GAC1B,IAAIhC,EAAS,GACb,IAAKkC,GAAUF,EAAI,GAAKA,EAAIhM,EAC1B,OAAOgK,EAIT,GACMgC,EAAI,IACNhC,GAAUkC,IAEZF,EAAI2F,GAAY3F,EAAI,MAElBE,GAAUA,SAELF,GAET,OAAOhC,CACT,CAUA,SAAS0Z,GAASza,EAAM0a,GACtB,OAAOC,GAAYC,GAAS5a,EAAM0a,EAAOlD,IAAWxX,EAAO,GAC7D,CASA,SAAS6a,GAAW7Y,GAClB,OAAO0L,GAAYnM,GAAOS,GAC5B,CAUA,SAAS8Y,GAAe9Y,EAAYe,GAClC,IAAI3C,EAAQmB,GAAOS,GACnB,OAAO6L,GAAYzN,EAAO2N,GAAUhL,EAAG,EAAG3C,EAAM9T,QAClD,CAYA,SAAS4tB,GAAQxX,EAAQ6Q,EAAMhkB,EAAO6f,GACpC,IAAK7D,GAAS7I,GACZ,OAAOA,EAST,IALA,IAAIlC,GAAS,EACTlU,GAHJinB,EAAOC,GAASD,EAAM7Q,IAGJpW,OACdyY,EAAYzY,EAAS,EACrByuB,EAASrY,EAEI,MAAVqY,KAAoBva,EAAQlU,GAAQ,CACzC,IAAI6J,EAAMsd,GAAMF,EAAK/S,IACjBqY,EAAWtpB,EAEf,GAAY,cAAR4G,GAA+B,gBAARA,GAAiC,cAARA,EAClD,OAAOuM,EAGT,GAAIlC,GAASuE,EAAW,CACtB,IAAIsJ,EAAW0M,EAAO5kB,IACtB0iB,EAAWzJ,EAAaA,EAAWf,EAAUlY,EAAK4kB,GAAUhmB,KAC3CA,IACf8jB,EAAWtN,GAAS8C,GAChBA,EACCb,GAAQ+F,EAAK/S,EAAQ,IAAM,GAAK,CAAC,EAE1C,CACA4N,GAAY2M,EAAQ5kB,EAAK0iB,GACzBkC,EAASA,EAAO5kB,EAClB,CACA,OAAOuM,CACT,CAUA,IAAIsY,GAAe7Q,GAAqB,SAASnK,EAAM+M,GAErD,OADA5C,GAAQvF,IAAI5E,EAAM+M,GACX/M,CACT,EAH6BwX,GAazByD,GAAmBjT,GAA4B,SAAShI,EAAMiD,GAChE,OAAO+E,GAAehI,EAAM,WAAY,CACtC,cAAgB,EAChB,YAAc,EACd,MAASkb,GAASjY,GAClB,UAAY,GAEhB,EAPwCuU,GAgBxC,SAAS2D,GAAYnZ,GACnB,OAAO6L,GAAYtM,GAAOS,GAC5B,CAWA,SAASoZ,GAAUhb,EAAOsa,EAAOW,GAC/B,IAAI7a,GAAS,EACTlU,EAAS8T,EAAM9T,OAEfouB,EAAQ,IACVA,GAASA,EAAQpuB,EAAS,EAAKA,EAASouB,IAE1CW,EAAMA,EAAM/uB,EAASA,EAAS+uB,GACpB,IACRA,GAAO/uB,GAETA,EAASouB,EAAQW,EAAM,EAAMA,EAAMX,IAAW,EAC9CA,KAAW,EAGX,IADA,IAAI3Z,EAASM,EAAM/U,KACVkU,EAAQlU,GACfyU,EAAOP,GAASJ,EAAMI,EAAQka,GAEhC,OAAO3Z,CACT,CAWA,SAASua,GAAStZ,EAAYpB,GAC5B,IAAIG,EAMJ,OAJAyN,GAASxM,GAAY,SAASzS,EAAOiR,EAAOwB,GAE1C,QADAjB,EAASH,EAAUrR,EAAOiR,EAAOwB,GAEnC,MACSjB,CACX,CAcA,SAASwa,GAAgBnb,EAAO7Q,EAAOisB,GACrC,IAAIC,EAAM,EACNC,EAAgB,MAATtb,EAAgBqb,EAAMrb,EAAM9T,OAEvC,GAAoB,iBAATiD,GAAqBA,GAAUA,GAASmsB,GAn/H3BzkB,WAm/H0D,CAChF,KAAOwkB,EAAMC,GAAM,CACjB,IAAIC,EAAOF,EAAMC,IAAU,EACvB5J,EAAW1R,EAAMub,GAEJ,OAAb7J,IAAsBa,GAASb,KAC9B0J,EAAc1J,GAAYviB,EAAUuiB,EAAWviB,GAClDksB,EAAME,EAAM,EAEZD,EAAOC,CAEX,CACA,OAAOD,CACT,CACA,OAAOE,GAAkBxb,EAAO7Q,EAAOioB,GAAUgE,EACnD,CAeA,SAASI,GAAkBxb,EAAO7Q,EAAO+Q,EAAUkb,GACjD,IAAIC,EAAM,EACNC,EAAgB,MAATtb,EAAgB,EAAIA,EAAM9T,OACrC,GAAa,IAATovB,EACF,OAAO,EAST,IALA,IAAIG,GADJtsB,EAAQ+Q,EAAS/Q,KACQA,EACrBusB,EAAsB,OAAVvsB,EACZwsB,EAAcpJ,GAASpjB,GACvBysB,EAAiBzsB,IAAUwF,EAExB0mB,EAAMC,GAAM,CACjB,IAAIC,EAAMjT,IAAa+S,EAAMC,GAAQ,GACjC5J,EAAWxR,EAASF,EAAMub,IAC1BM,EAAenK,IAAa/c,EAC5BmnB,EAAyB,OAAbpK,EACZqK,EAAiBrK,GAAaA,EAC9BsK,EAAczJ,GAASb,GAE3B,GAAI+J,EACF,IAAIQ,EAASb,GAAcW,OAE3BE,EADSL,EACAG,IAAmBX,GAAcS,GACjCH,EACAK,GAAkBF,IAAiBT,IAAeU,GAClDH,EACAI,GAAkBF,IAAiBC,IAAcV,IAAeY,IAChEF,IAAaE,IAGbZ,EAAc1J,GAAYviB,EAAUuiB,EAAWviB,GAEtD8sB,EACFZ,EAAME,EAAM,EAEZD,EAAOC,CAEX,CACA,OAAOtS,GAAUqS,EA1jICzkB,WA2jIpB,CAWA,SAASqlB,GAAelc,EAAOE,GAM7B,IALA,IAAIE,GAAS,EACTlU,EAAS8T,EAAM9T,OACfwU,EAAW,EACXC,EAAS,KAEJP,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdsR,EAAWxR,EAAWA,EAAS/Q,GAASA,EAE5C,IAAKiR,IAAU0N,GAAG4D,EAAU+C,GAAO,CACjC,IAAIA,EAAO/C,EACX/Q,EAAOD,KAAwB,IAAVvR,EAAc,EAAIA,CACzC,CACF,CACA,OAAOwR,CACT,CAUA,SAASwb,GAAahtB,GACpB,MAAoB,iBAATA,EACFA,EAELojB,GAASpjB,GACJyH,GAEDzH,CACV,CAUA,SAASitB,GAAajtB,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAI0b,GAAQ1b,GAEV,OAAO6R,GAAS7R,EAAOitB,IAAgB,GAEzC,GAAI7J,GAASpjB,GACX,OAAOub,GAAiBA,GAAe5e,KAAKqD,GAAS,GAEvD,IAAIwR,EAAUxR,EAAQ,GACtB,MAAkB,KAAVwR,GAAkB,EAAIxR,IAAU,IAAa,KAAOwR,CAC9D,CAWA,SAAS0b,GAASrc,EAAOE,EAAUa,GACjC,IAAIX,GAAS,EACTkR,EAAW1Q,GACX1U,EAAS8T,EAAM9T,OACfqlB,GAAW,EACX5Q,EAAS,GACT8T,EAAO9T,EAEX,GAAII,EACFwQ,GAAW,EACXD,EAAWxQ,QAER,GAAI5U,GAjtIU,IAitIkB,CACnC,IAAIsY,EAAMtE,EAAW,KAAOoc,GAAUtc,GACtC,GAAIwE,EACF,OAAOD,GAAWC,GAEpB+M,GAAW,EACXD,EAAWpO,GACXuR,EAAO,IAAIlI,EACb,MAEEkI,EAAOvU,EAAW,GAAKS,EAEzB8Q,EACA,OAASrR,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdsR,EAAWxR,EAAWA,EAAS/Q,GAASA,EAG5C,GADAA,EAAS4R,GAAwB,IAAV5R,EAAeA,EAAQ,EAC1CoiB,GAAYG,GAAaA,EAAU,CAErC,IADA,IAAI6K,EAAY9H,EAAKvoB,OACdqwB,KACL,GAAI9H,EAAK8H,KAAe7K,EACtB,SAASD,EAGTvR,GACFuU,EAAKpH,KAAKqE,GAEZ/Q,EAAO0M,KAAKle,EACd,MACUmiB,EAASmD,EAAM/C,EAAU3Q,KAC7B0T,IAAS9T,GACX8T,EAAKpH,KAAKqE,GAEZ/Q,EAAO0M,KAAKle,GAEhB,CACA,OAAOwR,CACT,CAUA,SAASwZ,GAAU7X,EAAQ6Q,GAGzB,OAAiB,OADjB7Q,EAASqS,GAAOrS,EADhB6Q,EAAOC,GAASD,EAAM7Q,aAEUA,EAAO+Q,GAAMuB,GAAKzB,IACpD,CAYA,SAASqJ,GAAWla,EAAQ6Q,EAAMsJ,EAASzN,GACzC,OAAO8K,GAAQxX,EAAQ6Q,EAAMsJ,EAAQvJ,GAAQ5Q,EAAQ6Q,IAAQnE,EAC/D,CAaA,SAAS0N,GAAU1c,EAAOQ,EAAWmc,EAAQ3a,GAI3C,IAHA,IAAI9V,EAAS8T,EAAM9T,OACfkU,EAAQ4B,EAAY9V,GAAU,GAE1B8V,EAAY5B,MAAYA,EAAQlU,IACtCsU,EAAUR,EAAMI,GAAQA,EAAOJ,KAEjC,OAAO2c,EACH3B,GAAUhb,EAAQgC,EAAY,EAAI5B,EAAS4B,EAAY5B,EAAQ,EAAIlU,GACnE8uB,GAAUhb,EAAQgC,EAAY5B,EAAQ,EAAI,EAAK4B,EAAY9V,EAASkU,EAC1E,CAYA,SAASwc,GAAiBztB,EAAO0tB,GAC/B,IAAIlc,EAASxR,EAIb,OAHIwR,aAAkBmK,KACpBnK,EAASA,EAAOxR,SAEXkS,GAAYwb,GAAS,SAASlc,EAAQmc,GAC3C,OAAOA,EAAOld,KAAKD,MAAMmd,EAAOjd,QAASqB,GAAU,CAACP,GAASmc,EAAOhd,MACtE,GAAGa,EACL,CAYA,SAASoc,GAAQ5I,EAAQjU,EAAUa,GACjC,IAAI7U,EAASioB,EAAOjoB,OACpB,GAAIA,EAAS,EACX,OAAOA,EAASmwB,GAASlI,EAAO,IAAM,GAKxC,IAHA,IAAI/T,GAAS,EACTO,EAASM,EAAM/U,KAEVkU,EAAQlU,GAIf,IAHA,IAAI8T,EAAQmU,EAAO/T,GACfiU,GAAY,IAEPA,EAAWnoB,GACdmoB,GAAYjU,IACdO,EAAOP,GAASiR,GAAe1Q,EAAOP,IAAUJ,EAAOmU,EAAOE,GAAWnU,EAAUa,IAIzF,OAAOsb,GAAS5J,GAAY9R,EAAQ,GAAIT,EAAUa,EACpD,CAWA,SAASic,GAAc5zB,EAAO+X,EAAQ8b,GAMpC,IALA,IAAI7c,GAAS,EACTlU,EAAS9C,EAAM8C,OACfgxB,EAAa/b,EAAOjV,OACpByU,EAAS,CAAC,IAELP,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQiR,EAAQ8c,EAAa/b,EAAOf,GAASzL,EACjDsoB,EAAWtc,EAAQvX,EAAMgX,GAAQjR,EACnC,CACA,OAAOwR,CACT,CASA,SAASwc,GAAoBhuB,GAC3B,OAAOwpB,GAAkBxpB,GAASA,EAAQ,EAC5C,CASA,SAASiuB,GAAajuB,GACpB,MAAuB,mBAATA,EAAsBA,EAAQioB,EAC9C,CAUA,SAAShE,GAASjkB,EAAOmT,GACvB,OAAIuI,GAAQ1b,GACHA,EAEF+oB,GAAM/oB,EAAOmT,GAAU,CAACnT,GAASkuB,GAAalX,GAAShX,GAChE,CAWA,IAAImuB,GAAWjD,GAWf,SAASkD,GAAUvd,EAAOsa,EAAOW,GAC/B,IAAI/uB,EAAS8T,EAAM9T,OAEnB,OADA+uB,EAAMA,IAAQtmB,EAAYzI,EAAS+uB,GAC1BX,GAASW,GAAO/uB,EAAU8T,EAAQgb,GAAUhb,EAAOsa,EAAOW,EACrE,CAQA,IAAIlT,GAAeD,IAAmB,SAAS0V,GAC7C,OAAOvf,GAAK8J,aAAayV,EAC3B,EAUA,SAAS9N,GAAYW,EAAQnB,GAC3B,GAAIA,EACF,OAAOmB,EAAOrc,QAEhB,IAAI9H,EAASmkB,EAAOnkB,OAChByU,EAASqG,GAAcA,GAAY9a,GAAU,IAAImkB,EAAOhB,YAAYnjB,GAGxE,OADAmkB,EAAOoN,KAAK9c,GACLA,CACT,CASA,SAASwP,GAAiBuN,GACxB,IAAI/c,EAAS,IAAI+c,EAAYrO,YAAYqO,EAAYnN,YAErD,OADA,IAAIxJ,GAAWpG,GAAQ6D,IAAI,IAAIuC,GAAW2W,IACnC/c,CACT,CA+CA,SAAS8P,GAAgBkN,EAAYzO,GACnC,IAAImB,EAASnB,EAASiB,GAAiBwN,EAAWtN,QAAUsN,EAAWtN,OACvE,OAAO,IAAIsN,EAAWtO,YAAYgB,EAAQsN,EAAWrN,WAAYqN,EAAWzxB,OAC9E,CAUA,SAASytB,GAAiBxqB,EAAO4kB,GAC/B,GAAI5kB,IAAU4kB,EAAO,CACnB,IAAI6J,EAAezuB,IAAUwF,EACzB+mB,EAAsB,OAAVvsB,EACZ0uB,EAAiB1uB,GAAUA,EAC3BwsB,EAAcpJ,GAASpjB,GAEvB0sB,EAAe9H,IAAUpf,EACzBmnB,EAAsB,OAAV/H,EACZgI,EAAiBhI,GAAUA,EAC3BiI,EAAczJ,GAASwB,GAE3B,IAAM+H,IAAcE,IAAgBL,GAAexsB,EAAQ4kB,GACtD4H,GAAeE,GAAgBE,IAAmBD,IAAcE,GAChEN,GAAaG,GAAgBE,IAC5B6B,GAAgB7B,IACjB8B,EACH,OAAO,EAET,IAAMnC,IAAcC,IAAgBK,GAAe7sB,EAAQ4kB,GACtDiI,GAAe4B,GAAgBC,IAAmBnC,IAAcC,GAChEG,GAAa8B,GAAgBC,IAC5BhC,GAAgBgC,IACjB9B,EACH,OAAQ,CAEZ,CACA,OAAO,CACT,CAsDA,SAAS+B,GAAYhe,EAAMie,EAAUC,EAASC,GAU5C,IATA,IAAIC,GAAa,EACbC,EAAare,EAAK5T,OAClBkyB,EAAgBJ,EAAQ9xB,OACxBmyB,GAAa,EACbC,EAAaP,EAAS7xB,OACtBqyB,EAAcxV,GAAUoV,EAAaC,EAAe,GACpDzd,EAASM,EAAMqd,EAAaC,GAC5BC,GAAeP,IAEVI,EAAYC,GACnB3d,EAAO0d,GAAaN,EAASM,GAE/B,OAASH,EAAYE,IACfI,GAAeN,EAAYC,KAC7Bxd,EAAOqd,EAAQE,IAAcpe,EAAKoe,IAGtC,KAAOK,KACL5d,EAAO0d,KAAeve,EAAKoe,KAE7B,OAAOvd,CACT,CAaA,SAAS8d,GAAiB3e,EAAMie,EAAUC,EAASC,GAWjD,IAVA,IAAIC,GAAa,EACbC,EAAare,EAAK5T,OAClBwyB,GAAgB,EAChBN,EAAgBJ,EAAQ9xB,OACxByyB,GAAc,EACdC,EAAcb,EAAS7xB,OACvBqyB,EAAcxV,GAAUoV,EAAaC,EAAe,GACpDzd,EAASM,EAAMsd,EAAcK,GAC7BJ,GAAeP,IAEVC,EAAYK,GACnB5d,EAAOud,GAAape,EAAKoe,GAG3B,IADA,IAAI9c,EAAS8c,IACJS,EAAaC,GACpBje,EAAOS,EAASud,GAAcZ,EAASY,GAEzC,OAASD,EAAeN,IAClBI,GAAeN,EAAYC,KAC7Bxd,EAAOS,EAAS4c,EAAQU,IAAiB5e,EAAKoe,MAGlD,OAAOvd,CACT,CAUA,SAAS+M,GAAUzU,EAAQ+G,GACzB,IAAII,GAAS,EACTlU,EAAS+M,EAAO/M,OAGpB,IADA8T,IAAUA,EAAQiB,EAAM/U,MACfkU,EAAQlU,GACf8T,EAAMI,GAASnH,EAAOmH,GAExB,OAAOJ,CACT,CAYA,SAASsO,GAAWrV,EAAQ7P,EAAOkZ,EAAQ0M,GACzC,IAAI6P,GAASvc,EACbA,IAAWA,EAAS,CAAC,GAKrB,IAHA,IAAIlC,GAAS,EACTlU,EAAS9C,EAAM8C,SAEVkU,EAAQlU,GAAQ,CACvB,IAAI6J,EAAM3M,EAAMgX,GAEZqY,EAAWzJ,EACXA,EAAW1M,EAAOvM,GAAMkD,EAAOlD,GAAMA,EAAKuM,EAAQrJ,GAClDtE,EAEA8jB,IAAa9jB,IACf8jB,EAAWxf,EAAOlD,IAEhB8oB,EACF9Q,GAAgBzL,EAAQvM,EAAK0iB,GAE7BzK,GAAY1L,EAAQvM,EAAK0iB,EAE7B,CACA,OAAOnW,CACT,CAkCA,SAASwc,GAAiB7e,EAAQ8e,GAChC,OAAO,SAASnd,EAAY1B,GAC1B,IAAIN,EAAOiL,GAAQjJ,GAAc7B,GAAkBoO,GAC/ChO,EAAc4e,EAAcA,IAAgB,CAAC,EAEjD,OAAOnf,EAAKgC,EAAY3B,EAAQkZ,GAAYjZ,EAAU,GAAIC,EAC5D,CACF,CASA,SAAS6e,GAAeC,GACtB,OAAO5E,IAAS,SAAS/X,EAAQ4c,GAC/B,IAAI9e,GAAS,EACTlU,EAASgzB,EAAQhzB,OACjB8iB,EAAa9iB,EAAS,EAAIgzB,EAAQhzB,EAAS,GAAKyI,EAChDwqB,EAAQjzB,EAAS,EAAIgzB,EAAQ,GAAKvqB,EAWtC,IATAqa,EAAciQ,EAAS/yB,OAAS,GAA0B,mBAAd8iB,GACvC9iB,IAAU8iB,GACXra,EAEAwqB,GAASC,GAAeF,EAAQ,GAAIA,EAAQ,GAAIC,KAClDnQ,EAAa9iB,EAAS,EAAIyI,EAAYqa,EACtC9iB,EAAS,GAEXoW,EAAS3W,GAAO2W,KACPlC,EAAQlU,GAAQ,CACvB,IAAI+M,EAASimB,EAAQ9e,GACjBnH,GACFgmB,EAAS3c,EAAQrJ,EAAQmH,EAAO4O,EAEpC,CACA,OAAO1M,CACT,GACF,CAUA,SAAS2P,GAAepQ,EAAUG,GAChC,OAAO,SAASJ,EAAY1B,GAC1B,GAAkB,MAAd0B,EACF,OAAOA,EAET,IAAKmW,GAAYnW,GACf,OAAOC,EAASD,EAAY1B,GAM9B,IAJA,IAAIhU,EAAS0V,EAAW1V,OACpBkU,EAAQ4B,EAAY9V,GAAU,EAC9BmzB,EAAW1zB,GAAOiW,IAEdI,EAAY5B,MAAYA,EAAQlU,KACa,IAA/CgU,EAASmf,EAASjf,GAAQA,EAAOif,KAIvC,OAAOzd,CACT,CACF,CASA,SAASkR,GAAc9Q,GACrB,OAAO,SAASM,EAAQpC,EAAUqT,GAMhC,IALA,IAAInT,GAAS,EACTif,EAAW1zB,GAAO2W,GAClBlZ,EAAQmqB,EAASjR,GACjBpW,EAAS9C,EAAM8C,OAEZA,KAAU,CACf,IAAI6J,EAAM3M,EAAM4Y,EAAY9V,IAAWkU,GACvC,IAA+C,IAA3CF,EAASmf,EAAStpB,GAAMA,EAAKspB,GAC/B,KAEJ,CACA,OAAO/c,CACT,CACF,CA8BA,SAASgd,GAAgBC,GACvB,OAAO,SAAS1c,GAGd,IAAIS,EAAaO,GAFjBhB,EAASsD,GAAStD,IAGdgC,GAAchC,GACdlO,EAEAiP,EAAMN,EACNA,EAAW,GACXT,EAAO/O,OAAO,GAEd0rB,EAAWlc,EACXia,GAAUja,EAAY,GAAG3G,KAAK,IAC9BkG,EAAO7O,MAAM,GAEjB,OAAO4P,EAAI2b,KAAgBC,CAC7B,CACF,CASA,SAASC,GAAiBC,GACxB,OAAO,SAAS7c,GACd,OAAOxB,GAAYse,GAAMC,GAAO/c,GAAQE,QAAQjG,GAAQ,KAAM4iB,EAAU,GAC1E,CACF,CAUA,SAASG,GAAW3P,GAClB,OAAO,WAIL,IAAIpQ,EAAOggB,UACX,OAAQhgB,EAAK5T,QACX,KAAK,EAAG,OAAO,IAAIgkB,EACnB,KAAK,EAAG,OAAO,IAAIA,EAAKpQ,EAAK,IAC7B,KAAK,EAAG,OAAO,IAAIoQ,EAAKpQ,EAAK,GAAIA,EAAK,IACtC,KAAK,EAAG,OAAO,IAAIoQ,EAAKpQ,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC/C,KAAK,EAAG,OAAO,IAAIoQ,EAAKpQ,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACxD,KAAK,EAAG,OAAO,IAAIoQ,EAAKpQ,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACjE,KAAK,EAAG,OAAO,IAAIoQ,EAAKpQ,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC1E,KAAK,EAAG,OAAO,IAAIoQ,EAAKpQ,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAErF,IAAIigB,EAAc9U,GAAWiF,EAAKtkB,WAC9B+U,EAASuP,EAAKvQ,MAAMogB,EAAajgB,GAIrC,OAAOqL,GAASxK,GAAUA,EAASof,CACrC,CACF,CA8CA,SAASC,GAAWC,GAClB,OAAO,SAASre,EAAYpB,EAAWuB,GACrC,IAAIsd,EAAW1zB,GAAOiW,GACtB,IAAKmW,GAAYnW,GAAa,CAC5B,IAAI1B,EAAWiZ,GAAY3Y,EAAW,GACtCoB,EAAa2E,GAAK3E,GAClBpB,EAAY,SAASzK,GAAO,OAAOmK,EAASmf,EAAStpB,GAAMA,EAAKspB,EAAW,CAC7E,CACA,IAAIjf,EAAQ6f,EAAcre,EAAYpB,EAAWuB,GACjD,OAAO3B,GAAS,EAAIif,EAASnf,EAAW0B,EAAWxB,GAASA,GAASzL,CACvE,CACF,CASA,SAASurB,GAAWle,GAClB,OAAOme,IAAS,SAASC,GACvB,IAAIl0B,EAASk0B,EAAMl0B,OACfkU,EAAQlU,EACRm0B,EAAStV,GAAcnf,UAAU00B,KAKrC,IAHIte,GACFoe,EAAM5W,UAEDpJ,KAAS,CACd,IAAIR,EAAOwgB,EAAMhgB,GACjB,GAAmB,mBAARR,EACT,MAAM,IAAIiG,GAAU3P,GAEtB,GAAImqB,IAAWE,GAAgC,WAArBC,GAAY5gB,GACpC,IAAI2gB,EAAU,IAAIxV,GAAc,IAAI,EAExC,CAEA,IADA3K,EAAQmgB,EAAUngB,EAAQlU,IACjBkU,EAAQlU,GAAQ,CAGvB,IAAIu0B,EAAWD,GAFf5gB,EAAOwgB,EAAMhgB,IAGTuM,EAAmB,WAAZ8T,EAAwBC,GAAQ9gB,GAAQjL,EAMjD4rB,EAJE5T,GAAQgU,GAAWhU,EAAK,KACX,KAAXA,EAAK,KACJA,EAAK,GAAGzgB,QAAqB,GAAXygB,EAAK,GAElB4T,EAAQC,GAAY7T,EAAK,KAAKhN,MAAM4gB,EAAS5T,EAAK,IAElC,GAAf/M,EAAK1T,QAAey0B,GAAW/gB,GACtC2gB,EAAQE,KACRF,EAAQD,KAAK1gB,EAErB,CACA,OAAO,WACL,IAAIE,EAAOggB,UACP3wB,EAAQ2Q,EAAK,GAEjB,GAAIygB,GAA0B,GAAfzgB,EAAK5T,QAAe2e,GAAQ1b,GACzC,OAAOoxB,EAAQK,MAAMzxB,GAAOA,QAK9B,IAHA,IAAIiR,EAAQ,EACRO,EAASzU,EAASk0B,EAAMhgB,GAAOT,MAAM2L,KAAMxL,GAAQ3Q,IAE9CiR,EAAQlU,GACfyU,EAASyf,EAAMhgB,GAAOtU,KAAKwf,KAAM3K,GAEnC,OAAOA,CACT,CACF,GACF,CAqBA,SAASkgB,GAAajhB,EAAMmP,EAASlP,EAASke,EAAUC,EAAS8C,EAAeC,EAAcC,EAAQC,EAAKC,GACzG,IAAIC,EAAQpS,EAAUvY,EAClB4qB,EA5iKa,EA4iKJrS,EACTsS,EA5iKiB,EA4iKLtS,EACZkP,EAAsB,GAAVlP,EACZuS,EAtiKa,IAsiKJvS,EACTmB,EAAOmR,EAAY1sB,EAAYkrB,GAAWjgB,GA6C9C,OA3CA,SAAS2gB,IAKP,IAJA,IAAIr0B,EAAS4zB,UAAU5zB,OACnB4T,EAAOmB,EAAM/U,GACbkU,EAAQlU,EAELkU,KACLN,EAAKM,GAAS0f,UAAU1f,GAE1B,GAAI6d,EACF,IAAI3Z,EAAcid,GAAUhB,GACxBiB,EAvhIZ,SAAsBxhB,EAAOsE,GAI3B,IAHA,IAAIpY,EAAS8T,EAAM9T,OACfyU,EAAS,EAENzU,KACD8T,EAAM9T,KAAYoY,KAClB3D,EAGN,OAAOA,CACT,CA6gI2B8gB,CAAa3hB,EAAMwE,GASxC,GAPIyZ,IACFje,EAAOge,GAAYhe,EAAMie,EAAUC,EAASC,IAE1C6C,IACFhhB,EAAO2e,GAAiB3e,EAAMghB,EAAeC,EAAc9C,IAE7D/xB,GAAUs1B,EACNvD,GAAa/xB,EAASg1B,EAAO,CAC/B,IAAIQ,EAAard,GAAevE,EAAMwE,GACtC,OAAOqd,GACL/hB,EAAMmP,EAAS8R,GAAcN,EAAQjc,YAAazE,EAClDC,EAAM4hB,EAAYV,EAAQC,EAAKC,EAAQh1B,EAE3C,CACA,IAAI6zB,EAAcqB,EAASvhB,EAAUyL,KACjCsW,EAAKP,EAAYtB,EAAYngB,GAAQA,EAczC,OAZA1T,EAAS4T,EAAK5T,OACV80B,EACFlhB,EAg4CN,SAAiBE,EAAOia,GACtB,IAAI4H,EAAY7hB,EAAM9T,OAClBA,EAAS+c,GAAUgR,EAAQ/tB,OAAQ21B,GACnCC,EAAWpU,GAAU1N,GAEzB,KAAO9T,KAAU,CACf,IAAIkU,EAAQ6Z,EAAQ/tB,GACpB8T,EAAM9T,GAAUkhB,GAAQhN,EAAOyhB,GAAaC,EAAS1hB,GAASzL,CAChE,CACA,OAAOqL,CACT,CA14Ca+hB,CAAQjiB,EAAMkhB,GACZM,GAAUp1B,EAAS,GAC5B4T,EAAK0J,UAEH2X,GAASF,EAAM/0B,IACjB4T,EAAK5T,OAAS+0B,GAEZ3V,MAAQA,OAASrN,IAAQqN,gBAAgBiV,IAC3CqB,EAAK1R,GAAQ2P,GAAW+B,IAEnBA,EAAGjiB,MAAMogB,EAAajgB,EAC/B,CAEF,CAUA,SAASkiB,GAAe/hB,EAAQgiB,GAC9B,OAAO,SAAS3f,EAAQpC,GACtB,OAh/DJ,SAAsBoC,EAAQrC,EAAQC,EAAUC,GAI9C,OAHA+R,GAAW5P,GAAQ,SAASnT,EAAO4G,EAAKuM,GACtCrC,EAAOE,EAAaD,EAAS/Q,GAAQ4G,EAAKuM,EAC5C,IACOnC,CACT,CA2+DW+hB,CAAa5f,EAAQrC,EAAQgiB,EAAW/hB,GAAW,CAAC,EAC7D,CACF,CAUA,SAASiiB,GAAoBC,EAAU/yB,GACrC,OAAO,SAASF,EAAO4kB,GACrB,IAAIpT,EACJ,GAAIxR,IAAUwF,GAAaof,IAAUpf,EACnC,OAAOtF,EAKT,GAHIF,IAAUwF,IACZgM,EAASxR,GAEP4kB,IAAUpf,EAAW,CACvB,GAAIgM,IAAWhM,EACb,OAAOof,EAEW,iBAAT5kB,GAAqC,iBAAT4kB,GACrC5kB,EAAQitB,GAAajtB,GACrB4kB,EAAQqI,GAAarI,KAErB5kB,EAAQgtB,GAAahtB,GACrB4kB,EAAQoI,GAAapI,IAEvBpT,EAASyhB,EAASjzB,EAAO4kB,EAC3B,CACA,OAAOpT,CACT,CACF,CASA,SAAS0hB,GAAWC,GAClB,OAAOnC,IAAS,SAASlH,GAEvB,OADAA,EAAYjY,GAASiY,EAAWjW,GAAUmW,OACnCkB,IAAS,SAASva,GACvB,IAAID,EAAUyL,KACd,OAAOgX,EAAUrJ,GAAW,SAAS/Y,GACnC,OAAOP,GAAMO,EAAUL,EAASC,EAClC,GACF,GACF,GACF,CAWA,SAASyiB,GAAcr2B,EAAQs2B,GAG7B,IAAIC,GAFJD,EAAQA,IAAU7tB,EAAY,IAAMynB,GAAaoG,IAEzBt2B,OACxB,GAAIu2B,EAAc,EAChB,OAAOA,EAAcrI,GAAWoI,EAAOt2B,GAAUs2B,EAEnD,IAAI7hB,EAASyZ,GAAWoI,EAAOpa,GAAWlc,EAASwY,GAAW8d,KAC9D,OAAO3e,GAAW2e,GACdjF,GAAU1Y,GAAclE,GAAS,EAAGzU,GAAQyQ,KAAK,IACjDgE,EAAO3M,MAAM,EAAG9H,EACtB,CA4CA,SAASw2B,GAAY1gB,GACnB,OAAO,SAASsY,EAAOW,EAAK0H,GAa1B,OAZIA,GAAuB,iBAARA,GAAoBvD,GAAe9E,EAAOW,EAAK0H,KAChE1H,EAAM0H,EAAOhuB,GAGf2lB,EAAQsI,GAAStI,GACbW,IAAQtmB,GACVsmB,EAAMX,EACNA,EAAQ,GAERW,EAAM2H,GAAS3H,GA57CrB,SAAmBX,EAAOW,EAAK0H,EAAM3gB,GAKnC,IAJA,IAAI5B,GAAS,EACTlU,EAAS6c,GAAUX,IAAY6S,EAAMX,IAAUqI,GAAQ,IAAK,GAC5DhiB,EAASM,EAAM/U,GAEZA,KACLyU,EAAOqB,EAAY9V,IAAWkU,GAASka,EACvCA,GAASqI,EAEX,OAAOhiB,CACT,CAq7CWkiB,CAAUvI,EAAOW,EADxB0H,EAAOA,IAAShuB,EAAa2lB,EAAQW,EAAM,GAAK,EAAK2H,GAASD,GAC3B3gB,EACrC,CACF,CASA,SAAS8gB,GAA0BV,GACjC,OAAO,SAASjzB,EAAO4kB,GAKrB,MAJsB,iBAAT5kB,GAAqC,iBAAT4kB,IACvC5kB,EAAQ4zB,GAAS5zB,GACjB4kB,EAAQgP,GAAShP,IAEZqO,EAASjzB,EAAO4kB,EACzB,CACF,CAmBA,SAAS4N,GAAc/hB,EAAMmP,EAASiU,EAAU1e,EAAazE,EAASke,EAAUC,EAASgD,EAAQC,EAAKC,GACpG,IAAI+B,EArxKc,EAqxKJlU,EAMdA,GAAYkU,EAAU3sB,EAAoBC,EA5xKlB,GA6xKxBwY,KAAakU,EAAU1sB,EAA0BD,MAG/CyY,IAAW,GAEb,IAAImU,EAAU,CACZtjB,EAAMmP,EAASlP,EAVCojB,EAAUlF,EAAWppB,EAFtBsuB,EAAUjF,EAAUrpB,EAGdsuB,EAAUtuB,EAAYopB,EAFvBkF,EAAUtuB,EAAYqpB,EAYzBgD,EAAQC,EAAKC,GAG5BvgB,EAASqiB,EAASrjB,MAAMhL,EAAWuuB,GAKvC,OAJIvC,GAAW/gB,IACbujB,GAAQxiB,EAAQuiB,GAElBviB,EAAO2D,YAAcA,EACd8e,GAAgBziB,EAAQf,EAAMmP,EACvC,CASA,SAASsU,GAAY9D,GACnB,IAAI3f,EAAO+F,GAAK4Z,GAChB,OAAO,SAAS5Q,EAAQ2U,GAGtB,GAFA3U,EAASoU,GAASpU,IAClB2U,EAAyB,MAAbA,EAAoB,EAAIra,GAAUsa,GAAUD,GAAY,OACnD3a,GAAegG,GAAS,CAGvC,IAAI6U,GAAQrd,GAASwI,GAAU,KAAK3J,MAAM,KAI1C,SADAwe,GAAQrd,GAFIvG,EAAK4jB,EAAK,GAAK,MAAQA,EAAK,GAAKF,KAEnB,KAAKte,MAAM,MACvB,GAAK,MAAQwe,EAAK,GAAKF,GACvC,CACA,OAAO1jB,EAAK+O,EACd,CACF,CASA,IAAI2N,GAAc1S,IAAQ,EAAIrF,GAAW,IAAIqF,GAAI,CAAC,EAAE,KAAK,IAAOlT,EAAmB,SAASyK,GAC1F,OAAO,IAAIyI,GAAIzI,EACjB,EAF4EsiB,GAW5E,SAASC,GAAcnQ,GACrB,OAAO,SAASjR,GACd,IAAIzP,EAAM2c,GAAOlN,GACjB,OAAIzP,GAAOyE,EACFyM,GAAWzB,GAEhBzP,GAAO8E,EACF8M,GAAWnC,GAn6I1B,SAAqBA,EAAQlZ,GAC3B,OAAO4X,GAAS5X,GAAO,SAAS2M,GAC9B,MAAO,CAACA,EAAKuM,EAAOvM,GACtB,GACF,CAi6Ia4tB,CAAYrhB,EAAQiR,EAASjR,GACtC,CACF,CA2BA,SAASshB,GAAWhkB,EAAMmP,EAASlP,EAASke,EAAUC,EAASgD,EAAQC,EAAKC,GAC1E,IAAIG,EAl4KiB,EAk4KLtS,EAChB,IAAKsS,GAA4B,mBAARzhB,EACvB,MAAM,IAAIiG,GAAU3P,GAEtB,IAAIhK,EAAS6xB,EAAWA,EAAS7xB,OAAS,EAS1C,GARKA,IACH6iB,IAAW,GACXgP,EAAWC,EAAUrpB,GAEvBssB,EAAMA,IAAQtsB,EAAYssB,EAAMlY,GAAUwa,GAAUtC,GAAM,GAC1DC,EAAQA,IAAUvsB,EAAYusB,EAAQqC,GAAUrC,GAChDh1B,GAAU8xB,EAAUA,EAAQ9xB,OAAS,EAEjC6iB,EAAUxY,EAAyB,CACrC,IAAIuqB,EAAgB/C,EAChBgD,EAAe/C,EAEnBD,EAAWC,EAAUrpB,CACvB,CACA,IAAIgY,EAAO0U,EAAY1sB,EAAY+rB,GAAQ9gB,GAEvCsjB,EAAU,CACZtjB,EAAMmP,EAASlP,EAASke,EAAUC,EAAS8C,EAAeC,EAC1DC,EAAQC,EAAKC,GAkBf,GAfIvU,GA26BN,SAAmBA,EAAM1T,GACvB,IAAI8V,EAAUpC,EAAK,GACfkX,EAAa5qB,EAAO,GACpB6qB,EAAa/U,EAAU8U,EACvBtS,EAAWuS,EAAa,IAExBC,EACAF,GAAcrtB,GA50MA,GA40MmBuY,GACjC8U,GAAcrtB,GAAmBuY,GAAWtY,GAAqBkW,EAAK,GAAGzgB,QAAU+M,EAAO,IAC5E,KAAd4qB,GAAqD5qB,EAAO,GAAG/M,QAAU+M,EAAO,IA90MlE,GA80M0E8V,EAG5F,IAAMwC,IAAYwS,EAChB,OAAOpX,EAr1MQ,EAw1MbkX,IACFlX,EAAK,GAAK1T,EAAO,GAEjB6qB,GA31Me,EA21MD/U,EAA2B,EAz1MnB,GA41MxB,IAAI5f,EAAQ8J,EAAO,GACnB,GAAI9J,EAAO,CACT,IAAI4uB,EAAWpR,EAAK,GACpBA,EAAK,GAAKoR,EAAWD,GAAYC,EAAU5uB,EAAO8J,EAAO,IAAM9J,EAC/Dwd,EAAK,GAAKoR,EAAW1Z,GAAesI,EAAK,GAAIvW,GAAe6C,EAAO,EACrE,EAEA9J,EAAQ8J,EAAO,MAEb8kB,EAAWpR,EAAK,GAChBA,EAAK,GAAKoR,EAAWU,GAAiBV,EAAU5uB,EAAO8J,EAAO,IAAM9J,EACpEwd,EAAK,GAAKoR,EAAW1Z,GAAesI,EAAK,GAAIvW,GAAe6C,EAAO,KAGrE9J,EAAQ8J,EAAO,MAEb0T,EAAK,GAAKxd,GAGR00B,EAAartB,IACfmW,EAAK,GAAgB,MAAXA,EAAK,GAAa1T,EAAO,GAAKgQ,GAAU0D,EAAK,GAAI1T,EAAO,KAGrD,MAAX0T,EAAK,KACPA,EAAK,GAAK1T,EAAO,IAGnB0T,EAAK,GAAK1T,EAAO,GACjB0T,EAAK,GAAKmX,CAGZ,CA/9BIE,CAAUd,EAASvW,GAErB/M,EAAOsjB,EAAQ,GACfnU,EAAUmU,EAAQ,GAClBrjB,EAAUqjB,EAAQ,GAClBnF,EAAWmF,EAAQ,GACnBlF,EAAUkF,EAAQ,KAClBhC,EAAQgC,EAAQ,GAAKA,EAAQ,KAAOvuB,EAC/B0sB,EAAY,EAAIzhB,EAAK1T,OACtB6c,GAAUma,EAAQ,GAAKh3B,EAAQ,KAEX,GAAV6iB,IACZA,IAAW,IAERA,GA56KY,GA46KDA,EAGdpO,EA56KgB,GA26KPoO,GAA8BA,GAAW1Y,EApgBtD,SAAqBuJ,EAAMmP,EAASmS,GAClC,IAAIhR,EAAO2P,GAAWjgB,GAwBtB,OAtBA,SAAS2gB,IAMP,IALA,IAAIr0B,EAAS4zB,UAAU5zB,OACnB4T,EAAOmB,EAAM/U,GACbkU,EAAQlU,EACRoY,EAAcid,GAAUhB,GAErBngB,KACLN,EAAKM,GAAS0f,UAAU1f,GAE1B,IAAI4d,EAAW9xB,EAAS,GAAK4T,EAAK,KAAOwE,GAAexE,EAAK5T,EAAS,KAAOoY,EACzE,GACAD,GAAevE,EAAMwE,GAGzB,OADApY,GAAU8xB,EAAQ9xB,QACLg1B,EACJS,GACL/hB,EAAMmP,EAAS8R,GAAcN,EAAQjc,YAAa3P,EAClDmL,EAAMke,EAASrpB,EAAWA,EAAWusB,EAAQh1B,GAG1CyT,GADG2L,MAAQA,OAASrN,IAAQqN,gBAAgBiV,EAAWrQ,EAAOtQ,EACpD0L,KAAMxL,EACzB,CAEF,CA2eamkB,CAAYrkB,EAAMmP,EAASmS,GAC1BnS,GAAWzY,GAAgC,IAAXyY,GAAqDiP,EAAQ9xB,OAG9F20B,GAAalhB,MAAMhL,EAAWuuB,GA9O3C,SAAuBtjB,EAAMmP,EAASlP,EAASke,GAC7C,IAAIqD,EAtsKa,EAssKJrS,EACTmB,EAAO2P,GAAWjgB,GAkBtB,OAhBA,SAAS2gB,IAQP,IAPA,IAAIrC,GAAa,EACbC,EAAa2B,UAAU5zB,OACvBmyB,GAAa,EACbC,EAAaP,EAAS7xB,OACtB4T,EAAOmB,EAAMqd,EAAaH,GAC1ByD,EAAMtW,MAAQA,OAASrN,IAAQqN,gBAAgBiV,EAAWrQ,EAAOtQ,IAE5Dye,EAAYC,GACnBxe,EAAKue,GAAaN,EAASM,GAE7B,KAAOF,KACLre,EAAKue,KAAeyB,YAAY5B,GAElC,OAAOve,GAAMiiB,EAAIR,EAASvhB,EAAUyL,KAAMxL,EAC5C,CAEF,CAuNaokB,CAActkB,EAAMmP,EAASlP,EAASke,QAJ/C,IAAIpd,EAhmBR,SAAoBf,EAAMmP,EAASlP,GACjC,IAAIuhB,EA90Ja,EA80JJrS,EACTmB,EAAO2P,GAAWjgB,GAMtB,OAJA,SAAS2gB,IAEP,OADUjV,MAAQA,OAASrN,IAAQqN,gBAAgBiV,EAAWrQ,EAAOtQ,GAC3DD,MAAMyhB,EAASvhB,EAAUyL,KAAMwU,UAC3C,CAEF,CAulBiBqE,CAAWvkB,EAAMmP,EAASlP,GASzC,OAAOujB,IADMzW,EAAOiO,GAAcuI,IACJxiB,EAAQuiB,GAAUtjB,EAAMmP,EACxD,CAcA,SAASqV,GAAuBnW,EAAU+I,EAAUjhB,EAAKuM,GACvD,OAAI2L,IAAatZ,GACZmZ,GAAGG,EAAUjI,GAAYjQ,MAAUlK,GAAeC,KAAKwW,EAAQvM,GAC3DihB,EAEF/I,CACT,CAgBA,SAASoW,GAAoBpW,EAAU+I,EAAUjhB,EAAKuM,EAAQrJ,EAAQgW,GAOpE,OANI9D,GAAS8C,IAAa9C,GAAS6L,KAEjC/H,EAAMzK,IAAIwS,EAAU/I,GACpBoK,GAAUpK,EAAU+I,EAAUriB,EAAW0vB,GAAqBpV,GAC9DA,EAAc,OAAE+H,IAEX/I,CACT,CAWA,SAASqW,GAAgBn1B,GACvB,OAAOypB,GAAczpB,GAASwF,EAAYxF,CAC5C,CAeA,SAASomB,GAAYvV,EAAO+T,EAAOhF,EAASC,EAAY+F,EAAW9F,GACjE,IAAI0G,EApgLmB,EAogLP5G,EACZ8S,EAAY7hB,EAAM9T,OAClBkoB,EAAYL,EAAM7nB,OAEtB,GAAI21B,GAAazN,KAAeuB,GAAavB,EAAYyN,GACvD,OAAO,EAGT,IAAI0C,EAAatV,EAAMP,IAAI1O,GACvBqW,EAAapH,EAAMP,IAAIqF,GAC3B,GAAIwQ,GAAclO,EAChB,OAAOkO,GAAcxQ,GAASsC,GAAcrW,EAE9C,IAAII,GAAS,EACTO,GAAS,EACT8T,EAlhLqB,EAkhLb1F,EAAoC,IAAIxC,GAAW5X,EAM/D,IAJAsa,EAAMzK,IAAIxE,EAAO+T,GACjB9E,EAAMzK,IAAIuP,EAAO/T,KAGRI,EAAQyhB,GAAW,CAC1B,IAAI2C,EAAWxkB,EAAMI,GACjBmW,EAAWxC,EAAM3T,GAErB,GAAI4O,EACF,IAAIwH,EAAWb,EACX3G,EAAWuH,EAAUiO,EAAUpkB,EAAO2T,EAAO/T,EAAOiP,GACpDD,EAAWwV,EAAUjO,EAAUnW,EAAOJ,EAAO+T,EAAO9E,GAE1D,GAAIuH,IAAa7hB,EAAW,CAC1B,GAAI6hB,EACF,SAEF7V,GAAS,EACT,KACF,CAEA,GAAI8T,GACF,IAAKjT,GAAUuS,GAAO,SAASwC,EAAUlC,GACnC,IAAKnR,GAASuR,EAAMJ,KACfmQ,IAAajO,GAAYxB,EAAUyP,EAAUjO,EAAUxH,EAASC,EAAYC,IAC/E,OAAOwF,EAAKpH,KAAKgH,EAErB,IAAI,CACN1T,GAAS,EACT,KACF,OACK,GACD6jB,IAAajO,IACXxB,EAAUyP,EAAUjO,EAAUxH,EAASC,EAAYC,GACpD,CACLtO,GAAS,EACT,KACF,CACF,CAGA,OAFAsO,EAAc,OAAEjP,GAChBiP,EAAc,OAAE8E,GACTpT,CACT,CAyKA,SAASwf,GAASvgB,GAChB,OAAO2a,GAAYC,GAAS5a,EAAMjL,EAAW8vB,IAAU7kB,EAAO,GAChE,CASA,SAASqR,GAAW3O,GAClB,OAAOgR,GAAehR,EAAQiE,GAAMyJ,GACtC,CAUA,SAASgB,GAAa1O,GACpB,OAAOgR,GAAehR,EAAQwN,GAAQF,GACxC,CASA,IAAI8Q,GAAW3W,GAAiB,SAASnK,GACvC,OAAOmK,GAAQ2E,IAAI9O,EACrB,EAFyB6jB,GAWzB,SAASjD,GAAY5gB,GAKnB,IAJA,IAAIe,EAAUf,EAAK4V,KAAO,GACtBxV,EAAQgK,GAAUrJ,GAClBzU,EAASL,GAAeC,KAAKke,GAAWrJ,GAAUX,EAAM9T,OAAS,EAE9DA,KAAU,CACf,IAAIygB,EAAO3M,EAAM9T,GACbw4B,EAAY/X,EAAK/M,KACrB,GAAiB,MAAb8kB,GAAqBA,GAAa9kB,EACpC,OAAO+M,EAAK6I,IAEhB,CACA,OAAO7U,CACT,CASA,SAAS4gB,GAAU3hB,GAEjB,OADa/T,GAAeC,KAAK6e,GAAQ,eAAiBA,GAAS/K,GACrD0E,WAChB,CAaA,SAAS6U,KACP,IAAIxY,EAASgK,GAAOzK,UAAYA,GAEhC,OADAS,EAASA,IAAWT,GAAWiX,GAAexW,EACvCmf,UAAU5zB,OAASyU,EAAOmf,UAAU,GAAIA,UAAU,IAAMnf,CACjE,CAUA,SAASmR,GAAW9N,EAAKjO,GACvB,IAgYiB5G,EACbyG,EAjYA+W,EAAO3I,EAAIwI,SACf,OAiYgB,WADZ5W,SADazG,EA/XA4G,KAiYmB,UAARH,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVzG,EACU,OAAVA,GAlYDwd,EAAmB,iBAAP5W,EAAkB,SAAW,QACzC4W,EAAK3I,GACX,CASA,SAASgU,GAAa1V,GAIpB,IAHA,IAAI3B,EAAS4F,GAAKjE,GACdpW,EAASyU,EAAOzU,OAEbA,KAAU,CACf,IAAI6J,EAAM4K,EAAOzU,GACbiD,EAAQmT,EAAOvM,GAEnB4K,EAAOzU,GAAU,CAAC6J,EAAK5G,EAAOgpB,GAAmBhpB,GACnD,CACA,OAAOwR,CACT,CAUA,SAASkH,GAAUvF,EAAQvM,GACzB,IAAI5G,EAlxJR,SAAkBmT,EAAQvM,GACxB,OAAiB,MAAVuM,EAAiB3N,EAAY2N,EAAOvM,EAC7C,CAgxJgB4uB,CAASriB,EAAQvM,GAC7B,OAAOmhB,GAAa/nB,GAASA,EAAQwF,CACvC,CAoCA,IAAIqb,GAAcxH,GAA+B,SAASlG,GACxD,OAAc,MAAVA,EACK,IAETA,EAAS3W,GAAO2W,GACT7B,GAAY+H,GAAiBlG,IAAS,SAASsO,GACpD,OAAOzkB,GAAqBL,KAAKwW,EAAQsO,EAC3C,IACF,EARqCgU,GAiBjChV,GAAgBpH,GAA+B,SAASlG,GAE1D,IADA,IAAI3B,EAAS,GACN2B,GACLpB,GAAUP,EAAQqP,GAAW1N,IAC7BA,EAAS2E,GAAa3E,GAExB,OAAO3B,CACT,EAPuCikB,GAgBnCpV,GAASiE,GA2Eb,SAASoR,GAAQviB,EAAQ6Q,EAAM2R,GAO7B,IAJA,IAAI1kB,GAAS,EACTlU,GAHJinB,EAAOC,GAASD,EAAM7Q,IAGJpW,OACdyU,GAAS,IAEJP,EAAQlU,GAAQ,CACvB,IAAI6J,EAAMsd,GAAMF,EAAK/S,IACrB,KAAMO,EAAmB,MAAV2B,GAAkBwiB,EAAQxiB,EAAQvM,IAC/C,MAEFuM,EAASA,EAAOvM,EAClB,CACA,OAAI4K,KAAYP,GAASlU,EAChByU,KAETzU,EAAmB,MAAVoW,EAAiB,EAAIA,EAAOpW,SAClB64B,GAAS74B,IAAWkhB,GAAQrX,EAAK7J,KACjD2e,GAAQvI,IAAW0K,GAAY1K,GACpC,CA4BA,SAASqN,GAAgBrN,GACvB,MAAqC,mBAAtBA,EAAO+M,aAA8BoI,GAAYnV,GAE5D,CAAC,EADD2I,GAAWhE,GAAa3E,GAE9B,CA4EA,SAASsQ,GAAczjB,GACrB,OAAO0b,GAAQ1b,IAAU6d,GAAY7d,OAChCmY,IAAoBnY,GAASA,EAAMmY,IAC1C,CAUA,SAAS8F,GAAQje,EAAOjD,GACtB,IAAI0J,SAAczG,EAGlB,SAFAjD,EAAmB,MAAVA,EAAiByK,EAAmBzK,KAGlC,UAAR0J,GACU,UAARA,GAAoB6E,GAASqJ,KAAK3U,KAChCA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQjD,CACjD,CAYA,SAASkzB,GAAejwB,EAAOiR,EAAOkC,GACpC,IAAK6I,GAAS7I,GACZ,OAAO,EAET,IAAI1M,SAAcwK,EAClB,SAAY,UAARxK,EACKmiB,GAAYzV,IAAW8K,GAAQhN,EAAOkC,EAAOpW,QACrC,UAAR0J,GAAoBwK,KAASkC,IAE7BwL,GAAGxL,EAAOlC,GAAQjR,EAG7B,CAUA,SAAS+oB,GAAM/oB,EAAOmT,GACpB,GAAIuI,GAAQ1b,GACV,OAAO,EAET,IAAIyG,SAAczG,EAClB,QAAY,UAARyG,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATzG,IAAiBojB,GAASpjB,MAGvBoK,GAAcuK,KAAK3U,KAAWmK,GAAawK,KAAK3U,IAC1C,MAAVmT,GAAkBnT,KAASxD,GAAO2W,GACvC,CAwBA,SAASqe,GAAW/gB,GAClB,IAAI6gB,EAAWD,GAAY5gB,GACvBmU,EAAQpJ,GAAO8V,GAEnB,GAAoB,mBAAT1M,KAAyB0M,KAAY3V,GAAYlf,WAC1D,OAAO,EAET,GAAIgU,IAASmU,EACX,OAAO,EAET,IAAIpH,EAAO+T,GAAQ3M,GACnB,QAASpH,GAAQ/M,IAAS+M,EAAK,EACjC,EA9SKlD,IAAY+F,GAAO,IAAI/F,GAAS,IAAIub,YAAY,MAAQhtB,GACxD0R,IAAO8F,GAAO,IAAI9F,KAAQpS,GAC1BqS,IAAW6F,GAAO7F,GAAQsb,YAAcxtB,GACxCmS,IAAO4F,GAAO,IAAI5F,KAAQjS,GAC1BkS,IAAW2F,GAAO,IAAI3F,KAAY/R,KACrC0X,GAAS,SAASrgB,GAChB,IAAIwR,EAAS8S,GAAWtkB,GACpB+gB,EAAOvP,GAAUnJ,EAAYrI,EAAMkgB,YAAc1a,EACjDuwB,EAAahV,EAAOhG,GAASgG,GAAQ,GAEzC,GAAIgV,EACF,OAAQA,GACN,KAAKjb,GAAoB,OAAOjS,EAChC,KAAKmS,GAAe,OAAO7S,EAC3B,KAAK8S,GAAmB,OAAO3S,EAC/B,KAAK4S,GAAe,OAAO1S,EAC3B,KAAK2S,GAAmB,OAAOxS,EAGnC,OAAO6I,CACT,GA8SF,IAAIwkB,GAAalf,GAAagN,GAAamS,GAS3C,SAAS3N,GAAYtoB,GACnB,IAAI+gB,EAAO/gB,GAASA,EAAMkgB,YAG1B,OAAOlgB,KAFqB,mBAAR+gB,GAAsBA,EAAKtkB,WAAcoa,GAG/D,CAUA,SAASmS,GAAmBhpB,GAC1B,OAAOA,GAAUA,IAAUgc,GAAShc,EACtC,CAWA,SAAS8oB,GAAwBliB,EAAKihB,GACpC,OAAO,SAAS1U,GACd,OAAc,MAAVA,IAGGA,EAAOvM,KAASihB,IACpBA,IAAariB,GAAcoB,KAAOpK,GAAO2W,IAC9C,CACF,CAoIA,SAASkY,GAAS5a,EAAM0a,EAAOnW,GAE7B,OADAmW,EAAQvR,GAAUuR,IAAU3lB,EAAaiL,EAAK1T,OAAS,EAAKouB,EAAO,GAC5D,WAML,IALA,IAAIxa,EAAOggB,UACP1f,GAAS,EACTlU,EAAS6c,GAAUjJ,EAAK5T,OAASouB,EAAO,GACxCta,EAAQiB,EAAM/U,KAETkU,EAAQlU,GACf8T,EAAMI,GAASN,EAAKwa,EAAQla,GAE9BA,GAAS,EAET,IADA,IAAIilB,EAAYpkB,EAAMqZ,EAAQ,KACrBla,EAAQka,GACf+K,EAAUjlB,GAASN,EAAKM,GAG1B,OADAilB,EAAU/K,GAASnW,EAAUnE,GACtBL,GAAMC,EAAM0L,KAAM+Z,EAC3B,CACF,CAUA,SAAS1Q,GAAOrS,EAAQ6Q,GACtB,OAAOA,EAAKjnB,OAAS,EAAIoW,EAAS4Q,GAAQ5Q,EAAQ0Y,GAAU7H,EAAM,GAAI,GACxE,CAgCA,SAASqF,GAAQlW,EAAQvM,GACvB,IAAY,gBAARA,GAAgD,mBAAhBuM,EAAOvM,KAIhC,aAAPA,EAIJ,OAAOuM,EAAOvM,EAChB,CAgBA,IAAIotB,GAAUmC,GAAS1K,IAUnBzS,GAAaD,IAAiB,SAAStI,EAAMwR,GAC/C,OAAOnT,GAAKkK,WAAWvI,EAAMwR,EAC/B,EAUImJ,GAAc+K,GAASzK,IAY3B,SAASuI,GAAgB7C,EAASgF,EAAWxW,GAC3C,IAAI9V,EAAUssB,EAAY,GAC1B,OAAOhL,GAAYgG,EA1brB,SAA2BtnB,EAAQusB,GACjC,IAAIt5B,EAASs5B,EAAQt5B,OACrB,IAAKA,EACH,OAAO+M,EAET,IAAI0L,EAAYzY,EAAS,EAGzB,OAFAs5B,EAAQ7gB,IAAczY,EAAS,EAAI,KAAO,IAAMs5B,EAAQ7gB,GACxD6gB,EAAUA,EAAQ7oB,KAAKzQ,EAAS,EAAI,KAAO,KACpC+M,EAAO8J,QAAQlJ,GAAe,uBAAyB2rB,EAAU,SAC1E,CAib8BC,CAAkBxsB,EAqHhD,SAA2BusB,EAASzW,GAOlC,OANA1O,GAAUvJ,GAAW,SAAS0sB,GAC5B,IAAIr0B,EAAQ,KAAOq0B,EAAK,GACnBzU,EAAUyU,EAAK,KAAQ5iB,GAAc4kB,EAASr2B,IACjDq2B,EAAQnY,KAAKle,EAEjB,IACOq2B,EAAQlM,MACjB,CA7HwDoM,CAtjBxD,SAAwBzsB,GACtB,IAAI6L,EAAQ7L,EAAO6L,MAAMhL,IACzB,OAAOgL,EAAQA,EAAM,GAAGE,MAAMjL,IAAkB,EAClD,CAmjB0E4rB,CAAe1sB,GAAS8V,IAClG,CAWA,SAASuW,GAAS1lB,GAChB,IAAIgmB,EAAQ,EACRC,EAAa,EAEjB,OAAO,WACL,IAAIC,EAAQ3c,KACR4c,EApiNK,IAoiNmBD,EAAQD,GAGpC,GADAA,EAAaC,EACTC,EAAY,GACd,KAAMH,GAziNE,IA0iNN,OAAO9F,UAAU,QAGnB8F,EAAQ,EAEV,OAAOhmB,EAAKD,MAAMhL,EAAWmrB,UAC/B,CACF,CAUA,SAASrS,GAAYzN,EAAOnS,GAC1B,IAAIuS,GAAS,EACTlU,EAAS8T,EAAM9T,OACfyY,EAAYzY,EAAS,EAGzB,IADA2B,EAAOA,IAAS8G,EAAYzI,EAAS2B,IAC5BuS,EAAQvS,GAAM,CACrB,IAAIm4B,EAAOzY,GAAWnN,EAAOuE,GACzBxV,EAAQ6Q,EAAMgmB,GAElBhmB,EAAMgmB,GAAQhmB,EAAMI,GACpBJ,EAAMI,GAASjR,CACjB,CAEA,OADA6Q,EAAM9T,OAAS2B,EACRmS,CACT,CASA,IAAIqd,GAvTJ,SAAuBzd,GACrB,IAAIe,EAASslB,GAAQrmB,GAAM,SAAS7J,GAIlC,OAh0MiB,MA6zMboN,EAAMtV,MACRsV,EAAMgJ,QAEDpW,CACT,IAEIoN,EAAQxC,EAAOwC,MACnB,OAAOxC,CACT,CA6SmBulB,EAAc,SAASrjB,GACxC,IAAIlC,EAAS,GAOb,OAN6B,KAAzBkC,EAAOsjB,WAAW,IACpBxlB,EAAO0M,KAAK,IAEdxK,EAAOE,QAAQvJ,IAAY,SAASsL,EAAO6J,EAAQyX,EAAOC,GACxD1lB,EAAO0M,KAAK+Y,EAAQC,EAAUtjB,QAAQ7I,GAAc,MAASyU,GAAU7J,EACzE,IACOnE,CACT,IASA,SAAS0S,GAAMlkB,GACb,GAAoB,iBAATA,GAAqBojB,GAASpjB,GACvC,OAAOA,EAET,IAAIwR,EAAUxR,EAAQ,GACtB,MAAkB,KAAVwR,GAAkB,EAAIxR,IAAU,IAAa,KAAOwR,CAC9D,CASA,SAASuJ,GAAStK,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOsG,GAAapa,KAAK8T,EAC3B,CAAE,MAAOpU,GAAI,CACb,IACE,OAAQoU,EAAO,EACjB,CAAE,MAAOpU,GAAI,CACf,CACA,MAAO,EACT,CA2BA,SAASwf,GAAauV,GACpB,GAAIA,aAAmBzV,GACrB,OAAOyV,EAAQ+F,QAEjB,IAAI3lB,EAAS,IAAIoK,GAAcwV,EAAQhV,YAAagV,EAAQ9U,WAI5D,OAHA9K,EAAO6K,YAAckC,GAAU6S,EAAQ/U,aACvC7K,EAAO+K,UAAa6U,EAAQ7U,UAC5B/K,EAAOgL,WAAa4U,EAAQ5U,WACrBhL,CACT,CAqIA,IAAI4lB,GAAalM,IAAS,SAASra,EAAOmB,GACxC,OAAOwX,GAAkB3Y,GACrBqR,GAAerR,EAAOyS,GAAYtR,EAAQ,EAAGwX,IAAmB,IAChE,EACN,IA4BI6N,GAAenM,IAAS,SAASra,EAAOmB,GAC1C,IAAIjB,EAAW0U,GAAKzT,GAIpB,OAHIwX,GAAkBzY,KACpBA,EAAWvL,GAENgkB,GAAkB3Y,GACrBqR,GAAerR,EAAOyS,GAAYtR,EAAQ,EAAGwX,IAAmB,GAAOQ,GAAYjZ,EAAU,IAC7F,EACN,IAyBIumB,GAAiBpM,IAAS,SAASra,EAAOmB,GAC5C,IAAIJ,EAAa6T,GAAKzT,GAItB,OAHIwX,GAAkB5X,KACpBA,EAAapM,GAERgkB,GAAkB3Y,GACrBqR,GAAerR,EAAOyS,GAAYtR,EAAQ,EAAGwX,IAAmB,GAAOhkB,EAAWoM,GAClF,EACN,IAqOA,SAAS2lB,GAAU1mB,EAAOQ,EAAWuB,GACnC,IAAI7V,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAIkU,EAAqB,MAAb2B,EAAoB,EAAIwhB,GAAUxhB,GAI9C,OAHI3B,EAAQ,IACVA,EAAQ2I,GAAU7c,EAASkU,EAAO,IAE7B0B,GAAc9B,EAAOmZ,GAAY3Y,EAAW,GAAIJ,EACzD,CAqCA,SAASumB,GAAc3mB,EAAOQ,EAAWuB,GACvC,IAAI7V,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAIkU,EAAQlU,EAAS,EAOrB,OANI6V,IAAcpN,IAChByL,EAAQmjB,GAAUxhB,GAClB3B,EAAQ2B,EAAY,EAChBgH,GAAU7c,EAASkU,EAAO,GAC1B6I,GAAU7I,EAAOlU,EAAS,IAEzB4V,GAAc9B,EAAOmZ,GAAY3Y,EAAW,GAAIJ,GAAO,EAChE,CAgBA,SAASqkB,GAAQzkB,GAEf,OADsB,MAATA,EAAgB,EAAIA,EAAM9T,QACvBumB,GAAYzS,EAAO,GAAK,EAC1C,CA+FA,SAAS4mB,GAAK5mB,GACZ,OAAQA,GAASA,EAAM9T,OAAU8T,EAAM,GAAKrL,CAC9C,CAyEA,IAAIkyB,GAAexM,IAAS,SAASlG,GACnC,IAAI2S,EAAS9lB,GAASmT,EAAQgJ,IAC9B,OAAQ2J,EAAO56B,QAAU46B,EAAO,KAAO3S,EAAO,GAC1CD,GAAiB4S,GACjB,EACN,IAyBIC,GAAiB1M,IAAS,SAASlG,GACrC,IAAIjU,EAAW0U,GAAKT,GAChB2S,EAAS9lB,GAASmT,EAAQgJ,IAO9B,OALIjd,IAAa0U,GAAKkS,GACpB5mB,EAAWvL,EAEXmyB,EAAOjV,MAEDiV,EAAO56B,QAAU46B,EAAO,KAAO3S,EAAO,GAC1CD,GAAiB4S,EAAQ3N,GAAYjZ,EAAU,IAC/C,EACN,IAuBI8mB,GAAmB3M,IAAS,SAASlG,GACvC,IAAIpT,EAAa6T,GAAKT,GAClB2S,EAAS9lB,GAASmT,EAAQgJ,IAM9B,OAJApc,EAAkC,mBAAdA,EAA2BA,EAAapM,IAE1DmyB,EAAOjV,MAEDiV,EAAO56B,QAAU46B,EAAO,KAAO3S,EAAO,GAC1CD,GAAiB4S,EAAQnyB,EAAWoM,GACpC,EACN,IAmCA,SAAS6T,GAAK5U,GACZ,IAAI9T,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAOA,EAAS8T,EAAM9T,EAAS,GAAKyI,CACtC,CAsFA,IAAIsyB,GAAO5M,GAAS6M,IAsBpB,SAASA,GAAQlnB,EAAOmB,GACtB,OAAQnB,GAASA,EAAM9T,QAAUiV,GAAUA,EAAOjV,OAC9C6tB,GAAY/Z,EAAOmB,GACnBnB,CACN,CAoFA,IAAImnB,GAAShH,IAAS,SAASngB,EAAOia,GACpC,IAAI/tB,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACnCyU,EAAS4N,GAAOvO,EAAOia,GAM3B,OAJAD,GAAWha,EAAOgB,GAASiZ,GAAS,SAAS7Z,GAC3C,OAAOgN,GAAQhN,EAAOlU,IAAWkU,EAAQA,CAC3C,IAAGkZ,KAAKK,KAEDhZ,CACT,IA0EA,SAAS6I,GAAQxJ,GACf,OAAgB,MAATA,EAAgBA,EAAQuJ,GAAczd,KAAKkU,EACpD,CAiaA,IAAIonB,GAAQ/M,IAAS,SAASlG,GAC5B,OAAOkI,GAAS5J,GAAY0B,EAAQ,EAAGwE,IAAmB,GAC5D,IAyBI0O,GAAUhN,IAAS,SAASlG,GAC9B,IAAIjU,EAAW0U,GAAKT,GAIpB,OAHIwE,GAAkBzY,KACpBA,EAAWvL,GAEN0nB,GAAS5J,GAAY0B,EAAQ,EAAGwE,IAAmB,GAAOQ,GAAYjZ,EAAU,GACzF,IAuBIonB,GAAYjN,IAAS,SAASlG,GAChC,IAAIpT,EAAa6T,GAAKT,GAEtB,OADApT,EAAkC,mBAAdA,EAA2BA,EAAapM,EACrD0nB,GAAS5J,GAAY0B,EAAQ,EAAGwE,IAAmB,GAAOhkB,EAAWoM,EAC9E,IA+FA,SAASwmB,GAAMvnB,GACb,IAAMA,IAASA,EAAM9T,OACnB,MAAO,GAET,IAAIA,EAAS,EAOb,OANA8T,EAAQS,GAAYT,GAAO,SAASwnB,GAClC,GAAI7O,GAAkB6O,GAEpB,OADAt7B,EAAS6c,GAAUye,EAAMt7B,OAAQA,IAC1B,CAEX,IACOwW,GAAUxW,GAAQ,SAASkU,GAChC,OAAOY,GAAShB,EAAO0B,GAAatB,GACtC,GACF,CAuBA,SAASqnB,GAAUznB,EAAOE,GACxB,IAAMF,IAASA,EAAM9T,OACnB,MAAO,GAET,IAAIyU,EAAS4mB,GAAMvnB,GACnB,OAAgB,MAAZE,EACKS,EAEFK,GAASL,GAAQ,SAAS6mB,GAC/B,OAAO7nB,GAAMO,EAAUvL,EAAW6yB,EACpC,GACF,CAsBA,IAAIE,GAAUrN,IAAS,SAASra,EAAOmB,GACrC,OAAOwX,GAAkB3Y,GACrBqR,GAAerR,EAAOmB,GACtB,EACN,IAoBIwmB,GAAMtN,IAAS,SAASlG,GAC1B,OAAO4I,GAAQtc,GAAY0T,EAAQwE,IACrC,IAyBIiP,GAAQvN,IAAS,SAASlG,GAC5B,IAAIjU,EAAW0U,GAAKT,GAIpB,OAHIwE,GAAkBzY,KACpBA,EAAWvL,GAENooB,GAAQtc,GAAY0T,EAAQwE,IAAoBQ,GAAYjZ,EAAU,GAC/E,IAuBI2nB,GAAUxN,IAAS,SAASlG,GAC9B,IAAIpT,EAAa6T,GAAKT,GAEtB,OADApT,EAAkC,mBAAdA,EAA2BA,EAAapM,EACrDooB,GAAQtc,GAAY0T,EAAQwE,IAAoBhkB,EAAWoM,EACpE,IAkBI+mB,GAAMzN,GAASkN,IA6DnB,IAAIQ,GAAU1N,IAAS,SAASlG,GAC9B,IAAIjoB,EAASioB,EAAOjoB,OAChBgU,EAAWhU,EAAS,EAAIioB,EAAOjoB,EAAS,GAAKyI,EAGjD,OADAuL,EAA8B,mBAAZA,GAA0BiU,EAAOtC,MAAO3R,GAAYvL,EAC/D8yB,GAAUtT,EAAQjU,EAC3B,IAiCA,SAAS8nB,GAAM74B,GACb,IAAIwR,EAASgK,GAAOxb,GAEpB,OADAwR,EAAO8K,WAAY,EACZ9K,CACT,CAqDA,SAAS2f,GAAKnxB,EAAO84B,GACnB,OAAOA,EAAY94B,EACrB,CAkBA,IAAI+4B,GAAY/H,IAAS,SAAS3R,GAChC,IAAItiB,EAASsiB,EAAMtiB,OACfouB,EAAQpuB,EAASsiB,EAAM,GAAK,EAC5Brf,EAAQmc,KAAKC,YACb0c,EAAc,SAAS3lB,GAAU,OAAOiM,GAAOjM,EAAQkM,EAAQ,EAEnE,QAAItiB,EAAS,GAAKof,KAAKE,YAAYtf,SAC7BiD,aAAiB2b,IAAiBsC,GAAQkN,KAGhDnrB,EAAQA,EAAM6E,MAAMsmB,GAAQA,GAASpuB,EAAS,EAAI,KAC5Csf,YAAY6B,KAAK,CACrB,KAAQiT,GACR,KAAQ,CAAC2H,GACT,QAAWtzB,IAEN,IAAIoW,GAAc5b,EAAOmc,KAAKG,WAAW6U,MAAK,SAAStgB,GAI5D,OAHI9T,IAAW8T,EAAM9T,QACnB8T,EAAMqN,KAAK1Y,GAENqL,CACT,KAbSsL,KAAKgV,KAAK2H,EAcrB,IAiPA,IAAIE,GAAUrJ,IAAiB,SAASne,EAAQxR,EAAO4G,GACjDlK,GAAeC,KAAK6U,EAAQ5K,KAC5B4K,EAAO5K,GAETgY,GAAgBpN,EAAQ5K,EAAK,EAEjC,IAqIA,IAAIqyB,GAAOpI,GAAW0G,IAqBlB2B,GAAWrI,GAAW2G,IA2G1B,SAAS1iB,GAAQrC,EAAY1B,GAE3B,OADW2K,GAAQjJ,GAAcvB,GAAY+N,IACjCxM,EAAYuX,GAAYjZ,EAAU,GAChD,CAsBA,SAASooB,GAAa1mB,EAAY1B,GAEhC,OADW2K,GAAQjJ,GAActB,GAAiB6R,IACtCvQ,EAAYuX,GAAYjZ,EAAU,GAChD,CAyBA,IAAIqoB,GAAUzJ,IAAiB,SAASne,EAAQxR,EAAO4G,GACjDlK,GAAeC,KAAK6U,EAAQ5K,GAC9B4K,EAAO5K,GAAKsX,KAAKle,GAEjB4e,GAAgBpN,EAAQ5K,EAAK,CAAC5G,GAElC,IAoEA,IAAIq5B,GAAYnO,IAAS,SAASzY,EAAYuR,EAAMrT,GAClD,IAAIM,GAAS,EACTqP,EAAwB,mBAAR0D,EAChBxS,EAASoX,GAAYnW,GAAcX,EAAMW,EAAW1V,QAAU,GAKlE,OAHAkiB,GAASxM,GAAY,SAASzS,GAC5BwR,IAASP,GAASqP,EAAS9P,GAAMwT,EAAMhkB,EAAO2Q,GAAQ4U,GAAWvlB,EAAOgkB,EAAMrT,EAChF,IACOa,CACT,IA8BI8nB,GAAQ3J,IAAiB,SAASne,EAAQxR,EAAO4G,GACnDgY,GAAgBpN,EAAQ5K,EAAK5G,EAC/B,IA4CA,SAAS6U,GAAIpC,EAAY1B,GAEvB,OADW2K,GAAQjJ,GAAcZ,GAAW8W,IAChClW,EAAYuX,GAAYjZ,EAAU,GAChD,CAiFA,IAAIwoB,GAAY5J,IAAiB,SAASne,EAAQxR,EAAO4G,GACvD4K,EAAO5K,EAAM,EAAI,GAAGsX,KAAKle,EAC3B,IAAG,WAAa,MAAO,CAAC,GAAI,GAAK,IAmSjC,IAAIw5B,GAAStO,IAAS,SAASzY,EAAYqX,GACzC,GAAkB,MAAdrX,EACF,MAAO,GAET,IAAI1V,EAAS+sB,EAAU/sB,OAMvB,OALIA,EAAS,GAAKkzB,GAAexd,EAAYqX,EAAU,GAAIA,EAAU,IACnEA,EAAY,GACH/sB,EAAS,GAAKkzB,GAAenG,EAAU,GAAIA,EAAU,GAAIA,EAAU,MAC5EA,EAAY,CAACA,EAAU,KAElBD,GAAYpX,EAAY6Q,GAAYwG,EAAW,GAAI,GAC5D,IAoBIhR,GAAMD,IAAU,WAClB,OAAO/J,GAAKwH,KAAKwC,KACnB,EAyDA,SAASgZ,GAAIrhB,EAAM+C,EAAGwc,GAGpB,OAFAxc,EAAIwc,EAAQxqB,EAAYgO,EACxBA,EAAK/C,GAAa,MAAL+C,EAAa/C,EAAK1T,OAASyW,EACjCihB,GAAWhkB,EAAMpJ,EAAe7B,EAAWA,EAAWA,EAAWA,EAAWgO,EACrF,CAmBA,SAASimB,GAAOjmB,EAAG/C,GACjB,IAAIe,EACJ,GAAmB,mBAARf,EACT,MAAM,IAAIiG,GAAU3P,GAGtB,OADAyM,EAAI4gB,GAAU5gB,GACP,WAOL,QANMA,EAAI,IACRhC,EAASf,EAAKD,MAAM2L,KAAMwU,YAExBnd,GAAK,IACP/C,EAAOjL,GAEFgM,CACT,CACF,CAqCA,IAAIkoB,GAAOxO,IAAS,SAASza,EAAMC,EAASke,GAC1C,IAAIhP,EAv4Ta,EAw4TjB,GAAIgP,EAAS7xB,OAAQ,CACnB,IAAI8xB,EAAU3Z,GAAe0Z,EAAUwD,GAAUsH,KACjD9Z,GAAWzY,CACb,CACA,OAAOstB,GAAWhkB,EAAMmP,EAASlP,EAASke,EAAUC,EACtD,IA+CI8K,GAAUzO,IAAS,SAAS/X,EAAQvM,EAAKgoB,GAC3C,IAAIhP,EAAUga,EACd,GAAIhL,EAAS7xB,OAAQ,CACnB,IAAI8xB,EAAU3Z,GAAe0Z,EAAUwD,GAAUuH,KACjD/Z,GAAWzY,CACb,CACA,OAAOstB,GAAW7tB,EAAKgZ,EAASzM,EAAQyb,EAAUC,EACpD,IAqJA,SAASgL,GAASppB,EAAMwR,EAAM6X,GAC5B,IAAIC,EACAC,EACAC,EACAzoB,EACA0oB,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTjK,GAAW,EAEf,GAAmB,mBAAR5f,EACT,MAAM,IAAIiG,GAAU3P,GAUtB,SAASwzB,EAAWC,GAClB,IAAI7pB,EAAOopB,EACPrpB,EAAUspB,EAKd,OAHAD,EAAWC,EAAWx0B,EACtB40B,EAAiBI,EACjBhpB,EAASf,EAAKD,MAAME,EAASC,EAE/B,CAqBA,SAAS8pB,EAAaD,GACpB,IAAIE,EAAoBF,EAAOL,EAM/B,OAAQA,IAAiB30B,GAAck1B,GAAqBzY,GACzDyY,EAAoB,GAAOJ,GANJE,EAAOJ,GAM8BH,CACjE,CAEA,SAASU,IACP,IAAIH,EAAO1hB,KACX,GAAI2hB,EAAaD,GACf,OAAOI,EAAaJ,GAGtBN,EAAUlhB,GAAW2hB,EA3BvB,SAAuBH,GACrB,IAEIK,EAAc5Y,GAFMuY,EAAOL,GAI/B,OAAOG,EACHxgB,GAAU+gB,EAAaZ,GAJDO,EAAOJ,IAK7BS,CACN,CAmBqCC,CAAcN,GACnD,CAEA,SAASI,EAAaJ,GAKpB,OAJAN,EAAU10B,EAIN6qB,GAAY0J,EACPQ,EAAWC,IAEpBT,EAAWC,EAAWx0B,EACfgM,EACT,CAcA,SAASupB,IACP,IAAIP,EAAO1hB,KACPkiB,EAAaP,EAAaD,GAM9B,GAJAT,EAAWpJ,UACXqJ,EAAW7d,KACXge,EAAeK,EAEXQ,EAAY,CACd,GAAId,IAAY10B,EACd,OAzEN,SAAqBg1B,GAMnB,OAJAJ,EAAiBI,EAEjBN,EAAUlhB,GAAW2hB,EAAc1Y,GAE5BoY,EAAUE,EAAWC,GAAQhpB,CACtC,CAkEaypB,CAAYd,GAErB,GAAIG,EAIF,OAFA1hB,GAAashB,GACbA,EAAUlhB,GAAW2hB,EAAc1Y,GAC5BsY,EAAWJ,EAEtB,CAIA,OAHID,IAAY10B,IACd00B,EAAUlhB,GAAW2hB,EAAc1Y,IAE9BzQ,CACT,CAGA,OA3GAyQ,EAAO2R,GAAS3R,IAAS,EACrBjG,GAAS8d,KACXO,IAAYP,EAAQO,QAEpBJ,GADAK,EAAS,YAAaR,GACHlgB,GAAUga,GAASkG,EAAQG,UAAY,EAAGhY,GAAQgY,EACrE5J,EAAW,aAAcyJ,IAAYA,EAAQzJ,SAAWA,GAoG1D0K,EAAUG,OApCV,WACMhB,IAAY10B,GACdoT,GAAashB,GAEfE,EAAiB,EACjBL,EAAWI,EAAeH,EAAWE,EAAU10B,CACjD,EA+BAu1B,EAAUI,MA7BV,WACE,OAAOjB,IAAY10B,EAAYgM,EAASopB,EAAa9hB,KACvD,EA4BOiiB,CACT,CAoBA,IAAIK,GAAQlQ,IAAS,SAASza,EAAME,GAClC,OAAOqR,GAAUvR,EAAM,EAAGE,EAC5B,IAqBI0qB,GAAQnQ,IAAS,SAASza,EAAMwR,EAAMtR,GACxC,OAAOqR,GAAUvR,EAAMmjB,GAAS3R,IAAS,EAAGtR,EAC9C,IAoEA,SAASmmB,GAAQrmB,EAAM6qB,GACrB,GAAmB,mBAAR7qB,GAAmC,MAAZ6qB,GAAuC,mBAAZA,EAC3D,MAAM,IAAI5kB,GAAU3P,GAEtB,IAAIw0B,EAAW,WACb,IAAI5qB,EAAOggB,UACP/pB,EAAM00B,EAAWA,EAAS9qB,MAAM2L,KAAMxL,GAAQA,EAAK,GACnDqD,EAAQunB,EAASvnB,MAErB,GAAIA,EAAMC,IAAIrN,GACZ,OAAOoN,EAAMuL,IAAI3Y,GAEnB,IAAI4K,EAASf,EAAKD,MAAM2L,KAAMxL,GAE9B,OADA4qB,EAASvnB,MAAQA,EAAMqB,IAAIzO,EAAK4K,IAAWwC,EACpCxC,CACT,EAEA,OADA+pB,EAASvnB,MAAQ,IAAK8iB,GAAQ0E,OAASre,IAChCoe,CACT,CAyBA,SAASE,GAAOpqB,GACd,GAAwB,mBAAbA,EACT,MAAM,IAAIqF,GAAU3P,GAEtB,OAAO,WACL,IAAI4J,EAAOggB,UACX,OAAQhgB,EAAK5T,QACX,KAAK,EAAG,OAAQsU,EAAU1U,KAAKwf,MAC/B,KAAK,EAAG,OAAQ9K,EAAU1U,KAAKwf,KAAMxL,EAAK,IAC1C,KAAK,EAAG,OAAQU,EAAU1U,KAAKwf,KAAMxL,EAAK,GAAIA,EAAK,IACnD,KAAK,EAAG,OAAQU,EAAU1U,KAAKwf,KAAMxL,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE9D,OAAQU,EAAUb,MAAM2L,KAAMxL,EAChC,CACF,CApCAmmB,GAAQ0E,MAAQre,GA2FhB,IAAIue,GAAWvN,IAAS,SAAS1d,EAAMkrB,GAKrC,IAAIC,GAJJD,EAAmC,GAArBA,EAAW5+B,QAAe2e,GAAQigB,EAAW,IACvD9pB,GAAS8pB,EAAW,GAAI9nB,GAAUmW,OAClCnY,GAASyR,GAAYqY,EAAY,GAAI9nB,GAAUmW,QAEtBjtB,OAC7B,OAAOmuB,IAAS,SAASva,GAIvB,IAHA,IAAIM,GAAS,EACTlU,EAAS+c,GAAUnJ,EAAK5T,OAAQ6+B,KAE3B3qB,EAAQlU,GACf4T,EAAKM,GAAS0qB,EAAW1qB,GAAOtU,KAAKwf,KAAMxL,EAAKM,IAElD,OAAOT,GAAMC,EAAM0L,KAAMxL,EAC3B,GACF,IAmCIkrB,GAAU3Q,IAAS,SAASza,EAAMme,GACpC,IAAIC,EAAU3Z,GAAe0Z,EAAUwD,GAAUyJ,KACjD,OAAOpH,GAAWhkB,EAAMtJ,EAAmB3B,EAAWopB,EAAUC,EAClE,IAkCIiN,GAAe5Q,IAAS,SAASza,EAAMme,GACzC,IAAIC,EAAU3Z,GAAe0Z,EAAUwD,GAAU0J,KACjD,OAAOrH,GAAWhkB,EAAMrJ,EAAyB5B,EAAWopB,EAAUC,EACxE,IAwBIkN,GAAQ/K,IAAS,SAASvgB,EAAMqa,GAClC,OAAO2J,GAAWhkB,EAAMnJ,EAAiB9B,EAAWA,EAAWA,EAAWslB,EAC5E,IAgaA,SAASnM,GAAG3e,EAAO4kB,GACjB,OAAO5kB,IAAU4kB,GAAU5kB,GAAUA,GAAS4kB,GAAUA,CAC1D,CAyBA,IAAIoX,GAAKrI,GAA0BhP,IAyB/BsX,GAAMtI,IAA0B,SAAS3zB,EAAO4kB,GAClD,OAAO5kB,GAAS4kB,CAClB,IAoBI/G,GAAc6H,GAAgB,WAAa,OAAOiL,SAAW,CAA/B,IAAsCjL,GAAkB,SAAS1lB,GACjG,OAAOyb,GAAazb,IAAUtD,GAAeC,KAAKqD,EAAO,YACtDhD,GAAqBL,KAAKqD,EAAO,SACtC,EAyBI0b,GAAU5J,EAAM4J,QAmBhB7L,GAAgBD,GAAoBiE,GAAUjE,IA75PlD,SAA2B5P,GACzB,OAAOyb,GAAazb,IAAUskB,GAAWtkB,IAAU4I,CACrD,EAs7PA,SAASggB,GAAY5oB,GACnB,OAAgB,MAATA,GAAiB41B,GAAS51B,EAAMjD,UAAY+mB,GAAW9jB,EAChE,CA2BA,SAASwpB,GAAkBxpB,GACzB,OAAOyb,GAAazb,IAAU4oB,GAAY5oB,EAC5C,CAyCA,IAAIuZ,GAAWD,IAAkB2c,GAmB7BlmB,GAASD,GAAa+D,GAAU/D,IAxgQpC,SAAoB9P,GAClB,OAAOyb,GAAazb,IAAUskB,GAAWtkB,IAAU+H,CACrD,EA8qQA,SAASm0B,GAAQl8B,GACf,IAAKyb,GAAazb,GAChB,OAAO,EAET,IAAI0D,EAAM4gB,GAAWtkB,GACrB,OAAO0D,GAAOsE,GA9yWF,yBA8yWctE,GACC,iBAAjB1D,EAAMsmB,SAA4C,iBAAdtmB,EAAMqmB,OAAqBoD,GAAczpB,EACzF,CAiDA,SAAS8jB,GAAW9jB,GAClB,IAAKgc,GAAShc,GACZ,OAAO,EAIT,IAAI0D,EAAM4gB,GAAWtkB,GACrB,OAAO0D,GAAOuE,GAAWvE,GAAOwE,GA32WrB,0BA22W+BxE,GA/1W/B,kBA+1WkDA,CAC/D,CA4BA,SAASy4B,GAAUn8B,GACjB,MAAuB,iBAATA,GAAqBA,GAASo0B,GAAUp0B,EACxD,CA4BA,SAAS41B,GAAS51B,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAASwH,CAC7C,CA2BA,SAASwU,GAAShc,GAChB,IAAIyG,SAAczG,EAClB,OAAgB,MAATA,IAA0B,UAARyG,GAA4B,YAARA,EAC/C,CA0BA,SAASgV,GAAazb,GACpB,OAAgB,MAATA,GAAiC,iBAATA,CACjC,CAmBA,IAAIiQ,GAAQD,GAAY6D,GAAU7D,IA5xQlC,SAAmBhQ,GACjB,OAAOyb,GAAazb,IAAUqgB,GAAOrgB,IAAUmI,CACjD,EA4+QA,SAASi0B,GAASp8B,GAChB,MAAuB,iBAATA,GACXyb,GAAazb,IAAUskB,GAAWtkB,IAAUoI,CACjD,CA8BA,SAASqhB,GAAczpB,GACrB,IAAKyb,GAAazb,IAAUskB,GAAWtkB,IAAUqI,EAC/C,OAAO,EAET,IAAI0T,EAAQjE,GAAa9X,GACzB,GAAc,OAAV+b,EACF,OAAO,EAET,IAAIgF,EAAOrkB,GAAeC,KAAKof,EAAO,gBAAkBA,EAAMmE,YAC9D,MAAsB,mBAARa,GAAsBA,aAAgBA,GAClDhK,GAAapa,KAAKokB,IAASxJ,EAC/B,CAmBA,IAAIpH,GAAWD,GAAe2D,GAAU3D,IA59QxC,SAAsBlQ,GACpB,OAAOyb,GAAazb,IAAUskB,GAAWtkB,IAAUuI,CACrD,EA4gRA,IAAI8H,GAAQD,GAAYyD,GAAUzD,IAngRlC,SAAmBpQ,GACjB,OAAOyb,GAAazb,IAAUqgB,GAAOrgB,IAAUwI,CACjD,EAohRA,SAAS6zB,GAASr8B,GAChB,MAAuB,iBAATA,IACV0b,GAAQ1b,IAAUyb,GAAazb,IAAUskB,GAAWtkB,IAAUyI,CACpE,CAmBA,SAAS2a,GAASpjB,GAChB,MAAuB,iBAATA,GACXyb,GAAazb,IAAUskB,GAAWtkB,IAAU0I,CACjD,CAmBA,IAAI6H,GAAeD,GAAmBuD,GAAUvD,IAvjRhD,SAA0BtQ,GACxB,OAAOyb,GAAazb,IAClB41B,GAAS51B,EAAMjD,WAAaoR,GAAemW,GAAWtkB,GAC1D,EA4oRA,IAAIs8B,GAAK3I,GAA0BjL,IAyB/B6T,GAAM5I,IAA0B,SAAS3zB,EAAO4kB,GAClD,OAAO5kB,GAAS4kB,CAClB,IAyBA,SAAS4X,GAAQx8B,GACf,IAAKA,EACH,MAAO,GAET,GAAI4oB,GAAY5oB,GACd,OAAOq8B,GAASr8B,GAAS0V,GAAc1V,GAASue,GAAUve,GAE5D,GAAIqY,IAAerY,EAAMqY,IACvB,OAv8VN,SAAyBC,GAIvB,IAHA,IAAIkF,EACAhM,EAAS,KAEJgM,EAAOlF,EAASmkB,QAAQC,MAC/BlrB,EAAO0M,KAAKV,EAAKxd,OAEnB,OAAOwR,CACT,CA+7VamrB,CAAgB38B,EAAMqY,OAE/B,IAAI3U,EAAM2c,GAAOrgB,GAGjB,OAFW0D,GAAOyE,EAASyM,GAAclR,GAAO8E,EAAS4M,GAAapD,IAE1DhS,EACd,CAyBA,SAASyzB,GAASzzB,GAChB,OAAKA,GAGLA,EAAQ4zB,GAAS5zB,MACHuH,GAAYvH,KAAU,IAxkYtB,uBAykYAA,EAAQ,GAAK,EAAI,GAGxBA,GAAUA,EAAQA,EAAQ,EAPd,IAAVA,EAAcA,EAAQ,CAQjC,CA4BA,SAASo0B,GAAUp0B,GACjB,IAAIwR,EAASiiB,GAASzzB,GAClB48B,EAAYprB,EAAS,EAEzB,OAAOA,GAAWA,EAAUorB,EAAYprB,EAASorB,EAAYprB,EAAU,CACzE,CA6BA,SAASqrB,GAAS78B,GAChB,OAAOA,EAAQwe,GAAU4V,GAAUp0B,GAAQ,EAAG0H,GAAoB,CACpE,CAyBA,SAASksB,GAAS5zB,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIojB,GAASpjB,GACX,OAAOyH,EAET,GAAIuU,GAAShc,GAAQ,CACnB,IAAI4kB,EAAgC,mBAAjB5kB,EAAMsb,QAAwBtb,EAAMsb,UAAYtb,EACnEA,EAAQgc,GAAS4I,GAAUA,EAAQ,GAAMA,CAC3C,CACA,GAAoB,iBAAT5kB,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQyT,GAASzT,GACjB,IAAI88B,EAAW3xB,GAAWwJ,KAAK3U,GAC/B,OAAQ88B,GAAYzxB,GAAUsJ,KAAK3U,GAC/BwO,GAAaxO,EAAM6E,MAAM,GAAIi4B,EAAW,EAAI,GAC3C5xB,GAAWyJ,KAAK3U,GAASyH,GAAOzH,CACvC,CA0BA,SAAS0pB,GAAc1pB,GACrB,OAAOmf,GAAWnf,EAAO2gB,GAAO3gB,GAClC,CAqDA,SAASgX,GAAShX,GAChB,OAAgB,MAATA,EAAgB,GAAKitB,GAAajtB,EAC3C,CAoCA,IAAIvB,GAASoxB,IAAe,SAAS1c,EAAQrJ,GAC3C,GAAIwe,GAAYxe,IAAW8e,GAAY9e,GACrCqV,GAAWrV,EAAQsN,GAAKtN,GAASqJ,QAGnC,IAAK,IAAIvM,KAAOkD,EACVpN,GAAeC,KAAKmN,EAAQlD,IAC9BiY,GAAY1L,EAAQvM,EAAKkD,EAAOlD,GAGtC,IAiCIm2B,GAAWlN,IAAe,SAAS1c,EAAQrJ,GAC7CqV,GAAWrV,EAAQ6W,GAAO7W,GAASqJ,EACrC,IA+BI6pB,GAAenN,IAAe,SAAS1c,EAAQrJ,EAAQqf,EAAUtJ,GACnEV,GAAWrV,EAAQ6W,GAAO7W,GAASqJ,EAAQ0M,EAC7C,IA8BIod,GAAapN,IAAe,SAAS1c,EAAQrJ,EAAQqf,EAAUtJ,GACjEV,GAAWrV,EAAQsN,GAAKtN,GAASqJ,EAAQ0M,EAC3C,IAmBIqd,GAAKlM,GAAS5R,IA8DlB,IAAIhJ,GAAW8U,IAAS,SAAS/X,EAAQ4c,GACvC5c,EAAS3W,GAAO2W,GAEhB,IAAIlC,GAAS,EACTlU,EAASgzB,EAAQhzB,OACjBizB,EAAQjzB,EAAS,EAAIgzB,EAAQ,GAAKvqB,EAMtC,IAJIwqB,GAASC,GAAeF,EAAQ,GAAIA,EAAQ,GAAIC,KAClDjzB,EAAS,KAGFkU,EAAQlU,GAMf,IALA,IAAI+M,EAASimB,EAAQ9e,GACjBhX,EAAQ0mB,GAAO7W,GACfqzB,GAAc,EACdC,EAAcnjC,EAAM8C,SAEfogC,EAAaC,GAAa,CACjC,IAAIx2B,EAAM3M,EAAMkjC,GACZn9B,EAAQmT,EAAOvM,IAEf5G,IAAUwF,GACTmZ,GAAG3e,EAAO6W,GAAYjQ,MAAUlK,GAAeC,KAAKwW,EAAQvM,MAC/DuM,EAAOvM,GAAOkD,EAAOlD,GAEzB,CAGF,OAAOuM,CACT,IAqBIkqB,GAAenS,IAAS,SAASva,GAEnC,OADAA,EAAKuN,KAAK1Y,EAAW0vB,IACd1kB,GAAM8sB,GAAW93B,EAAWmL,EACrC,IA+RA,SAAS4O,GAAIpM,EAAQ6Q,EAAM9jB,GACzB,IAAIsR,EAAmB,MAAV2B,EAAiB3N,EAAYue,GAAQ5Q,EAAQ6Q,GAC1D,OAAOxS,IAAWhM,EAAYtF,EAAesR,CAC/C,CA2DA,SAASyX,GAAM9V,EAAQ6Q,GACrB,OAAiB,MAAV7Q,GAAkBuiB,GAAQviB,EAAQ6Q,EAAMc,GACjD,CAoBA,IAAIyY,GAAS1K,IAAe,SAASrhB,EAAQxR,EAAO4G,GACrC,MAAT5G,GACyB,mBAAlBA,EAAMgX,WACfhX,EAAQsX,GAAqB3a,KAAKqD,IAGpCwR,EAAOxR,GAAS4G,CAClB,GAAG+kB,GAAS1D,KA4BRuV,GAAW3K,IAAe,SAASrhB,EAAQxR,EAAO4G,GACvC,MAAT5G,GACyB,mBAAlBA,EAAMgX,WACfhX,EAAQsX,GAAqB3a,KAAKqD,IAGhCtD,GAAeC,KAAK6U,EAAQxR,GAC9BwR,EAAOxR,GAAOke,KAAKtX,GAEnB4K,EAAOxR,GAAS,CAAC4G,EAErB,GAAGojB,IAoBCyT,GAASvS,GAAS3F,IA8BtB,SAASnO,GAAKjE,GACZ,OAAOyV,GAAYzV,GAAUsK,GAActK,GAAUkV,GAASlV,EAChE,CAyBA,SAASwN,GAAOxN,GACd,OAAOyV,GAAYzV,GAAUsK,GAActK,GAAQ,GAAQoV,GAAWpV,EACxE,CAsGA,IAAIuqB,GAAQ7N,IAAe,SAAS1c,EAAQrJ,EAAQqf,GAClDD,GAAU/V,EAAQrJ,EAAQqf,EAC5B,IAiCImU,GAAYzN,IAAe,SAAS1c,EAAQrJ,EAAQqf,EAAUtJ,GAChEqJ,GAAU/V,EAAQrJ,EAAQqf,EAAUtJ,EACtC,IAsBItf,GAAOywB,IAAS,SAAS7d,EAAQkM,GACnC,IAAI7N,EAAS,CAAC,EACd,GAAc,MAAV2B,EACF,OAAO3B,EAET,IAAIuO,GAAS,EACbV,EAAQxN,GAASwN,GAAO,SAAS2E,GAG/B,OAFAA,EAAOC,GAASD,EAAM7Q,GACtB4M,IAAWA,EAASiE,EAAKjnB,OAAS,GAC3BinB,CACT,IACA7E,GAAWhM,EAAQ0O,GAAa1O,GAAS3B,GACrCuO,IACFvO,EAASmO,GAAUnO,EAAQmsB,EAAwDxI,KAGrF,IADA,IAAIp4B,EAASsiB,EAAMtiB,OACZA,KACLiuB,GAAUxZ,EAAQ6N,EAAMtiB,IAE1B,OAAOyU,CACT,IA2CA,IAAI6E,GAAO2a,IAAS,SAAS7d,EAAQkM,GACnC,OAAiB,MAAVlM,EAAiB,CAAC,EAnmT3B,SAAkBA,EAAQkM,GACxB,OAAOqL,GAAWvX,EAAQkM,GAAO,SAASrf,EAAOgkB,GAC/C,OAAOiF,GAAM9V,EAAQ6Q,EACvB,GACF,CA+lT+B4Z,CAASzqB,EAAQkM,EAChD,IAoBA,SAASwe,GAAO1qB,EAAQ9B,GACtB,GAAc,MAAV8B,EACF,MAAO,CAAC,EAEV,IAAIlZ,EAAQ4X,GAASgQ,GAAa1O,IAAS,SAAS2qB,GAClD,MAAO,CAACA,EACV,IAEA,OADAzsB,EAAY2Y,GAAY3Y,GACjBqZ,GAAWvX,EAAQlZ,GAAO,SAAS+F,EAAOgkB,GAC/C,OAAO3S,EAAUrR,EAAOgkB,EAAK,GAC/B,GACF,CA0IA,IAAI+Z,GAAUxJ,GAAcnd,IA0BxB4mB,GAAYzJ,GAAc5T,IA4K9B,SAAS3O,GAAOmB,GACd,OAAiB,MAAVA,EAAiB,GAAKW,GAAWX,EAAQiE,GAAKjE,GACvD,CAiNA,IAAI8qB,GAAY3N,IAAiB,SAAS9e,EAAQ0sB,EAAMjtB,GAEtD,OADAitB,EAAOA,EAAKC,cACL3sB,GAAUP,EAAQmtB,GAAWF,GAAQA,EAC9C,IAiBA,SAASE,GAAW1qB,GAClB,OAAO2qB,GAAWrnB,GAAStD,GAAQyqB,cACrC,CAoBA,SAAS1N,GAAO/c,GAEd,OADAA,EAASsD,GAAStD,KACDA,EAAOE,QAAQrI,GAAS+I,IAAcV,QAAQhG,GAAa,GAC9E,CAqHA,IAAI0wB,GAAYhO,IAAiB,SAAS9e,EAAQ0sB,EAAMjtB,GACtD,OAAOO,GAAUP,EAAQ,IAAM,IAAMitB,EAAKC,aAC5C,IAsBII,GAAYjO,IAAiB,SAAS9e,EAAQ0sB,EAAMjtB,GACtD,OAAOO,GAAUP,EAAQ,IAAM,IAAMitB,EAAKC,aAC5C,IAmBIK,GAAarO,GAAgB,eA0NjC,IAAIsO,GAAYnO,IAAiB,SAAS9e,EAAQ0sB,EAAMjtB,GACtD,OAAOO,GAAUP,EAAQ,IAAM,IAAMitB,EAAKC,aAC5C,IA+DA,IAAIO,GAAYpO,IAAiB,SAAS9e,EAAQ0sB,EAAMjtB,GACtD,OAAOO,GAAUP,EAAQ,IAAM,IAAMotB,GAAWH,EAClD,IAqiBA,IAAIS,GAAYrO,IAAiB,SAAS9e,EAAQ0sB,EAAMjtB,GACtD,OAAOO,GAAUP,EAAQ,IAAM,IAAMitB,EAAKt5B,aAC5C,IAmBIy5B,GAAalO,GAAgB,eAqBjC,SAASK,GAAM9c,EAAQkrB,EAAS5O,GAI9B,OAHAtc,EAASsD,GAAStD,IAClBkrB,EAAU5O,EAAQxqB,EAAYo5B,KAEdp5B,EArybpB,SAAwBkO,GACtB,OAAO1F,GAAiB2G,KAAKjB,EAC/B,CAoybamrB,CAAenrB,GA1jb5B,SAAsBA,GACpB,OAAOA,EAAOiC,MAAM7H,KAAkB,EACxC,CAwjbsCgxB,CAAaprB,GAzrcnD,SAAoBA,GAClB,OAAOA,EAAOiC,MAAM9K,KAAgB,EACtC,CAurc6Dk0B,CAAWrrB,GAE7DA,EAAOiC,MAAMipB,IAAY,EAClC,CA0BA,IAAII,GAAU9T,IAAS,SAASza,EAAME,GACpC,IACE,OAAOH,GAAMC,EAAMjL,EAAWmL,EAChC,CAAE,MAAOtU,GACP,OAAO6/B,GAAQ7/B,GAAKA,EAAI,IAAIka,GAAMla,EACpC,CACF,IA4BI4iC,GAAUjO,IAAS,SAAS7d,EAAQ+rB,GAKtC,OAJAhuB,GAAUguB,GAAa,SAASt4B,GAC9BA,EAAMsd,GAAMtd,GACZgY,GAAgBzL,EAAQvM,EAAK8yB,GAAKvmB,EAAOvM,GAAMuM,GACjD,IACOA,CACT,IAoGA,SAASwY,GAAS3rB,GAChB,OAAO,WACL,OAAOA,CACT,CACF,CAgDA,IAAIm/B,GAAOpO,KAuBPqO,GAAYrO,IAAW,GAkB3B,SAAS9I,GAASjoB,GAChB,OAAOA,CACT,CA4CA,SAAS+Q,GAASN,GAChB,OAAOuX,GAA4B,mBAARvX,EAAqBA,EAAOkP,GAAUlP,EAjte/C,GAktepB,CAsGA,IAAI4uB,GAASnU,IAAS,SAASlH,EAAMrT,GACnC,OAAO,SAASwC,GACd,OAAOoS,GAAWpS,EAAQ6Q,EAAMrT,EAClC,CACF,IAyBI2uB,GAAWpU,IAAS,SAAS/X,EAAQxC,GACvC,OAAO,SAASqT,GACd,OAAOuB,GAAWpS,EAAQ6Q,EAAMrT,EAClC,CACF,IAsCA,SAAS4uB,GAAMpsB,EAAQrJ,EAAQgwB,GAC7B,IAAI7/B,EAAQmd,GAAKtN,GACbo1B,EAAcrb,GAAc/Z,EAAQ7P,GAEzB,MAAX6/B,GACE9d,GAASlS,KAAYo1B,EAAYniC,SAAW9C,EAAM8C,UACtD+8B,EAAUhwB,EACVA,EAASqJ,EACTA,EAASgJ,KACT+iB,EAAcrb,GAAc/Z,EAAQsN,GAAKtN,KAE3C,IAAI+uB,IAAU7c,GAAS8d,IAAY,UAAWA,IAAcA,EAAQjB,OAChEvY,EAASwD,GAAW3Q,GAqBxB,OAnBAjC,GAAUguB,GAAa,SAAS9O,GAC9B,IAAI3f,EAAO3G,EAAOsmB,GAClBjd,EAAOid,GAAc3f,EACjB6P,IACFnN,EAAO1W,UAAU2zB,GAAc,WAC7B,IAAIlU,EAAWC,KAAKG,UACpB,GAAIuc,GAAS3c,EAAU,CACrB,IAAI1K,EAAS2B,EAAOgJ,KAAKC,aAKzB,OAJc5K,EAAO6K,YAAckC,GAAUpC,KAAKE,cAE1C6B,KAAK,CAAE,KAAQzN,EAAM,KAAQkgB,UAAW,QAAWxd,IAC3D3B,EAAO8K,UAAYJ,EACZ1K,CACT,CACA,OAAOf,EAAKD,MAAM2C,EAAQpB,GAAU,CAACoK,KAAKnc,SAAU2wB,WACtD,EAEJ,IAEOxd,CACT,CAkCA,SAASmhB,KAET,CA+CA,IAAIkL,GAAOtM,GAAWrhB,IA8BlB4tB,GAAYvM,GAAW9hB,IAiCvBsuB,GAAWxM,GAAW7gB,IAwB1B,SAAS+V,GAASpE,GAChB,OAAO+E,GAAM/E,GAAQzR,GAAa2R,GAAMF,IAh3X1C,SAA0BA,GACxB,OAAO,SAAS7Q,GACd,OAAO4Q,GAAQ5Q,EAAQ6Q,EACzB,CACF,CA42XmD2b,CAAiB3b,EACpE,CAsEA,IAAI4b,GAAQrM,KAsCRsM,GAAatM,IAAY,GAoB7B,SAASkC,KACP,MAAO,EACT,CAeA,SAASQ,KACP,OAAO,CACT,CA8JA,IAAI3Y,GAAM0V,IAAoB,SAAS8M,EAAQC,GAC7C,OAAOD,EAASC,CAClB,GAAG,GAuBC7mB,GAAOgb,GAAY,QAiBnB8L,GAAShN,IAAoB,SAASiN,EAAUC,GAClD,OAAOD,EAAWC,CACpB,GAAG,GAuBC9mB,GAAQ8a,GAAY,SAwKxB,IAgaMpqB,GAhaFq2B,GAAWnN,IAAoB,SAASoN,EAAYC,GACtD,OAAOD,EAAaC,CACtB,GAAG,GAuBCC,GAAQpM,GAAY,SAiBpBqM,GAAWvN,IAAoB,SAASwN,EAASC,GACnD,OAAOD,EAAUC,CACnB,GAAG,GAgmBH,OA1iBAjlB,GAAOklB,MAp6MP,SAAeltB,EAAG/C,GAChB,GAAmB,mBAARA,EACT,MAAM,IAAIiG,GAAU3P,GAGtB,OADAyM,EAAI4gB,GAAU5gB,GACP,WACL,KAAMA,EAAI,EACR,OAAO/C,EAAKD,MAAM2L,KAAMwU,UAE5B,CACF,EA25MAnV,GAAOsW,IAAMA,GACbtW,GAAO/c,OAASA,GAChB+c,GAAOuhB,SAAWA,GAClBvhB,GAAOwhB,aAAeA,GACtBxhB,GAAOyhB,WAAaA,GACpBzhB,GAAO0hB,GAAKA,GACZ1hB,GAAOie,OAASA,GAChBje,GAAOke,KAAOA,GACdle,GAAOyjB,QAAUA,GACjBzjB,GAAOme,QAAUA,GACjBne,GAAOmlB,UAl8KP,WACE,IAAKhQ,UAAU5zB,OACb,MAAO,GAET,IAAIiD,EAAQ2wB,UAAU,GACtB,OAAOjV,GAAQ1b,GAASA,EAAQ,CAACA,EACnC,EA67KAwb,GAAOqd,MAAQA,GACfrd,GAAOolB,MApgTP,SAAe/vB,EAAOnS,EAAMsxB,GAExBtxB,GADGsxB,EAAQC,GAAepf,EAAOnS,EAAMsxB,GAAStxB,IAAS8G,GAClD,EAEAoU,GAAUwa,GAAU11B,GAAO,GAEpC,IAAI3B,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,IAAKA,GAAU2B,EAAO,EACpB,MAAO,GAMT,IAJA,IAAIuS,EAAQ,EACRM,EAAW,EACXC,EAASM,EAAMmH,GAAWlc,EAAS2B,IAEhCuS,EAAQlU,GACbyU,EAAOD,KAAcsa,GAAUhb,EAAOI,EAAQA,GAASvS,GAEzD,OAAO8S,CACT,EAm/SAgK,GAAOqlB,QAl+SP,SAAiBhwB,GAMf,IALA,IAAII,GAAS,EACTlU,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACnCwU,EAAW,EACXC,EAAS,KAEJP,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdjR,IACFwR,EAAOD,KAAcvR,EAEzB,CACA,OAAOwR,CACT,EAs9SAgK,GAAOslB,OA97SP,WACE,IAAI/jC,EAAS4zB,UAAU5zB,OACvB,IAAKA,EACH,MAAO,GAMT,IAJA,IAAI4T,EAAOmB,EAAM/U,EAAS,GACtB8T,EAAQ8f,UAAU,GAClB1f,EAAQlU,EAELkU,KACLN,EAAKM,EAAQ,GAAK0f,UAAU1f,GAE9B,OAAOc,GAAU2J,GAAQ7K,GAAS0N,GAAU1N,GAAS,CAACA,GAAQyS,GAAY3S,EAAM,GAClF,EAk7SA6K,GAAOulB,KA3tCP,SAAcne,GACZ,IAAI7lB,EAAkB,MAAT6lB,EAAgB,EAAIA,EAAM7lB,OACnC+1B,EAAa9I,KASjB,OAPApH,EAAS7lB,EAAc8U,GAAS+Q,GAAO,SAASyR,GAC9C,GAAsB,mBAAXA,EAAK,GACd,MAAM,IAAI3d,GAAU3P,GAEtB,MAAO,CAAC+rB,EAAWuB,EAAK,IAAKA,EAAK,GACpC,IALkB,GAOXnJ,IAAS,SAASva,GAEvB,IADA,IAAIM,GAAS,IACJA,EAAQlU,GAAQ,CACvB,IAAIs3B,EAAOzR,EAAM3R,GACjB,GAAIT,GAAM6jB,EAAK,GAAIlY,KAAMxL,GACvB,OAAOH,GAAM6jB,EAAK,GAAIlY,KAAMxL,EAEhC,CACF,GACF,EAwsCA6K,GAAOwlB,SA9qCP,SAAkBl3B,GAChB,OAz5YF,SAAsBA,GACpB,IAAI7P,EAAQmd,GAAKtN,GACjB,OAAO,SAASqJ,GACd,OAAO4O,GAAe5O,EAAQrJ,EAAQ7P,EACxC,CACF,CAo5YSgnC,CAAathB,GAAU7V,EA/ieZ,GAgjepB,EA6qCA0R,GAAOmQ,SAAWA,GAClBnQ,GAAOwd,QAAUA,GACjBxd,GAAOvD,OAtuHP,SAAgBxb,EAAWykC,GACzB,IAAI1vB,EAASsK,GAAWrf,GACxB,OAAqB,MAAdykC,EAAqB1vB,EAAS0N,GAAW1N,EAAQ0vB,EAC1D,EAouHA1lB,GAAO2lB,MAzuMP,SAASA,EAAM1wB,EAAMshB,EAAO/B,GAE1B,IAAIxe,EAASijB,GAAWhkB,EA7+TN,EA6+T6BjL,EAAWA,EAAWA,EAAWA,EAAWA,EAD3FusB,EAAQ/B,EAAQxqB,EAAYusB,GAG5B,OADAvgB,EAAO2D,YAAcgsB,EAAMhsB,YACpB3D,CACT,EAquMAgK,GAAO4lB,WA7rMP,SAASA,EAAW3wB,EAAMshB,EAAO/B,GAE/B,IAAIxe,EAASijB,GAAWhkB,EAAMvJ,EAAuB1B,EAAWA,EAAWA,EAAWA,EAAWA,EADjGusB,EAAQ/B,EAAQxqB,EAAYusB,GAG5B,OADAvgB,EAAO2D,YAAcisB,EAAWjsB,YACzB3D,CACT,EAyrMAgK,GAAOqe,SAAWA,GAClBre,GAAOpF,SAAWA,GAClBoF,GAAO6hB,aAAeA,GACtB7hB,GAAO4f,MAAQA,GACf5f,GAAO6f,MAAQA,GACf7f,GAAO4b,WAAaA,GACpB5b,GAAO6b,aAAeA,GACtB7b,GAAO8b,eAAiBA,GACxB9b,GAAO6lB,KAt0SP,SAAcxwB,EAAO2C,EAAGwc,GACtB,IAAIjzB,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAKA,EAIE8uB,GAAUhb,GADjB2C,EAAKwc,GAASxc,IAAMhO,EAAa,EAAI4uB,GAAU5gB,IACnB,EAAI,EAAIA,EAAGzW,GAH9B,EAIX,EAg0SAye,GAAO8lB,UArySP,SAAmBzwB,EAAO2C,EAAGwc,GAC3B,IAAIjzB,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAKA,EAKE8uB,GAAUhb,EAAO,GADxB2C,EAAIzW,GADJyW,EAAKwc,GAASxc,IAAMhO,EAAa,EAAI4uB,GAAU5gB,KAEhB,EAAI,EAAIA,GAJ9B,EAKX,EA8xSAgI,GAAO+lB,eAzvSP,SAAwB1wB,EAAOQ,GAC7B,OAAQR,GAASA,EAAM9T,OACnBwwB,GAAU1c,EAAOmZ,GAAY3Y,EAAW,IAAI,GAAM,GAClD,EACN,EAsvSAmK,GAAOgmB,UAjtSP,SAAmB3wB,EAAOQ,GACxB,OAAQR,GAASA,EAAM9T,OACnBwwB,GAAU1c,EAAOmZ,GAAY3Y,EAAW,IAAI,GAC5C,EACN,EA8sSAmK,GAAOimB,KA/qSP,SAAc5wB,EAAO7Q,EAAOmrB,EAAOW,GACjC,IAAI/uB,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAKA,GAGDouB,GAAyB,iBAATA,GAAqB8E,GAAepf,EAAO7Q,EAAOmrB,KACpEA,EAAQ,EACRW,EAAM/uB,GAzvIV,SAAkB8T,EAAO7Q,EAAOmrB,EAAOW,GACrC,IAAI/uB,EAAS8T,EAAM9T,OAWnB,KATAouB,EAAQiJ,GAAUjJ,IACN,IACVA,GAASA,EAAQpuB,EAAS,EAAKA,EAASouB,IAE1CW,EAAOA,IAAQtmB,GAAasmB,EAAM/uB,EAAUA,EAASq3B,GAAUtI,IACrD,IACRA,GAAO/uB,GAET+uB,EAAMX,EAAQW,EAAM,EAAI+Q,GAAS/Q,GAC1BX,EAAQW,GACbjb,EAAMsa,KAAWnrB,EAEnB,OAAO6Q,CACT,CA2uIS6wB,CAAS7wB,EAAO7Q,EAAOmrB,EAAOW,IAN5B,EAOX,EAsqSAtQ,GAAOmmB,OA3vOP,SAAgBlvB,EAAYpB,GAE1B,OADWqK,GAAQjJ,GAAcnB,GAAc+R,IACnC5Q,EAAYuX,GAAY3Y,EAAW,GACjD,EAyvOAmK,GAAOomB,QAvqOP,SAAiBnvB,EAAY1B,GAC3B,OAAOuS,GAAYzO,GAAIpC,EAAY1B,GAAW,EAChD,EAsqOAyK,GAAOqmB,YAhpOP,SAAqBpvB,EAAY1B,GAC/B,OAAOuS,GAAYzO,GAAIpC,EAAY1B,GAAWxJ,EAChD,EA+oOAiU,GAAOsmB,aAxnOP,SAAsBrvB,EAAY1B,EAAUwS,GAE1C,OADAA,EAAQA,IAAU/d,EAAY,EAAI4uB,GAAU7Q,GACrCD,GAAYzO,GAAIpC,EAAY1B,GAAWwS,EAChD,EAsnOA/H,GAAO8Z,QAAUA,GACjB9Z,GAAOumB,YAviSP,SAAqBlxB,GAEnB,OADsB,MAATA,EAAgB,EAAIA,EAAM9T,QACvBumB,GAAYzS,EAAOtJ,GAAY,EACjD,EAqiSAiU,GAAOwmB,aA/gSP,SAAsBnxB,EAAO0S,GAE3B,OADsB,MAAT1S,EAAgB,EAAIA,EAAM9T,QAKhCumB,GAAYzS,EADnB0S,EAAQA,IAAU/d,EAAY,EAAI4uB,GAAU7Q,IAFnC,EAIX,EAygSA/H,GAAOymB,KAz9LP,SAAcxxB,GACZ,OAAOgkB,GAAWhkB,EA5wUD,IA6wUnB,EAw9LA+K,GAAO2jB,KAAOA,GACd3jB,GAAO4jB,UAAYA,GACnB5jB,GAAO0mB,UA3/RP,SAAmBtf,GAKjB,IAJA,IAAI3R,GAAS,EACTlU,EAAkB,MAAT6lB,EAAgB,EAAIA,EAAM7lB,OACnCyU,EAAS,CAAC,IAELP,EAAQlU,GAAQ,CACvB,IAAIs3B,EAAOzR,EAAM3R,GACjBO,EAAO6iB,EAAK,IAAMA,EAAK,EACzB,CACA,OAAO7iB,CACT,EAk/RAgK,GAAO2mB,UA38GP,SAAmBhvB,GACjB,OAAiB,MAAVA,EAAiB,GAAK0Q,GAAc1Q,EAAQiE,GAAKjE,GAC1D,EA08GAqI,GAAO4mB,YAj7GP,SAAqBjvB,GACnB,OAAiB,MAAVA,EAAiB,GAAK0Q,GAAc1Q,EAAQwN,GAAOxN,GAC5D,EAg7GAqI,GAAO4d,QAAUA,GACjB5d,GAAO6mB,QA56RP,SAAiBxxB,GAEf,OADsB,MAATA,EAAgB,EAAIA,EAAM9T,QACvB8uB,GAAUhb,EAAO,GAAI,GAAK,EAC5C,EA06RA2K,GAAOkc,aAAeA,GACtBlc,GAAOoc,eAAiBA,GACxBpc,GAAOqc,iBAAmBA,GAC1Brc,GAAO+hB,OAASA,GAChB/hB,GAAOgiB,SAAWA,GAClBhiB,GAAO6d,UAAYA,GACnB7d,GAAOzK,SAAWA,GAClByK,GAAO8d,MAAQA,GACf9d,GAAOpE,KAAOA,GACdoE,GAAOmF,OAASA,GAChBnF,GAAO3G,IAAMA,GACb2G,GAAO8mB,QA1rGP,SAAiBnvB,EAAQpC,GACvB,IAAIS,EAAS,CAAC,EAMd,OALAT,EAAWiZ,GAAYjZ,EAAU,GAEjCgS,GAAW5P,GAAQ,SAASnT,EAAO4G,EAAKuM,GACtCyL,GAAgBpN,EAAQT,EAAS/Q,EAAO4G,EAAKuM,GAASnT,EACxD,IACOwR,CACT,EAmrGAgK,GAAO+mB,UArpGP,SAAmBpvB,EAAQpC,GACzB,IAAIS,EAAS,CAAC,EAMd,OALAT,EAAWiZ,GAAYjZ,EAAU,GAEjCgS,GAAW5P,GAAQ,SAASnT,EAAO4G,EAAKuM,GACtCyL,GAAgBpN,EAAQ5K,EAAKmK,EAAS/Q,EAAO4G,EAAKuM,GACpD,IACO3B,CACT,EA8oGAgK,GAAOgnB,QAphCP,SAAiB14B,GACf,OAAOqe,GAAYxI,GAAU7V,EAxveX,GAyvepB,EAmhCA0R,GAAOinB,gBAh/BP,SAAyBze,EAAM6D,GAC7B,OAAOK,GAAoBlE,EAAMrE,GAAUkI,EA7xezB,GA8xepB,EA++BArM,GAAOsb,QAAUA,GACjBtb,GAAOkiB,MAAQA,GACfliB,GAAO8hB,UAAYA,GACnB9hB,GAAO6jB,OAASA,GAChB7jB,GAAO8jB,SAAWA,GAClB9jB,GAAO+jB,MAAQA,GACf/jB,GAAOigB,OAASA,GAChBjgB,GAAOknB,OAzzBP,SAAgBlvB,GAEd,OADAA,EAAI4gB,GAAU5gB,GACP0X,IAAS,SAASva,GACvB,OAAOiZ,GAAQjZ,EAAM6C,EACvB,GACF,EAqzBAgI,GAAOjb,KAAOA,GACdib,GAAOmnB,OAnhGP,SAAgBxvB,EAAQ9B,GACtB,OAAOwsB,GAAO1qB,EAAQsoB,GAAOzR,GAAY3Y,IAC3C,EAkhGAmK,GAAOonB,KA73LP,SAAcnyB,GACZ,OAAOgpB,GAAO,EAAGhpB,EACnB,EA43LA+K,GAAOqnB,QAr4NP,SAAiBpwB,EAAYqX,EAAWC,EAAQiG,GAC9C,OAAkB,MAAdvd,EACK,IAEJiJ,GAAQoO,KACXA,EAAyB,MAAbA,EAAoB,GAAK,CAACA,IAGnCpO,GADLqO,EAASiG,EAAQxqB,EAAYukB,KAE3BA,EAAmB,MAAVA,EAAiB,GAAK,CAACA,IAE3BF,GAAYpX,EAAYqX,EAAWC,GAC5C,EA03NAvO,GAAOgkB,KAAOA,GACdhkB,GAAOkgB,SAAWA,GAClBlgB,GAAOikB,UAAYA,GACnBjkB,GAAOkkB,SAAWA,GAClBlkB,GAAOqgB,QAAUA,GACjBrgB,GAAOsgB,aAAeA,GACtBtgB,GAAO+d,UAAYA,GACnB/d,GAAOnF,KAAOA,GACdmF,GAAOqiB,OAASA,GAChBriB,GAAO4M,SAAWA,GAClB5M,GAAOsnB,WA/rBP,SAAoB3vB,GAClB,OAAO,SAAS6Q,GACd,OAAiB,MAAV7Q,EAAiB3N,EAAYue,GAAQ5Q,EAAQ6Q,EACtD,CACF,EA4rBAxI,GAAOsc,KAAOA,GACdtc,GAAOuc,QAAUA,GACjBvc,GAAOunB,UApsRP,SAAmBlyB,EAAOmB,EAAQjB,GAChC,OAAQF,GAASA,EAAM9T,QAAUiV,GAAUA,EAAOjV,OAC9C6tB,GAAY/Z,EAAOmB,EAAQgY,GAAYjZ,EAAU,IACjDF,CACN,EAisRA2K,GAAOwnB,YAxqRP,SAAqBnyB,EAAOmB,EAAQJ,GAClC,OAAQf,GAASA,EAAM9T,QAAUiV,GAAUA,EAAOjV,OAC9C6tB,GAAY/Z,EAAOmB,EAAQxM,EAAWoM,GACtCf,CACN,EAqqRA2K,GAAOwc,OAASA,GAChBxc,GAAOokB,MAAQA,GACfpkB,GAAOqkB,WAAaA,GACpBrkB,GAAOugB,MAAQA,GACfvgB,GAAOynB,OAxvNP,SAAgBxwB,EAAYpB,GAE1B,OADWqK,GAAQjJ,GAAcnB,GAAc+R,IACnC5Q,EAAYgpB,GAAOzR,GAAY3Y,EAAW,IACxD,EAsvNAmK,GAAO0nB,OAzmRP,SAAgBryB,EAAOQ,GACrB,IAAIG,EAAS,GACb,IAAMX,IAASA,EAAM9T,OACnB,OAAOyU,EAET,IAAIP,GAAS,EACT6Z,EAAU,GACV/tB,EAAS8T,EAAM9T,OAGnB,IADAsU,EAAY2Y,GAAY3Y,EAAW,KAC1BJ,EAAQlU,GAAQ,CACvB,IAAIiD,EAAQ6Q,EAAMI,GACdI,EAAUrR,EAAOiR,EAAOJ,KAC1BW,EAAO0M,KAAKle,GACZ8qB,EAAQ5M,KAAKjN,GAEjB,CAEA,OADA4Z,GAAWha,EAAOia,GACXtZ,CACT,EAulRAgK,GAAO2nB,KAluLP,SAAc1yB,EAAM0a,GAClB,GAAmB,mBAAR1a,EACT,MAAM,IAAIiG,GAAU3P,GAGtB,OAAOmkB,GAASza,EADhB0a,EAAQA,IAAU3lB,EAAY2lB,EAAQiJ,GAAUjJ,GAElD,EA6tLA3P,GAAOnB,QAAUA,GACjBmB,GAAO4nB,WAhtNP,SAAoB3wB,EAAYe,EAAGwc,GAOjC,OALExc,GADGwc,EAAQC,GAAexd,EAAYe,EAAGwc,GAASxc,IAAMhO,GACpD,EAEA4uB,GAAU5gB,IAELkI,GAAQjJ,GAAc4L,GAAkBkN,IACvC9Y,EAAYe,EAC1B,EAysNAgI,GAAOnG,IAv6FP,SAAalC,EAAQ6Q,EAAMhkB,GACzB,OAAiB,MAAVmT,EAAiBA,EAASwX,GAAQxX,EAAQ6Q,EAAMhkB,EACzD,EAs6FAwb,GAAO6nB,QA54FP,SAAiBlwB,EAAQ6Q,EAAMhkB,EAAO6f,GAEpC,OADAA,EAAkC,mBAAdA,EAA2BA,EAAara,EAC3C,MAAV2N,EAAiBA,EAASwX,GAAQxX,EAAQ6Q,EAAMhkB,EAAO6f,EAChE,EA04FArE,GAAO8nB,QA1rNP,SAAiB7wB,GAEf,OADWiJ,GAAQjJ,GAAcgM,GAAemN,IACpCnZ,EACd,EAwrNA+I,GAAO3W,MAhjRP,SAAegM,EAAOsa,EAAOW,GAC3B,IAAI/uB,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAKA,GAGD+uB,GAAqB,iBAAPA,GAAmBmE,GAAepf,EAAOsa,EAAOW,IAChEX,EAAQ,EACRW,EAAM/uB,IAGNouB,EAAiB,MAATA,EAAgB,EAAIiJ,GAAUjJ,GACtCW,EAAMA,IAAQtmB,EAAYzI,EAASq3B,GAAUtI,IAExCD,GAAUhb,EAAOsa,EAAOW,IAVtB,EAWX,EAmiRAtQ,GAAOge,OAASA,GAChBhe,GAAO+nB,WAx3QP,SAAoB1yB,GAClB,OAAQA,GAASA,EAAM9T,OACnBgwB,GAAelc,GACf,EACN,EAq3QA2K,GAAOgoB,aAn2QP,SAAsB3yB,EAAOE,GAC3B,OAAQF,GAASA,EAAM9T,OACnBgwB,GAAelc,EAAOmZ,GAAYjZ,EAAU,IAC5C,EACN,EAg2QAyK,GAAO3F,MA5hEP,SAAenC,EAAQ+vB,EAAWC,GAKhC,OAJIA,GAAyB,iBAATA,GAAqBzT,GAAevc,EAAQ+vB,EAAWC,KACzED,EAAYC,EAAQl+B,IAEtBk+B,EAAQA,IAAUl+B,EAAYkC,EAAmBg8B,IAAU,IAI3DhwB,EAASsD,GAAStD,MAEQ,iBAAb+vB,GACO,MAAbA,IAAsBtzB,GAASszB,OAEpCA,EAAYxW,GAAawW,KACP/uB,GAAWhB,GACpB0a,GAAU1Y,GAAchC,GAAS,EAAGgwB,GAGxChwB,EAAOmC,MAAM4tB,EAAWC,GAZtB,EAaX,EA0gEAloB,GAAOmoB,OAnsLP,SAAgBlzB,EAAM0a,GACpB,GAAmB,mBAAR1a,EACT,MAAM,IAAIiG,GAAU3P,GAGtB,OADAokB,EAAiB,MAATA,EAAgB,EAAIvR,GAAUwa,GAAUjJ,GAAQ,GACjDD,IAAS,SAASva,GACvB,IAAIE,EAAQF,EAAKwa,GACb+K,EAAY9H,GAAUzd,EAAM,EAAGwa,GAKnC,OAHIta,GACFkB,GAAUmkB,EAAWrlB,GAEhBL,GAAMC,EAAM0L,KAAM+Z,EAC3B,GACF,EAsrLA1a,GAAOooB,KAl1QP,SAAc/yB,GACZ,IAAI9T,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAOA,EAAS8uB,GAAUhb,EAAO,EAAG9T,GAAU,EAChD,EAg1QAye,GAAOqoB,KArzQP,SAAchzB,EAAO2C,EAAGwc,GACtB,OAAMnf,GAASA,EAAM9T,OAId8uB,GAAUhb,EAAO,GADxB2C,EAAKwc,GAASxc,IAAMhO,EAAa,EAAI4uB,GAAU5gB,IAChB,EAAI,EAAIA,GAH9B,EAIX,EAgzQAgI,GAAOsoB,UArxQP,SAAmBjzB,EAAO2C,EAAGwc,GAC3B,IAAIjzB,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,OAAKA,EAKE8uB,GAAUhb,GADjB2C,EAAIzW,GADJyW,EAAKwc,GAASxc,IAAMhO,EAAa,EAAI4uB,GAAU5gB,KAEnB,EAAI,EAAIA,EAAGzW,GAJ9B,EAKX,EA8wQAye,GAAOuoB,eAzuQP,SAAwBlzB,EAAOQ,GAC7B,OAAQR,GAASA,EAAM9T,OACnBwwB,GAAU1c,EAAOmZ,GAAY3Y,EAAW,IAAI,GAAO,GACnD,EACN,EAsuQAmK,GAAOwoB,UAjsQP,SAAmBnzB,EAAOQ,GACxB,OAAQR,GAASA,EAAM9T,OACnBwwB,GAAU1c,EAAOmZ,GAAY3Y,EAAW,IACxC,EACN,EA8rQAmK,GAAOyoB,IApuPP,SAAajkC,EAAO84B,GAElB,OADAA,EAAY94B,GACLA,CACT,EAkuPAwb,GAAO0oB,SA9oLP,SAAkBzzB,EAAMwR,EAAM6X,GAC5B,IAAIO,GAAU,EACVhK,GAAW,EAEf,GAAmB,mBAAR5f,EACT,MAAM,IAAIiG,GAAU3P,GAMtB,OAJIiV,GAAS8d,KACXO,EAAU,YAAaP,IAAYA,EAAQO,QAAUA,EACrDhK,EAAW,aAAcyJ,IAAYA,EAAQzJ,SAAWA,GAEnDwJ,GAASppB,EAAMwR,EAAM,CAC1B,QAAWoY,EACX,QAAWpY,EACX,SAAYoO,GAEhB,EA+nLA7U,GAAO2V,KAAOA,GACd3V,GAAOghB,QAAUA,GACjBhhB,GAAOuiB,QAAUA,GACjBviB,GAAOwiB,UAAYA,GACnBxiB,GAAO2oB,OArfP,SAAgBnkC,GACd,OAAI0b,GAAQ1b,GACH6R,GAAS7R,EAAOkkB,IAElBd,GAASpjB,GAAS,CAACA,GAASue,GAAU2P,GAAalX,GAAShX,IACrE,EAifAwb,GAAOkO,cAAgBA,GACvBlO,GAAOxG,UA10FP,SAAmB7B,EAAQpC,EAAUC,GACnC,IAAI2M,EAAQjC,GAAQvI,GAChBixB,EAAYzmB,GAASpE,GAASpG,IAAW5C,GAAa4C,GAG1D,GADApC,EAAWiZ,GAAYjZ,EAAU,GACd,MAAfC,EAAqB,CACvB,IAAI+P,EAAO5N,GAAUA,EAAO+M,YAE1BlP,EADEozB,EACYzmB,EAAQ,IAAIoD,EAAO,GAE1B/E,GAAS7I,IACF2Q,GAAW/C,GAAQjF,GAAWhE,GAAa3E,IAG3C,CAAC,CAEnB,CAIA,OAHCixB,EAAYlzB,GAAY6R,IAAY5P,GAAQ,SAASnT,EAAOiR,EAAOkC,GAClE,OAAOpC,EAASC,EAAahR,EAAOiR,EAAOkC,EAC7C,IACOnC,CACT,EAszFAwK,GAAO6oB,MArnLP,SAAe5zB,GACb,OAAOqhB,GAAIrhB,EAAM,EACnB,EAonLA+K,GAAOyc,MAAQA,GACfzc,GAAO0c,QAAUA,GACjB1c,GAAO2c,UAAYA,GACnB3c,GAAO8oB,KAzmQP,SAAczzB,GACZ,OAAQA,GAASA,EAAM9T,OAAUmwB,GAASrc,GAAS,EACrD,EAwmQA2K,GAAO+oB,OA/kQP,SAAgB1zB,EAAOE,GACrB,OAAQF,GAASA,EAAM9T,OAAUmwB,GAASrc,EAAOmZ,GAAYjZ,EAAU,IAAM,EAC/E,EA8kQAyK,GAAOgpB,SAxjQP,SAAkB3zB,EAAOe,GAEvB,OADAA,EAAkC,mBAAdA,EAA2BA,EAAapM,EACpDqL,GAASA,EAAM9T,OAAUmwB,GAASrc,EAAOrL,EAAWoM,GAAc,EAC5E,EAsjQA4J,GAAOipB,MAhyFP,SAAetxB,EAAQ6Q,GACrB,OAAiB,MAAV7Q,GAAwB6X,GAAU7X,EAAQ6Q,EACnD,EA+xFAxI,GAAO4c,MAAQA,GACf5c,GAAO8c,UAAYA,GACnB9c,GAAOkpB,OApwFP,SAAgBvxB,EAAQ6Q,EAAMsJ,GAC5B,OAAiB,MAAVna,EAAiBA,EAASka,GAAWla,EAAQ6Q,EAAMiK,GAAaX,GACzE,EAmwFA9R,GAAOmpB,WAzuFP,SAAoBxxB,EAAQ6Q,EAAMsJ,EAASzN,GAEzC,OADAA,EAAkC,mBAAdA,EAA2BA,EAAara,EAC3C,MAAV2N,EAAiBA,EAASka,GAAWla,EAAQ6Q,EAAMiK,GAAaX,GAAUzN,EACnF,EAuuFArE,GAAOxJ,OAASA,GAChBwJ,GAAOopB,SAhrFP,SAAkBzxB,GAChB,OAAiB,MAAVA,EAAiB,GAAKW,GAAWX,EAAQwN,GAAOxN,GACzD,EA+qFAqI,GAAO+c,QAAUA,GACjB/c,GAAOgV,MAAQA,GACfhV,GAAOqpB,KA3mLP,SAAc7kC,EAAOoxB,GACnB,OAAOyK,GAAQ5N,GAAamD,GAAUpxB,EACxC,EA0mLAwb,GAAOgd,IAAMA,GACbhd,GAAOid,MAAQA,GACfjd,GAAOkd,QAAUA,GACjBld,GAAOmd,IAAMA,GACbnd,GAAOspB,UAj3PP,SAAmB7qC,EAAO+X,GACxB,OAAO6b,GAAc5zB,GAAS,GAAI+X,GAAU,GAAI6M,GAClD,EAg3PArD,GAAOupB,cA/1PP,SAAuB9qC,EAAO+X,GAC5B,OAAO6b,GAAc5zB,GAAS,GAAI+X,GAAU,GAAI2Y,GAClD,EA81PAnP,GAAOod,QAAUA,GAGjBpd,GAAOuB,QAAUghB,GACjBviB,GAAOwpB,UAAYhH,GACnBxiB,GAAOypB,OAASlI,GAChBvhB,GAAO0pB,WAAalI,GAGpBuC,GAAM/jB,GAAQA,IAKdA,GAAO8B,IAAMA,GACb9B,GAAOwjB,QAAUA,GACjBxjB,GAAOyiB,UAAYA,GACnBziB,GAAO4iB,WAAaA,GACpB5iB,GAAOtC,KAAOA,GACdsC,GAAO2pB,MAprFP,SAAe3lB,EAAQC,EAAOC,GAa5B,OAZIA,IAAUla,IACZka,EAAQD,EACRA,EAAQja,GAENka,IAAUla,IAEZka,GADAA,EAAQkU,GAASlU,KACCA,EAAQA,EAAQ,GAEhCD,IAAUja,IAEZia,GADAA,EAAQmU,GAASnU,KACCA,EAAQA,EAAQ,GAE7BjB,GAAUoV,GAASpU,GAASC,EAAOC,EAC5C,EAuqFAlE,GAAO2b,MA7jLP,SAAen3B,GACb,OAAO2f,GAAU3f,EArzVI,EAszVvB,EA4jLAwb,GAAO4pB,UApgLP,SAAmBplC,GACjB,OAAO2f,GAAU3f,EAAO29B,EAC1B,EAmgLAniB,GAAO6pB,cAr+KP,SAAuBrlC,EAAO6f,GAE5B,OAAOF,GAAU3f,EAAO29B,EADxB9d,EAAkC,mBAAdA,EAA2BA,EAAara,EAE9D,EAm+KAgW,GAAO8pB,UA7hLP,SAAmBtlC,EAAO6f,GAExB,OAAOF,GAAU3f,EAz1VI,EAw1VrB6f,EAAkC,mBAAdA,EAA2BA,EAAara,EAE9D,EA2hLAgW,GAAO+pB,WA18KP,SAAoBpyB,EAAQrJ,GAC1B,OAAiB,MAAVA,GAAkBiY,GAAe5O,EAAQrJ,EAAQsN,GAAKtN,GAC/D,EAy8KA0R,GAAOiV,OAASA,GAChBjV,GAAOgqB,UA1xCP,SAAmBxlC,EAAOE,GACxB,OAAiB,MAATF,GAAiBA,GAAUA,EAASE,EAAeF,CAC7D,EAyxCAwb,GAAOwkB,OAASA,GAChBxkB,GAAOiqB,SAz9EP,SAAkB/xB,EAAQgyB,EAAQ9iC,GAChC8Q,EAASsD,GAAStD,GAClBgyB,EAASzY,GAAayY,GAEtB,IAAI3oC,EAAS2W,EAAO3W,OAKhB+uB,EAJJlpB,EAAWA,IAAa4C,EACpBzI,EACAyhB,GAAU4V,GAAUxxB,GAAW,EAAG7F,GAItC,OADA6F,GAAY8iC,EAAO3oC,SACA,GAAK2W,EAAO7O,MAAMjC,EAAUkpB,IAAQ4Z,CACzD,EA88EAlqB,GAAOmD,GAAKA,GACZnD,GAAOmqB,OAj7EP,SAAgBjyB,GAEd,OADAA,EAASsD,GAAStD,KACA3J,EAAmB4K,KAAKjB,GACtCA,EAAOE,QAAQjK,EAAiB4K,IAChCb,CACN,EA66EA8H,GAAOoqB,aA55EP,SAAsBlyB,GAEpB,OADAA,EAASsD,GAAStD,KACAnJ,GAAgBoK,KAAKjB,GACnCA,EAAOE,QAAQtJ,GAAc,QAC7BoJ,CACN,EAw5EA8H,GAAOqqB,MA57OP,SAAepzB,EAAYpB,EAAW2e,GACpC,IAAIvf,EAAOiL,GAAQjJ,GAAcrB,GAAa8R,GAI9C,OAHI8M,GAASC,GAAexd,EAAYpB,EAAW2e,KACjD3e,EAAY7L,GAEPiL,EAAKgC,EAAYuX,GAAY3Y,EAAW,GACjD,EAu7OAmK,GAAOyd,KAAOA,GACdzd,GAAO+b,UAAYA,GACnB/b,GAAOsqB,QArxHP,SAAiB3yB,EAAQ9B,GACvB,OAAOmB,GAAYW,EAAQ6W,GAAY3Y,EAAW,GAAI0R,GACxD,EAoxHAvH,GAAO0d,SAAWA,GAClB1d,GAAOgc,cAAgBA,GACvBhc,GAAOuqB,YAjvHP,SAAqB5yB,EAAQ9B,GAC3B,OAAOmB,GAAYW,EAAQ6W,GAAY3Y,EAAW,GAAI4R,GACxD,EAgvHAzH,GAAOpC,MAAQA,GACfoC,GAAO1G,QAAUA,GACjB0G,GAAO2d,aAAeA,GACtB3d,GAAOwqB,MArtHP,SAAe7yB,EAAQpC,GACrB,OAAiB,MAAVoC,EACHA,EACAuQ,GAAQvQ,EAAQ6W,GAAYjZ,EAAU,GAAI4P,GAChD,EAktHAnF,GAAOyqB,WAtrHP,SAAoB9yB,EAAQpC,GAC1B,OAAiB,MAAVoC,EACHA,EACAyQ,GAAazQ,EAAQ6W,GAAYjZ,EAAU,GAAI4P,GACrD,EAmrHAnF,GAAO0qB,OArpHP,SAAgB/yB,EAAQpC,GACtB,OAAOoC,GAAU4P,GAAW5P,EAAQ6W,GAAYjZ,EAAU,GAC5D,EAopHAyK,GAAO2qB,YAxnHP,SAAqBhzB,EAAQpC,GAC3B,OAAOoC,GAAU8P,GAAgB9P,EAAQ6W,GAAYjZ,EAAU,GACjE,EAunHAyK,GAAO+D,IAAMA,GACb/D,GAAOwgB,GAAKA,GACZxgB,GAAOygB,IAAMA,GACbzgB,GAAOvH,IAzgHP,SAAad,EAAQ6Q,GACnB,OAAiB,MAAV7Q,GAAkBuiB,GAAQviB,EAAQ6Q,EAAMa,GACjD,EAwgHArJ,GAAOyN,MAAQA,GACfzN,GAAOic,KAAOA,GACdjc,GAAOyM,SAAWA,GAClBzM,GAAO2G,SA5pOP,SAAkB1P,EAAYzS,EAAO4S,EAAWod,GAC9Cvd,EAAamW,GAAYnW,GAAcA,EAAaT,GAAOS,GAC3DG,EAAaA,IAAcod,EAASoE,GAAUxhB,GAAa,EAE3D,IAAI7V,EAAS0V,EAAW1V,OAIxB,OAHI6V,EAAY,IACdA,EAAYgH,GAAU7c,EAAS6V,EAAW,IAErCypB,GAAS5pB,GACXG,GAAa7V,GAAU0V,EAAW7V,QAAQoD,EAAO4S,IAAc,IAC7D7V,GAAU2U,GAAYe,EAAYzS,EAAO4S,IAAc,CAChE,EAkpOA4I,GAAO5e,QA9lSP,SAAiBiU,EAAO7Q,EAAO4S,GAC7B,IAAI7V,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAIkU,EAAqB,MAAb2B,EAAoB,EAAIwhB,GAAUxhB,GAI9C,OAHI3B,EAAQ,IACVA,EAAQ2I,GAAU7c,EAASkU,EAAO,IAE7BS,GAAYb,EAAO7Q,EAAOiR,EACnC,EAqlSAuK,GAAO4qB,QAlqFP,SAAiB5mB,EAAQ2L,EAAOW,GAS9B,OARAX,EAAQsI,GAAStI,GACbW,IAAQtmB,GACVsmB,EAAMX,EACNA,EAAQ,GAERW,EAAM2H,GAAS3H,GArsVnB,SAAqBtM,EAAQ2L,EAAOW,GAClC,OAAOtM,GAAU1F,GAAUqR,EAAOW,IAAQtM,EAAS5F,GAAUuR,EAAOW,EACtE,CAssVSua,CADP7mB,EAASoU,GAASpU,GACS2L,EAAOW,EACpC,EAypFAtQ,GAAOiiB,OAASA,GAChBjiB,GAAOqC,YAAcA,GACrBrC,GAAOE,QAAUA,GACjBF,GAAO3L,cAAgBA,GACvB2L,GAAOoN,YAAcA,GACrBpN,GAAOgO,kBAAoBA,GAC3BhO,GAAO8qB,UAtwKP,SAAmBtmC,GACjB,OAAiB,IAAVA,IAA4B,IAAVA,GACtByb,GAAazb,IAAUskB,GAAWtkB,IAAU8H,CACjD,EAowKA0T,GAAOjC,SAAWA,GAClBiC,GAAOzL,OAASA,GAChByL,GAAO+qB,UA7sKP,SAAmBvmC,GACjB,OAAOyb,GAAazb,IAA6B,IAAnBA,EAAMkP,WAAmBua,GAAczpB,EACvE,EA4sKAwb,GAAOgrB,QAzqKP,SAAiBxmC,GACf,GAAa,MAATA,EACF,OAAO,EAET,GAAI4oB,GAAY5oB,KACX0b,GAAQ1b,IAA0B,iBAATA,GAA4C,mBAAhBA,EAAMkY,QAC1DqB,GAASvZ,IAAUuQ,GAAavQ,IAAU6d,GAAY7d,IAC1D,OAAQA,EAAMjD,OAEhB,IAAI2G,EAAM2c,GAAOrgB,GACjB,GAAI0D,GAAOyE,GAAUzE,GAAO8E,EAC1B,OAAQxI,EAAMtB,KAEhB,GAAI4pB,GAAYtoB,GACd,OAAQqoB,GAASroB,GAAOjD,OAE1B,IAAK,IAAI6J,KAAO5G,EACd,GAAItD,GAAeC,KAAKqD,EAAO4G,GAC7B,OAAO,EAGX,OAAO,CACT,EAopKA4U,GAAOirB,QAtnKP,SAAiBzmC,EAAO4kB,GACtB,OAAOe,GAAY3lB,EAAO4kB,EAC5B,EAqnKApJ,GAAOkrB,YAnlKP,SAAqB1mC,EAAO4kB,EAAO/E,GAEjC,IAAIrO,GADJqO,EAAkC,mBAAdA,EAA2BA,EAAara,GAClCqa,EAAW7f,EAAO4kB,GAASpf,EACrD,OAAOgM,IAAWhM,EAAYmgB,GAAY3lB,EAAO4kB,EAAOpf,EAAWqa,KAAgBrO,CACrF,EAglKAgK,GAAO0gB,QAAUA,GACjB1gB,GAAO/B,SA1hKP,SAAkBzZ,GAChB,MAAuB,iBAATA,GAAqBwZ,GAAexZ,EACpD,EAyhKAwb,GAAOsI,WAAaA,GACpBtI,GAAO2gB,UAAYA,GACnB3gB,GAAOoa,SAAWA,GAClBpa,GAAOvL,MAAQA,GACfuL,GAAOmrB,QA11JP,SAAiBxzB,EAAQrJ,GACvB,OAAOqJ,IAAWrJ,GAAU4d,GAAYvU,EAAQrJ,EAAQ+e,GAAa/e,GACvE,EAy1JA0R,GAAOorB,YAvzJP,SAAqBzzB,EAAQrJ,EAAQ+V,GAEnC,OADAA,EAAkC,mBAAdA,EAA2BA,EAAara,EACrDkiB,GAAYvU,EAAQrJ,EAAQ+e,GAAa/e,GAAS+V,EAC3D,EAqzJArE,GAAOqrB,MAvxJP,SAAe7mC,GAIb,OAAOo8B,GAASp8B,IAAUA,IAAUA,CACtC,EAmxJAwb,GAAOsrB,SAvvJP,SAAkB9mC,GAChB,GAAIg2B,GAAWh2B,GACb,MAAM,IAAIuW,GAtsXM,mEAwsXlB,OAAOwR,GAAa/nB,EACtB,EAmvJAwb,GAAOurB,MAxsJP,SAAe/mC,GACb,OAAgB,MAATA,CACT,EAusJAwb,GAAOwrB,OAjuJP,SAAgBhnC,GACd,OAAiB,OAAVA,CACT,EAguJAwb,GAAO4gB,SAAWA,GAClB5gB,GAAOQ,SAAWA,GAClBR,GAAOC,aAAeA,GACtBD,GAAOiO,cAAgBA,GACvBjO,GAAOrL,SAAWA,GAClBqL,GAAOyrB,cArlJP,SAAuBjnC,GACrB,OAAOm8B,GAAUn8B,IAAUA,IAAS,kBAAqBA,GAASwH,CACpE,EAolJAgU,GAAOnL,MAAQA,GACfmL,GAAO6gB,SAAWA,GAClB7gB,GAAO4H,SAAWA,GAClB5H,GAAOjL,aAAeA,GACtBiL,GAAO0rB,YAn/IP,SAAqBlnC,GACnB,OAAOA,IAAUwF,CACnB,EAk/IAgW,GAAO2rB,UA/9IP,SAAmBnnC,GACjB,OAAOyb,GAAazb,IAAUqgB,GAAOrgB,IAAU2I,CACjD,EA89IA6S,GAAO4rB,UA38IP,SAAmBpnC,GACjB,OAAOyb,GAAazb,IAn6XP,oBAm6XiBskB,GAAWtkB,EAC3C,EA08IAwb,GAAOhO,KAz/RP,SAAcqD,EAAO4yB,GACnB,OAAgB,MAAT5yB,EAAgB,GAAK6I,GAAW/c,KAAKkU,EAAO4yB,EACrD,EAw/RAjoB,GAAO8iB,UAAYA,GACnB9iB,GAAOiK,KAAOA,GACdjK,GAAO6rB,YAh9RP,SAAqBx2B,EAAO7Q,EAAO4S,GACjC,IAAI7V,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAIkU,EAAQlU,EAKZ,OAJI6V,IAAcpN,IAEhByL,GADAA,EAAQmjB,GAAUxhB,IACF,EAAIgH,GAAU7c,EAASkU,EAAO,GAAK6I,GAAU7I,EAAOlU,EAAS,IAExEiD,GAAUA,EArvMrB,SAA2B6Q,EAAO7Q,EAAO4S,GAEvC,IADA,IAAI3B,EAAQ2B,EAAY,EACjB3B,KACL,GAAIJ,EAAMI,KAAWjR,EACnB,OAAOiR,EAGX,OAAOA,CACT,CA8uMQq2B,CAAkBz2B,EAAO7Q,EAAOiR,GAChC0B,GAAc9B,EAAOkC,GAAW9B,GAAO,EAC7C,EAo8RAuK,GAAO+iB,UAAYA,GACnB/iB,GAAOgjB,WAAaA,GACpBhjB,GAAO8gB,GAAKA,GACZ9gB,GAAO+gB,IAAMA,GACb/gB,GAAO3B,IAhfP,SAAahJ,GACX,OAAQA,GAASA,EAAM9T,OACnBomB,GAAatS,EAAOoX,GAAUtD,IAC9Bnf,CACN,EA6eAgW,GAAO+rB,MApdP,SAAe12B,EAAOE,GACpB,OAAQF,GAASA,EAAM9T,OACnBomB,GAAatS,EAAOmZ,GAAYjZ,EAAU,GAAI4T,IAC9Cnf,CACN,EAidAgW,GAAOgsB,KAjcP,SAAc32B,GACZ,OAAOoC,GAASpC,EAAOoX,GACzB,EAgcAzM,GAAOisB,OAvaP,SAAgB52B,EAAOE,GACrB,OAAOkC,GAASpC,EAAOmZ,GAAYjZ,EAAU,GAC/C,EAsaAyK,GAAOzB,IAlZP,SAAalJ,GACX,OAAQA,GAASA,EAAM9T,OACnBomB,GAAatS,EAAOoX,GAAUS,IAC9BljB,CACN,EA+YAgW,GAAOksB,MAtXP,SAAe72B,EAAOE,GACpB,OAAQF,GAASA,EAAM9T,OACnBomB,GAAatS,EAAOmZ,GAAYjZ,EAAU,GAAI2X,IAC9CljB,CACN,EAmXAgW,GAAOia,UAAYA,GACnBja,GAAOya,UAAYA,GACnBza,GAAOmsB,WAztBP,WACE,MAAO,CAAC,CACV,EAwtBAnsB,GAAOosB,WAzsBP,WACE,MAAO,EACT,EAwsBApsB,GAAOqsB,SAzrBP,WACE,OAAO,CACT,EAwrBArsB,GAAO2kB,SAAWA,GAClB3kB,GAAOssB,IA77RP,SAAaj3B,EAAO2C,GAClB,OAAQ3C,GAASA,EAAM9T,OAAU6sB,GAAQ/Y,EAAOujB,GAAU5gB,IAAMhO,CAClE,EA47RAgW,GAAOusB,WAliCP,WAIE,OAHIj5B,GAAKkH,IAAMmG,OACbrN,GAAKkH,EAAIwB,IAEJ2E,IACT,EA8hCAX,GAAO8Y,KAAOA,GACd9Y,GAAO1C,IAAMA,GACb0C,GAAOwsB,IAj5EP,SAAat0B,EAAQ3W,EAAQs2B,GAC3B3f,EAASsD,GAAStD,GAGlB,IAAIu0B,GAFJlrC,EAASq3B,GAAUr3B,IAEMwY,GAAW7B,GAAU,EAC9C,IAAK3W,GAAUkrC,GAAalrC,EAC1B,OAAO2W,EAET,IAAI0Y,GAAOrvB,EAASkrC,GAAa,EACjC,OACE7U,GAAcja,GAAYiT,GAAMiH,GAChC3f,EACA0f,GAAcna,GAAWmT,GAAMiH,EAEnC,EAo4EA7X,GAAO0sB,OA32EP,SAAgBx0B,EAAQ3W,EAAQs2B,GAC9B3f,EAASsD,GAAStD,GAGlB,IAAIu0B,GAFJlrC,EAASq3B,GAAUr3B,IAEMwY,GAAW7B,GAAU,EAC9C,OAAQ3W,GAAUkrC,EAAYlrC,EACzB2W,EAAS0f,GAAcr2B,EAASkrC,EAAW5U,GAC5C3f,CACN,EAo2EA8H,GAAO2sB,SA30EP,SAAkBz0B,EAAQ3W,EAAQs2B,GAChC3f,EAASsD,GAAStD,GAGlB,IAAIu0B,GAFJlrC,EAASq3B,GAAUr3B,IAEMwY,GAAW7B,GAAU,EAC9C,OAAQ3W,GAAUkrC,EAAYlrC,EACzBq2B,GAAcr2B,EAASkrC,EAAW5U,GAAS3f,EAC5CA,CACN,EAo0EA8H,GAAO/M,SA1yEP,SAAkBiF,EAAQ00B,EAAOpY,GAM/B,OALIA,GAAkB,MAAToY,EACXA,EAAQ,EACCA,IACTA,GAASA,GAEJnuB,GAAejD,GAAStD,GAAQE,QAAQpJ,GAAa,IAAK49B,GAAS,EAC5E,EAoyEA5sB,GAAOrB,OA1rFP,SAAgBsF,EAAOC,EAAO2oB,GA2B5B,GA1BIA,GAA+B,kBAAZA,GAAyBpY,GAAexQ,EAAOC,EAAO2oB,KAC3E3oB,EAAQ2oB,EAAW7iC,GAEjB6iC,IAAa7iC,IACK,kBAATka,GACT2oB,EAAW3oB,EACXA,EAAQla,GAEe,kBAATia,IACd4oB,EAAW5oB,EACXA,EAAQja,IAGRia,IAAUja,GAAaka,IAAUla,GACnCia,EAAQ,EACRC,EAAQ,IAGRD,EAAQgU,GAAShU,GACbC,IAAUla,GACZka,EAAQD,EACRA,EAAQ,GAERC,EAAQ+T,GAAS/T,IAGjBD,EAAQC,EAAO,CACjB,IAAI4oB,EAAO7oB,EACXA,EAAQC,EACRA,EAAQ4oB,CACV,CACA,GAAID,GAAY5oB,EAAQ,GAAKC,EAAQ,EAAG,CACtC,IAAImX,EAAO3c,KACX,OAAOJ,GAAU2F,EAASoX,GAAQnX,EAAQD,EAAQnR,GAAe,QAAUuoB,EAAO,IAAI95B,OAAS,KAAO2iB,EACxG,CACA,OAAOtB,GAAWqB,EAAOC,EAC3B,EAspFAlE,GAAO+sB,OA5+NP,SAAgB91B,EAAY1B,EAAUC,GACpC,IAAIP,EAAOiL,GAAQjJ,GAAcP,GAAcmB,GAC3ClB,EAAYwe,UAAU5zB,OAAS,EAEnC,OAAO0T,EAAKgC,EAAYuX,GAAYjZ,EAAU,GAAIC,EAAamB,EAAW8M,GAC5E,EAw+NAzD,GAAOgtB,YAh9NP,SAAqB/1B,EAAY1B,EAAUC,GACzC,IAAIP,EAAOiL,GAAQjJ,GAAcL,GAAmBiB,GAChDlB,EAAYwe,UAAU5zB,OAAS,EAEnC,OAAO0T,EAAKgC,EAAYuX,GAAYjZ,EAAU,GAAIC,EAAamB,EAAW6Q,GAC5E,EA48NAxH,GAAOitB,OA/wEP,SAAgB/0B,EAAQF,EAAGwc,GAMzB,OAJExc,GADGwc,EAAQC,GAAevc,EAAQF,EAAGwc,GAASxc,IAAMhO,GAChD,EAEA4uB,GAAU5gB,GAETyX,GAAWjU,GAAStD,GAASF,EACtC,EAywEAgI,GAAO5H,QApvEP,WACE,IAAIjD,EAAOggB,UACPjd,EAASsD,GAASrG,EAAK,IAE3B,OAAOA,EAAK5T,OAAS,EAAI2W,EAASA,EAAOE,QAAQjD,EAAK,GAAIA,EAAK,GACjE,EAgvEA6K,GAAOhK,OAtoGP,SAAgB2B,EAAQ6Q,EAAM9jB,GAG5B,IAAI+Q,GAAS,EACTlU,GAHJinB,EAAOC,GAASD,EAAM7Q,IAGJpW,OAOlB,IAJKA,IACHA,EAAS,EACToW,EAAS3N,KAEFyL,EAAQlU,GAAQ,CACvB,IAAIiD,EAAkB,MAAVmT,EAAiB3N,EAAY2N,EAAO+Q,GAAMF,EAAK/S,KACvDjR,IAAUwF,IACZyL,EAAQlU,EACRiD,EAAQE,GAEViT,EAAS2Q,GAAW9jB,GAASA,EAAMrD,KAAKwW,GAAUnT,CACpD,CACA,OAAOmT,CACT,EAmnGAqI,GAAO8kB,MAAQA,GACf9kB,GAAOvF,aAAeA,EACtBuF,GAAOktB,OA15NP,SAAgBj2B,GAEd,OADWiJ,GAAQjJ,GAAc0L,GAAcmN,IACnC7Y,EACd,EAw5NA+I,GAAO9c,KA/0NP,SAAc+T,GACZ,GAAkB,MAAdA,EACF,OAAO,EAET,GAAImW,GAAYnW,GACd,OAAO4pB,GAAS5pB,GAAc8C,GAAW9C,GAAcA,EAAW1V,OAEpE,IAAI2G,EAAM2c,GAAO5N,GACjB,OAAI/O,GAAOyE,GAAUzE,GAAO8E,EACnBiK,EAAW/T,KAEb2pB,GAAS5V,GAAY1V,MAC9B,EAo0NAye,GAAOijB,UAAYA,GACnBjjB,GAAOmtB,KA/xNP,SAAcl2B,EAAYpB,EAAW2e,GACnC,IAAIvf,EAAOiL,GAAQjJ,GAAcJ,GAAY0Z,GAI7C,OAHIiE,GAASC,GAAexd,EAAYpB,EAAW2e,KACjD3e,EAAY7L,GAEPiL,EAAKgC,EAAYuX,GAAY3Y,EAAW,GACjD,EA0xNAmK,GAAOotB,YAhsRP,SAAqB/3B,EAAO7Q,GAC1B,OAAOgsB,GAAgBnb,EAAO7Q,EAChC,EA+rRAwb,GAAOqtB,cApqRP,SAAuBh4B,EAAO7Q,EAAO+Q,GACnC,OAAOsb,GAAkBxb,EAAO7Q,EAAOgqB,GAAYjZ,EAAU,GAC/D,EAmqRAyK,GAAOstB,cAjpRP,SAAuBj4B,EAAO7Q,GAC5B,IAAIjD,EAAkB,MAAT8T,EAAgB,EAAIA,EAAM9T,OACvC,GAAIA,EAAQ,CACV,IAAIkU,EAAQ+a,GAAgBnb,EAAO7Q,GACnC,GAAIiR,EAAQlU,GAAU4hB,GAAG9N,EAAMI,GAAQjR,GACrC,OAAOiR,CAEX,CACA,OAAQ,CACV,EAyoRAuK,GAAOutB,gBArnRP,SAAyBl4B,EAAO7Q,GAC9B,OAAOgsB,GAAgBnb,EAAO7Q,GAAO,EACvC,EAonRAwb,GAAOwtB,kBAzlRP,SAA2Bn4B,EAAO7Q,EAAO+Q,GACvC,OAAOsb,GAAkBxb,EAAO7Q,EAAOgqB,GAAYjZ,EAAU,IAAI,EACnE,EAwlRAyK,GAAOytB,kBAtkRP,SAA2Bp4B,EAAO7Q,GAEhC,GADsB,MAAT6Q,EAAgB,EAAIA,EAAM9T,OAC3B,CACV,IAAIkU,EAAQ+a,GAAgBnb,EAAO7Q,GAAO,GAAQ,EAClD,GAAI2e,GAAG9N,EAAMI,GAAQjR,GACnB,OAAOiR,CAEX,CACA,OAAQ,CACV,EA8jRAuK,GAAOkjB,UAAYA,GACnBljB,GAAO0tB,WA3oEP,SAAoBx1B,EAAQgyB,EAAQ9iC,GAOlC,OANA8Q,EAASsD,GAAStD,GAClB9Q,EAAuB,MAAZA,EACP,EACA4b,GAAU4V,GAAUxxB,GAAW,EAAG8Q,EAAO3W,QAE7C2oC,EAASzY,GAAayY,GACfhyB,EAAO7O,MAAMjC,EAAUA,EAAW8iC,EAAO3oC,SAAW2oC,CAC7D,EAooEAlqB,GAAO+kB,SAAWA,GAClB/kB,GAAO2tB,IAzUP,SAAat4B,GACX,OAAQA,GAASA,EAAM9T,OACnBmW,GAAQrC,EAAOoX,IACf,CACN,EAsUAzM,GAAO4tB,MA7SP,SAAev4B,EAAOE,GACpB,OAAQF,GAASA,EAAM9T,OACnBmW,GAAQrC,EAAOmZ,GAAYjZ,EAAU,IACrC,CACN,EA0SAyK,GAAO6tB,SA7hEP,SAAkB31B,EAAQomB,EAAS9J,GAIjC,IAAIsZ,EAAW9tB,GAAOiH,iBAElBuN,GAASC,GAAevc,EAAQomB,EAAS9J,KAC3C8J,EAAUt0B,GAEZkO,EAASsD,GAAStD,GAClBomB,EAAUkD,GAAa,CAAC,EAAGlD,EAASwP,EAAUrU,IAE9C,IAIIsU,EACAC,EALAC,EAAUzM,GAAa,CAAC,EAAGlD,EAAQ2P,QAASH,EAASG,QAASxU,IAC9DyU,EAActyB,GAAKqyB,GACnBE,EAAgB71B,GAAW21B,EAASC,GAIpCz4B,EAAQ,EACR24B,EAAc9P,EAAQ8P,aAAep+B,GACrC1B,EAAS,WAGT+/B,EAAehgC,IAChBiwB,EAAQ6L,QAAUn6B,IAAW1B,OAAS,IACvC8/B,EAAY9/B,OAAS,KACpB8/B,IAAgB1/B,GAAgBc,GAAeQ,IAAW1B,OAAS,KACnEgwB,EAAQgQ,UAAYt+B,IAAW1B,OAAS,KACzC,KAMEigC,EAAY,kBACbrtC,GAAeC,KAAKm9B,EAAS,cACzBA,EAAQiQ,UAAY,IAAIn2B,QAAQ,MAAO,KACvC,6BAA+B1F,GAAmB,KACnD,KAENwF,EAAOE,QAAQi2B,GAAc,SAASl0B,EAAOq0B,EAAaC,EAAkBC,EAAiBC,EAAel4B,GAsB1G,OArBAg4B,IAAqBA,EAAmBC,GAGxCpgC,GAAU4J,EAAO7O,MAAMoM,EAAOgB,GAAQ2B,QAAQnI,GAAmB+I,IAG7Dw1B,IACFT,GAAa,EACbz/B,GAAU,YAAckgC,EAAc,UAEpCG,IACFX,GAAe,EACf1/B,GAAU,OAASqgC,EAAgB,eAEjCF,IACFngC,GAAU,iBAAmBmgC,EAAmB,+BAElDh5B,EAAQgB,EAAS0D,EAAM5Y,OAIhB4Y,CACT,IAEA7L,GAAU,OAIV,IAAIsgC,EAAW1tC,GAAeC,KAAKm9B,EAAS,aAAeA,EAAQsQ,SACnE,GAAKA,GAKA,GAAIt/B,GAA2B6J,KAAKy1B,GACvC,MAAM,IAAI7zB,GA3idmB,2DAsid7BzM,EAAS,iBAAmBA,EAAS,QASvCA,GAAU0/B,EAAe1/B,EAAO8J,QAAQrK,EAAsB,IAAMO,GACjE8J,QAAQpK,EAAqB,MAC7BoK,QAAQnK,EAAuB,OAGlCK,EAAS,aAAesgC,GAAY,OAAS,SAC1CA,EACG,GACA,wBAEJ,qBACCb,EACI,mBACA,KAEJC,EACG,uFAEA,OAEJ1/B,EACA,gBAEF,IAAI0H,EAASwtB,IAAQ,WACnB,OAAOjwB,GAAS26B,EAAaK,EAAY,UAAYjgC,GAClD0G,MAAMhL,EAAWmkC,EACtB,IAKA,GADAn4B,EAAO1H,OAASA,EACZoyB,GAAQ1qB,GACV,MAAMA,EAER,OAAOA,CACT,EA26DAgK,GAAO6uB,MApsBP,SAAe72B,EAAGzC,GAEhB,IADAyC,EAAI4gB,GAAU5gB,IACN,GAAKA,EAAIhM,EACf,MAAO,GAET,IAAIyJ,EAAQvJ,EACR3K,EAAS+c,GAAUtG,EAAG9L,GAE1BqJ,EAAWiZ,GAAYjZ,GACvByC,GAAK9L,EAGL,IADA,IAAI8J,EAAS+B,GAAUxW,EAAQgU,KACtBE,EAAQuC,GACfzC,EAASE,GAEX,OAAOO,CACT,EAqrBAgK,GAAOiY,SAAWA,GAClBjY,GAAO4Y,UAAYA,GACnB5Y,GAAOqhB,SAAWA,GAClBrhB,GAAO8uB,QAx5DP,SAAiBtqC,GACf,OAAOgX,GAAShX,GAAOm+B,aACzB,EAu5DA3iB,GAAOoY,SAAWA,GAClBpY,GAAO+uB,cApuIP,SAAuBvqC,GACrB,OAAOA,EACHwe,GAAU4V,GAAUp0B,IAAQ,iBAAmBwH,GACpC,IAAVxH,EAAcA,EAAQ,CAC7B,EAiuIAwb,GAAOxE,SAAWA,GAClBwE,GAAOgvB,QAn4DP,SAAiBxqC,GACf,OAAOgX,GAAShX,GAAO4E,aACzB,EAk4DA4W,GAAOivB,KA12DP,SAAc/2B,EAAQ2f,EAAOrD,GAE3B,IADAtc,EAASsD,GAAStD,MACHsc,GAASqD,IAAU7tB,GAChC,OAAOiO,GAASC,GAElB,IAAKA,KAAY2f,EAAQpG,GAAaoG,IACpC,OAAO3f,EAET,IAAIS,EAAauB,GAAchC,GAC3BU,EAAasB,GAAc2d,GAI/B,OAAOjF,GAAUja,EAHLD,GAAgBC,EAAYC,GAC9BC,GAAcF,EAAYC,GAAc,GAET5G,KAAK,GAChD,EA61DAgO,GAAOkvB,QAx0DP,SAAiBh3B,EAAQ2f,EAAOrD,GAE9B,IADAtc,EAASsD,GAAStD,MACHsc,GAASqD,IAAU7tB,GAChC,OAAOkO,EAAO7O,MAAM,EAAG8O,GAAgBD,GAAU,GAEnD,IAAKA,KAAY2f,EAAQpG,GAAaoG,IACpC,OAAO3f,EAET,IAAIS,EAAauB,GAAchC,GAG/B,OAAO0a,GAAUja,EAAY,EAFnBE,GAAcF,EAAYuB,GAAc2d,IAAU,GAEvB7lB,KAAK,GAC5C,EA6zDAgO,GAAOmvB,UAxyDP,SAAmBj3B,EAAQ2f,EAAOrD,GAEhC,IADAtc,EAASsD,GAAStD,MACHsc,GAASqD,IAAU7tB,GAChC,OAAOkO,EAAOE,QAAQpJ,GAAa,IAErC,IAAKkJ,KAAY2f,EAAQpG,GAAaoG,IACpC,OAAO3f,EAET,IAAIS,EAAauB,GAAchC,GAG/B,OAAO0a,GAAUja,EAFLD,GAAgBC,EAAYuB,GAAc2d,KAElB7lB,KAAK,GAC3C,EA6xDAgO,GAAOovB,SAtvDP,SAAkBl3B,EAAQomB,GACxB,IAAI/8B,EAnvdmB,GAovdnB8tC,EAnvdqB,MAqvdzB,GAAI7uB,GAAS8d,GAAU,CACrB,IAAI2J,EAAY,cAAe3J,EAAUA,EAAQ2J,UAAYA,EAC7D1mC,EAAS,WAAY+8B,EAAU1F,GAAU0F,EAAQ/8B,QAAUA,EAC3D8tC,EAAW,aAAc/Q,EAAU7M,GAAa6M,EAAQ+Q,UAAYA,CACtE,CAGA,IAAI5C,GAFJv0B,EAASsD,GAAStD,IAEK3W,OACvB,GAAI2X,GAAWhB,GAAS,CACtB,IAAIS,EAAauB,GAAchC,GAC/Bu0B,EAAY9zB,EAAWpX,MACzB,CACA,GAAIA,GAAUkrC,EACZ,OAAOv0B,EAET,IAAIoY,EAAM/uB,EAASwY,GAAWs1B,GAC9B,GAAI/e,EAAM,EACR,OAAO+e,EAET,IAAIr5B,EAAS2C,EACTia,GAAUja,EAAY,EAAG2X,GAAKte,KAAK,IACnCkG,EAAO7O,MAAM,EAAGinB,GAEpB,GAAI2X,IAAcj+B,EAChB,OAAOgM,EAASq5B,EAKlB,GAHI12B,IACF2X,GAAQta,EAAOzU,OAAS+uB,GAEtB3b,GAASszB,IACX,GAAI/vB,EAAO7O,MAAMinB,GAAKgf,OAAOrH,GAAY,CACvC,IAAI9tB,EACAo1B,EAAYv5B,EAMhB,IAJKiyB,EAAUuH,SACbvH,EAAY55B,GAAO45B,EAAU35B,OAAQkN,GAAS/L,GAAQkM,KAAKssB,IAAc,MAE3EA,EAAUjuB,UAAY,EACdG,EAAQ8tB,EAAUtsB,KAAK4zB,IAC7B,IAAIE,EAASt1B,EAAM1E,MAErBO,EAASA,EAAO3M,MAAM,EAAGomC,IAAWzlC,EAAYsmB,EAAMmf,EACxD,OACK,GAAIv3B,EAAO9W,QAAQqwB,GAAawW,GAAY3X,IAAQA,EAAK,CAC9D,IAAI7a,EAAQO,EAAO61B,YAAY5D,GAC3BxyB,GAAS,IACXO,EAASA,EAAO3M,MAAM,EAAGoM,GAE7B,CACA,OAAOO,EAASq5B,CAClB,EAisDArvB,GAAO0vB,SA5qDP,SAAkBx3B,GAEhB,OADAA,EAASsD,GAAStD,KACA9J,EAAiB+K,KAAKjB,GACpCA,EAAOE,QAAQlK,EAAeqM,IAC9BrC,CACN,EAwqDA8H,GAAO2vB,SAvpBP,SAAkBC,GAChB,IAAI/c,IAAOpX,GACX,OAAOD,GAASo0B,GAAU/c,CAC5B,EAqpBA7S,GAAOmjB,UAAYA,GACnBnjB,GAAO6iB,WAAaA,GAGpB7iB,GAAO6vB,KAAOv2B,GACd0G,GAAO8vB,UAAYnS,GACnB3d,GAAO+vB,MAAQ9T,GAEf8H,GAAM/jB,IACA1R,GAAS,CAAC,EACdiZ,GAAWvH,IAAQ,SAAS/K,EAAM2f,GAC3B1zB,GAAeC,KAAK6e,GAAO/e,UAAW2zB,KACzCtmB,GAAOsmB,GAAc3f,EAEzB,IACO3G,IACH,CAAE,OAAS,IAWjB0R,GAAOgwB,QA/ihBK,UAkjhBZt6B,GAAU,CAAC,OAAQ,UAAW,QAAS,aAAc,UAAW,iBAAiB,SAASkf,GACxF5U,GAAO4U,GAAYjb,YAAcqG,EACnC,IAGAtK,GAAU,CAAC,OAAQ,SAAS,SAASkf,EAAYnf,GAC/C0K,GAAYlf,UAAU2zB,GAAc,SAAS5c,GAC3CA,EAAIA,IAAMhO,EAAY,EAAIoU,GAAUwa,GAAU5gB,GAAI,GAElD,IAAIhC,EAAU2K,KAAKO,eAAiBzL,EAChC,IAAI0K,GAAYQ,MAChBA,KAAKgb,QAUT,OARI3lB,EAAOkL,aACTlL,EAAOoL,cAAgB9C,GAAUtG,EAAGhC,EAAOoL,eAE3CpL,EAAOqL,UAAUqB,KAAK,CACpB,KAAQpE,GAAUtG,EAAG9L,GACrB,KAAQ0oB,GAAc5e,EAAOiL,QAAU,EAAI,QAAU,MAGlDjL,CACT,EAEAmK,GAAYlf,UAAU2zB,EAAa,SAAW,SAAS5c,GACrD,OAAO2I,KAAK9B,UAAU+V,GAAY5c,GAAG6G,SACvC,CACF,IAGAnJ,GAAU,CAAC,SAAU,MAAO,cAAc,SAASkf,EAAYnf,GAC7D,IAAIxK,EAAOwK,EAAQ,EACfw6B,EAjihBe,GAiihBJhlC,GA/hhBG,GA+hhByBA,EAE3CkV,GAAYlf,UAAU2zB,GAAc,SAASrf,GAC3C,IAAIS,EAAS2K,KAAKgb,QAMlB,OALA3lB,EAAOmL,cAAcuB,KAAK,CACxB,SAAY8L,GAAYjZ,EAAU,GAClC,KAAQtK,IAEV+K,EAAOkL,aAAelL,EAAOkL,cAAgB+uB,EACtCj6B,CACT,CACF,IAGAN,GAAU,CAAC,OAAQ,SAAS,SAASkf,EAAYnf,GAC/C,IAAIy6B,EAAW,QAAUz6B,EAAQ,QAAU,IAE3C0K,GAAYlf,UAAU2zB,GAAc,WAClC,OAAOjU,KAAKuvB,GAAU,GAAG1rC,QAAQ,EACnC,CACF,IAGAkR,GAAU,CAAC,UAAW,SAAS,SAASkf,EAAYnf,GAClD,IAAI06B,EAAW,QAAU16B,EAAQ,GAAK,SAEtC0K,GAAYlf,UAAU2zB,GAAc,WAClC,OAAOjU,KAAKO,aAAe,IAAIf,GAAYQ,MAAQA,KAAKwvB,GAAU,EACpE,CACF,IAEAhwB,GAAYlf,UAAUokC,QAAU,WAC9B,OAAO1kB,KAAKwlB,OAAO1Z,GACrB,EAEAtM,GAAYlf,UAAUw8B,KAAO,SAAS5nB,GACpC,OAAO8K,KAAKwlB,OAAOtwB,GAAWomB,MAChC,EAEA9b,GAAYlf,UAAUy8B,SAAW,SAAS7nB,GACxC,OAAO8K,KAAK9B,UAAU4e,KAAK5nB,EAC7B,EAEAsK,GAAYlf,UAAU48B,UAAYnO,IAAS,SAASlH,EAAMrT,GACxD,MAAmB,mBAARqT,EACF,IAAIrI,GAAYQ,MAElBA,KAAKtH,KAAI,SAAS7U,GACvB,OAAOulB,GAAWvlB,EAAOgkB,EAAMrT,EACjC,GACF,IAEAgL,GAAYlf,UAAUwmC,OAAS,SAAS5xB,GACtC,OAAO8K,KAAKwlB,OAAOlG,GAAOzR,GAAY3Y,IACxC,EAEAsK,GAAYlf,UAAUoI,MAAQ,SAASsmB,EAAOW,GAC5CX,EAAQiJ,GAAUjJ,GAElB,IAAI3Z,EAAS2K,KACb,OAAI3K,EAAOkL,eAAiByO,EAAQ,GAAKW,EAAM,GACtC,IAAInQ,GAAYnK,IAErB2Z,EAAQ,EACV3Z,EAASA,EAAOsyB,WAAW3Y,GAClBA,IACT3Z,EAASA,EAAO6vB,KAAKlW,IAEnBW,IAAQtmB,IAEVgM,GADAsa,EAAMsI,GAAUtI,IACD,EAAIta,EAAO8vB,WAAWxV,GAAOta,EAAOqyB,KAAK/X,EAAMX,IAEzD3Z,EACT,EAEAmK,GAAYlf,UAAUsnC,eAAiB,SAAS1yB,GAC9C,OAAO8K,KAAK9B,UAAU2pB,UAAU3yB,GAAWgJ,SAC7C,EAEAsB,GAAYlf,UAAU+/B,QAAU,WAC9B,OAAOrgB,KAAK0nB,KAAKn8B,EACnB,EAGAqb,GAAWpH,GAAYlf,WAAW,SAASgU,EAAM2f,GAC/C,IAAIwb,EAAgB,qCAAqCj3B,KAAKyb,GAC1Dyb,EAAU,kBAAkBl3B,KAAKyb,GACjC0b,EAAatwB,GAAOqwB,EAAW,QAAwB,QAAdzb,EAAuB,QAAU,IAAOA,GACjF2b,EAAeF,GAAW,QAAQl3B,KAAKyb,GAEtC0b,IAGLtwB,GAAO/e,UAAU2zB,GAAc,WAC7B,IAAIpwB,EAAQmc,KAAKC,YACbzL,EAAOk7B,EAAU,CAAC,GAAKlb,UACvBqb,EAAShsC,aAAiB2b,GAC1B5K,EAAWJ,EAAK,GAChBs7B,EAAUD,GAAUtwB,GAAQ1b,GAE5B84B,EAAc,SAAS94B,GACzB,IAAIwR,EAASs6B,EAAWt7B,MAAMgL,GAAQzJ,GAAU,CAAC/R,GAAQ2Q,IACzD,OAAQk7B,GAAW3vB,EAAY1K,EAAO,GAAKA,CAC7C,EAEIy6B,GAAWL,GAAoC,mBAAZ76B,GAA6C,GAAnBA,EAAShU,SAExEivC,EAASC,GAAU,GAErB,IAAI/vB,EAAWC,KAAKG,UAChB4vB,IAAa/vB,KAAKE,YAAYtf,OAC9BovC,EAAcJ,IAAiB7vB,EAC/BkwB,EAAWJ,IAAWE,EAE1B,IAAKH,GAAgBE,EAAS,CAC5BjsC,EAAQosC,EAAWpsC,EAAQ,IAAI2b,GAAYQ,MAC3C,IAAI3K,EAASf,EAAKD,MAAMxQ,EAAO2Q,GAE/B,OADAa,EAAO6K,YAAY6B,KAAK,CAAE,KAAQiT,GAAM,KAAQ,CAAC2H,GAAc,QAAWtzB,IACnE,IAAIoW,GAAcpK,EAAQ0K,EACnC,CACA,OAAIiwB,GAAeC,EACV37B,EAAKD,MAAM2L,KAAMxL,IAE1Ba,EAAS2K,KAAKgV,KAAK2H,GACZqT,EAAeN,EAAUr6B,EAAOxR,QAAQ,GAAKwR,EAAOxR,QAAWwR,EACxE,EACF,IAGAN,GAAU,CAAC,MAAO,OAAQ,QAAS,OAAQ,SAAU,YAAY,SAASkf,GACxE,IAAI3f,EAAOkG,GAAWyZ,GAClBic,EAAY,0BAA0B13B,KAAKyb,GAAc,MAAQ,OACjE2b,EAAe,kBAAkBp3B,KAAKyb,GAE1C5U,GAAO/e,UAAU2zB,GAAc,WAC7B,IAAIzf,EAAOggB,UACX,GAAIob,IAAiB5vB,KAAKG,UAAW,CACnC,IAAItc,EAAQmc,KAAKnc,QACjB,OAAOyQ,EAAKD,MAAMkL,GAAQ1b,GAASA,EAAQ,GAAI2Q,EACjD,CACA,OAAOwL,KAAKkwB,IAAW,SAASrsC,GAC9B,OAAOyQ,EAAKD,MAAMkL,GAAQ1b,GAASA,EAAQ,GAAI2Q,EACjD,GACF,CACF,IAGAoS,GAAWpH,GAAYlf,WAAW,SAASgU,EAAM2f,GAC/C,IAAI0b,EAAatwB,GAAO4U,GACxB,GAAI0b,EAAY,CACd,IAAIllC,EAAMklC,EAAWzlB,KAAO,GACvB3pB,GAAeC,KAAKke,GAAWjU,KAClCiU,GAAUjU,GAAO,IAEnBiU,GAAUjU,GAAKsX,KAAK,CAAE,KAAQkS,EAAY,KAAQ0b,GACpD,CACF,IAEAjxB,GAAU6W,GAAalsB,EAlthBA,GAkthB+B6gB,MAAQ,CAAC,CAC7D,KAAQ,UACR,KAAQ7gB,IAIVmW,GAAYlf,UAAU06B,MAh9dtB,WACE,IAAI3lB,EAAS,IAAImK,GAAYQ,KAAKC,aAOlC,OANA5K,EAAO6K,YAAckC,GAAUpC,KAAKE,aACpC7K,EAAOiL,QAAUN,KAAKM,QACtBjL,EAAOkL,aAAeP,KAAKO,aAC3BlL,EAAOmL,cAAgB4B,GAAUpC,KAAKQ,eACtCnL,EAAOoL,cAAgBT,KAAKS,cAC5BpL,EAAOqL,UAAY0B,GAAUpC,KAAKU,WAC3BrL,CACT,EAw8dAmK,GAAYlf,UAAU4d,QA97dtB,WACE,GAAI8B,KAAKO,aAAc,CACrB,IAAIlL,EAAS,IAAImK,GAAYQ,MAC7B3K,EAAOiL,SAAW,EAClBjL,EAAOkL,cAAe,CACxB,MACElL,EAAS2K,KAAKgb,SACP1a,UAAY,EAErB,OAAOjL,CACT,EAq7dAmK,GAAYlf,UAAUuD,MA36dtB,WACE,IAAI6Q,EAAQsL,KAAKC,YAAYpc,QACzBssC,EAAMnwB,KAAKM,QACXkB,EAAQjC,GAAQ7K,GAChB07B,EAAUD,EAAM,EAChB5Z,EAAY/U,EAAQ9M,EAAM9T,OAAS,EACnCyvC,EA8pIN,SAAiBrhB,EAAOW,EAAK6P,GAC3B,IAAI1qB,GAAS,EACTlU,EAAS4+B,EAAW5+B,OAExB,OAASkU,EAAQlU,GAAQ,CACvB,IAAIygB,EAAOme,EAAW1qB,GAClBvS,EAAO8e,EAAK9e,KAEhB,OAAQ8e,EAAK/W,MACX,IAAK,OAAa0kB,GAASzsB,EAAM,MACjC,IAAK,YAAaotB,GAAOptB,EAAM,MAC/B,IAAK,OAAaotB,EAAMhS,GAAUgS,EAAKX,EAAQzsB,GAAO,MACtD,IAAK,YAAaysB,EAAQvR,GAAUuR,EAAOW,EAAMptB,GAErD,CACA,MAAO,CAAE,MAASysB,EAAO,IAAOW,EAClC,CA9qIa2gB,CAAQ,EAAG/Z,EAAWvW,KAAKU,WAClCsO,EAAQqhB,EAAKrhB,MACbW,EAAM0gB,EAAK1gB,IACX/uB,EAAS+uB,EAAMX,EACfla,EAAQs7B,EAAUzgB,EAAOX,EAAQ,EACjCrB,EAAY3N,KAAKQ,cACjB+vB,EAAa5iB,EAAU/sB,OACvBwU,EAAW,EACXo7B,EAAY7yB,GAAU/c,EAAQof,KAAKS,eAEvC,IAAKe,IAAW4uB,GAAW7Z,GAAa31B,GAAU4vC,GAAa5vC,EAC7D,OAAO0wB,GAAiB5c,EAAOsL,KAAKE,aAEtC,IAAI7K,EAAS,GAEb8Q,EACA,KAAOvlB,KAAYwU,EAAWo7B,GAAW,CAMvC,IAHA,IAAIC,GAAa,EACb5sC,EAAQ6Q,EAHZI,GAASq7B,KAKAM,EAAYF,GAAY,CAC/B,IAAIlvB,EAAOsM,EAAU8iB,GACjB77B,EAAWyM,EAAKzM,SAChBtK,EAAO+W,EAAK/W,KACZ8b,EAAWxR,EAAS/Q,GAExB,GA7zDY,GA6zDRyG,EACFzG,EAAQuiB,OACH,IAAKA,EAAU,CACpB,GAj0Da,GAi0DT9b,EACF,SAAS6b,EAET,MAAMA,CAEV,CACF,CACA9Q,EAAOD,KAAcvR,CACvB,CACA,OAAOwR,CACT,EA+3dAgK,GAAO/e,UAAUygC,GAAKnE,GACtBvd,GAAO/e,UAAUo8B,MA1iQjB,WACE,OAAOA,GAAM1c,KACf,EAyiQAX,GAAO/e,UAAUowC,OA7gQjB,WACE,OAAO,IAAIjxB,GAAcO,KAAKnc,QAASmc,KAAKG,UAC9C,EA4gQAd,GAAO/e,UAAUggC,KAp/PjB,WACMtgB,KAAKK,aAAehX,IACtB2W,KAAKK,WAAaggB,GAAQrgB,KAAKnc,UAEjC,IAAI08B,EAAOvgB,KAAKI,WAAaJ,KAAKK,WAAWzf,OAG7C,MAAO,CAAE,KAAQ2/B,EAAM,MAFXA,EAAOl3B,EAAY2W,KAAKK,WAAWL,KAAKI,aAGtD,EA6+PAf,GAAO/e,UAAUg1B,MA77PjB,SAAsBzxB,GAIpB,IAHA,IAAIwR,EACAgU,EAASrJ,KAENqJ,aAAkBvJ,IAAY,CACnC,IAAIkb,EAAQtb,GAAa2J,GACzB2R,EAAM5a,UAAY,EAClB4a,EAAM3a,WAAahX,EACfgM,EACFuZ,EAAS3O,YAAc+a,EAEvB3lB,EAAS2lB,EAEX,IAAIpM,EAAWoM,EACf3R,EAASA,EAAOpJ,WAClB,CAEA,OADA2O,EAAS3O,YAAcpc,EAChBwR,CACT,EA46PAgK,GAAO/e,UAAU4d,QAt5PjB,WACE,IAAIra,EAAQmc,KAAKC,YACjB,GAAIpc,aAAiB2b,GAAa,CAChC,IAAImxB,EAAU9sC,EAUd,OATImc,KAAKE,YAAYtf,SACnB+vC,EAAU,IAAInxB,GAAYQ,QAE5B2wB,EAAUA,EAAQzyB,WACVgC,YAAY6B,KAAK,CACvB,KAAQiT,GACR,KAAQ,CAAC9W,IACT,QAAW7U,IAEN,IAAIoW,GAAckxB,EAAS3wB,KAAKG,UACzC,CACA,OAAOH,KAAKgV,KAAK9W,GACnB,EAu4PAmB,GAAO/e,UAAUswC,OAASvxB,GAAO/e,UAAU6e,QAAUE,GAAO/e,UAAUuD,MAv3PtE,WACE,OAAOytB,GAAiBtR,KAAKC,YAAaD,KAAKE,YACjD,EAw3PAb,GAAO/e,UAAU8uC,MAAQ/vB,GAAO/e,UAAUg7B,KAEtCpf,KACFmD,GAAO/e,UAAU4b,IAj+PnB,WACE,OAAO8D,IACT,GAi+POX,EACR,CAKOvF,GAQNnH,GAAKkH,EAAIA,IAIT,aACE,OAAOA,EACR,mCAaL,EAAErZ,KAAKwf,wBC9xhBP,IAAiD6wB,IASxC,IACO,MACN,IAAIC,EAAsB,CAE9B,GACE79B,IA8BR,IAAI89B,EAAmB,WAKrB/wB,KAAKgxB,aAAe,EAEpBhxB,KAAKixB,cAAgB,EAErBjxB,KAAKkxB,gBAAkB,GAIvBlxB,KAAKmxB,eAAiB,IAKtBnxB,KAAKoxB,sBAAwB,GAE7BpxB,KAAKqxB,aAAe,EAGpBrxB,KAAKsxB,cAAgB,EACvB,EASIC,GAAe,EAanBR,EAAiBS,KAAO,SAAUC,EAAIC,GACpC,MAAO,CAACD,EAAIC,EACd,EAeAX,EAAiBzwC,UAAUqxC,UAAY,SAAUC,EAAOC,EAAOC,EAAgBC,QAElD,IAAhBA,IAEPA,EADE/xB,KAAKgxB,cAAgB,EACRgB,OAAOC,WAEP,IAAI93B,MAAO+3B,UAAgC,IAApBlyB,KAAKgxB,cAG/C,IAAImB,EAAWJ,EAGf,GAAa,MAATH,GAA0B,MAATC,EACnB,MAAM,IAAIz3B,MAAM,2BAIlB,GAAIw3B,GAASC,EACX,OAAID,EACK,CAAC,IAAIb,EAAiBS,KA/ClB,EA+CmCI,IAEzC,QAEoB,IAAlBE,IACTA,GAAiB,GAEnB,IAAIM,EAAaN,EAGbO,EAAeryB,KAAKsyB,kBAAkBV,EAAOC,GAC7CU,EAAeX,EAAMhD,UAAU,EAAGyD,GACtCT,EAAQA,EAAMhD,UAAUyD,GACxBR,EAAQA,EAAMjD,UAAUyD,GAGxBA,EAAeryB,KAAKwyB,kBAAkBZ,EAAOC,GAC7C,IAAIY,EAAeb,EAAMhD,UAAUgD,EAAMhxC,OAASyxC,GAClDT,EAAQA,EAAMhD,UAAU,EAAGgD,EAAMhxC,OAASyxC,GAC1CR,EAAQA,EAAMjD,UAAU,EAAGiD,EAAMjxC,OAASyxC,GAG1C,IAAIK,EAAQ1yB,KAAK2yB,cAAcf,EAAOC,EAAOO,EAAYD,GAUzD,OAPII,GACFG,EAAME,QAAQ,IAAI7B,EAAiBS,KAzEtB,EAyEuCe,IAElDE,GACFC,EAAM3wB,KAAK,IAAIgvB,EAAiBS,KA5EnB,EA4EoCiB,IAEnDzyB,KAAK6yB,kBAAkBH,GAChBA,CACT,EAcA3B,EAAiBzwC,UAAUqyC,cAAgB,SAAUf,EAAOC,EAAOO,EAAYD,GAC7E,IAAIO,EACJ,IAAKd,EAEH,MAAO,CAAC,IAAIb,EAAiBS,KAnGf,EAmGiCK,IAEjD,IAAKA,EAEH,MAAO,CAAC,IAAId,EAAiBS,KAAKD,EAAaK,IAEjD,IAAIkB,EAAWlB,EAAMhxC,OAASixC,EAAMjxC,OAASgxC,EAAQC,EACjDkB,EAAYnB,EAAMhxC,OAASixC,EAAMjxC,OAASixC,EAAQD,EAClDjxC,EAAImyC,EAASryC,QAAQsyC,GACzB,IAAU,GAANpyC,EAOF,OALA+xC,EAAQ,CAAC,IAAI3B,EAAiBS,KA9GhB,EA8GkCsB,EAASlE,UAAU,EAAGjuC,IAAK,IAAIowC,EAAiBS,KA7GnF,EA6GoGuB,GAAY,IAAIhC,EAAiBS,KA9GpI,EA8GsJsB,EAASlE,UAAUjuC,EAAIoyC,EAAUnyC,UAEjMgxC,EAAMhxC,OAASixC,EAAMjxC,SACvB8xC,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKnB,GAEvBmB,EAET,GAAwB,GAApBK,EAAUnyC,OAGZ,MAAO,CAAC,IAAImwC,EAAiBS,KAAKD,EAAaK,GAAQ,IAAIb,EAAiBS,KAxH9D,EAwHgFK,IAIhG,IAAImB,EAAKhzB,KAAKizB,gBAAgBrB,EAAOC,GACrC,GAAImB,EAAI,CAEN,IAAIE,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbM,EAAaN,EAAG,GAEhBO,EAAUvzB,KAAK2xB,UAAUuB,EAASE,EAAShB,EAAYD,GACvDqB,EAAUxzB,KAAK2xB,UAAUwB,EAASE,EAASjB,EAAYD,GAE3D,OAAOoB,EAAQ5O,OAAO,CAAC,IAAIoM,EAAiBS,KAvI/B,EAuIgD8B,IAAcE,EAC7E,CACA,OAAIpB,GAAcR,EAAMhxC,OAAS,KAAOixC,EAAMjxC,OAAS,IAC9Cof,KAAKyzB,eAAe7B,EAAOC,EAAOM,GAEpCnyB,KAAK0zB,aAAa9B,EAAOC,EAAOM,EACzC,EAYApB,EAAiBzwC,UAAUmzC,eAAiB,SAAU7B,EAAOC,EAAOM,GAElE,IAAIwB,EAAI3zB,KAAK4zB,mBAAmBhC,EAAOC,GACvCD,EAAQ+B,EAAEE,OACVhC,EAAQ8B,EAAEG,OACV,IAAIC,EAAYJ,EAAEK,UACdtB,EAAQ1yB,KAAK2xB,UAAUC,EAAOC,GAAO,EAAOM,GAGhDnyB,KAAKi0B,mBAAmBvB,EAAOqB,GAE/B/zB,KAAKk0B,qBAAqBxB,GAI1BA,EAAM3wB,KAAK,IAAIgvB,EAAiBS,KAxKjB,EAwKkC,KAMjD,IALA,IAAI2C,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GACXJ,EAAUzB,EAAM9xC,QAAQ,CAC7B,OAAQ8xC,EAAMyB,GAAS,IACrB,KAjLY,EAkLVE,IACAE,GAAe7B,EAAMyB,GAAS,GAC9B,MACF,KAAK5C,EACH6C,IACAE,GAAe5B,EAAMyB,GAAS,GAC9B,MACF,KAxLW,EA0LT,GAAIC,GAAgB,GAAKC,GAAgB,EAAG,CAE1C3B,EAAM32B,OAAOo4B,EAAUC,EAAeC,EAAcD,EAAeC,GACnEF,EAAUA,EAAUC,EAAeC,EAEnC,IADA,IAAIG,EAAUx0B,KAAK2xB,UAAU2C,EAAaC,GAAa,EAAOpC,GACrDsC,EAAID,EAAQ5zC,OAAS,EAAG6zC,GAAK,EAAGA,IACvC/B,EAAM32B,OAAOo4B,EAAS,EAAGK,EAAQC,IAEnCN,GAAoBK,EAAQ5zC,MAC9B,CACAyzC,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GAGlBJ,GACF,CAGA,OAFAzB,EAAMnsB,MAECmsB,CACT,EAYA3B,EAAiBzwC,UAAUozC,aAAe,SAAU9B,EAAOC,EAAOM,GAWhE,IATA,IAAIuC,EAAe9C,EAAMhxC,OACrB+zC,EAAe9C,EAAMjxC,OACrBg0C,EAAQv6B,KAAK0C,MAAM23B,EAAeC,GAAgB,GAClDE,EAAWD,EACXE,EAAW,EAAIF,EACfG,EAAK,IAAIp/B,MAAMm/B,GACfE,EAAK,IAAIr/B,MAAMm/B,GAGVG,EAAI,EAAGA,EAAIH,EAAUG,IAC5BF,EAAGE,IAAM,EACTD,EAAGC,IAAM,EAEXF,EAAGF,EAAW,GAAK,EACnBG,EAAGH,EAAW,GAAK,EAWnB,IAVA,IAAIK,EAAQR,EAAeC,EAGvBQ,EAAQD,EAAQ,GAAK,EAGrBE,EAAU,EACVC,EAAQ,EACRC,EAAU,EACVC,EAAQ,EACHC,EAAI,EAAGA,EAAIZ,MAEd,IAAIz6B,MAAO+3B,UAAYC,GAFFqD,IAAK,CAO9B,IAAK,IAAIC,GAAMD,EAAIJ,EAASK,GAAMD,EAAIH,EAAOI,GAAM,EAAG,CASpD,IARA,IAAIC,EAAYb,EAAWY,EAOvBE,GAJFC,EADEH,IAAOD,GAAKC,GAAMD,GAAKT,EAAGW,EAAY,GAAKX,EAAGW,EAAY,GACvDX,EAAGW,EAAY,GAEfX,EAAGW,EAAY,GAAK,GAEbD,EACPG,EAAKlB,GAAgBiB,EAAKhB,GAAgB/C,EAAMppC,OAAOotC,IAAO/D,EAAMrpC,OAAOmtC,IAChFC,IACAD,IAGF,GADAZ,EAAGW,GAAaE,EACZA,EAAKlB,EAEPW,GAAS,OACJ,GAAIM,EAAKhB,EAEdS,GAAW,OACN,GAAID,IACLU,EAAYhB,EAAWK,EAAQO,IAClB,GAAKI,EAAYf,IAA8B,GAAlBE,EAAGa,IAG3CD,IADAE,EAAKpB,EAAeM,EAAGa,IAGzB,OAAO71B,KAAK+1B,kBAAkBnE,EAAOC,EAAO+D,EAAID,EAAIxD,EAI5D,CAGA,IAAK,IAAI6D,GAAMR,EAAIF,EAASU,GAAMR,EAAID,EAAOS,GAAM,EAAG,CASpD,IARA,IACIF,EADAD,EAAYhB,EAAWmB,EAOvBC,GAJFH,EADEE,IAAOR,GAAKQ,GAAMR,GAAKR,EAAGa,EAAY,GAAKb,EAAGa,EAAY,GACvDb,EAAGa,EAAY,GAEfb,EAAGa,EAAY,GAAK,GAEbG,EACPF,EAAKpB,GAAgBuB,EAAKtB,GAAgB/C,EAAMppC,OAAOksC,EAAeoB,EAAK,IAAMjE,EAAMrpC,OAAOmsC,EAAesB,EAAK,IACvHH,IACAG,IAGF,GADAjB,EAAGa,GAAaC,EACZA,EAAKpB,EAEPa,GAAS,OACJ,GAAIU,EAAKtB,EAEdW,GAAW,OACN,IAAKH,EAAO,CAGf,IAAIS,EADN,IADIF,EAAYb,EAAWK,EAAQc,IAClB,GAAKN,EAAYZ,IAA8B,GAAlBC,EAAGW,GAK/C,GAHIC,EAAKd,GADLe,EAAKb,EAAGW,IACaA,EAGrBE,IADJE,EAAKpB,EAAeoB,GAGlB,OAAO91B,KAAK+1B,kBAAkBnE,EAAOC,EAAO+D,EAAID,EAAIxD,EAG1D,CACF,CACF,CAGA,MAAO,CAAC,IAAIpB,EAAiBS,KAAKD,EAAaK,GAAQ,IAAIb,EAAiBS,KArU5D,EAqU8EK,GAChG,EAaAd,EAAiBzwC,UAAUy1C,kBAAoB,SAAUnE,EAAOC,EAAOoD,EAAGiB,EAAG/D,GAC3E,IAAIgE,EAASvE,EAAMhD,UAAU,EAAGqG,GAC5BmB,EAASvE,EAAMjD,UAAU,EAAGsH,GAC5BG,EAASzE,EAAMhD,UAAUqG,GACzBqB,EAASzE,EAAMjD,UAAUsH,GAGzBxD,EAAQ1yB,KAAK2xB,UAAUwE,EAAQC,GAAQ,EAAOjE,GAC9CoE,EAASv2B,KAAK2xB,UAAU0E,EAAQC,GAAQ,EAAOnE,GACnD,OAAOO,EAAM/N,OAAO4R,EACtB,EAaAxF,EAAiBzwC,UAAUszC,mBAAqB,SAAUhC,EAAOC,GAC/D,IAAImC,EAAY,GACZwC,EAAW,CAAC,EAchB,SAASC,EAAwB/E,GAS/B,IARA,IAAIxa,EAAQ,GAIRwf,EAAY,EACZC,GAAW,EAEXC,EAAkB5C,EAAUpzC,OACzB+1C,EAAUjF,EAAK9wC,OAAS,GAAG,EAEhB,IADhB+1C,EAAUjF,EAAKjxC,QAAQ,KAAMi2C,MAE3BC,EAAUjF,EAAK9wC,OAAS,GAE1B,IAAIi2C,EAAOnF,EAAK9C,UAAU8H,EAAWC,EAAU,IAC3CH,EAASj2C,eAAiBi2C,EAASj2C,eAAes2C,QAA2BxtC,IAAnBmtC,EAASK,IACrE3f,GAAS5c,OAAOw8B,aAAaN,EAASK,KAElCD,GAAmBG,IAGrBF,EAAOnF,EAAK9C,UAAU8H,GACtBC,EAAUjF,EAAK9wC,QAEjBs2B,GAAS5c,OAAOw8B,aAAaF,GAC7BJ,EAASK,GAAQD,EACjB5C,EAAU4C,KAAqBC,GAEjCH,EAAYC,EAAU,CACxB,CACA,OAAOzf,CACT,CAzCA8c,EAAU,GAAK,GA2Cf,IAAI+C,EAAW,IACXlD,EAAS4C,EAAwB7E,GAGrC,OAFAmF,EAAW,MAEJ,CACLlD,OAAQA,EACRC,OAHW2C,EAAwB5E,GAInCmC,UAAWA,EAEf,EASAjD,EAAiBzwC,UAAU2zC,mBAAqB,SAAUvB,EAAOsB,GAC/D,IAAK,IAAIrzC,EAAI,EAAGA,EAAI+xC,EAAM9xC,OAAQD,IAAK,CAGrC,IAFA,IAAIu2B,EAAQwb,EAAM/xC,GAAG,GACjB+wC,EAAO,GACF+C,EAAI,EAAGA,EAAIvd,EAAMt2B,OAAQ6zC,IAChC/C,EAAK+C,GAAKT,EAAU9c,EAAM2D,WAAW4Z,IAEvC/B,EAAM/xC,GAAG,GAAK+wC,EAAKrgC,KAAK,GAC1B,CACF,EASA0/B,EAAiBzwC,UAAUgyC,kBAAoB,SAAUV,EAAOC,GAE9D,IAAKD,IAAUC,GAASD,EAAMppC,OAAO,IAAMqpC,EAAMrpC,OAAO,GACtD,OAAO,EAQT,IAJA,IAAIwuC,EAAa,EACbC,EAAa58B,KAAKuD,IAAIg0B,EAAMhxC,OAAQixC,EAAMjxC,QAC1Cs2C,EAAaD,EACbE,EAAe,EACZH,EAAaE,GACdtF,EAAMhD,UAAUuI,EAAcD,IAAerF,EAAMjD,UAAUuI,EAAcD,GAE7EC,EADAH,EAAaE,EAGbD,EAAaC,EAEfA,EAAa78B,KAAK4C,OAAOg6B,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,CACT,EAQAnG,EAAiBzwC,UAAUkyC,kBAAoB,SAAUZ,EAAOC,GAE9D,IAAKD,IAAUC,GAASD,EAAMppC,OAAOopC,EAAMhxC,OAAS,IAAMixC,EAAMrpC,OAAOqpC,EAAMjxC,OAAS,GACpF,OAAO,EAQT,IAJA,IAAIo2C,EAAa,EACbC,EAAa58B,KAAKuD,IAAIg0B,EAAMhxC,OAAQixC,EAAMjxC,QAC1Cs2C,EAAaD,EACbG,EAAa,EACVJ,EAAaE,GACdtF,EAAMhD,UAAUgD,EAAMhxC,OAASs2C,EAAYtF,EAAMhxC,OAASw2C,IAAevF,EAAMjD,UAAUiD,EAAMjxC,OAASs2C,EAAYrF,EAAMjxC,OAASw2C,GAErIA,EADAJ,EAAaE,EAGbD,EAAaC,EAEfA,EAAa78B,KAAK4C,OAAOg6B,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,CACT,EAUAnG,EAAiBzwC,UAAU+2C,oBAAsB,SAAUzF,EAAOC,GAEhE,IAAI6C,EAAe9C,EAAMhxC,OACrB+zC,EAAe9C,EAAMjxC,OAEzB,GAAoB,GAAhB8zC,GAAqC,GAAhBC,EACvB,OAAO,EAGLD,EAAeC,EACjB/C,EAAQA,EAAMhD,UAAU8F,EAAeC,GAC9BD,EAAeC,IACxB9C,EAAQA,EAAMjD,UAAU,EAAG8F,IAE7B,IAAI4C,EAAcj9B,KAAKuD,IAAI82B,EAAcC,GAEzC,GAAI/C,GAASC,EACX,OAAOyF,EAQT,IAFA,IAAIC,EAAO,EACP32C,EAAS,IACA,CACX,IAAI6hC,EAAUmP,EAAMhD,UAAU0I,EAAc12C,GACxC42C,EAAQ3F,EAAMpxC,QAAQgiC,GAC1B,IAAc,GAAV+U,EACF,OAAOD,EAET32C,GAAU42C,EACG,GAATA,GAAc5F,EAAMhD,UAAU0I,EAAc12C,IAAWixC,EAAMjD,UAAU,EAAGhuC,KAC5E22C,EAAO32C,EACPA,IAEJ,CACF,EAaAmwC,EAAiBzwC,UAAU2yC,gBAAkB,SAAUrB,EAAOC,GAC5D,GAAI7xB,KAAKgxB,cAAgB,EAEvB,OAAO,KAET,IAAI8B,EAAWlB,EAAMhxC,OAASixC,EAAMjxC,OAASgxC,EAAQC,EACjDkB,EAAYnB,EAAMhxC,OAASixC,EAAMjxC,OAASixC,EAAQD,EACtD,GAAIkB,EAASlyC,OAAS,GAAwB,EAAnBmyC,EAAUnyC,OAAakyC,EAASlyC,OACzD,OAAO,KAET,IAAI62C,EAAMz3B,KAcV,SAAS03B,EAAiB5E,EAAUC,EAAWpyC,GAM7C,IAJA,IAGIg3C,EAAiBC,EAAiBC,EAAkBC,EAHpDC,EAAOjF,EAASlE,UAAUjuC,EAAGA,EAAI0Z,KAAK4C,MAAM61B,EAASlyC,OAAS,IAC9D6zC,GAAK,EACLuD,EAAc,IAE8B,IAAxCvD,EAAI1B,EAAUtyC,QAAQs3C,EAAMtD,EAAI,KAAW,CACjD,IAAIwD,EAAeR,EAAInF,kBAAkBQ,EAASlE,UAAUjuC,GAAIoyC,EAAUnE,UAAU6F,IAChFyD,EAAeT,EAAIjF,kBAAkBM,EAASlE,UAAU,EAAGjuC,GAAIoyC,EAAUnE,UAAU,EAAG6F,IACtFuD,EAAYp3C,OAASs3C,EAAeD,IACtCD,EAAcjF,EAAUnE,UAAU6F,EAAIyD,EAAczD,GAAK1B,EAAUnE,UAAU6F,EAAGA,EAAIwD,GACpFN,EAAkB7E,EAASlE,UAAU,EAAGjuC,EAAIu3C,GAC5CN,EAAkB9E,EAASlE,UAAUjuC,EAAIs3C,GACzCJ,EAAmB9E,EAAUnE,UAAU,EAAG6F,EAAIyD,GAC9CJ,EAAmB/E,EAAUnE,UAAU6F,EAAIwD,GAE/C,CACA,OAAyB,EAArBD,EAAYp3C,QAAckyC,EAASlyC,OAC9B,CAAC+2C,EAAiBC,EAAiBC,EAAkBC,EAAkBE,GAEvE,IAEX,CAGA,IAGIhF,EAaAE,EAASC,EAASC,EAASC,EAhB3B8E,EAAMT,EAAiB5E,EAAUC,EAAW14B,KAAK0C,KAAK+1B,EAASlyC,OAAS,IAExEw3C,EAAMV,EAAiB5E,EAAUC,EAAW14B,KAAK0C,KAAK+1B,EAASlyC,OAAS,IAE5E,OAAKu3C,GAAQC,GAQXpF,EANUoF,EAEAD,GAILA,EAAI,GAAGv3C,OAASw3C,EAAI,GAAGx3C,OAASu3C,EAHhCC,EAFAD,EAUHvG,EAAMhxC,OAASixC,EAAMjxC,QACvBsyC,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,KAEbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbE,EAAUF,EAAG,GACbG,EAAUH,EAAG,IAGR,CAACE,EAASC,EAASC,EAASC,EADlBL,EAAG,KAvBX,IAyBX,EAMAjC,EAAiBzwC,UAAU4zC,qBAAuB,SAAUxB,GAc1D,IAbA,IAAI2F,GAAU,EACVC,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfrE,EAAU,EAEVsE,EAAqB,EACrBC,EAAoB,EAEpBC,EAAqB,EACrBC,EAAoB,EACjBzE,EAAUzB,EAAM9xC,QA/oBR,GAgpBT8xC,EAAMyB,GAAS,IAEjBmE,EAAWC,KAAsBpE,EACjCsE,EAAqBE,EACrBD,EAAoBE,EACpBD,EAAqB,EACrBC,EAAoB,EACpBJ,EAAe9F,EAAMyB,GAAS,KAxpBlB,GA2pBRzB,EAAMyB,GAAS,GACjBwE,GAAsBjG,EAAMyB,GAAS,GAAGvzC,OAExCg4C,GAAqBlG,EAAMyB,GAAS,GAAGvzC,OAIrC43C,GAAgBA,EAAa53C,QAAUyZ,KAAKqD,IAAI+6B,EAAoBC,IAAsBF,EAAa53C,QAAUyZ,KAAKqD,IAAIi7B,EAAoBC,KAEhJlG,EAAM32B,OAAOu8B,EAAWC,EAAmB,GAAI,EAAG,IAAIxH,EAAiBS,KAAKD,EAAaiH,IAEzF9F,EAAM4F,EAAWC,EAAmB,GAAK,GAAG,GAtqBlC,EAwqBVA,IAGApE,IADAoE,EAC6B,EAAID,EAAWC,EAAmB,IAAM,EACrEE,EAAqB,EACrBC,EAAoB,EACpBC,EAAqB,EACrBC,EAAoB,EACpBJ,EAAe,KACfH,GAAU,IAGdlE,IAgBF,IAZIkE,GACFr4B,KAAK6yB,kBAAkBH,GAEzB1yB,KAAK64B,6BAA6BnG,GAQlCyB,EAAU,EACHA,EAAUzB,EAAM9xC,QAAQ,CAC7B,GAAI8xC,EAAMyB,EAAU,GAAG,IAAM5C,GArsBf,GAqsB8BmB,EAAMyB,GAAS,GAAmB,CAC5E,IAAI2E,EAAWpG,EAAMyB,EAAU,GAAG,GAC9B4E,EAAYrG,EAAMyB,GAAS,GAC3B6E,EAAkBh5B,KAAKq3B,oBAAoByB,EAAUC,GACrDE,EAAkBj5B,KAAKq3B,oBAAoB0B,EAAWD,GACtDE,GAAmBC,GACjBD,GAAmBF,EAASl4C,OAAS,GAAKo4C,GAAmBD,EAAUn4C,OAAS,KAElF8xC,EAAM32B,OAAOo4B,EAAS,EAAG,IAAIpD,EAAiBS,KA5sBvC,EA4sBwDuH,EAAUnK,UAAU,EAAGoK,KACtFtG,EAAMyB,EAAU,GAAG,GAAK2E,EAASlK,UAAU,EAAGkK,EAASl4C,OAASo4C,GAChEtG,EAAMyB,EAAU,GAAG,GAAK4E,EAAUnK,UAAUoK,GAC5C7E,MAGE8E,GAAmBH,EAASl4C,OAAS,GAAKq4C,GAAmBF,EAAUn4C,OAAS,KAGlF8xC,EAAM32B,OAAOo4B,EAAS,EAAG,IAAIpD,EAAiBS,KArtBvC,EAqtBwDsH,EAASlK,UAAU,EAAGqK,KACrFvG,EAAMyB,EAAU,GAAG,GAvtBX,EAwtBRzB,EAAMyB,EAAU,GAAG,GAAK4E,EAAUnK,UAAU,EAAGmK,EAAUn4C,OAASq4C,GAClEvG,EAAMyB,EAAU,GAAG,GAAK5C,EACxBmB,EAAMyB,EAAU,GAAG,GAAK2E,EAASlK,UAAUqK,GAC3C9E,KAGJA,GACF,CACAA,GACF,CACF,EAQApD,EAAiBzwC,UAAUu4C,6BAA+B,SAAUnG,GAWlE,SAASwG,EAA2BC,EAAKC,GACvC,IAAKD,IAAQC,EAEX,OAAO,EAQT,IAAIC,EAAQF,EAAI3wC,OAAO2wC,EAAIv4C,OAAS,GAChC04C,EAAQF,EAAI5wC,OAAO,GACnB+wC,EAAmBF,EAAM7/B,MAAMu3B,EAAiByI,uBAChDC,EAAmBH,EAAM9/B,MAAMu3B,EAAiByI,uBAChDE,EAAcH,GAAoBF,EAAM7/B,MAAMu3B,EAAiB4I,kBAC/DC,EAAcH,GAAoBH,EAAM9/B,MAAMu3B,EAAiB4I,kBAC/DE,EAAaH,GAAeL,EAAM7/B,MAAMu3B,EAAiB+I,iBACzDC,EAAaH,GAAeN,EAAM9/B,MAAMu3B,EAAiB+I,iBACzDE,EAAaH,GAAcV,EAAI3/B,MAAMu3B,EAAiBkJ,oBACtDC,EAAaH,GAAcX,EAAI5/B,MAAMu3B,EAAiBoJ,sBAC1D,OAAIH,GAAcE,EAET,EACEL,GAAcE,EAEhB,EACER,IAAqBG,GAAeE,EAEtC,EACEF,GAAeE,EAEjB,EACEL,GAAoBE,EAEtB,EAEF,CACT,CAGA,IAFA,IAAItF,EAAU,EAEPA,EAAUzB,EAAM9xC,OAAS,GAAG,CACjC,GA9xBa,GA8xBT8xC,EAAMyB,EAAU,GAAG,IA9xBV,GA8xB8BzB,EAAMyB,EAAU,GAAG,GAAkB,CAE9E,IAAIiG,EAAY1H,EAAMyB,EAAU,GAAG,GAC/BkG,EAAO3H,EAAMyB,GAAS,GACtBmG,EAAY5H,EAAMyB,EAAU,GAAG,GAG/BoG,EAAev6B,KAAKwyB,kBAAkB4H,EAAWC,GACrD,GAAIE,EAAc,CAChB,IAAIC,EAAeH,EAAKzL,UAAUyL,EAAKz5C,OAAS25C,GAChDH,EAAYA,EAAUxL,UAAU,EAAGwL,EAAUx5C,OAAS25C,GACtDF,EAAOG,EAAeH,EAAKzL,UAAU,EAAGyL,EAAKz5C,OAAS25C,GACtDD,EAAYE,EAAeF,CAC7B,CAOA,IAJA,IAAIG,EAAgBL,EAChBM,EAAWL,EACXM,EAAgBL,EAChBM,EAAY1B,EAA2BkB,EAAWC,GAAQnB,EAA2BmB,EAAMC,GACxFD,EAAK7xC,OAAO,KAAO8xC,EAAU9xC,OAAO,IAAI,CAC7C4xC,GAAaC,EAAK7xC,OAAO,GACzB6xC,EAAOA,EAAKzL,UAAU,GAAK0L,EAAU9xC,OAAO,GAC5C8xC,EAAYA,EAAU1L,UAAU,GAChC,IAAIiM,EAAQ3B,EAA2BkB,EAAWC,GAAQnB,EAA2BmB,EAAMC,GAEvFO,GAASD,IACXA,EAAYC,EACZJ,EAAgBL,EAChBM,EAAWL,EACXM,EAAgBL,EAEpB,CACI5H,EAAMyB,EAAU,GAAG,IAAMsG,IAEvBA,EACF/H,EAAMyB,EAAU,GAAG,GAAKsG,GAExB/H,EAAM32B,OAAOo4B,EAAU,EAAG,GAC1BA,KAEFzB,EAAMyB,GAAS,GAAKuG,EAChBC,EACFjI,EAAMyB,EAAU,GAAG,GAAKwG,GAExBjI,EAAM32B,OAAOo4B,EAAU,EAAG,GAC1BA,KAGN,CACAA,GACF,CACF,EAGApD,EAAiByI,sBAAwB,eACzCzI,EAAiB4I,iBAAmB,KACpC5I,EAAiB+I,gBAAkB,SACnC/I,EAAiBkJ,mBAAqB,WACtClJ,EAAiBoJ,qBAAuB,cAMxCpJ,EAAiBzwC,UAAUw6C,uBAAyB,SAAUpI,GAgB5D,IAfA,IAAI2F,GAAU,EACVC,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfrE,EAAU,EAEV4G,GAAU,EAEVC,GAAU,EAEVC,GAAW,EAEXC,GAAW,EACR/G,EAAUzB,EAAM9xC,QA/2BR,GAg3BT8xC,EAAMyB,GAAS,IAEbzB,EAAMyB,GAAS,GAAGvzC,OAASof,KAAKixB,gBAAkBgK,GAAYC,IAEhE5C,EAAWC,KAAsBpE,EACjC4G,EAAUE,EACVD,EAAUE,EACV1C,EAAe9F,EAAMyB,GAAS,KAG9BoE,EAAmB,EACnBC,EAAe,MAEjByC,EAAWC,GAAW,IAGlBxI,EAAMyB,GAAS,IAAM5C,EACvB2J,GAAW,EAEXD,GAAW,EAUTzC,IAAiBuC,GAAWC,GAAWC,GAAYC,GAAY1C,EAAa53C,OAASof,KAAKixB,cAAgB,GAAK8J,EAAUC,EAAUC,EAAWC,GAAY,KAE5JxI,EAAM32B,OAAOu8B,EAAWC,EAAmB,GAAI,EAAG,IAAIxH,EAAiBS,KAAKD,EAAaiH,IAEzF9F,EAAM4F,EAAWC,EAAmB,GAAK,GAAG,GAl5BlC,EAm5BVA,IACAC,EAAe,KACXuC,GAAWC,GAEbC,EAAWC,GAAW,EACtB3C,EAAmB,IAGnBpE,IADAoE,EAC6B,EAAID,EAAWC,EAAmB,IAAM,EACrE0C,EAAWC,GAAW,GAExB7C,GAAU,IAGdlE,IAEEkE,GACFr4B,KAAK6yB,kBAAkBH,EAE3B,EAOA3B,EAAiBzwC,UAAUuyC,kBAAoB,SAAUH,GAEvDA,EAAM3wB,KAAK,IAAIgvB,EAAiBS,KA96BjB,EA86BkC,KAOjD,IANA,IAKIa,EALA8B,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAEXJ,EAAUzB,EAAM9xC,QACrB,OAAQ8xC,EAAMyB,GAAS,IACrB,KAx7BY,EAy7BVE,IACAE,GAAe7B,EAAMyB,GAAS,GAC9BA,IACA,MACF,KAAK5C,EACH6C,IACAE,GAAe5B,EAAMyB,GAAS,GAC9BA,IACA,MACF,KAj8BW,EAm8BLC,EAAeC,EAAe,GACX,IAAjBD,GAAuC,IAAjBC,IAGH,KADrBhC,EAAeryB,KAAKsyB,kBAAkBiC,EAAaD,MAE7CH,EAAUC,EAAeC,EAAe,GAx8BzC,GAw8B8C3B,EAAMyB,EAAUC,EAAeC,EAAe,GAAG,GAChG3B,EAAMyB,EAAUC,EAAeC,EAAe,GAAG,IAAME,EAAY3F,UAAU,EAAGyD,IAEhFK,EAAM32B,OAAO,EAAG,EAAG,IAAIg1B,EAAiBS,KA38BvC,EA28BwD+C,EAAY3F,UAAU,EAAGyD,KAClF8B,KAEFI,EAAcA,EAAY3F,UAAUyD,GACpCiC,EAAcA,EAAY1F,UAAUyD,IAIjB,KADrBA,EAAeryB,KAAKwyB,kBAAkB+B,EAAaD,MAEjD5B,EAAMyB,GAAS,GAAKI,EAAY3F,UAAU2F,EAAY3zC,OAASyxC,GAAgBK,EAAMyB,GAAS,GAC9FI,EAAcA,EAAY3F,UAAU,EAAG2F,EAAY3zC,OAASyxC,GAC5DiC,EAAcA,EAAY1F,UAAU,EAAG0F,EAAY1zC,OAASyxC,KAIhE8B,GAAWC,EAAeC,EAC1B3B,EAAM32B,OAAOo4B,EAASC,EAAeC,GACjCC,EAAY1zC,SACd8xC,EAAM32B,OAAOo4B,EAAS,EAAG,IAAIpD,EAAiBS,KAAKD,EAAa+C,IAChEH,KAEEI,EAAY3zC,SACd8xC,EAAM32B,OAAOo4B,EAAS,EAAG,IAAIpD,EAAiBS,KAl+BxC,EAk+B0D+C,IAChEJ,KAEFA,KACqB,IAAZA,GAr+BF,GAq+BmBzB,EAAMyB,EAAU,GAAG,IAE7CzB,EAAMyB,EAAU,GAAG,IAAMzB,EAAMyB,GAAS,GACxCzB,EAAM32B,OAAOo4B,EAAS,IAEtBA,IAEFE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GAIe,KAA/B7B,EAAMA,EAAM9xC,OAAS,GAAG,IAC1B8xC,EAAMnsB,MAMR,IAAI8xB,GAAU,EAGd,IAFAlE,EAAU,EAEHA,EAAUzB,EAAM9xC,OAAS,GA7/BjB,GA8/BT8xC,EAAMyB,EAAU,GAAG,IA9/BV,GA8/B8BzB,EAAMyB,EAAU,GAAG,KAExDzB,EAAMyB,GAAS,GAAGvF,UAAU8D,EAAMyB,GAAS,GAAGvzC,OAAS8xC,EAAMyB,EAAU,GAAG,GAAGvzC,SAAW8xC,EAAMyB,EAAU,GAAG,IAE7GzB,EAAMyB,GAAS,GAAKzB,EAAMyB,EAAU,GAAG,GAAKzB,EAAMyB,GAAS,GAAGvF,UAAU,EAAG8D,EAAMyB,GAAS,GAAGvzC,OAAS8xC,EAAMyB,EAAU,GAAG,GAAGvzC,QAC5H8xC,EAAMyB,EAAU,GAAG,GAAKzB,EAAMyB,EAAU,GAAG,GAAKzB,EAAMyB,EAAU,GAAG,GACnEzB,EAAM32B,OAAOo4B,EAAU,EAAG,GAC1BkE,GAAU,GACD3F,EAAMyB,GAAS,GAAGvF,UAAU,EAAG8D,EAAMyB,EAAU,GAAG,GAAGvzC,SAAW8xC,EAAMyB,EAAU,GAAG,KAE5FzB,EAAMyB,EAAU,GAAG,IAAMzB,EAAMyB,EAAU,GAAG,GAC5CzB,EAAMyB,GAAS,GAAKzB,EAAMyB,GAAS,GAAGvF,UAAU8D,EAAMyB,EAAU,GAAG,GAAGvzC,QAAU8xC,EAAMyB,EAAU,GAAG,GACnGzB,EAAM32B,OAAOo4B,EAAU,EAAG,GAC1BkE,GAAU,IAGdlE,IAGEkE,GACFr4B,KAAK6yB,kBAAkBH,EAE3B,EAUA3B,EAAiBzwC,UAAU66C,YAAc,SAAUzI,EAAO0I,GACxD,IAIInG,EAJApB,EAAS,EACTC,EAAS,EACTuH,EAAc,EACdC,EAAc,EAElB,IAAKrG,EAAI,EAAGA,EAAIvC,EAAM9xC,SAriCN,IAsiCV8xC,EAAMuC,GAAG,KAEXpB,GAAUnB,EAAMuC,GAAG,GAAGr0C,QAEpB8xC,EAAMuC,GAAG,KAAO1D,IAElBuC,GAAUpB,EAAMuC,GAAG,GAAGr0C,UAEpBizC,EAASuH,IATenG,IAa5BoG,EAAcxH,EACdyH,EAAcxH,EAGhB,OAAIpB,EAAM9xC,QAAUq0C,GAAKvC,EAAMuC,GAAG,KAAO1D,EAChC+J,EAGFA,GAAeF,EAAMC,EAC9B,EAOAtK,EAAiBzwC,UAAUi7C,gBAAkB,SAAU7I,GAMrD,IALA,IAAI8I,EAAO,GACPC,EAAc,KACdC,EAAa,KACbC,EAAa,KACbC,EAAe,MACV3G,EAAI,EAAGA,EAAIvC,EAAM9xC,OAAQq0C,IAAK,CACrC,IAAIxD,EAAKiB,EAAMuC,GAAG,GAEdvD,EADOgB,EAAMuC,GAAG,GACJx9B,QAAQgkC,EAAa,SAAShkC,QAAQikC,EAAY,QAAQjkC,QAAQkkC,EAAY,QAAQlkC,QAAQmkC,EAAc,cAC5H,OAAQnK,GACN,KA7kCY,EA8kCV+J,EAAKvG,GAAK,oCAAsCvD,EAAO,SACvD,MACF,KAAKH,EACHiK,EAAKvG,GAAK,oCAAsCvD,EAAO,SACvD,MACF,KAllCW,EAmlCT8J,EAAKvG,GAAK,SAAWvD,EAAO,UAGlC,CACA,OAAO8J,EAAKnqC,KAAK,GACnB,EAOA0/B,EAAiBzwC,UAAUu7C,WAAa,SAAUnJ,GAEhD,IADA,IAAIhB,EAAO,GACFuD,EAAI,EAAGA,EAAIvC,EAAM9xC,OAAQq0C,IAlmClB,IAmmCVvC,EAAMuC,GAAG,KACXvD,EAAKuD,GAAKvC,EAAMuC,GAAG,IAGvB,OAAOvD,EAAKrgC,KAAK,GACnB,EAOA0/B,EAAiBzwC,UAAUw7C,WAAa,SAAUpJ,GAEhD,IADA,IAAIhB,EAAO,GACFuD,EAAI,EAAGA,EAAIvC,EAAM9xC,OAAQq0C,IAC5BvC,EAAMuC,GAAG,KAAO1D,IAClBG,EAAKuD,GAAKvC,EAAMuC,GAAG,IAGvB,OAAOvD,EAAKrgC,KAAK,GACnB,EAQA0/B,EAAiBzwC,UAAUy7C,iBAAmB,SAAUrJ,GAItD,IAHA,IAAIsJ,EAAc,EACdC,EAAa,EACbC,EAAY,EACPjH,EAAI,EAAGA,EAAIvC,EAAM9xC,OAAQq0C,IAAK,CACrC,IAAIxD,EAAKiB,EAAMuC,GAAG,GACd5zB,EAAOqxB,EAAMuC,GAAG,GACpB,OAAQxD,GACN,KAvoCY,EAwoCVwK,GAAc56B,EAAKzgB,OACnB,MACF,KAAK2wC,EACH2K,GAAa76B,EAAKzgB,OAClB,MACF,KA5oCW,EA8oCTo7C,GAAe3hC,KAAKqD,IAAIu+B,EAAYC,GACpCD,EAAa,EACbC,EAAY,EAGlB,CAEA,OADAF,GAAe3hC,KAAKqD,IAAIu+B,EAAYC,EAEtC,EAUAnL,EAAiBzwC,UAAU67C,aAAe,SAAUzJ,GAElD,IADA,IAAIhB,EAAO,GACFuD,EAAI,EAAGA,EAAIvC,EAAM9xC,OAAQq0C,IAChC,OAAQvC,EAAMuC,GAAG,IACf,KArqCY,EAsqCVvD,EAAKuD,GAAK,IAAMmH,UAAU1J,EAAMuC,GAAG,IACnC,MACF,KAAK1D,EACHG,EAAKuD,GAAK,IAAMvC,EAAMuC,GAAG,GAAGr0C,OAC5B,MACF,KA1qCW,EA2qCT8wC,EAAKuD,GAAK,IAAMvC,EAAMuC,GAAG,GAAGr0C,OAIlC,OAAO8wC,EAAKrgC,KAAK,MAAMoG,QAAQ,OAAQ,IACzC,EAUAs5B,EAAiBzwC,UAAU+7C,eAAiB,SAAUzK,EAAOsD,GAK3D,IAJA,IAAIxC,EAAQ,GACR4J,EAAc,EACdnI,EAAU,EACVoI,EAASrH,EAAMx7B,MAAM,OAChBu7B,EAAI,EAAGA,EAAIsH,EAAO37C,OAAQq0C,IAAK,CAGtC,IAAIuH,EAAQD,EAAOtH,GAAGrG,UAAU,GAChC,OAAQ2N,EAAOtH,GAAGzsC,OAAO,IACvB,IAAK,IACH,IACEkqC,EAAM4J,KAAiB,IAAIvL,EAAiBS,KAvsCpC,EAusCsDiL,UAAUD,GAC1E,CAAE,MAAOE,GAEP,MAAM,IAAItiC,MAAM,qCAAuCoiC,EACzD,CACA,MACF,IAAK,IAEL,IAAK,IACH,IAAInlC,EAAI/E,SAASkqC,EAAO,IACxB,GAAI9R,MAAMrzB,IAAMA,EAAI,EAClB,MAAM,IAAI+C,MAAM,qCAAuCoiC,GAEzD,IAAI9K,EAAOE,EAAMhD,UAAUuF,EAASA,GAAW98B,GACpB,KAAvBklC,EAAOtH,GAAGzsC,OAAO,GACnBkqC,EAAM4J,KAAiB,IAAIvL,EAAiBS,KArtCrC,EAqtCsDE,GAE7DgB,EAAM4J,KAAiB,IAAIvL,EAAiBS,KAAKD,EAAaG,GAEhE,MACF,QAGE,GAAI6K,EAAOtH,GACT,MAAM,IAAI76B,MAAM,6CAA+CmiC,EAAOtH,IAG9E,CACA,GAAId,GAAWvC,EAAMhxC,OACnB,MAAM,IAAIwZ,MAAM,iBAAmB+5B,EAAU,wCAA0CvC,EAAMhxC,OAAS,MAExG,OAAO8xC,CACT,EAWA3B,EAAiBzwC,UAAUq8C,WAAa,SAAUjL,EAAMjP,EAAS2Y,GAE/D,GAAY,MAAR1J,GAA2B,MAAXjP,GAA0B,MAAP2Y,EACrC,MAAM,IAAIhhC,MAAM,4BAGlB,OADAghC,EAAM/gC,KAAKqD,IAAI,EAAGrD,KAAKuD,IAAIw9B,EAAK1J,EAAK9wC,SACjC8wC,GAAQjP,EAEH,EACGiP,EAAK9wC,OAGN8wC,EAAK9C,UAAUwM,EAAKA,EAAM3Y,EAAQ7hC,SAAW6hC,EAE/C2Y,EAGAp7B,KAAK48B,aAAalL,EAAMjP,EAAS2Y,IANhC,CAQZ,EAWArK,EAAiBzwC,UAAUs8C,aAAe,SAAUlL,EAAMjP,EAAS2Y,GACjE,GAAI3Y,EAAQ7hC,OAASof,KAAKsxB,cACxB,MAAM,IAAIl3B,MAAM,sCAIlB,IAAIna,EAAI+f,KAAK68B,gBAAgBpa,GACzBgV,EAAMz3B,KAUV,SAAS88B,EAAkB58C,EAAG+0C,GAC5B,IAAI8H,EAAW78C,EAAIuiC,EAAQ7hC,OACvBo8C,EAAY3iC,KAAK4iC,IAAI7B,EAAMnG,GAC/B,OAAKwC,EAAItG,eAIF4L,EAAWC,EAAYvF,EAAItG,eAFzB6L,EAAY,EAAMD,CAG7B,CAGA,IAAIG,EAAkBl9B,KAAKkxB,gBAEvBiM,EAAWzL,EAAKjxC,QAAQgiC,EAAS2Y,IACpB,GAAb+B,IACFD,EAAkB7iC,KAAKuD,IAAIk/B,EAAkB,EAAGK,GAAWD,IAG1C,IADjBC,EAAWzL,EAAKxG,YAAYzI,EAAS2Y,EAAM3Y,EAAQ7hC,WAEjDs8C,EAAkB7iC,KAAKuD,IAAIk/B,EAAkB,EAAGK,GAAWD,KAK/D,IAEIE,EAASC,EAFTC,EAAY,GAAK7a,EAAQ7hC,OAAS,EACtCu8C,GAAY,EAIZ,IAFA,IACII,EADAC,EAAU/a,EAAQ7hC,OAAS8wC,EAAK9wC,OAE3B40C,EAAI,EAAGA,EAAI/S,EAAQ7hC,OAAQ40C,IAAK,CAMvC,IAFA4H,EAAU,EACVC,EAAUG,EACHJ,EAAUC,GACXP,EAAkBtH,EAAG4F,EAAMiC,IAAYH,EACzCE,EAAUC,EAEVG,EAAUH,EAEZA,EAAUhjC,KAAK4C,OAAOugC,EAAUJ,GAAW,EAAIA,GAGjDI,EAAUH,EACV,IAAIruB,EAAQ3U,KAAKqD,IAAI,EAAG09B,EAAMiC,EAAU,GACpCI,EAASpjC,KAAKuD,IAAIw9B,EAAMiC,EAAS3L,EAAK9wC,QAAU6hC,EAAQ7hC,OACxD88C,EAAK/nC,MAAM8nC,EAAS,GACxBC,EAAGD,EAAS,IAAM,GAAKjI,GAAK,EAC5B,IAAK,IAAIf,EAAIgJ,EAAQhJ,GAAKzlB,EAAOylB,IAAK,CAGpC,IAAIkJ,EAAY19C,EAAEyxC,EAAKlpC,OAAOisC,EAAI,IAQlC,GALEiJ,EAAGjJ,GAFK,IAANe,GAEOkI,EAAGjJ,EAAI,IAAM,EAAI,GAAKkJ,GAGtBD,EAAGjJ,EAAI,IAAM,EAAI,GAAKkJ,GAAcJ,EAAQ9I,EAAI,GAAK8I,EAAQ9I,KAAO,EAAI,EAAK8I,EAAQ9I,EAAI,GAEhGiJ,EAAGjJ,GAAK6I,EAAW,CACrB,IAAIzC,EAAQiC,EAAkBtH,EAAGf,EAAI,GAGrC,GAAIoG,GAASqC,EAAiB,CAI5B,GAFAA,EAAkBrC,KAClBsC,EAAW1I,EAAI,GACA2G,GAKb,MAHApsB,EAAQ3U,KAAKqD,IAAI,EAAG,EAAI09B,EAAM+B,EAKlC,CACF,CACF,CAEA,GAAIL,EAAkBtH,EAAI,EAAG4F,GAAO8B,EAClC,MAEFK,EAAUG,CACZ,CACA,OAAOP,CACT,EAQApM,EAAiBzwC,UAAUu8C,gBAAkB,SAAUpa,GAErD,IADA,IAAIxiC,EAAI,CAAC,EACAU,EAAI,EAAGA,EAAI8hC,EAAQ7hC,OAAQD,IAClCV,EAAEwiC,EAAQj6B,OAAO7H,IAAM,EAEzB,IAASA,EAAI,EAAGA,EAAI8hC,EAAQ7hC,OAAQD,IAClCV,EAAEwiC,EAAQj6B,OAAO7H,KAAO,GAAK8hC,EAAQ7hC,OAASD,EAAI,EAEpD,OAAOV,CACT,EAWA8wC,EAAiBzwC,UAAUs9C,kBAAoB,SAAUC,EAAOnM,GAC9D,GAAmB,GAAfA,EAAK9wC,OAAT,CAGA,GAAqB,OAAjBi9C,EAAMC,OACR,MAAM1jC,MAAM,yBAOd,IALA,IAAIqoB,EAAUiP,EAAK9C,UAAUiP,EAAMC,OAAQD,EAAMC,OAASD,EAAME,SAC5DC,EAAU,EAIPtM,EAAKjxC,QAAQgiC,IAAYiP,EAAKxG,YAAYzI,IAAYA,EAAQ7hC,OAASof,KAAKsxB,cAAgBtxB,KAAKqxB,aAAerxB,KAAKqxB,cAC1H2M,GAAWh+B,KAAKqxB,aAChB5O,EAAUiP,EAAK9C,UAAUiP,EAAMC,OAASE,EAASH,EAAMC,OAASD,EAAME,QAAUC,GAGlFA,GAAWh+B,KAAKqxB,aAGhB,IAAIpC,EAASyC,EAAK9C,UAAUiP,EAAMC,OAASE,EAASH,EAAMC,QACtD7O,GACF4O,EAAMnL,MAAME,QAAQ,IAAI7B,EAAiBS,KAv6C5B,EAu6C6CvC,IAG5D,IAAIgP,EAASvM,EAAK9C,UAAUiP,EAAMC,OAASD,EAAME,QAASF,EAAMC,OAASD,EAAME,QAAUC,GACrFC,GACFJ,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KA56CzB,EA46C0CyM,IAIzDJ,EAAMK,QAAUjP,EAAOruC,OACvBi9C,EAAMC,QAAU7O,EAAOruC,OAEvBi9C,EAAME,SAAW9O,EAAOruC,OAASq9C,EAAOr9C,OACxCi9C,EAAMM,SAAWlP,EAAOruC,OAASq9C,EAAOr9C,MAhCxC,CAiCF,EAwBAmwC,EAAiBzwC,UAAU89C,WAAa,SAAUzK,EAAG0K,EAAOC,GAC1D,IAAI1M,EAAOc,EACX,GAAgB,iBAALiB,GAAiC,iBAAT0K,QAAqC,IAATC,EAG7D1M,EAA6B+B,GAC7BjB,EAAQ1yB,KAAK2xB,UAAUC,EAA4ByM,GAAO,IAChDz9C,OAAS,IACjBof,KAAKk0B,qBAAqBxB,GAC1B1yB,KAAK86B,uBAAuBpI,SAEzB,GAAIiB,GAAiB,iBAALA,QAAiC,IAAT0K,QAAwC,IAATC,EAG5E5L,EAAsDiB,EACtD/B,EAAQ5xB,KAAK67B,WAAWnJ,QACnB,GAAgB,iBAALiB,GAAiB0K,GAAyB,iBAATA,QAAqC,IAATC,EAE7E1M,EAA6B+B,EAC7BjB,EAAsD2L,MACjD,IAAgB,iBAAL1K,GAAiC,iBAAT0K,IAAqBC,GAAyB,iBAATA,EAM7E,MAAM,IAAIlkC,MAAM,sCAHhBw3B,EAA6B+B,EAC7BjB,EAAsD4L,CAGxD,CACA,GAAqB,IAAjB5L,EAAM9xC,OACR,MAAO,GAYT,IAVA,IAAI29C,EAAU,GACVV,EAAQ,IAAI9M,EAAiByN,UAC7BC,EAAkB,EAClBC,EAAc,EACdC,EAAc,EAIdC,EAAgBhN,EAChBiN,EAAiBjN,EACZqD,EAAI,EAAGA,EAAIvC,EAAM9xC,OAAQq0C,IAAK,CACrC,IAAI6J,EAAYpM,EAAMuC,GAAG,GACrB8J,EAAYrM,EAAMuC,GAAG,GAMzB,OALKwJ,GAz/CQ,IAy/CWK,IAEtBjB,EAAMK,OAASQ,EACfb,EAAMC,OAASa,GAETG,GACN,KAhgDY,EAigDVjB,EAAMnL,MAAM+L,KAAqB/L,EAAMuC,GACvC4I,EAAMM,SAAWY,EAAUn+C,OAC3Bi+C,EAAiBA,EAAejQ,UAAU,EAAG+P,GAAeI,EAAYF,EAAejQ,UAAU+P,GACjG,MACF,KAAKpN,EACHsM,EAAME,SAAWgB,EAAUn+C,OAC3Bi9C,EAAMnL,MAAM+L,KAAqB/L,EAAMuC,GACvC4J,EAAiBA,EAAejQ,UAAU,EAAG+P,GAAeE,EAAejQ,UAAU+P,EAAcI,EAAUn+C,QAC7G,MACF,KAzgDW,EA0gDLm+C,EAAUn+C,QAAU,EAAIof,KAAKqxB,cAAgBoN,GAAmB/L,EAAM9xC,QAAUq0C,EAAI,GAEtF4I,EAAMnL,MAAM+L,KAAqB/L,EAAMuC,GACvC4I,EAAME,SAAWgB,EAAUn+C,OAC3Bi9C,EAAMM,SAAWY,EAAUn+C,QAClBm+C,EAAUn+C,QAAU,EAAIof,KAAKqxB,cAElCoN,IACFz+B,KAAK49B,kBAAkBC,EAAOe,GAC9BL,EAAQx8B,KAAK87B,GACbA,EAAQ,IAAI9M,EAAiByN,UAC7BC,EAAkB,EAKlBG,EAAgBC,EAChBH,EAAcC,GA5hDR,IAmiDVG,IACFJ,GAAeK,EAAUn+C,QAEvBk+C,IAAcvN,IAChBoN,GAAeI,EAAUn+C,OAE7B,CAMA,OAJI69C,IACFz+B,KAAK49B,kBAAkBC,EAAOe,GAC9BL,EAAQx8B,KAAK87B,IAERU,CACT,EAOAxN,EAAiBzwC,UAAU0+C,eAAiB,SAAUT,GAGpD,IADA,IAAIU,EAAc,GACThK,EAAI,EAAGA,EAAIsJ,EAAQ39C,OAAQq0C,IAAK,CACvC,IAAI4I,EAAQU,EAAQtJ,GAChBiK,EAAY,IAAInO,EAAiByN,UACrCU,EAAUxM,MAAQ,GAClB,IAAK,IAAIwD,EAAI,EAAGA,EAAI2H,EAAMnL,MAAM9xC,OAAQs1C,IACtCgJ,EAAUxM,MAAMwD,GAAK,IAAInF,EAAiBS,KAAKqM,EAAMnL,MAAMwD,GAAG,GAAI2H,EAAMnL,MAAMwD,GAAG,IAEnFgJ,EAAUhB,OAASL,EAAMK,OACzBgB,EAAUpB,OAASD,EAAMC,OACzBoB,EAAUnB,QAAUF,EAAME,QAC1BmB,EAAUf,QAAUN,EAAMM,QAC1Bc,EAAYhK,GAAKiK,CACnB,CACA,OAAOD,CACT,EAUAlO,EAAiBzwC,UAAU6+C,YAAc,SAAUZ,EAAS7M,GAC1D,GAAsB,GAAlB6M,EAAQ39C,OACV,MAAO,CAAC8wC,EAAM,IAIhB6M,EAAUv+B,KAAKg/B,eAAeT,GAC9B,IAAIa,EAAcp/B,KAAKq/B,iBAAiBd,GACxC7M,EAAO0N,EAAc1N,EAAO0N,EAC5Bp/B,KAAKs/B,eAAef,GAOpB,IAFA,IAAIrJ,EAAQ,EACRqK,EAAU,GACLtK,EAAI,EAAGA,EAAIsJ,EAAQ39C,OAAQq0C,IAAK,CACvC,IAEIuK,EAyBE3N,EA3BF4N,EAAelB,EAAQtJ,GAAG6I,OAAS5I,EACnCtD,EAAQ5xB,KAAK67B,WAAW0C,EAAQtJ,GAAGvC,OAEnCgN,GAAW,EAef,GAdI9N,EAAMhxC,OAASof,KAAKsxB,eAIJ,IADlBkO,EAAYx/B,KAAK28B,WAAWjL,EAAME,EAAMhD,UAAU,EAAG5uB,KAAKsxB,eAAgBmO,OAGxD,IADhBC,EAAU1/B,KAAK28B,WAAWjL,EAAME,EAAMhD,UAAUgD,EAAMhxC,OAASof,KAAKsxB,eAAgBmO,EAAe7N,EAAMhxC,OAASof,KAAKsxB,iBAClGkO,GAAaE,KAEhCF,GAAa,GAIjBA,EAAYx/B,KAAK28B,WAAWjL,EAAME,EAAO6N,IAEzB,GAAdD,EAEFD,EAAQtK,IAAK,EAEbC,GAASqJ,EAAQtJ,GAAGkJ,QAAUI,EAAQtJ,GAAG8I,aAWzC,GARAwB,EAAQtK,IAAK,EACbC,EAAQsK,EAAYC,EAOhB7N,IAJFC,GADc,GAAZ6N,EACMhO,EAAK9C,UAAU4Q,EAAWA,EAAY5N,EAAMhxC,QAE5C8wC,EAAK9C,UAAU4Q,EAAWE,EAAU1/B,KAAKsxB,gBAIjDI,EAAOA,EAAK9C,UAAU,EAAG4Q,GAAax/B,KAAK87B,WAAWyC,EAAQtJ,GAAGvC,OAAShB,EAAK9C,UAAU4Q,EAAY5N,EAAMhxC,YACtG,CAGL,IAAI8xC,EAAQ1yB,KAAK2xB,UAAUC,EAAOC,GAAO,GACzC,GAAID,EAAMhxC,OAASof,KAAKsxB,eAAiBtxB,KAAK+7B,iBAAiBrJ,GAASd,EAAMhxC,OAASof,KAAKoxB,sBAE1FmO,EAAQtK,IAAK,MACR,CACLj1B,KAAK64B,6BAA6BnG,GAGlC,IAFA,IACIiN,EADAC,EAAS,EAEJ1J,EAAI,EAAGA,EAAIqI,EAAQtJ,GAAGvC,MAAM9xC,OAAQs1C,IAAK,CAChD,IAAI2J,EAAMtB,EAAQtJ,GAAGvC,MAAMwD,GAlpDtB,IAmpDD2J,EAAI,KACNF,EAAS3/B,KAAKm7B,YAAYzI,EAAOkN,IArpD7B,IAupDFC,EAAI,GAENnO,EAAOA,EAAK9C,UAAU,EAAG4Q,EAAYG,GAAUE,EAAI,GAAKnO,EAAK9C,UAAU4Q,EAAYG,GAC1EE,EAAI,KAAOtO,IAEpBG,EAAOA,EAAK9C,UAAU,EAAG4Q,EAAYG,GAAUjO,EAAK9C,UAAU4Q,EAAYx/B,KAAKm7B,YAAYzI,EAAOkN,EAASC,EAAI,GAAGj/C,UAEhHi/C,EAAI,KAAOtO,IACbqO,GAAUC,EAAI,GAAGj/C,OAErB,CACF,CACF,CAEJ,CAGA,MAAO,CADP8wC,EAAOA,EAAK9C,UAAUwQ,EAAYx+C,OAAQ8wC,EAAK9wC,OAASw+C,EAAYx+C,QACtD2+C,EAChB,EAQAxO,EAAiBzwC,UAAU++C,iBAAmB,SAAUd,GAGtD,IAFA,IAAIuB,EAAgB9/B,KAAKqxB,aACrB+N,EAAc,GACTnK,EAAI,EAAGA,GAAK6K,EAAe7K,IAClCmK,GAAe9kC,OAAOw8B,aAAa7B,GAIrC,IAASA,EAAI,EAAGA,EAAIsJ,EAAQ39C,OAAQq0C,IAClCsJ,EAAQtJ,GAAGiJ,QAAU4B,EACrBvB,EAAQtJ,GAAG6I,QAAUgC,EAIvB,IAAIjC,EAAQU,EAAQ,GAChB7L,EAAQmL,EAAMnL,MAClB,GAAoB,GAAhBA,EAAM9xC,QAhsDK,GAgsDU8xC,EAAM,GAAG,GAEhCA,EAAME,QAAQ,IAAI7B,EAAiBS,KAlsDtB,EAksDuC4N,IACpDvB,EAAMK,QAAU4B,EAChBjC,EAAMC,QAAUgC,EAChBjC,EAAME,SAAW+B,EACjBjC,EAAMM,SAAW2B,OACZ,GAAIA,EAAgBpN,EAAM,GAAG,GAAG9xC,OAAQ,CAE7C,IAAIm/C,EAAcD,EAAgBpN,EAAM,GAAG,GAAG9xC,OAC9C8xC,EAAM,GAAG,GAAK0M,EAAYxQ,UAAU8D,EAAM,GAAG,GAAG9xC,QAAU8xC,EAAM,GAAG,GACnEmL,EAAMK,QAAU6B,EAChBlC,EAAMC,QAAUiC,EAChBlC,EAAME,SAAWgC,EACjBlC,EAAMM,SAAW4B,CACnB,CAiBA,OAZoB,IADpBrN,GADAmL,EAAQU,EAAQA,EAAQ39C,OAAS,IACnB8xC,OACJ9xC,QAptDK,GAotDU8xC,EAAMA,EAAM9xC,OAAS,GAAG,IAE/C8xC,EAAM3wB,KAAK,IAAIgvB,EAAiBS,KAttDnB,EAstDoC4N,IACjDvB,EAAME,SAAW+B,EACjBjC,EAAMM,SAAW2B,GACRA,EAAgBpN,EAAMA,EAAM9xC,OAAS,GAAG,GAAGA,SAEhDm/C,EAAcD,EAAgBpN,EAAMA,EAAM9xC,OAAS,GAAG,GAAGA,OAC7D8xC,EAAMA,EAAM9xC,OAAS,GAAG,IAAMw+C,EAAYxQ,UAAU,EAAGmR,GACvDlC,EAAME,SAAWgC,EACjBlC,EAAMM,SAAW4B,GAEZX,CACT,EAQArO,EAAiBzwC,UAAUg/C,eAAiB,SAAUf,GAEpD,IADA,IAAIyB,EAAahgC,KAAKsxB,cACb2D,EAAI,EAAGA,EAAIsJ,EAAQ39C,OAAQq0C,IAClC,KAAIsJ,EAAQtJ,GAAG8I,SAAWiC,GAA1B,CAGA,IAAIC,EAAW1B,EAAQtJ,GAEvBsJ,EAAQxiC,OAAOk5B,IAAK,GAIpB,IAHA,IAAIiJ,EAAS+B,EAAS/B,OAClBJ,EAASmC,EAASnC,OAClBoC,EAAa,GACgB,IAA1BD,EAASvN,MAAM9xC,QAAc,CAElC,IAAIi9C,EAAQ,IAAI9M,EAAiByN,UAC7B2B,GAAQ,EAOZ,IANAtC,EAAMK,OAASA,EAASgC,EAAWt/C,OACnCi9C,EAAMC,OAASA,EAASoC,EAAWt/C,OAChB,KAAfs/C,IACFrC,EAAME,QAAUF,EAAMM,QAAU+B,EAAWt/C,OAC3Ci9C,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KA7vD7B,EA6vD8C0O,KAExB,IAA1BD,EAASvN,MAAM9xC,QAAgBi9C,EAAME,QAAUiC,EAAahgC,KAAKqxB,cAAc,CACpF,IAAIyN,EAAYmB,EAASvN,MAAM,GAAG,GAC9BqM,EAAYkB,EAASvN,MAAM,GAAG,GAlwDxB,IAmwDNoM,GAEFjB,EAAMM,SAAWY,EAAUn+C,OAC3Bk9C,GAAUiB,EAAUn+C,OACpBi9C,EAAMnL,MAAM3wB,KAAKk+B,EAASvN,MAAM0N,SAChCD,GAAQ,GACCrB,IAAcvN,GAAqC,GAAtBsM,EAAMnL,MAAM9xC,QAxwD3C,GAwwD0Di9C,EAAMnL,MAAM,GAAG,IAAoBqM,EAAUn+C,OAAS,EAAIo/C,GAE3HnC,EAAME,SAAWgB,EAAUn+C,OAC3Bs9C,GAAUa,EAAUn+C,OACpBu/C,GAAQ,EACRtC,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KAAKsN,EAAWC,IACtDkB,EAASvN,MAAM0N,UAGfrB,EAAYA,EAAUnQ,UAAU,EAAGoR,EAAanC,EAAME,QAAU/9B,KAAKqxB,cACrEwM,EAAME,SAAWgB,EAAUn+C,OAC3Bs9C,GAAUa,EAAUn+C,OAnxDb,IAoxDHk+C,GACFjB,EAAMM,SAAWY,EAAUn+C,OAC3Bk9C,GAAUiB,EAAUn+C,QAEpBu/C,GAAQ,EAEVtC,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KAAKsN,EAAWC,IAClDA,GAAakB,EAASvN,MAAM,GAAG,GACjCuN,EAASvN,MAAM0N,QAEfH,EAASvN,MAAM,GAAG,GAAKuN,EAASvN,MAAM,GAAG,GAAG9D,UAAUmQ,EAAUn+C,QAGtE,CAGAs/C,GADAA,EAAalgC,KAAK87B,WAAW+B,EAAMnL,QACX9D,UAAUsR,EAAWt/C,OAASof,KAAKqxB,cAE3D,IAAIgP,EAAcrgC,KAAK67B,WAAWoE,EAASvN,OAAO9D,UAAU,EAAG5uB,KAAKqxB,cAChD,KAAhBgP,IACFxC,EAAME,SAAWsC,EAAYz/C,OAC7Bi9C,EAAMM,SAAWkC,EAAYz/C,OACF,IAAvBi9C,EAAMnL,MAAM9xC,QA1yDP,IA0yDuBi9C,EAAMnL,MAAMmL,EAAMnL,MAAM9xC,OAAS,GAAG,GAClEi9C,EAAMnL,MAAMmL,EAAMnL,MAAM9xC,OAAS,GAAG,IAAMy/C,EAE1CxC,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KA7yD/B,EA6yDgD6O,KAGtDF,GACH5B,EAAQxiC,SAASk5B,EAAG,EAAG4I,EAE3B,CArEA,CAuEJ,EAOA9M,EAAiBzwC,UAAUggD,aAAe,SAAU/B,GAElD,IADA,IAAI7M,EAAO,GACFuD,EAAI,EAAGA,EAAIsJ,EAAQ39C,OAAQq0C,IAClCvD,EAAKuD,GAAKsJ,EAAQtJ,GAEpB,OAAOvD,EAAKrgC,KAAK,GACnB,EAQA0/B,EAAiBzwC,UAAUigD,eAAiB,SAAUC,GACpD,IAAIjC,EAAU,GACd,IAAKiC,EACH,OAAOjC,EAKT,IAHA,IAAI7M,EAAO8O,EAAS9mC,MAAM,MACtB+mC,EAAc,EACdC,EAAc,uCACXD,EAAc/O,EAAK9wC,QAAQ,CAChC,IAAI+/C,EAAIjP,EAAK+O,GAAajnC,MAAMknC,GAChC,IAAKC,EACH,MAAM,IAAIvmC,MAAM,yBAA2Bs3B,EAAK+O,IAElD,IAAI5C,EAAQ,IAAI9M,EAAiByN,UAuBjC,IAtBAD,EAAQx8B,KAAK87B,GACbA,EAAMK,OAAS5rC,SAASquC,EAAE,GAAI,IACjB,KAATA,EAAE,IACJ9C,EAAMK,SACNL,EAAME,QAAU,GACC,KAAR4C,EAAE,GACX9C,EAAME,QAAU,GAEhBF,EAAMK,SACNL,EAAME,QAAUzrC,SAASquC,EAAE,GAAI,KAEjC9C,EAAMC,OAASxrC,SAASquC,EAAE,GAAI,IACjB,KAATA,EAAE,IACJ9C,EAAMC,SACND,EAAMM,QAAU,GACC,KAARwC,EAAE,GACX9C,EAAMM,QAAU,GAEhBN,EAAMC,SACND,EAAMM,QAAU7rC,SAASquC,EAAE,GAAI,KAEjCF,IACOA,EAAc/O,EAAK9wC,QAAQ,CAChC,IAAIggD,EAAOlP,EAAK+O,GAAaj4C,OAAO,GACpC,IACE,IAAIquC,EAAO4F,UAAU/K,EAAK+O,GAAa7R,UAAU,GACnD,CAAE,MAAO8N,GAEP,MAAM,IAAItiC,MAAM,qCAAuCy8B,EACzD,CACA,GAAY,KAAR+J,EAEF/C,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KAAKD,EAAasF,SACnD,GAAY,KAAR+J,EAET/C,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KA53D5B,EA43D8CqF,SACnD,GAAY,KAAR+J,EAET/C,EAAMnL,MAAM3wB,KAAK,IAAIgvB,EAAiBS,KA93D7B,EA83D8CqF,QAClD,IAAY,KAAR+J,EAET,MACK,GAAa,KAATA,EAIT,MAAM,IAAIxmC,MAAM,uBAAyBwmC,EAAO,SAAW/J,EAC7D,CACA4J,GACF,CACF,CACA,OAAOlC,CACT,GAMAxN,EAAiByN,UAAY,WAE3Bx+B,KAAK0yB,MAAQ,GAEb1yB,KAAKk+B,OAAS,KAEdl+B,KAAK89B,OAAS,KAEd99B,KAAK+9B,QAAU,EAEf/9B,KAAKm+B,QAAU,CACjB,GAQ2B79C,UAAUua,SAAW,WAmB9C,IAlBA,IAgBI42B,EADAC,EAAO,CAAC,QAdS,IAAjB1xB,KAAK+9B,QACG/9B,KAAKk+B,OAAS,KACC,GAAhBl+B,KAAK+9B,QACJ/9B,KAAKk+B,OAAS,EAEdl+B,KAAKk+B,OAAS,EAAI,IAAMl+B,KAAK+9B,SASV,MAPV,IAAjB/9B,KAAKm+B,QACGn+B,KAAK89B,OAAS,KACC,GAAhB99B,KAAKm+B,QACJn+B,KAAK89B,OAAS,EAEd99B,KAAK89B,OAAS,EAAI,IAAM99B,KAAKm+B,SAEO,SAGvClJ,EAAI,EAAGA,EAAIj1B,KAAK0yB,MAAM9xC,OAAQq0C,IAAK,CAC1C,OAAQj1B,KAAK0yB,MAAMuC,GAAG,IACpB,KA37DY,EA47DVxD,EAAK,IACL,MACF,KAAKF,EACHE,EAAK,IACL,MACF,KAh8DW,EAi8DTA,EAAK,IAGTC,EAAKuD,EAAI,GAAKxD,EAAK2K,UAAUp8B,KAAK0yB,MAAMuC,GAAG,IAAM,IACnD,CACA,OAAOvD,EAAKrgC,KAAK,IAAIoG,QAAQ,OAAQ,IACvC,EAGAxE,EAAOH,QAAUi+B,EACjB99B,EAAOH,QAAQi+B,iBAAmBA,EAClC99B,EAAOH,QAAQy+B,YAAcA,EAC7Bt+B,EAAOH,QAAQ+tC,YA98DG,EA+8DlB5tC,EAAOH,QAAQguC,WA98DE,CAg9DV,EAED,IACA,CAAEC,EAAyB,EAAqB,KAEtD,aAGA,EAAoBvL,EAAE,EAAqB,CACzC,QAAW,IAAM,IAInB,IAAIwL,EAAY,EAAoB,KAEhCC,EAAgB,EAAoB,KAEpCC,EAAc,EAAoB,KAElCC,EAAa,EAAoB,KAEjCC,EAAkB,EAAoB,KAEtCC,EAAiB,EAAoB,KAErCC,EAAkB,EAAoB,KAEtCC,EAAsB,SAAUC,QAChB,IAAZA,IAAsBA,EAAUC,UACpC,IAAIC,EAAU,SAAUC,GACpB,IAAIC,EAAYH,SAASI,cAAc,OACvCD,EAAUE,IAAMH,EAAGI,aAAa,YAChCH,EAAUI,iBAAiB,QAAQ,WAC1BL,EAAGI,aAAa,UAAaJ,EAAGI,aAAa,UAC7CJ,EAAGI,aAAa,UAAaJ,EAAGI,aAAa,WAC1CH,EAAUK,cAAgBL,EAAUM,cACpCN,EAAUM,aAAeN,EAAUK,cAC/BR,SAASU,cAAc,iBAAiBC,aAAeC,OAAOC,YAAc,KAChFV,EAAUK,cAAiBI,OAAOC,YAAc,KAChDX,EAAG5+C,MAAMgD,OAAUs8C,OAAOC,YAAc,GAAM,MAGtDX,EAAGG,IAAMF,EAAUE,GACvB,IACAH,EAAGY,gBAAgB,WACvB,EACA,KAAM,yBAA0BF,QAM5B,OALAb,EAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU8pC,GAC1CA,EAAWV,aAAa,aACxBL,EAAQe,EAEhB,KACO,EAEPJ,OAAOK,iCACPL,OAAOK,gCAAgCC,aACvCnB,EAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU8pC,GAC9CJ,OAAOK,gCAAgCE,QAAQH,EACnD,MAGAJ,OAAOK,gCAAkC,IAAIG,sBAAqB,SAAUjiC,GACxEA,EAAQjI,SAAQ,SAAUmqC,SACgB,IAA1BA,EAAOC,eACgB,IAA7BD,EAAOE,kBACPF,EAAOC,iBACND,EAAOvZ,OAAOwY,aAAa,aAC9BL,EAAQoB,EAAOvZ,OAEvB,GACJ,IACAiY,EAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU8pC,GAC9CJ,OAAOK,gCAAgCE,QAAQH,EACnD,IAER,EAGIQ,EAAa,EAAoB,KAEjCC,EAAc,EAAoB,KAElCC,EAAgB,EAAoB,KAEpCC,EAAgB,EAAoB,KAEpCC,EAAgB,EAAoB,KAEpCC,EAAgB,EAAoB,KAEpCC,EAAiB,EAAoB,KAErCC,EAAY,EAAoB,KAEhCC,EAAkB,EAAoB,KAEtCC,EAAY,EAAoB,KAEhCC,EAAa,EAAoB,KAEjCpiB,EAAQ,EAAoB,GAsB5BqiB,EAAU,EAAoB,IAE9BC,EAAY,EAAoB,KAGhCC,EAAe,SAAUtC,EAASuC,GAElC,QADa,IAATA,IAAmBA,EAAO,SACC,oBAApBC,iBAAuE,oBAA7BC,yBAArD,CAGA,IAAIC,EAAW,WACX,IACIC,EACAC,EAYJ,OAdaJ,gBAAgBK,YAGtB1rC,SAAQ,SAAU2rC,GACjBA,EAAKP,OAASA,EAAKtsC,QAAQ,IAAK,OAChC0sC,EAAeG,GAEfA,EAAKC,UACLH,EAAeE,EAEvB,IACKH,IACDA,EAAeC,GAEZD,CACX,EACIK,EAAU,wDACVC,EAAW,yDACVhD,SAASiD,eAAe,sBACzBF,EAAU,qFACVC,EAAW,iHAEf,IAAIE,EAAYlD,SAASU,cAAc,kBAClCwC,KACDA,EAAYlD,SAASI,cAAc,WACzBz/C,UAAY,gBACtBo/C,EAAQoD,sBAAsB,YAAaD,QACHt7C,IAApC26C,gBAAgBa,kBAChBb,gBAAgBa,gBAAkBX,IAG1C,IAAIY,EAAQZ,IACRa,EAAY,IAAId,yBACpBc,EAAUD,MAAQA,EAClBC,EAAUC,MAAQD,EAAUE,QAAU,WAClCN,EAAU5hD,MAAM9D,QAAU,OAC1B+kD,gBAAgBjlB,SAChB4lB,EAAUO,UAAUne,OAAO,0BAC3B4d,EAAUQ,UAAYX,CAC1B,EACAhD,EAAQQ,sBAAyC34C,IAAxBg5C,OAAO+C,aAA6B,WAAa,SAAS,SAAUC,GACzF,IAAI9b,EAAS8b,EAAM9b,OACnB,GAAIA,EAAO2b,UAAUI,SAAS,kBAAoB/b,EAAOgc,cAAcL,UAAUI,SAAS,iBAqBtF,OApBKX,EAAUO,UAAUI,SAAS,0BAO1BtB,gBAAgBwB,WACZxB,gBAAgByB,QAChBzB,gBAAgB0B,SAChBf,EAAUQ,UAAYV,IAGtBT,gBAAgB2B,QAChBhB,EAAUQ,UAAYX,KAb9BO,EAAUrT,KAAOiT,EAAU5C,aAAa,aACxCiC,gBAAgB4B,MAAMb,GACtBJ,EAAUO,UAAU/jC,IAAI,0BACxBwjC,EAAUQ,UAAYV,IAc1B,EAAGZ,EAAiCgC,IAAIxD,OAAOyD,wBAC/CtE,EAAQuE,QAOZ,GAJApB,EAAU5hD,MAAM9D,QAAU,OAC1B+kD,gBAAgBjlB,SAChB4lB,EAAUO,UAAUne,OAAO,0BAC3B4d,EAAUQ,UAAYX,EACY,IAA9BwB,eAAeC,WAAnB,CAGA,IAAIxiB,EAAQuiB,eAAeE,WAAW,GAClCxU,EAAOjO,EAAM5oB,WAAWyzB,OAC5B,GAAKoD,EAAL,CAGA2Q,OAAOyD,kBAAoBriB,EAAM0iB,aACjC,IAAIC,EAAO3iB,EAAM4iB,wBACjB1B,EAAUQ,UAAYX,EACtBG,EAAU5hD,MAAM9D,QAAU,QAC1B0lD,EAAU5hD,MAAMujD,IAAOF,EAAKE,IAAMF,EAAKrgD,OAAS07C,SAASU,cAAc,QAAQoE,UAAY,GAAM,UACrEl9C,IAAxBg5C,OAAO+C,aACPT,EAAU5hD,MAAMyjD,KAAQnB,EAAMoB,eAAepB,EAAMoB,eAAe7lD,OAAS,GAAG8lD,MAAQ,EAAK,KAG3F/B,EAAU5hD,MAAMyjD,KAAQnB,EAAMsB,QAAU,EAAK,KAEjDhC,EAAUiC,aAAa,YAAalV,EAZpC,CALA,CAkBJ,GA3FA,CA4FJ,EAGImV,EAAkD,SAAUtyC,EAASuyC,EAAYC,EAAGC,GAEpF,OAAO,IAAKD,IAAMA,EAAI1oC,WAAU,SAAUsb,EAASmN,GAC/C,SAASmgB,EAAUpjD,GAAS,IAAMwzB,EAAK2vB,EAAU1mB,KAAKz8B,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC1F,SAASgnD,EAASrjD,GAAS,IAAMwzB,EAAK2vB,EAAiB,MAAEnjD,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC7F,SAASm3B,EAAKhiB,GAJlB,IAAexR,EAIawR,EAAOkrB,KAAO5G,EAAQtkB,EAAOxR,QAJ1CA,EAIyDwR,EAAOxR,MAJhDA,aAAiBkjD,EAAIljD,EAAQ,IAAIkjD,GAAE,SAAUptB,GAAWA,EAAQ91B,EAAQ,KAIjBsjD,KAAKF,EAAWC,EAAW,CAC7G7vB,GAAM2vB,EAAYA,EAAU3yC,MAAME,EAASuyC,GAAc,KAAKxmB,OAClE,GACJ,EACI8mB,EAAsD,SAAU7yC,EAAS8yC,GACzE,IAAsGC,EAAGpR,EAAG/1C,EAAGqS,EAA3GqH,EAAI,CAAE0tC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPrnD,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGsnD,KAAM,GAAIC,IAAK,IAChG,OAAOl1C,EAAI,CAAE8tB,KAAMqnB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXnsC,SAA0BhJ,EAAEgJ,OAAOW,UAAY,WAAa,OAAO6D,IAAM,GAAIxN,EACvJ,SAASm1C,EAAKtwC,GAAK,OAAO,SAAUuwC,GAAK,OACzC,SAAcnW,GACV,GAAI6V,EAAG,MAAM,IAAI/sC,UAAU,mCAC3B,KAAO/H,IAAMA,EAAI,EAAGi/B,EAAG,KAAO53B,EAAI,IAAKA,OACnC,GAAIytC,EAAI,EAAGpR,IAAM/1C,EAAY,EAARsxC,EAAG,GAASyE,EAAU,OAAIzE,EAAG,GAAKyE,EAAS,SAAO/1C,EAAI+1C,EAAU,SAAM/1C,EAAEK,KAAK01C,GAAI,GAAKA,EAAE5V,SAAWngC,EAAIA,EAAEK,KAAK01C,EAAGzE,EAAG,KAAKlR,KAAM,OAAOpgC,EAE3J,OADI+1C,EAAI,EAAG/1C,IAAGsxC,EAAK,CAAS,EAARA,EAAG,GAAQtxC,EAAE0D,QACzB4tC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtxC,EAAIsxC,EAAI,MACxB,KAAK,EAAc,OAAX53B,EAAE0tC,QAAgB,CAAE1jD,MAAO4tC,EAAG,GAAIlR,MAAM,GAChD,KAAK,EAAG1mB,EAAE0tC,QAASrR,EAAIzE,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAK53B,EAAE6tC,IAAInhC,MAAO1M,EAAE4tC,KAAKlhC,MAAO,SACxC,QACI,MAAkBpmB,GAAZA,EAAI0Z,EAAE4tC,MAAY7mD,OAAS,GAAKT,EAAEA,EAAES,OAAS,KAAkB,IAAV6wC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE53B,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAV43B,EAAG,MAActxC,GAAMsxC,EAAG,GAAKtxC,EAAE,IAAMsxC,EAAG,GAAKtxC,EAAE,IAAM,CAAE0Z,EAAE0tC,MAAQ9V,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAY53B,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAIA,EAAIsxC,EAAI,KAAO,CACpE,GAAItxC,GAAK0Z,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAI0Z,EAAE6tC,IAAI3lC,KAAK0vB,GAAK,KAAO,CAC9DtxC,EAAE,IAAI0Z,EAAE6tC,IAAInhC,MAChB1M,EAAE4tC,KAAKlhC,MAAO,SAEtBkrB,EAAK4V,EAAK7mD,KAAK+T,EAASsF,EAC5B,CAAE,MAAO3Z,GAAKuxC,EAAK,CAAC,EAAGvxC,GAAIg2C,EAAI,CAAG,CAAE,QAAUoR,EAAInnD,EAAI,CAAG,CACzD,GAAY,EAARsxC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5tC,MAAO4tC,EAAG,GAAKA,EAAG,QAAK,EAAQlR,MAAM,EAC9E,CAtBgDlJ,CAAK,CAAChgB,EAAGuwC,GAAK,CAAG,CAuBrE,EAsBIC,EAAe,SAAUlqB,GACzB,IAAIx6B,EACA2kD,EAAgB,CAChBC,OAAQ,EACRC,IAAKxE,EAA6BhxC,EAAEy1C,IACpCC,YAAa,CAAC,EACdC,UAAW,GAAGxjB,OAAO6e,EAA6BhxC,EAAEy1C,IAAK,sBACzDG,KAAM5E,EAAsChxC,EAAE61C,aAC9CnqD,KAAM,MACN6lD,KAAM,QACNuE,SAAU9E,EAA0ChxC,EAAE+1C,iBACtDC,KAAMhF,EAAsChxC,EAAEi2C,aAC9CC,KAAM,QACNC,OAAQ,CACJC,QAAQ,GAEZC,OAAQ,CACJC,MAAO,CACHF,QAAQ,IAGhBG,MAAOvF,EAAuChxC,EAAEw2C,eAUpD,OARIrrB,EAAQqqB,OACuB,QAAxB7kD,EAAKw6B,EAAQorB,aAA0B,IAAP5lD,OAAgB,EAASA,EAAG0kB,QAC/DigC,EAAciB,MAAMlhC,KAAO,GAAG8c,OAAOhH,EAAQqqB,IAAK,4BAEjDrqB,EAAQwqB,YACTL,EAAcK,UAAY,GAAGxjB,OAAOhH,EAAQqqB,IAAK,yBAGlD,EAAGzmB,EAAiB0nB,GAAGnB,EAAenqB,EACjD,EACIurB,EAAU,SAAUC,EAAQxrB,GAC5B,IAAIyrB,EAAgBvB,EAAalqB,GACjC,OAAO,EAAG+lB,EAAyB2F,GAAG,GAAG1kB,OAAOykB,EAAcpB,IAAK,6BAA8B,oBAAoBb,MAAK,WACtH,IAAImC,GAAO,EAAG1F,EAAqB2F,GAAG,CAClCC,UAAWJ,EAAcd,SAASkB,UAClCC,YAAaL,EAAcd,SAASmB,YACpCC,iBAAkBN,EAAcd,SAASoB,iBACzCC,UAAWP,EAAcjB,UACzByB,OAAQR,EAAclB,YACtB2B,YAAaT,EAAcd,SAASuB,YACpCC,UAAWV,EAAcd,SAASwB,UAClCC,cAAwC,IAAzBX,EAAcrB,OAC7BiC,gBAAiBZ,EAAcZ,KAAKyB,YACpCC,cAAed,EAAcc,cAC7BC,SAAUf,EAAcd,SAAS6B,SACjCC,WAAYhB,EAAcd,SAAS8B,WACnCC,UAAWjB,EAAcd,SAAS+B,UAClCC,KAAMlB,EAAcd,SAASgC,KAC7BC,iBAAkBnB,EAAcd,SAASiC,iBACzCC,wBAAyBpB,EAAcd,SAASkC,wBAChDC,SAAUrB,EAAcd,SAASmC,SACjCC,IAAKtB,EAAcd,SAASoC,MAUhC,OARI/sB,aAAyC,EAASA,EAAQgtB,YAC1DrB,EAAKsB,eAAe,CAChBD,UAAW,CACPE,QAASltB,EAAQgtB,aAI7BrB,EAAKwB,cAAa,GACXxB,EAAKuB,QAAQ1B,EACxB,GACJ,EACI4B,EAAgB,SAAUC,EAAgB1C,EAAU3qB,GAAW,OAAOkpB,OAAU,OAAQ,OAAQ,GAAQ,WACxG,IAAIuC,EAAe5N,EAAMyP,EAAkBC,EAC3C,OAAO9D,EAAYpnC,MAAM,SAAU7c,GAC/B,OAAQA,EAAGokD,OACP,KAAK,EAED,OADA6B,EAAgBvB,EAAalqB,GACtB,CAAC,EAAaurB,EAAQZ,EAAUc,IAC3C,KAAK,EAOD,GANA5N,EAAOr4C,EAAGqkD,OACN4B,EAAcvwC,YACd2iC,EAAO4N,EAAcvwC,UAAU2iC,IAEnCwP,EAAe7F,UAAY3J,EAC3BwP,EAAe9F,UAAU/jC,IAAI,gBACvBioC,EAAc+B,KAAM,MAAO,CAAC,EAAa,GAC/C,GAAM,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAASnlC,SAASojC,EAAcrF,MAAO,MAAO,CAAC,EAAa,GAC3I,MAAM,IAAI3pC,MAAM,2EACpB,KAAK,EAQD,OANA8wC,GADAD,EAAmB,oBACiB7B,EAAcrF,KAClDtC,SAASe,iBAAiB,oBAAqB7d,OAAOsmB,EAAkB,OAAQtyC,SAAQ,SAAUyyC,GAC1FA,EAAGl5B,KAAOg5B,GACVzJ,SAASnmB,KAAK+vB,YAAYD,EAElC,IACO,CAAC,GAAa,EAAG1H,EAAyB2F,GAAG,GAAG1kB,OAAOykB,EAAcpB,IAAK,kBAAkBrjB,OAAOykB,EAAcrF,KAAM,OAAQmH,IAC1I,KAAK,EACD/nD,EAAGqkD,OACHrkD,EAAGokD,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EACDlF,OAAOiJ,WAAalC,EAAc+B,KAClChoD,EAAGokD,MAAQ,EACf,KAAK,EACD,OAAK6B,EAAclrD,KACZ,CAAC,GAAa,EAAGwlD,EAAyB2F,GAAG,GAAG1kB,OAAOykB,EAAcpB,IAAK,mBAAmBrjB,OAAOykB,EAAclrD,KAAM,OAAQ,qBADvG,CAAC,EAAa,GAElD,KAAK,EACDiF,EAAGqkD,OACHrkD,EAAGokD,MAAQ,EACf,KAAK,EA4CD,OA3CA,EAAG9D,EAAqC8H,GAAGnC,EAAcL,MAAM5xC,QAASiyC,EAAcL,MAAMlhC,MAC/D,IAAzBuhC,EAAcrB,QACdiD,EAAe9F,UAAU/jC,IAAI,yBAEjC,EAAGggC,EAA2BqK,GAAGR,EAAgB5B,EAAchB,OAC/D,EAAG9G,EAAqCrhD,GAAGmpD,EAAchB,KAAM4C,EAAgB5B,EAAcpB,MAC7F,EAAG/E,EAA2BwI,GAAGT,EAAgB,CAC7ChD,IAAKoB,EAAcpB,IACnBQ,KAAMY,EAAcZ,QAExB,EAAGrF,EAAiCxiD,GAAGqqD,EAAgB5B,EAAcpB,IAAKoB,EAAcV,OACxF,EAAGtF,EAAiCsI,GAAGV,EAAgB5B,EAAcpB,IAAKoB,EAAcV,OACxF,EAAGtH,EAAqC2F,GAAGiE,EAAgB5B,EAAcpB,MACzE,EAAG3G,EAAmCuG,GAAGoD,EAAgB5B,EAAcpB,MACvE,EAAG9G,EAA6B9gD,GAAG4qD,EAAgB5B,EAAcpB,IAAKoB,EAAcV,OACpF,EAAGrF,EAAiC0D,GAAGiE,EAAgB5B,EAAcpB,IAAKoB,EAAcV,OACxF,EAAGnF,EAAmCoI,GAAGX,EAAgB5B,EAAcpB,MACvE,EAAGhH,EAAyB4K,GAAGZ,EAAgB5B,EAAcpB,KACzDoB,EAAcP,OAAOC,MAAMF,SAC3B,EAAG1F,EAA6B2I,GAAGb,GAEnC5B,EAAcT,OAAOC,QACrB9E,EAAakH,GAEY,IAAzB5B,EAAcrB,SAxTLz9C,EAyTI8+C,EAAcrB,OAxT3CtG,SAASe,iBAAiB,kBAAkB7pC,SAAQ,SAAUovC,GAC7C,IAATz9C,GACAy9C,EAAO7C,UAAU/jC,IAAI,uBAEzB4mC,EAAO+D,QAAU,WACb,IAAI55B,EAAK61B,EAAOhG,aAAa,QAAQgK,OAAO,GACxCzF,EAAM7E,SAASiD,eAAe,gBAAkBxyB,GAAI85B,UACxDvK,SAASU,cAAc,QAAQoE,UAAYD,CAC/C,CACJ,IACAjE,OAAO4J,aAAe,WAClB,IAAIzK,EAAUC,SAASiD,eAAe,gBAAkBwH,mBAAmB7J,OAAO8J,SAASC,KAAKL,OAAO,KACnGvK,IACAC,SAASU,cAAc,QAAQoE,UAAY/E,EAAQwK,UAE3D,GA2SgB5C,EAAc7kB,OACd6kB,EAAc7kB,QAEd6kB,EAAcc,eACd3I,EAAoByJ,GAExBA,EAAehJ,iBAAiB,SAAS,SAAUqD,GAC/C,IAAIgH,GAAc,EAAG1I,EAAqC2I,IAAIjH,EAAM9b,OAAQ,QAC5E,GAAI8iB,IAAe,EAAG1I,EAAsC4I,IAAIF,EAAa,cAA7E,CACI,IAAIG,EAAiBxB,EAAe7I,cAAc,IAAMkK,EAAYtK,aAAa,mBAC7EyK,GACAnK,OAAOoK,SAASpK,OAAOqK,QAASF,EAAeR,UAGvD,CACJ,IACO,CAAC,GA3UL,IAAU1hD,CA6UzB,GACJ,GAAI,EAGAqiD,EAAgB,EAAoB,KAEpCC,EAAe,EAAoB,IAqEV,MAAM1pB,EA/CP,WACxB,SAAS2pB,IACT,CA2CA,OAzCAA,EAAO5L,cAAgBA,EAEvB4L,EAAOC,aAAeH,EAAgCI,EAEtDF,EAAO1L,WAAaA,EAA2BqK,EAE/CqB,EAAOxL,eAAiBA,EAAmCuG,EAE3DiF,EAAOvL,gBAAkBA,EAAqCrhD,EAE9D4sD,EAAO5J,WAAaA,EAA2BwI,EAE/CoB,EAAO1J,cAAgBA,EAAiCxiD,EAExDksD,EAAOzJ,cAAgBA,EAAiCsI,EAExDmB,EAAOzL,gBAAkBA,EAAqC2F,EAE9D8F,EAAO3L,YAAcA,EAA6B9gD,EAElDysD,EAAO7L,UAAYA,EAAyB4K,EAE5CiB,EAAOxJ,cAAgBA,EAAiC0D,EAExD8F,EAAOtJ,eAAiBA,EAAmCoI,EAE3DkB,EAAOvJ,cAAgBA,EAAiC0J,EAExDH,EAAO3J,YAAcA,EAA6B2I,EAElDgB,EAAO/I,aAAeA,EAEtB+I,EAAOtL,oBAAsBA,EAE7BsL,EAAO3D,QAAUA,EAEjB2D,EAAOI,QAAUlC,EAEjB8B,EAAOD,aAAeA,EAA+Bf,EAErDgB,EAAOpJ,gBAAkBA,EAAqC8H,EACvDsB,CACX,CA9C2B,EAkDpB,EAED,IACA,CAAE9L,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,EACX,EAAK,IAAM,IAElC,IAAI0X,EAAkB,SAElBC,EAA2B,WAC3B,SAASA,IACT,CA8DA,OA7DAA,EAAUC,KAAO,IACjBD,EAAUE,YAAc,qBACxBF,EAAUG,aAAe,IACzBH,EAAUI,oBAAsB,wBAChCJ,EAAUK,cAAgB,CAAC,QAAS,WAAY,OAAQ,SAAU,SAAU,OAAQ,OAChF,eAAgB,UAAW,SAAU,QAAS,OAAQ,QAAS,OAAQ,cAAe,eACtF,gBAAiB,SAAU,SAAU,SACzCL,EAAUM,WAAa,CAAC,OAAQ,QAAS,WAAY,UAAW,SAAU,UAAW,KACjF,WAAY,UAAW,QAAS,WAAY,SAAU,SAAU,OAAQ,WAAY,QAAS,UAC7F,eAAgB,SAAU,SAAU,eAAgB,gBAAiB,SAAU,UAAW,WAC1F,eAAgB,MAAO,iBAAkB,oBAAqB,kBAAmB,UAAW,QAAS,OACrG,MAAO,KAAM,QAAS,cAC1BN,EAAUO,eAAiB,CAAC,UAAW,UAAW,UAAW,WAAY,MAAO,WAAY,YAAa,SACrG,KAAM,KAAM,OAAQ,UAEpB,aAAc,SAAU,OAAQ,IAAK,SAAU,MAAO,MAAO,eAAgB,OAAQ,KAAM,MAAO,OAClG,OAAQ,OAAQ,aAAc,SAAU,OAAQ,MAAO,WAAY,WAAY,QAAS,aAAc,MACtG,eAAgB,OAAQ,YAAa,SAAU,cAAe,IAAK,OAAQ,OAAQ,OAAQ,MAAO,QAClG,QAAS,MAAO,aAAc,QAAS,OACvC,MAAO,UAAW,OAAQ,MAAO,UAAW,SAAU,UAAW,QAAS,aAAc,OAAQ,SAChG,QAAS,aAAc,WAAY,QAAS,QAAS,cAErD,WAAY,OAEhBP,EAAUlF,IAAM,4BAA4BtjB,OAAO,UACnDwoB,EAAU5E,iBAAmB,CACzBiB,WAAW,EACXC,aAAa,EACbC,kBAAkB,EAClBG,aAAa,EACbC,WAAW,EACXK,SAAU,GACVC,WAAY,GACZC,WAAW,EACXC,MAAM,EACNC,kBAAkB,EAClBC,yBAAyB,EACzBC,UAAU,EACVC,KAAK,GAETyC,EAAU9E,aAAe,CACrBO,QAAQ,EACR+E,YAAY,EACZC,YAAa,GACb7qD,MAAO,UAEXoqD,EAAU1E,aAAe,CACrBoF,OAAQ,QACR5D,aAAa,EACb6D,OAAQ,CAAC,GAEbX,EAAUnE,cAAgB,CACtB7xC,QAAS,QACT42C,KAAM,CACF,aAAc,aACd,KAAQ,OACR,MAAS,QACT,OAAU,UAEdlmC,KAAM,GAAG8c,OAAOwoB,EAAUlF,IAAK,4BAE5BkF,CACX,CAjE8B,EAqEvB,EAED,IACA,CAAEpM,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvFlN,EAAY,SAAUQ,EAASwG,QACf,IAAZxG,IAAsBA,EAAUC,eACxB,IAARuG,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAIkG,EAAcD,EAA4CE,iBAAiBC,YAAY7M,GACvF2M,EAAYvtD,OAAS,IACrB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,qCAAsC,qBAAqBb,MAAK,WAC/IgH,EAAYx1C,SAAQ,SAAU2rC,GACtBA,EAAKiB,cAAcL,UAAUI,SAAS,wBACtChB,EAAKiB,cAAcL,UAAUI,SAAS,2BAGE,SAAxChB,EAAKvC,aAAa,oBAGtBuM,MAAMC,UAAUjK,EAAM4J,EAA4CE,iBAAiBI,QAAQlK,GAAMhW,QACjGgW,EAAKvhD,MAAM0rD,UAAY,OACvBnK,EAAKsC,aAAa,iBAAkB,QACxC,GACJ,GAER,CAGO,EAED,IACA,CAAE7F,EAAyB,EAAqB,KAEtD,aACA,EAAoB2N,EAAE,GACD,EAAoBlZ,EAAE,EAAqB,CACzC,iBAAoB,IAAM,EAC1B,mBAAsB,IAAM,EAC5B,uBAA0B,IAAM,EAChC,sBAAyB,IAAM,EAC/B,qBAAwB,IAAM,EAC9B,kBAAqB,IAAM,EAC3B,qBAAwB,IAAM,EAC9B,qBAAwB,IAAM,EAC9B,sBAAyB,IAAM,IAEtD,IAAImZ,EAAoB,CACpBH,QAAS,SAAUI,GAAe,OAAOA,EAAYC,WAAa,EAClER,YAAa,SAAU7M,GAAW,OAAOA,EAAQgB,iBAAiB,iBAAmB,GAErFsM,EAAuB,CAEvBN,QAAS,SAAUpD,GAAM,OAAOA,EAAGyD,WAAa,EAChDR,YAAa,SAAU7M,GAAW,OAAOA,EAAQgB,iBAAiB,oBAAsB,GAExFuM,EAAuB,CACvBP,QAAS,SAAUpD,GAAM,OAAOA,EAAGyD,WAAa,EAChDR,YAAa,SAAU7M,GAAW,OAAOA,EAAQgB,iBAAiB,oBAAsB,GAExFwM,EAAuB,CACvBR,QAAS,SAAUpD,GAAM,OAAOA,EAAGrJ,aAAa,YAAc,EAC9DsM,YAAa,SAAUjD,GAAM,OAAOA,EAAG5I,iBAAiB,oBAAsB,GAE9EyM,EAAqB,CACrBT,QAAS,SAAUpD,GAAM,OAAOA,EAAG8D,SAAW,EAC9Cb,YAAa,SAAUjD,GAAM,OAAOA,EAAG5I,iBAAiB,oBAAsB,GAE9E4L,EAAmB,CACnBI,QAAS,SAAUpD,GAAM,OAAOA,EAAGyD,WAAa,EAChDR,YAAa,SAAUjD,GAAM,OAAOA,EAAG5I,iBAAiB,gBAAkB,GAE1E2M,EAAwB,CACxBX,QAAS,SAAUpD,GAAM,OAAOA,EAAGyD,WAAa,EAChDR,YAAa,SAAUjD,GAAM,OAAOA,EAAG5I,iBAAiB,qBAAuB,GAE/E4M,EAAyB,CACzBZ,QAAS,SAAUpD,GAAM,OAAOA,EAAGyD,WAAa,EAChDR,YAAa,SAAUjD,GAAM,OAAOA,EAAG5I,iBAAiB,sBAAwB,GAEhF6M,EAAwB,CACxBb,QAAS,SAAUpD,GAAM,OAAOA,EAAGyD,WAAa,EAChDR,YAAa,SAAUjD,GAAM,OAAOA,EAAG5I,iBAAiB,qBAAuB,EAI5E,EAED,IACA,CAAEzB,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvFhN,EAAc,SAAUM,EAASwG,EAAKe,QACtB,IAAZvH,IAAsBA,EAAUC,eACxB,IAARuG,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAIqH,EAAkBpB,EAA4Ce,mBAAmBZ,YAAY7M,GAC7F8N,EAAgB1uD,OAAS,IACzB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,mCAAoC,uBAAuBb,MAAK,WAC/ImI,EAAgB32C,SAAQ,SAAUzY,GAC9B,IAAIA,EAAEqlD,cAAcL,UAAUI,SAAS,yBACnCplD,EAAEqlD,cAAcL,UAAUI,SAAS,0BADvC,CAIA,IAAI5T,EAAOwc,EAA4Ce,mBAAmBT,QAAQtuD,GAAGouC,OACrF,GAAKoD,EAGL,IACI,GAAyC,SAArCxxC,EAAE6hD,aAAa,kBACf,OAEJ,IAAIwN,EAASC,KAAKC,MAAM/d,GACxBge,QAAQC,KAAKzvD,EAAa,SAAV6oD,EAAmB,YAAS1/C,GAAWumD,UAAUL,GACjErvD,EAAE0mD,aAAa,iBAAkB,OACrC,CACA,MAAOiJ,GACH3vD,EAAEkC,UAAY,sBACdlC,EAAEilD,UAAY,6BAA6BxgB,OAAOkrB,EACtD,CAhBA,CAiBJ,GACJ,GAER,CAGO,EAED,IACA,CAAE9O,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIsa,EAAiD,EAAoB,KACrE9B,EAA0C,EAAoB,KAGnF7M,EAAa,SAAUK,EAAS+N,GAChC55C,MAAMo6C,KAAKvO,EAAQgB,iBAAiB,eAAehd,QAAO,SAAUtlC,EAAG4U,GACnE,QAAI5U,EAAEqlD,cAAcL,UAAUI,SAAS,wBACnCplD,EAAEqlD,cAAcL,UAAUI,SAAS,2BAGnCplD,EAAEglD,UAAUI,SAAS,qBAAuBplD,EAAEglD,UAAUI,SAAS,uBACjEplD,EAAEglD,UAAUI,SAAS,qBAAuBplD,EAAEglD,UAAUI,SAAS,qBACjEplD,EAAEglD,UAAUI,SAAS,sBAAwBplD,EAAEglD,UAAUI,SAAS,qBAClEplD,EAAEglD,UAAUI,SAAS,iBAAmBplD,EAAEglD,UAAUI,SAAS,sBAC7DplD,EAAEglD,UAAUI,SAAS,kBAGrBplD,EAAE6C,MAAMitD,UAAUvvD,QAAQ,OAAS,GAInC+gD,EAAQ0D,UAAUI,SAAS,mBAAqBxwC,EAAQ,EAIhE,IAAG6D,SAAQ,SAAUzY,GACjB,IAAIiD,EAAIC,EAAI6sD,EACRC,EAAWhwD,EAAEgvD,UACjB,GAAIhvD,EAAEglD,UAAUI,SAAS,oBAAqB,CAC1C,IAAI6K,EAAcjwD,EAAEkwD,WAAU,GAC9BD,EAAY3N,iBAAiB,iBAAiB7pC,SAAQ,SAAU2rC,GAC5DA,EAAKvd,QACT,IACAmpB,EAAWC,EAAYjB,SAC3B,MACSgB,EAAS5mB,SAAS,QACvB4mB,EAAWA,EAASnE,OAAO,EAAGmE,EAAStvD,OAAS,IAEpD,IAAIyvD,EAAW,wDACV5O,SAASiD,eAAe,sBACzB2L,EAAW,2UAEf,IAAIC,EAAa7O,SAASI,cAAc,OACxCyO,EAAWluD,UAAY,cACvBkuD,EAAWnL,UAAY,qBAAsBxgB,QAAqC,QAA5BxhC,EAAKk/C,OAAOiJ,kBAA+B,IAAPnoD,OAAgB,EAASA,EAAGgvB,OAAS,KAAM,uDAAuDwS,QAAqC,QAA5BvhC,EAAKi/C,OAAOiJ,kBAA+B,IAAPloD,OAAgB,EAASA,EAAG+uB,OAAS,KAAM,yKAAyKwS,QAAqC,QAA5BsrB,EAAK5N,OAAOiJ,kBAA+B,IAAP2E,OAAgB,EAASA,EAAGM,SAAW,MAAO,4CAA4C5rB,OAAO0rB,EAAU,WACrlB,IAAIG,EAAW/O,SAASI,cAAc,YACtC2O,EAAS3sD,OAAQ,EAAGisD,EAAkEvG,GAAG2G,GACzFI,EAAW1L,sBAAsB,aAAc4L,GAC3CjB,GAAUA,EAAOkB,YACjBlB,EAAOkB,WAAWvwD,EAAGowD,GAEzBpwD,EAAEo9B,OAAOgzB,GACTpwD,EAAE6C,MAAMitD,UAAa3N,OAAOqO,YAAc,GAAM,KAEhDxwD,EAAEywD,mBAAmB,WAAY,oCAAsChsB,OAAOqpB,EAA8Dx7C,EAAE46C,KAAM,WACxJ,GACJ,CAGO,EAED,IACA,CAAErM,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvF9M,EAAkB,SAAUI,EAASwG,QACzB,IAARA,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAI2I,EAAoB1C,EAA4CkB,uBAAuBf,YAAY7M,GACtE,IAA7BoP,EAAkBhwD,SAGtB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,0CAA2C,yBAAyBb,MAAK,WACxJyJ,EAAkBj4C,SAAQ,SAAU2rC,GAChC,GAA4C,SAAxCA,EAAKvC,aAAa,kBAAtB,CAGA,IAAI8O,EAAeC,UAAUrB,MAAMvB,EAA4CkB,uBAAuBZ,QAAQlK,IAC9GA,EAAKa,UAAY,GACjB0L,EAAaE,QAAQzM,GACrBA,EAAKsC,aAAa,iBAAkB,OAJpC,CAKJ,GACJ,GACJ,CAGO,EAED,IACA,CAAE7F,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvF7M,EAAiB,SAAUG,EAASwG,QACxB,IAARA,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAI+I,EAAmB9C,EAA4CiB,sBAAsBd,YAAY7M,GACrE,IAA5BwP,EAAiBpwD,SAGrB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,4BAA6B,wBAAwBb,MAAK,WACzI6J,EAAiBr4C,SAAQ,SAAUzY,GAC/B,IAAI+wD,EAAO/C,EAA4CiB,sBAAsBX,QAAQtuD,GACrF,IAAIA,EAAEqlD,cAAcL,UAAUI,SAAS,yBACnCplD,EAAEqlD,cAAcL,UAAUI,SAAS,2BAGE,SAArCplD,EAAE6hD,aAAa,mBAAgD,KAAhBkP,EAAK3iB,OAAxD,CAGA,IACI,IAAI4iB,EAAO,IAAIC,KAAK,CAAC,kBAAkBxsB,OAAO8c,SAASiD,eAAe,wBAAwB5C,IAAIrqC,QAAQ,SAAU,kBAAmB,QAAS,CAAEnN,KAAM,2BAEpJ8mD,GADM/O,OAAOgP,KAAOhP,OAAOiP,WACbC,gBAAgBL,GAC9BM,EAAS,IAAIC,OAAOL,GACxB,IAAIM,IAAI,CAAEF,OAAQA,IACbG,iBAAiBV,GAAM9J,MAAK,SAAU9xC,GACvCnV,EAAEilD,UAAY9vC,EAAOu8C,SACzB,IAAGC,OAAM,SAAUhC,GACf3vD,EAAEilD,UAAY,8BAA8BxgB,OAAOkrB,GACnD3vD,EAAEkC,UAAY,qBAClB,GACJ,CACA,MAAOlC,GACH4xD,QAAQjC,MAAM,iBAAkB3vD,EACpC,CACAA,EAAE0mD,aAAa,iBAAkB,OAjBjC,CAkBJ,GACJ,GACJ,CAGO,EAED,IACA,CAAE7F,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnE8D,EAA8C,EAAoB,KAIvFzQ,EAAkB,SAAU0Q,EAAYxQ,EAASwG,QACjC,IAAZxG,IAAsBA,EAAUC,eACxB,IAARuG,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAIllD,EAAQivD,EAAWjvD,MAClBirD,EAA6Ex7C,EAAEi7C,WAAWznC,SAASjjB,KACpGA,EAAQ,UAEZ,IAAIkvD,EAAkBxQ,SAASiD,eAAe,mBAC1CwN,EAAO,GAAGvtB,OAAOqjB,EAAK,iCAAiCrjB,OAAO5hC,EAAO,QACrEkvD,GAAmBA,EAAgBlQ,aAAa,UAAYmQ,GAC5DD,EAAgBlrB,UAEpB,EAAGgrB,EAA4DI,GAAG,GAAGxtB,OAAOqjB,EAAK,iCAAiCrjB,OAAO5hC,EAAO,QAAS,oBAC/G,IAAtBivD,EAAWpJ,QAIM,IADTpH,EAAQgB,iBAAiB,cAC3B5hD,SAGV,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,2CAA4C,oBAAoBb,MAAK,YACpJ,EAAG8G,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,yCAA0C,4BAA4Bb,MAAK,YAC1J,EAAG8G,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,oCAAqC,uBAAuBb,MAAK,WAChJ3F,EAAQgB,iBAAiB,cAAc7pC,SAAQ,SAAUy5C,GAErD,IAAIA,EAAM7M,cAAcL,UAAUI,SAAS,4BACvC8M,EAAM7M,cAAcL,UAAUI,SAAS,0BAGvC8M,EAAMlN,UAAUI,SAAS,qBAAuB8M,EAAMlN,UAAUI,SAAS,uBACzE8M,EAAMlN,UAAUI,SAAS,qBAAuB8M,EAAMlN,UAAUI,SAAS,qBACzE8M,EAAMlN,UAAUI,SAAS,sBACzB8M,EAAMlN,UAAUI,SAAS,iBAAmB8M,EAAMlN,UAAUI,SAAS,sBACrE8M,EAAMlN,UAAUI,SAAS,oBAGE,KAA3B0M,EAAWpE,cAAgE,IAA1CwE,EAAMhwD,UAAU3B,QAAQ,cACzD2xD,EAAMlN,UAAU/jC,IAAI,YAAc6wC,EAAWpE,aAEjDxF,KAAKiK,iBAAiBD,GACjBJ,EAAWrE,YAAhB,CAGAyE,EAAMlN,UAAU/jC,IAAI,qBACpB,IAAImxC,EAAkBF,EAAMjQ,cAAc,4BACrCmQ,KACDA,EAAkB7Q,SAASI,cAAc,QACzBz/C,UAAY,0BAC5BgwD,EAAMxN,sBAAsB,YAAa0N,IAE7C,IAAI5yD,EAAa6yD,iBAAiBH,GAAO1yD,WACrC8yD,GAAa,EACE,aAAf9yD,GAA4C,aAAfA,IAC7B8yD,GAAa,GAEjB,IAAIC,EAAiB,GACjBC,EAAWN,EAAMvD,YAAYn1C,MAAM,eACvCg5C,EAASnsC,MACTmsC,EAASh6C,KAAI,SAAUm+B,GACnB,IAAIx3C,EAAa,GACbmzD,IACAF,EAAgBzD,YAAchY,GAAQ,KACtCx3C,EAAa,kBAAmBslC,OAAO2tB,EAAgBjM,wBAAwBtgD,OAAQ,QAE3F0sD,GAAkB,QAAQ9tB,OAAOtlC,EAAY,WACjD,IACAizD,EAAgBvvD,MAAM9D,QAAU,OAChCwzD,EAAiB,yCAA2C9tB,OAAO8tB,EAAgB,WACnFL,EAAMzB,mBAAmB,YAAa8B,EA1BtC,CA2BJ,GACJ,GACJ,GACJ,GACJ,CAGO,EAED,IACA,CAAE1R,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvFyE,EAAU,CAAC,EAeXhD,EAAO,SAAUvE,EAAI6F,GACrB,IAAI9tD,EAAKk/C,OAAOuQ,QAASC,EAAc1vD,EAAG0vD,YAAaC,EAAU3vD,EAAG2vD,QAASC,EAAgB5vD,EAAG4vD,cAC5FC,GADuH7vD,EAAG8vD,UAC5G,IAAIJ,GACtBzH,EAAGjG,UAAY,iCACf,IAAI+N,EAAM9H,EAAG+H,WACTC,EAAKN,EAAQh3C,OAAOo3C,EAAK,MACzB9vD,EApBQ,SAAU4vD,EAAa9vD,GACnC,IAAImS,EAAS29C,EAAYn6C,UAAU3V,GAC/B+X,EAAO5a,OAAO4a,KAAK5F,EAAOg+C,UAAU7tB,QAAO,SAAU/6B,GAAO,OAAQkoD,EAAQloD,EAAM,IACtFwQ,EAAKtC,SAAQ,SAAUlO,GACnBkoD,EAAQloD,IAAO,CACnB,IACA,IAAItH,EAAK6vD,EAAYM,UAAUr4C,GAAOs4C,EAASpwD,EAAGowD,OAAQC,EAAUrwD,EAAGqwD,QACnEZ,EAAUvQ,OAAOuQ,QAKrB,OAJIW,GACAX,EAAQa,QAAQF,GAChBC,GACAZ,EAAQc,OAAOF,GACZn+C,CACX,CAOawD,CAAUm6C,EAAa/B,GAAOt+C,EAAOvP,EAAGuP,KAAMghD,EAAcvwD,EAAGuwD,YAEpEC,EAAqBb,EADJY,aAAiD,EAASA,EAAYf,SAE3FQ,EAAGv7B,QAAQllB,EAAMihD,GACjBR,EAAGS,KACP,EACIzQ,EAAgB,SAAU5B,EAASwG,EAAKe,QAC5B,IAARf,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAI6L,EAAkB5F,EAA4Ca,qBAAqBV,YAAY7M,GACpE,IAA3BsS,EAAgBlzD,SAGpB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,mCAAoC,uBAAuBb,MAAK,WAC/I2M,EAAgBn7C,SAAQ,SAAU2rC,GAC9B,IAAI2M,EAAO/C,EAA4Ca,qBAAqBP,QAAQlK,GACpF,GAA4C,SAAxCA,EAAKvC,aAAa,mBAAgD,KAAhBkP,EAAK3iB,OAA3D,CAGA,IAAIua,EAASpH,SAASI,cAAc,OACpCgH,EAAOzmD,UAAY,mBACnBkiD,EAAKyP,WAAWC,YAAYnL,GAC5B8G,EAAK9G,EAAQoI,GACiC,QAA1C3M,EAAKyP,WAAWE,WAAW,GAAGC,UAC9B5P,EAAKyP,WAAW1I,YAAY/G,EAAKyP,WAAWE,WAAW,GAN3D,CAQJ,GACJ,GACJ,CAGO,EAED,IACA,CAAElT,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DmG,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAClEC,EAAiD,EAAoB,KACrEnG,EAA8C,EAAoB,KAMvFjL,EAAa,SAAUzB,EAAS7jB,GAChC,IAAI22B,EAAepG,EAA4CS,kBAAkBN,YAAY7M,GAC7F,GAA4B,IAAxB8S,EAAa1zD,OAAjB,CAGA,IAAI2zD,EAAiB,CACjBvM,IAAKgG,EAA6Dx7C,EAAEy1C,IACpEO,KAAM,CACFqF,OAAQ,QACR5D,aAAa,EACb6D,OAAQ,CAAC,IAQjB,GALInwB,GAAWA,EAAQ6qB,OACnB7qB,EAAQ6qB,KACJnoD,OAAOiC,OAAO,CAAC,EAAGiyD,EAAe/L,KAAM7qB,EAAQ6qB,OAG3B,WAD5B7qB,EAAUt9B,OAAOiC,OAAO,CAAC,EAAGiyD,EAAgB52B,IAChC6qB,KAAKqF,QACb,EAAGuG,EAA4DjC,GAAG,GAAGxtB,OAAOhH,EAAQqqB,IAAK,yCAA0C,qBACnI,EAAGmM,EAA8D9K,GAAG,GAAG1kB,OAAOhH,EAAQqqB,IAAK,wCAAyC,qBAAqBb,MAAK,YAC1J,EAAGgN,EAA8D9K,GAAG,GAAG1kB,OAAOhH,EAAQqqB,IAAK,yCAA0C,yBAAyBb,MAAK,WAC/JmN,EAAa37C,SAAQ,SAAUi2C,GAC3B,IAAIA,EAAYrJ,cAAcL,UAAUI,SAAS,yBAC7CsJ,EAAYrJ,cAAcL,UAAUI,SAAS,4BAG7CsJ,EAAY7M,aAAa,aAA7B,CAGA,IAAIyG,GAAO,EAAG6L,EAAkE9K,GAAG2E,EAA4CS,kBAAkBH,QAAQI,IACzJA,EAAYhI,aAAa,YAAa4B,GACtC,IACIoG,EAAYzJ,UAAYqP,MAAMC,eAAejM,EAAM,CAC/CkM,YAAqC,QAAxB9F,EAAY+F,QACzBC,OAAQ,OACR9G,OAAQnwB,EAAQ6qB,KAAKsF,QAE7B,CACA,MAAO5tD,GACH0uD,EAAYzJ,UAAYjlD,EAAEiqB,QAC1BykC,EAAYxsD,UAAY,mCAC5B,CACAwsD,EAAY5M,iBAAiB,QAAQ,SAAUqD,GAC3CA,EAAMz7C,kBACNy7C,EAAMwP,iBACN,IAAIC,EAAoBzP,EAAM0P,cAAcC,QAAQ,kBACpD3P,EAAM4P,cAAcp9B,QAAQ,YAAai9B,EAAkB3P,WAC3DE,EAAM4P,cAAcp9B,QAAQ,aAAci9B,EAAkB/S,aAAa,aAC7E,GApBA,CAqBJ,GACJ,GACJ,SAEC,GAA4B,YAAxBpkB,EAAQ6qB,KAAKqF,OAAsB,CAanCxL,OAAO6S,UACR7S,OAAO6S,QAAU,CACbC,OAAQ,CACJjyC,MAAO,CAAEkyC,QAAS,GAAGzwB,OAAOhH,EAAQqqB,IAAK,sBAE7CqN,QAAS,CACLC,SAAS,GAEbC,IAAK,CACDzH,OAAQnwB,EAAQ6qB,KAAKsF,SAI7BztD,OAAOiC,OAAO+/C,OAAO6S,QAASv3B,EAAQ6qB,KAAKgN,kBAG/C,EAAGrB,EAAkEsB,GAAG,GAAG9wB,OAAOhH,EAAQqqB,IAAK,oCAAqC,wBACpI,IAAI0N,EAAe,SAAU9G,EAAatuB,GACtC,IAAIkoB,GAAO,EAAG6L,EAAkE9K,GAAGqF,EAAYC,aAAavgB,OACxGqnB,EAActT,OAAO6S,QAAQU,cAAchH,GAC/C+G,EAAY12D,QAAkC,QAAxB2vD,EAAY+F,QAClCtS,OAAO6S,QAAQW,eAAerN,EAAMmN,GAAaxO,MAAK,SAAU2O,GAC5DlH,EAAYzJ,UAAY,GACxByJ,EAAYhI,aAAa,YAAa4B,GACtCoG,EAAYmH,OAAOD,GACnBzT,OAAO6S,QAAQG,QAAQ5T,SAAS5gC,QAChCwhC,OAAO6S,QAAQG,QAAQ5T,SAASuU,iBAChC,IAAIC,EAAmBH,EAAK3T,cAAc,4BACtC8T,GAA4D,KAAxCA,EAAiBpH,YAAYvgB,SACjDsgB,EAAYzJ,UAAY8Q,EAAiBpH,YAAYvgB,OACrDsgB,EAAYxsD,UAAY,uBAExBk+B,GACAA,GAER,GACJ,EACA+hB,OAAO6S,QAAQG,QAAQa,QAAQ/O,MAAK,WAiBhC,IAhBA,IAAIgP,EAAS,GACTC,EAAU,SAAUz1D,GACpB,IAAIiuD,EAAc0F,EAAa3zD,GAC1BiuD,EAAYrJ,cAAcL,UAAUI,SAAS,wBAC7CsJ,EAAYrJ,cAAcL,UAAUI,SAAS,2BAC7CsJ,EAAY7M,aAAa,gBAAgB,EAAGsS,EAAkE9K,GAAGqF,EAAYC,aAAavgB,QAC3I6nB,EAAOp0C,MAAK,SAAUue,GACd3/B,IAAM2zD,EAAa1zD,OAAS,EAC5B80D,EAAa9G,GAGb8G,EAAa9G,EAAatuB,EAElC,GAER,EACS3/B,EAAI,EAAGA,EAAI2zD,EAAa1zD,OAAQD,IACrCy1D,EAAQz1D,IAnEG,SAAU01D,GACzB,GAAmB,IAAfA,EAAIz1D,OAAR,CAGA,IAAI01D,EAAO,EACPhtC,EAAO+sC,EAAIA,EAAIz1D,OAAS,GACxB0/B,EAAO,WACP,IAAIhK,EAAK+/B,EAAIC,KACbhgC,IAAOhN,EAAOgN,IAAOA,EAAGgK,EAC5B,EACAA,GAPA,CAQJ,CA0DIi2B,CAAaJ,EACjB,GACJ,CA1HA,CA2HJ,CAGO,EAED,IACA,CAAEpV,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIghB,EAA8C,EAAoB,KA+EvFtT,EAAc,SAAU1B,GACnBA,GAGLA,EAAQgB,iBAAiB,KAAK7pC,SAAQ,SAAU89C,GAC5C,IAAIC,EAAMD,EAAS1U,aAAa,QAC3B2U,IAGDA,EAAIl9C,MAAM,+BAtFJ,SAAUgoC,EAASkV,GACjClV,EAAQmP,mBAAmB,WAAY,mCAAsChsB,OAAO+xB,EAAK,eACzFlV,EAAQza,QACZ,CAoFY4vB,CAAYF,EAAUC,GAEjBA,EAAIl9C,MAAM,uBArFT,SAAUgoC,EAASkV,GACjClV,EAAQmP,mBAAmB,WAAY,mCAAsChsB,OAAO+xB,EAAK,eACzFlV,EAAQza,QACZ,CAmFY6vB,CAAYH,EAAUC,GAlFf,SAAUlV,EAASkV,GAClC,IAAIG,EAAeH,EAAIl9C,MAAM,uHACzBs9C,EAAaJ,EAAIl9C,MAAM,+CACvBu9C,EAAUL,EAAIl9C,MAAM,qDACpBw9C,EAAYN,EAAIl9C,MAAM,wCACtBy9C,EAAgBP,EAAIl9C,MAAM,2DAC1B09C,EAAmBR,EAAIl9C,MAAM,2CAC7B29C,EAAgBT,EAAIl9C,MAAM,6CAC1B49C,EAAWV,EAAIl9C,MAAM,wCACzB,GAAIq9C,GAA2C,KAA3BA,EAAa,GAAGj2D,OAChC4gD,EAAQmP,mBAAmB,WAAY,8DAAiEhsB,OAAOkyB,EAAa,IACvHA,EAAa,GAAK,UAAYA,EAAa,GAAK,IAAK,gBAC1DrV,EAAQza,cAEP,GAAI+vB,GAAcA,EAAW,GAC9BtV,EAAQmP,mBAAmB,WAAY,+DAAkEhsB,OAAOmyB,EAAW,GAAI,gBAC/HtV,EAAQza,cAEP,GAAIgwB,GAAWA,EAAQ,GACxBvV,EAAQmP,mBAAmB,WAAY,kFAAqFhsB,OAAOoyB,EAAQ,GAAI,gBAC/IvV,EAAQza,cAEP,GAAIiwB,GAAaA,EAAU,GAC5BxV,EAAQmP,mBAAmB,WAAY,yDAA4DhsB,OAAOqyB,EAAU,GAAI,+EACxHxV,EAAQza,cAEP,GAAIkwB,GAAiBA,EAAc,GACpCzV,EAAQmP,mBAAmB,WAAY,wFAA2FhsB,OAAO0yB,mBAAmBJ,EAAc,IAAK,gBAC/KzV,EAAQza,cAEP,GAAImwB,GAAoBA,EAAiB,GAC1C1V,EAAQmP,mBAAmB,WAAY,gFAAmFhsB,OAAOuyB,EAAiB,GAAI,gBACtJ1V,EAAQza,cAEP,GAAI2vB,EAAIj2D,QAAQ,iBAAmB,IAAMi2D,EAAIj2D,QAAQ,UAAY,GAAM02D,GAAiBA,EAAc,IAAM,CAC7G,IAAIG,EAAW,CACXC,MAAM,EAAGf,EAA6DgB,GAAG,OAAQd,IAASS,GAAiBA,EAAc,GACzHM,KAAM,IACNC,aAAc,IACdC,QAAS,IACTC,gBAAiB,OACjBC,SAAU,KAEd,IAAIxG,IAAIqF,EAAI3pB,WAAW,QAAU2pB,EAAM,SAAWA,GAAK/nB,OAAOj1B,MAAM,KAAKf,SAAQ,SAAU2rC,EAAMxvC,GAC7F,GAAKwvC,EAAL,CAGc,IAAVxvC,IACAwvC,EAAOA,EAAKyH,OAAO,IAEvB,IAAI+L,EAAWxT,EAAK5qC,MAAM,KAC1B49C,EAASQ,EAAS,IAAMA,EAAS,EALjC,CAMJ,IACA,IAAIC,EAAQ,2CACRC,EAAS33D,OAAO4a,KAAKq8C,GACzBU,EAAOr/C,SAAQ,SAAUlO,EAAKqK,GAC1BijD,GAAS,GAAGpzB,OAAOl6B,EAAK,KAAKk6B,OAAO2yB,EAAS7sD,IACzCqK,EAAQkjD,EAAOp3D,OAAS,IACxBm3D,GAAS,IAEjB,IACAvW,EAAQmP,mBAAmB,WAAY,sCAAyChsB,OAAOozB,EAAO,gBAC9FvW,EAAQza,QACZ,MACSqwB,GAAYA,EAAS,KAC1B5V,EAAQmP,mBAAmB,WAAY,4DAA+DhsB,OAAOyyB,EAAS,GAAI,gBAC1H5V,EAAQza,SAEhB,CAiBYkxB,CAAaxB,EAAUC,GAE/B,GACJ,CAGO,EAED,IACA,CAAE3V,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAClEgK,EAA8C,EAAoB,KACvFrR,EAAkD,SAAUtyC,EAASuyC,EAAYC,EAAGC,GAEpF,OAAO,IAAKD,IAAMA,EAAI1oC,WAAU,SAAUsb,EAASmN,GAC/C,SAASmgB,EAAUpjD,GAAS,IAAMwzB,EAAK2vB,EAAU1mB,KAAKz8B,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC1F,SAASgnD,EAASrjD,GAAS,IAAMwzB,EAAK2vB,EAAiB,MAAEnjD,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC7F,SAASm3B,EAAKhiB,GAJlB,IAAexR,EAIawR,EAAOkrB,KAAO5G,EAAQtkB,EAAOxR,QAJ1CA,EAIyDwR,EAAOxR,MAJhDA,aAAiBkjD,EAAIljD,EAAQ,IAAIkjD,GAAE,SAAUptB,GAAWA,EAAQ91B,EAAQ,KAIjBsjD,KAAKF,EAAWC,EAAW,CAC7G7vB,GAAM2vB,EAAYA,EAAU3yC,MAAME,EAASuyC,GAAc,KAAKxmB,OAClE,GACJ,EACI8mB,EAAsD,SAAU7yC,EAAS8yC,GACzE,IAAsGC,EAAGpR,EAAG/1C,EAAGqS,EAA3GqH,EAAI,CAAE0tC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPrnD,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGsnD,KAAM,GAAIC,IAAK,IAChG,OAAOl1C,EAAI,CAAE8tB,KAAMqnB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXnsC,SAA0BhJ,EAAEgJ,OAAOW,UAAY,WAAa,OAAO6D,IAAM,GAAIxN,EACvJ,SAASm1C,EAAKtwC,GAAK,OAAO,SAAUuwC,GAAK,OACzC,SAAcnW,GACV,GAAI6V,EAAG,MAAM,IAAI/sC,UAAU,mCAC3B,KAAO/H,IAAMA,EAAI,EAAGi/B,EAAG,KAAO53B,EAAI,IAAKA,OACnC,GAAIytC,EAAI,EAAGpR,IAAM/1C,EAAY,EAARsxC,EAAG,GAASyE,EAAU,OAAIzE,EAAG,GAAKyE,EAAS,SAAO/1C,EAAI+1C,EAAU,SAAM/1C,EAAEK,KAAK01C,GAAI,GAAKA,EAAE5V,SAAWngC,EAAIA,EAAEK,KAAK01C,EAAGzE,EAAG,KAAKlR,KAAM,OAAOpgC,EAE3J,OADI+1C,EAAI,EAAG/1C,IAAGsxC,EAAK,CAAS,EAARA,EAAG,GAAQtxC,EAAE0D,QACzB4tC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtxC,EAAIsxC,EAAI,MACxB,KAAK,EAAc,OAAX53B,EAAE0tC,QAAgB,CAAE1jD,MAAO4tC,EAAG,GAAIlR,MAAM,GAChD,KAAK,EAAG1mB,EAAE0tC,QAASrR,EAAIzE,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAK53B,EAAE6tC,IAAInhC,MAAO1M,EAAE4tC,KAAKlhC,MAAO,SACxC,QACI,MAAkBpmB,GAAZA,EAAI0Z,EAAE4tC,MAAY7mD,OAAS,GAAKT,EAAEA,EAAES,OAAS,KAAkB,IAAV6wC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE53B,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAV43B,EAAG,MAActxC,GAAMsxC,EAAG,GAAKtxC,EAAE,IAAMsxC,EAAG,GAAKtxC,EAAE,IAAM,CAAE0Z,EAAE0tC,MAAQ9V,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAY53B,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAIA,EAAIsxC,EAAI,KAAO,CACpE,GAAItxC,GAAK0Z,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAI0Z,EAAE6tC,IAAI3lC,KAAK0vB,GAAK,KAAO,CAC9DtxC,EAAE,IAAI0Z,EAAE6tC,IAAInhC,MAChB1M,EAAE4tC,KAAKlhC,MAAO,SAEtBkrB,EAAK4V,EAAK7mD,KAAK+T,EAASsF,EAC5B,CAAE,MAAO3Z,GAAKuxC,EAAK,CAAC,EAAGvxC,GAAIg2C,EAAI,CAAG,CAAE,QAAUoR,EAAInnD,EAAI,CAAG,CACzD,GAAY,EAARsxC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5tC,MAAO4tC,EAAG,GAAKA,EAAG,QAAK,EAAQlR,MAAM,EAC9E,CAtBgDlJ,CAAK,CAAChgB,EAAGuwC,GAAK,CAAG,CAuBrE,EAKIzE,EAAgB,SAAU3B,EAASwG,EAAKe,QAC5B,IAARf,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAIkQ,EAAkBjK,EAA4CY,qBAAqBT,YAAY7M,GACpE,IAA3B2W,EAAgBv3D,SAGpB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,mCAAoC,uBAAuBb,MAAK,WAC/I,IAAIiR,EAAS,CACTC,cAAe,QACfC,cAAe,aACfC,WAAY,aACZC,aAAa,EACb1H,UAAW,CACP2H,YAAY,EACZC,aAAa,GAEjBC,SAAU,CACND,aAAa,EACbE,eAAgB,EAChBC,eAAgB,EAChBC,UAAW,EACXC,qBAAqB,GAEzBC,MAAO,CACHC,YAAa,GACbC,aAAc,KAGR,SAAVnQ,IACAqP,EAAOrP,MAAQ,QAEnBoQ,QAAQC,WAAWhB,GACnBD,EAAgBx/C,SAAQ,SAAU2rC,GAAQ,OAAOuC,OAAU,OAAQ,OAAQ,GAAQ,WAC/E,IAAIoK,EAAM/+B,EAAImnC,EAAaC,EAAKC,EAChC,OAAOnS,EAAYpnC,MAAM,SAAU7c,GAC/B,OAAQA,EAAGokD,OACP,KAAK,EAED,GADA0J,EAAO/C,EAA4CY,qBAAqBN,QAAQlK,GACpC,SAAxCA,EAAKvC,aAAa,mBAAgD,KAAhBkP,EAAK3iB,OACvD,MAAO,CAAC,GAEZpc,EAAK,WAAY,EAAGgmC,EAA2DsB,KAC/Er2D,EAAGokD,MAAQ,EACf,KAAK,EAED,OADApkD,EAAGskD,KAAK1lC,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAao3C,QAAQtQ,OAAO32B,EAAIoyB,EAAKuK,cACjD,KAAK,EAGD,OAFAwK,EAAcl2D,EAAGqkD,OACjBlD,EAAKa,UAAYkU,EAAYnG,IACtB,CAAC,EAAa,GACzB,KAAK,EAKD,OAJAoG,EAAMn2D,EAAGqkD,OACT+R,EAAe9X,SAASU,cAAc,IAAMjwB,GAC5CoyB,EAAKa,UAAY,GAAGxgB,OAAO40B,EAAa3H,UAAW,+CAAiDjtB,OAAO20B,EAAInvC,QAAQ1S,QAAQ,KAAM,QAAS,kBAC9I8hD,EAAahU,cAAcxe,SACpB,CAAC,EAAa,GACzB,KAAK,EAED,OADAud,EAAKsC,aAAa,iBAAkB,QAC7B,CAAC,GAEpB,GACJ,GAAI,GACR,GACJ,CAGO,EAED,IACA,CAAE7F,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvF7K,EAAgB,SAAU7B,EAASwG,EAAKe,QACxB,IAAZvH,IAAsBA,EAAUC,eACxB,IAARuG,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAIwR,EAAkBvL,EAA4Cc,qBAAqBX,YAAY7M,GAC/FiY,EAAgB74D,OAAS,IACzB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,mCAAoC,uBAAuBb,MAAK,WAC/IsS,EAAgB9gD,SAAQ,SAAUzY,GAC9B,IAAIA,EAAEqlD,cAAcL,UAAUI,SAAS,yBACnCplD,EAAEqlD,cAAcL,UAAUI,SAAS,0BADvC,CAIA,IAAI5T,EAAOwc,EAA4Cc,qBAAqBR,QAAQtuD,GACpF,GAAKwxC,EAGL,IACI,GAAyC,SAArCxxC,EAAE6hD,aAAa,kBACf,OAEJ2N,QAAQC,KAAKzvD,EAAa,SAAV6oD,EAAmB,YAAS1/C,GAAWumD,UAAU,CAC7D8J,OAAQ,CACJ,CACIr4C,KAAM,CAACmuC,KAAKC,MAAMvD,mBAAmBxa,KACrCioB,kBAAmB,EACnBC,UAAW,CACPC,YAAa,EACbz6D,MAAO,WAEXmoD,MAAO,CACHxgD,gBAAiB,UACjBF,YAAa,UACbT,aAAc,EACdyzD,YAAa,GACbz6D,MAAO,UACPC,WAAY,GACZyW,OAAQ,EAAE,EAAG,GACbkoC,QAAS,CAAC,EAAG,GACbv3C,SAAU,eAEdqzD,UAAW,CACP16D,MAAO,UACP26D,MAAO,GAEXC,MAAM,EACN10C,OAAQ,SAAUzhB,EAAOo2D,GACrB,IAAI92D,EACJ,OAA2E,QAAtEA,EAAK82D,aAAuC,EAASA,EAAO54C,YAAyB,IAAPle,OAAgB,EAASA,EAAGG,UACpG,SAGA,SAEf,EACAgH,KAAM,SAGd4vD,QAAS,CACL72D,QAAS,OACT82D,UAAW,eAGnBj6D,EAAE0mD,aAAa,iBAAkB,OACrC,CACA,MAAOiJ,GACH3vD,EAAEkC,UAAY,sBACdlC,EAAEilD,UAAY,6BAA6BxgB,OAAOkrB,EACtD,CAxDA,CAyDJ,GACJ,GAER,CAGO,EAED,IACA,CAAE9O,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAI4kB,EAA0D,EAAoB,KAC9EC,EAA2C,EAAoB,KAGpF/W,EAAgB,SAAUgX,EAAgBC,EAAeC,GACzD,IAAIC,EAAU,GACVC,EAAM,GAWV,GAVA/kD,MAAMo6C,KAAKuK,EAAeh3D,UAAUqV,SAAQ,SAAU2rC,EAAMxvC,GACxD,IAAI,EAAGslD,EAAoFZ,GAAGlV,GAAO,CACjG,GAAIkW,EAAQ,CACR,IAAInhD,EAAYirC,EAAKpyB,GAAGgZ,YAAY,KACpCoZ,EAAKpyB,GAAKoyB,EAAKpyB,GAAG0c,UAAU,GAAkB,IAAfv1B,OAAmBhQ,EAAYgQ,GAAa,IAAMvE,CACrF,CACA4lD,EAAI34C,KAAKuiC,EAAKpyB,IACduoC,GAAWnW,EAAKsN,UAAUn6C,QAAQ,QAAS,GAC/C,CACJ,IACgB,KAAZgjD,EAEA,OADAF,EAAcpV,UAAY,GACnB,GAEX,IAAIwV,EAAclZ,SAASI,cAAc,OACzC,GAAI2Y,EACAA,EAAOlR,KAAKsR,QAAO,GACQ,YAAvBJ,EAAOK,aAA8BL,EAAOvN,QAAQzL,QAAQ8D,SAASgV,GAGzC,OAAvBE,EAAOK,aAAyBL,EAAOvN,QAAQzL,QAAQ8D,SAASgV,GAIrEK,EAAYxV,UAAYqV,EAAOlR,KAAKwR,eAAe,eAAiBL,GAHpEE,EAAYxV,UAAYqV,EAAOlR,KAAKyR,gBAAgB,eAAiBN,GAHrEE,EAAYxV,UAAYqV,EAAOlR,KAAK0R,cAAc,eAAiBP,GAQvED,EAAOlR,KAAKsR,OAAOJ,EAAO78B,QAAQsvB,QAAQ3E,SAASoC,SAElD,CACD6P,EAAcrV,UAAU/jC,IAAI,kBAC5B,IAAImoC,EAAO2R,KAAKC,MAChB5R,EAAKsR,QAAO,GACZD,EAAYxV,UAAYmE,EAAKwR,eAAe,eAAiBL,EACjE,CACA,IAAIU,EAAkBR,EAAYS,kBAAkB5Y,iBAAiB,6BAerE,OAdA2Y,EAAgBxiD,SAAQ,SAAU2rC,EAAMxvC,GACpC,GAAIwvC,EAAK+W,oBAA0D,OAApC/W,EAAK+W,mBAAmB1G,QAAkB,CACrE,IAAItE,EAAW,uFACV5O,SAASiD,eAAe,sBACzB2L,EAAW,yJAEf/L,EAAKa,UAAY,GAAGxgB,OAAO0rB,EAAU,UAAU1rB,OAAO2f,EAAKa,UAAW,UAC1E,MAEIb,EAAKa,UAAY,oBAAoBxgB,OAAO2f,EAAKa,UAAW,WAEhEb,EAAKsC,aAAa,iBAAkB8T,EAAI5lD,GAC5C,IACA2lD,EAAUE,EAAYS,kBAAkBjW,UACT,IAA3BgW,EAAgBv6D,QAChB25D,EAAcpV,UAAY,GACnBsV,IAEXF,EAAcpV,UAAYsV,EACtBD,IACA,EAAGH,EAA2D5O,GAAG8O,EAAe,CAC5EvS,IAAKwS,EAAO78B,QAAQqqB,IACpBQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,OAGrC+R,EAAca,kBAAkBpZ,iBAAiB,SAAS,SAAUqD,GAEhE,IADA,IAAI9b,EAAS8b,EAAM9b,OACZA,IAAWA,EAAO+xB,YAAYf,IAAgB,CACjD,GAAIhxB,EAAO2b,UAAUI,SAAS,0BAA2B,CACjD/b,EAAO2b,UAAUI,SAAS,kCAC1B/b,EAAO2b,UAAUne,OAAO,iCACxBwC,EAAOgc,cAAc8V,mBAAmBzU,aAAa,QAAS,mBAG9Drd,EAAO2b,UAAU/jC,IAAI,iCACrBooB,EAAOgc,cAAc8V,mBAAmBzU,aAAa,QAAS,iBAElEvB,EAAMwP,iBACNxP,EAAMz7C,kBACN,KACJ,CACK,GAAI2/B,EAAOwY,aAAa,kBAAmB,CAC5CsD,EAAMwP,iBACNxP,EAAMz7C,kBACN,IAAI2xD,EAAY9Z,SAASiD,eAAenb,EAAOwY,aAAa,mBAC5D,IAAKwZ,EACD,OAEJ,GAAIf,EACA,GAA8B,SAA1BA,EAAO78B,QAAQ53B,OAAmB,CAClC,IAAIy1D,EAAgBD,EAAUvP,UAAYwO,EAAOhZ,QAAQwK,UACpDwO,EAAO78B,QAAQ89B,cAAcC,MAC9BF,GAAiBhB,EAAOmB,QAAQna,QAAQoa,cAE5CvZ,OAAOoK,SAASpK,OAAOqK,QAAS8O,EACpC,MAEQhB,EAAOhZ,QAAQwK,UAAY3J,OAAOwZ,SAClCxZ,OAAOoK,SAASpK,OAAOqK,QAAS8N,EAAOhZ,QAAQwK,WAE/CwO,EAAOvN,QAAQzL,QAAQ8D,SAASgV,GAChCA,EAAe/U,cAAcgB,UAAYgV,EAAUvP,UAGnDsO,EAAe/T,UAAYgV,EAAUvP,eAK7C3J,OAAOoK,SAASpK,OAAOqK,QAAS6O,EAAUvP,WAE9C,KACJ,CACAziB,EAASA,EAAOgc,aACpB,CACJ,IACOkV,EACX,CAGO,EAED,IACA,CAAE1Z,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9DC,EAA+C,EAAoB,KACnEC,EAA8C,EAAoB,KAIvF3K,EAAiB,SAAU/B,EAASwG,QACpB,IAAZxG,IAAsBA,EAAUC,eACxB,IAARuG,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KAC3F,IAAI6T,EAAmB5N,EAA4CmB,sBAAsBhB,YAAY7M,GACrE,IAA5Bsa,EAAiBl7D,SAGrB,EAAGqtD,EAA8D5E,GAAG,GAAG1kB,OAAOqjB,EAAK,6CAA8C,wBAAwBb,MAAK,WAC1J2U,EAAiBnjD,SAAQ,SAAUzY,GAC/B,IAAIA,EAAEqlD,cAAcL,UAAUI,SAAS,yBACnCplD,EAAEqlD,cAAcL,UAAUI,SAAS,0BADvC,CAIA,IAAI5T,EAAOwc,EAA4CmB,sBAAsBb,QAAQtuD,GAAGouC,OACxF,GAAKoD,EAGL,IACIxxC,EAAEilD,UAAY,8EAAiFxgB,OAAOo3B,gBAAgBC,OAAOtqB,GAAO,MACxI,CACA,MAAOme,GACH3vD,EAAEkC,UAAY,sBACdlC,EAAEilD,UAAY,8BAA8BxgB,OAAOkrB,EACvD,CAXA,CAYJ,GACJ,GACJ,CAGO,EAED,GACA,CAAE9O,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAElC,IAAIoO,EAAU,SAAUjmB,GACpB,IAAI2rB,EAAO2R,KAAKC,MAqBhB,OApBA5R,EAAK2S,UAAUt+B,EAAQisB,QACvBN,EAAK4S,aAAav+B,EAAQgsB,WAC1BL,EAAK6S,iBAAiBx+B,EAAQosB,eAC9BT,EAAK8S,uCAAuCz+B,EAAQqsB,iBACpDV,EAAK+S,aAAa1+B,EAAQ6rB,WAC1BF,EAAKsR,OAAOj9B,EAAQ+sB,KACpBpB,EAAKgT,aAAa3+B,EAAQmsB,WAC1BR,EAAKiT,eAAe5+B,EAAQksB,aAC5BP,EAAKkT,0BAA0B7+B,EAAQ+rB,kBACvCJ,EAAKmT,0BAA0B9+B,EAAQ4sB,kBACvCjB,EAAKoT,YAAY/+B,EAAQ8sB,UACzBnB,EAAKqT,kCAAkCh/B,EAAQ6sB,yBAC/ClB,EAAKsT,mBAAmBj/B,EAAQ0sB,WAChCf,EAAKuT,YAAYl/B,EAAQwsB,UACzBb,EAAKwT,cAAcn/B,EAAQysB,YAC3Bd,EAAKyT,QAAQp/B,EAAQ2sB,MACrBhB,EAAK0T,eAAer/B,EAAQ8rB,aACxB9rB,EAAQusB,eACRZ,EAAK2T,oBAAoBt/B,EAAQusB,eAE9BZ,CACX,CAGO,EAED,IACA,CAAEvI,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAElC,IAAIsX,EAAe,SAAUoQ,EAAenZ,EAAMgF,QACjC,IAAThF,IAAmBA,EAAO,cAChB,IAAVgF,IAAoBA,EAAQ,WAChC,IAAIoU,EAAaD,EAAc7W,wBAE/B5E,SAAS4F,KAAKsJ,mBAAmB,YAAa,gCAAiChsB,OAAiB,SAAVokB,EAAmB,gBAAkB,GAAI,qKAA8KpkB,OAAO0d,OAAOiJ,WAAW8R,KAAM,4KAA4Kz4B,OAAO0d,OAAOiJ,WAAW7pD,MAAO,+KAAgLkjC,OAAOu4B,EAAcnD,MAAO,cAAcp1B,OAAOu4B,EAAcn3D,OAAQ,8BAA8B4+B,OAAOw4B,EAAW3W,KAAM,QAAQ7hB,OAAOw4B,EAAW7W,IADl1B,GACg2B,iBAAmB3hB,OAAOu4B,EAAcnb,aAAa,OAAQ,2BAC16BN,SAAS4F,KAAKtkD,MAAMs6D,SAAW,SAE/B,IAAI5a,EAAahB,SAASU,cAAc,mBACpCmb,EAAc,eAAe34B,OAAOtqB,KAAKqD,IAAI,EAAG2kC,OAAOkb,WAAaL,EAAchb,cAAgB,EAAG,QAAQvd,OAAOtqB,KAAKqD,IAAI,EAAG2kC,OAAOC,YAL9H,GAKqJ4a,EAAcjb,eAAiB,EAAG,UACpMplC,YAAW,WACP4lC,EAAWmE,aAAa,QAAS,oDAAoDjiB,OAAO24B,IAC5FzgD,YAAW,WACP4lC,EAAW8C,cAAckH,UAAUhK,EAAW8C,cAAciY,YAAc/a,EAAW8C,cAAcnD,aAAe,GAAIK,EAAW8C,cAAckY,aAAehb,EAAW8C,cAAcmY,cAAgB,EAC3M,GAAG,IACP,IAEA,IAAIC,EAAalc,SAASU,cAAc,oBACxCwb,EAAW3b,iBAAiB,SAAS,WACjC,IAAI4b,EAAMtrD,SAASqrD,EAAW5b,aAAa,YAAa,IAAM,GACzD6b,EAAM,GAAM,GAAM,GAAKV,EAAchb,aAAeO,EAAW8C,cAAcmY,aAC9Ejb,EAAW1/C,MAAM8V,UAAY,eAAe8rB,OAAOtqB,KAAKqD,IAAI,EAAG2kC,OAAOkb,WAAaL,EAAchb,cAAgB,EAAG,QAAQvd,OAAOu4B,EAAchb,aAAe,EAAIgb,EAAcjb,cAAgB,EAAG,mBAAmBtd,OAAOi5B,EAAK,QAGpOnb,EAAW1/C,MAAM8V,UAAY,GAAG8rB,OAAO24B,EAAa,aAAa34B,OAAOi5B,EAAK,QAEjFD,EAAW/W,aAAa,WAAYgX,EAAI/iD,YACxCgC,YAAW,WACP4lC,EAAW8C,cAAckH,UAAUhK,EAAW8C,cAAciY,YAAc/a,EAAW8C,cAAcnD,aAAe,GAAIK,EAAW8C,cAAckY,aAAehb,EAAW8C,cAAcmY,cAAgB,EAC3M,GAAG,IACP,GACJ,CAGO,EAED,GACA,CAAE3c,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIwY,EAA0C,EAAoB,KAC9D+D,EAA8C,EAAoB,KAGvFnF,EAAe,SAAUiR,EAAW7V,QACxB,IAARA,IAAkBA,EAAMgG,EAA6Dx7C,EAAEy1C,KACtF+F,EAA6Ex7C,EAAEi7C,WAAWznC,SAAS63C,KACpGA,EAAY,UAEhB,IAAI5L,EAAkBxQ,SAASiD,eAAe,mBAC1CwN,EAAO,GAAGvtB,OAAOqjB,EAAK,iCAAiCrjB,OAAOk5B,EAAW,QACxE5L,EAGIA,EAAgBlQ,aAAa,UAAYmQ,IAC9CD,EAAgBlrB,UAChB,EAAGgrB,EAA4DI,GAAGD,EAAM,qBAJxE,EAAGH,EAA4DI,GAAGD,EAAM,kBAMhF,CAGO,EAED,IACA,CAAEnR,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAEb,IAAIsoB,EAA8C,EAAoB,KAEvFra,EAAkB,SAAUsa,EAAcl2C,GAC1C,GAAKk2C,GAAiBl2C,EAAtB,CAGA,IAAIm2C,EAAqBvc,SAASiD,eAAe,sBAC7CuZ,EAAU,GAAGt5B,OAAO9c,EAAM,KAAK8c,OAAOo5B,EAAc,QACnDC,EAGIA,EAAmBjc,aAAa,UAAYkc,IACjDD,EAAmBj3B,UACnB,EAAG+2B,EAA4D3L,GAAG8L,EAAS,wBAJ3E,EAAGH,EAA4D3L,GAAG8L,EAAS,qBAJ/E,CAUJ,CAGO,EAED,IACA,CAAEld,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,EACX,EAAK,IAAM,IAElC,IAAI0oB,EAAgB,SAAUr2C,EAAMqK,GAChC,GAAIuvB,SAASiD,eAAexyB,GACxB,OAAO,EAEX,IAAIisC,EAAS,IAAIC,eACjBD,EAAOz6D,KAAK,MAAOmkB,GAAM,GACzBs2C,EAAOE,iBAAiB,SAAU,0GAClCF,EAAOG,KAAK,IACZ,IAAIC,EAAgB9c,SAASI,cAAc,UAC3C0c,EAAcj0D,KAAO,kBACrBi0D,EAAc7sB,KAAOysB,EAAOK,aAC5BD,EAAcrsC,GAAKA,EACnBuvB,SAASnmB,KAAK04B,YAAYuK,EAC9B,EACI7a,EAAY,SAAU77B,EAAMqK,GAC5B,OAAO,IAAI7T,SAAQ,SAAUsb,EAASmN,GAClC,GAAI2a,SAASiD,eAAexyB,GAGxB,OADAyH,GAAQ,IACD,EAEX,IAAI4kC,EAAgB9c,SAASI,cAAc,UAC3C0c,EAAczc,IAAMj6B,EACpB02C,EAAcE,OAAQ,EAEtBhd,SAASnmB,KAAK04B,YAAYuK,GAC1BA,EAActZ,QAAU,SAAUI,GAC9Bve,EAAOue,EACX,EACAkZ,EAAcG,OAAS,WACnB,GAAIjd,SAASiD,eAAexyB,GAIxB,OAFAqsC,EAAcx3B,SACdpN,GAAQ,IACD,EAEX4kC,EAAcrsC,GAAKA,EACnByH,GAAQ,EACZ,CACJ,GACJ,CAGO,EAED,IACA,CAAEonB,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAElC,IAAImpB,EAAW,SAAUjI,EAAKxkC,GAC1B,IAAKuvB,SAASiD,eAAexyB,GAAK,CAC9B,IAAI0sC,EAAend,SAASI,cAAc,QAC1C+c,EAAa1sC,GAAKA,EAClB0sC,EAAaC,IAAM,aACnBD,EAAat0D,KAAO,WACpBs0D,EAAa1M,KAAOwE,EACpBjV,SAASqd,qBAAqB,QAAQ,GAAG9K,YAAY4K,EACzD,CACJ,CAGO,EAED,IACA,CAAE7d,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAElC,IAAIupB,EAAc,SAAUrtB,GAExB,OAAOA,EAAKj6B,QAAQ,UAAW,IACnC,CAGO,EAED,IACA,CAAEspC,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,IAEnC,IAAIwpB,EAAW,WACX,OAAOC,UAAUC,UAAUz+D,QAAQ,WAAa,IAAgD,IAA3Cw+D,UAAUC,UAAUz+D,QAAQ,SACrF,EACI0+D,EAAY,WACZ,OAAOF,UAAUC,UAAUl9B,cAAcvhC,QAAQ,YAAc,CACnE,EACI2+D,EAAqB,WACrB,IACI,MAA+B,oBAAjBC,YAClB,CACA,MAAOn/D,GACH,OAAO,CACX,CACJ,EAEIo/D,EAAe,WACf,OAAIL,UAAUC,UAAUz+D,QAAQ,WAAa,EAClC,aAGA,OAEf,EAEI8+D,EAAS,SAAUla,GACnB,OAAI4Z,UAAUO,SAAS/2D,cAAchI,QAAQ,QAAU,KAE/C4kD,EAAMoa,SAAYpa,EAAMqa,WAMvBra,EAAMoa,UAAWpa,EAAMqa,QAKpC,EAEIC,EAAkB,SAAUC,GAuB5B,MAtBI,MAAMpnD,KAAKymD,UAAUO,WAAoC,WAAvBP,UAAUO,SACxCI,EAAOn/D,QAAQ,MAAQ,GAAK0+D,MAE5BS,EAASA,EAAOnoD,QAAQ,IAAK,KAAKA,QAAQ,IAAK,KAAKA,QAAQ,IAAK,OAarEmoD,GARIA,EADAA,EAAO7yB,WAAW,KACT6yB,EAAOnoD,QAAQ,IAAK,MAExBmoD,EAAO7yB,WAAW,MAAgC,MAAxB6yB,EAAO7T,OAAO,EAAG,GACvC6T,EAAOnoD,QAAQ,IAAK,MAGpBmoD,EAAOnoD,QAAQ,KAAM,QAAQA,QAAQ,KAAM,SAExCA,QAAQ,IAAK,QAAQA,QAAQ,IAAK,SAC7CA,QAAQ,IAAK,QACPhX,QAAQ,UAAY,IAC3Bm/D,EAASA,EAAOnoD,QAAQ,IAAK,KAAKA,QAAQ,IAAK,KAAKA,QAAQ,IAAK,MAGlEmoD,CACX,EACIC,EAAW,WACX,MAAO,SAASrnD,KAAKymD,UAAUC,YAAc,aAAa1mD,KAAKymD,UAAUa,OAC7E,CAGO,EAED,IACA,CAAE/e,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,EACX,EAAK,IAAM,IAElC,IAAIuqB,EAAU,WAAc,OAAQ,CAAC,KAAKllD,YAAc,KAAO,KAAO,KAAO,MAAMpD,QAAQ,UAAU,SAAU06C,GAC3G,OAAQ7/C,SAAS6/C,EAAG,IAAO9P,OAAO2d,OAAOC,gBAAgB,IAAIC,YAAY,IAAI,GAAM,IAAO5tD,SAAS6/C,EAAG,IAAM,GAAMt3C,SAAS,GAC/H,GAAI,EACAslD,EAAY,SAAU11D,EAAK21D,QACd,IAATA,IAAmBA,EAAO/d,OAAO8J,SAASxd,QAC9C,IAAIsrB,EAASmG,EAAKxxB,UAAUwxB,EAAK3/D,QAAQ,MACrC4/D,EAAYpG,EAAOx5D,QAAQ,KAG/B,OADsB,IAAI6/D,gBAAgBrG,EAAOrrB,UAAU,EAAGyxB,GAAa,EAAIA,OAAYh3D,IACpE+Z,IAAI3Y,EAC/B,CAGO,EAED,IACA,CAAEs2C,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,IAGd,IAAI+qB,EAAqD,EAAoB,KAE9FC,EAA2B,SAAUhf,EAASp/C,GAI9C,IAHA,IAAI4yD,EAAUyL,EAAsBjf,EAASp/C,GACzCs+D,GAAgB,EAChBC,GAAU,EACP3L,IAAYA,EAAQ9P,UAAUI,SAAS,kBAAoBqb,IAC9DD,EAAgBD,EAAsBzL,EAAQzP,cAAenjD,IAEzD4yD,EAAU0L,EAGVC,GAAU,EAGlB,OAAO3L,IAAW,CACtB,EAgBI4L,EAAqB,SAAUpf,EAAS0S,GAIxC,IAHA,IAAIc,GAAU,EAAGuL,EAA0EM,GAAGrf,EAAS0S,GACnGwM,GAAgB,EAChBC,GAAU,EACP3L,IAAYA,EAAQ9P,UAAUI,SAAS,kBAAoBqb,IAC9DD,GAAgB,EAAGH,EAA0EM,GAAG7L,EAAQzP,cAAe2O,IAEnHc,EAAU0L,EAGVC,GAAU,EAGlB,OAAO3L,IAAW,CACtB,EACI8L,EAAa,SAAUtf,GACvB,IAAIuf,EAAeH,EAAmBpf,EAAS,MAC3Cwf,EAAeJ,EAAmBpf,EAAS,MAC3Cyf,EAAiBF,EAIrB,OAHIC,KAAkBD,GAAiBA,GAAgBC,EAAa1b,SAASyb,MACzEE,EAAiBD,GAEdC,CACX,EACIC,EAAwB,SAAU1f,EAAS2f,EAAMt9D,GACjD,IAAK29C,EACD,OAAO,EAEc,IAArBA,EAAQzuC,WACRyuC,EAAUA,EAAQ+D,eAItB,IAFA,IAAIrlD,EAAIshD,EACJ4f,GAAY,EACTlhE,IAAMkhE,IAAclhE,EAAEglD,UAAUI,SAAS,iBACxCplD,EAAE6hD,aAAaof,KAAUt9D,EACzBu9D,GAAY,EAGZlhE,EAAIA,EAAEqlD,cAGd,OAAO6b,GAAalhE,CACxB,EACImhE,EAAkB,SAAU7f,GAC5B,IAAKA,EACD,OAAO,EAEc,IAArBA,EAAQzuC,WACRyuC,EAAUA,EAAQ+D,eAEtB,IAAIrlD,EAAIshD,EACJ4f,GAAY,EACZE,EAAeJ,EAAsB1f,EAAS,aAAc,KAChE,GAAI8f,EACA,OAAOA,EAEX,KAAOphE,IAAMkhE,IAAclhE,EAAEglD,UAAUI,SAAS,iBAC1B,OAAdplD,EAAEy0D,SACY,OAAdz0D,EAAEy0D,SACY,OAAdz0D,EAAEy0D,SACY,OAAdz0D,EAAEy0D,SACY,OAAdz0D,EAAEy0D,SACY,OAAdz0D,EAAEy0D,SACY,MAAdz0D,EAAEy0D,SACY,eAAdz0D,EAAEy0D,SACY,OAAdz0D,EAAEy0D,SACY,OAAdz0D,EAAEy0D,QACFyM,GAAY,EAGZlhE,EAAIA,EAAEqlD,cAGd,OAAO6b,GAAalhE,CACxB,EACIqhE,EAAuB,SAAU/f,EAAS0S,GAC1C,IAAK1S,EACD,OAAO,EAEc,IAArBA,EAAQzuC,WACRyuC,EAAUA,EAAQ+D,eAItB,IAFA,IAAIrlD,EAAIshD,EACJ4f,GAAY,EACTlhE,IAAMkhE,IAAclhE,EAAEglD,UAAUI,SAAS,iBACxCplD,EAAEg0D,WAAaA,EACfkN,GAAY,EAGZlhE,EAAIA,EAAEqlD,cAGd,OAAO6b,GAAalhE,CACxB,EACIugE,EAAwB,SAAUjf,EAASp/C,GAC3C,IAAKo/C,EACD,OAAO,EAEc,IAArBA,EAAQzuC,WACRyuC,EAAUA,EAAQ+D,eAItB,IAFA,IAAIrlD,EAAIshD,EACJ4f,GAAY,EACTlhE,IAAMkhE,IAAclhE,EAAEglD,UAAUI,SAAS,iBACxCplD,EAAEglD,UAAUI,SAASljD,GACrBg/D,GAAY,EAGZlhE,EAAIA,EAAEqlD,cAGd,OAAO6b,GAAalhE,CACxB,EACIshE,EAAc,SAAU1L,GACxB,KAAOA,GAAQA,EAAK2L,WAChB3L,EAAOA,EAAK2L,UAEhB,OAAO3L,CACX,CAGO,EAED,IACA,CAAE/U,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,EACX,EAAK,IAAM,IAGlC,IAAIksB,EAAkB,SAAUlgB,EAAS0S,GACrC,IAAK1S,EACD,OAAO,EAEc,IAArBA,EAAQzuC,WACRyuC,EAAUA,EAAQ+D,eAItB,IAFA,IAAIrlD,EAAIshD,EACJ4f,GAAY,EACTlhE,IAAMkhE,IAAclhE,EAAEglD,UAAUI,SAAS,iBACP,IAAjCplD,EAAEg0D,SAASzzD,QAAQyzD,GACnBkN,GAAY,EAGZlhE,EAAIA,EAAEqlD,cAGd,OAAO6b,GAAalhE,CACxB,EACIyhE,EAAuB,SAAUngB,GACjC,IAAIgL,EAAiBkV,EAAgBlgB,EAAS,KAC9C,SAAIgL,GAAoD,IAAlCA,EAAemI,QAAQ/zD,QAA2C,OAA3B4rD,EAAemI,UACjEnI,CAGf,CAGO,EAED,EACA,CAAEzL,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,EAAK,IAAM,IAElC,IAAIjU,EAAQ,WAER,IADA,IAAI5D,EAAU,GACLikC,EAAK,EAAGA,EAAKptC,UAAU5zB,OAAQghE,IACpCjkC,EAAQikC,GAAMptC,UAAUotC,GAe5B,IAbA,IAAIr4B,EAAS,CAAC,EACVs4B,EAAS,SAAUC,GACnB,IAAK,IAAIngC,KAAQmgC,EACTA,EAAIvhE,eAAeohC,KAC+B,oBAA9CthC,OAAOC,UAAUua,SAASra,KAAKshE,EAAIngC,IACnC4H,EAAO5H,GAAQJ,EAAMgI,EAAO5H,GAAOmgC,EAAIngC,IAGvC4H,EAAO5H,GAAQmgC,EAAIngC,GAInC,EACShhC,EAAI,EAAGA,EAAIg9B,EAAQ/8B,OAAQD,IAChCkhE,EAAOlkC,EAAQh9B,IAEnB,OAAO4oC,CACX,CAGO,EAED,IACA,CAAEwX,EAAyB,EAAqB,KAEtD,aACqB,EAAoBvL,EAAE,EAAqB,CACzC,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,EACZ,GAAM,IAAM,IAEd,IAAIwY,EAA0C,EAAoB,KAC9D+T,EAA8C,EAAoB,KAClEC,EAA2C,EAAoB,KAIpFC,EAAiB,SAAUzH,GAC3B,IAAI/2B,EACA+d,EAAUgZ,EAAOA,EAAOK,aAAarZ,QACzC,OAAIwE,eAAeC,WAAa,IAC5BxiB,EAAQuiB,eAAeE,WAAW,GAC9B1E,EAAQ8Z,YAAY73B,EAAMy+B,iBAAmB1gB,EAAQ8D,SAAS7hB,EAAMy+B,iBAC7Dz+B,EAGX+2B,EAAOA,EAAOK,aAAap3B,MACpB+2B,EAAOA,EAAOK,aAAap3B,OAEtC+d,EAAQuE,SACRtiB,EAAQ+d,EAAQ2gB,cAAc/qC,eACxBgrC,SAAS5gB,EAAS,GACxB/d,EAAM4+B,UAAS,GACR5+B,EACX,EACI6+B,EAAoB,SAAUC,GAC9B,IAAI9+B,EAAQ4e,OAAO2D,eAAeE,WAAW,GAC7C,IAAKqc,EAAOjd,SAAS7hB,EAAMy+B,mBAAoB,EAAGF,EAAsEzV,IAAI9oB,EAAMy+B,eAAgB,sBAC9I,MAAO,CACH1b,KAAM,EACNF,IAAK,GAGb,IACIkc,EADAC,EAAaF,EAAOhd,cAAcc,wBAEtC,GAAsC,IAAlC5iB,EAAMi/B,iBAAiB9hE,OACvB,GAAsC,IAAlC6iC,EAAMy+B,eAAenvD,SAAgB,CAErC,IAAI4vD,EAAWl/B,EAAMy+B,eAAe3c,cACpC,KAAIod,GAAYA,EAASD,iBAAiB9hE,OAAS,GAI/C,MAAO,CACH4lD,KAAM,EACNF,IAAK,GALTkc,EAAaG,EAASD,iBAAiB,EAQ/C,KACK,CACD,IAAIp/D,EAAWmgC,EAAMy+B,eAAe5+D,SACpC,GAAIA,EAASmgC,EAAMm/B,cACft/D,EAASmgC,EAAMm/B,aAAaF,iBAAiB9hE,OAAS,EAEtD4hE,EAAal/D,EAASmgC,EAAMm/B,aAAaF,iBAAiB,QAEzD,GAAIj/B,EAAMy+B,eAAejO,WAAWrzD,OAAS,EAAG,CAEjD,IAAIulD,EAAa1iB,EAAM0iB,aACvB1iB,EAAMo/B,WAAWp/B,EAAMy+B,eAAejO,WAAW55C,KAAKqD,IAAI,EAAG+lB,EAAMm/B,YAAc,KACjFJ,EAAa/+B,EAAMi/B,iBAAiB,GACpCj/B,EAAMq/B,OAAO3c,EAAW4c,aAAc5c,EAAW6c,WACjDv/B,EAAM2+B,SAASjc,EAAW+b,eAAgB/b,EAAWyc,YACzD,MAEIJ,EAAa/+B,EAAMy+B,eAAeQ,iBAAiB,GAEvD,IAAKF,EAAY,CAEb,IADA,IAAIjd,EAAgB9hB,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,cAClDrd,EAAcmd,gBACjBnd,EAAcmd,gBAA4D,IAA1Cnd,EAAcmd,iBAAiB9hE,QAChE2kD,EAAgBA,EAAcA,cAElCid,EAAajd,EAAcmd,iBAAiB,EAChD,CACJ,MAGAF,EAAa/+B,EAAMi/B,iBAAiB,GAExC,MAAO,CACHlc,KAAMgc,EAAWhc,KAAOic,EAAWjc,KACnCF,IAAKkc,EAAWlc,IAAMmc,EAAWnc,IAEzC,EACI2c,EAAiB,SAAUV,EAAQ9+B,GACnC,IAAKA,EAAO,CACR,GAAkC,IAA9BuiB,eAAeC,WACf,OAAO,EAGPxiB,EAAQuiB,eAAeE,WAAW,EAE1C,CACA,IAAIgd,EAAYz/B,EAAM0/B,wBACtB,OAAOZ,EAAOjH,YAAY4H,IAAcX,EAAOjd,SAAS4d,EAC5D,EACIE,EAAoB,SAAU3/B,GAC9B,IAAIogB,EAAYxB,OAAO2D,eACvBnC,EAAUwf,kBACVxf,EAAUyf,SAAS7/B,EACvB,EACI8/B,EAAoB,SAAUC,EAAeC,EAAehgC,GAC5D,IAAIh9B,EAAW,CACXkpB,IAAK,EACLX,MAAO,GAEX,IAAKyU,EAAO,CACR,GAAkC,IAA9BuiB,eAAeC,WACf,OAAOx/C,EAEXg9B,EAAQ4e,OAAO2D,eAAeE,WAAW,EAC7C,CACA,GAAI+c,EAAeQ,EAAehgC,GAAQ,CACtC,IAAIigC,EAAoBjgC,EAAM0iB,aAC1Bqd,EAAcvP,WAAW,IAAMuP,EAAcvP,WAAW,GAAGA,WAAW,GACtEyP,EAAkBtB,SAASoB,EAAcvP,WAAW,GAAGA,WAAW,GAAI,GAGtEyP,EAAkBC,mBAAmBH,GAEzCE,EAAkBZ,OAAOr/B,EAAMy+B,eAAgBz+B,EAAMm/B,aACrDn8D,EAASuoB,MAAQ00C,EAAkB7oD,WAAWja,OAC9C6F,EAASkpB,IAAMlpB,EAASuoB,MAAQyU,EAAM5oB,WAAWja,MACrD,CACA,OAAO6F,CACX,EACIm9D,EAAyB,SAAU50C,EAAOW,EAAK4yC,GAC/C,IAAIsB,EAAY,EACZhtB,EAAO,EACPitB,EAAQvB,EAAOtO,WAAWpd,GAC1BktB,GAAa,EACbC,GAAO,EACXh1C,EAAQ3U,KAAKqD,IAAI,EAAGsR,GACpBW,EAAMtV,KAAKqD,IAAI,EAAGiS,GAClB,IAAI8T,EAAQ8+B,EAAOJ,cAAc/qC,cAGjC,IAFAqM,EAAM2+B,SAAS0B,GAASvB,EAAQ,GAChC9+B,EAAM4+B,UAAS,IACP2B,GAAQF,GAAO,CACnB,IAAIG,EAAgBJ,EAAYC,EAAMjV,YAAYjuD,OAClD,IAAKmjE,GAAc/0C,GAAS60C,GAAa70C,GAASi1C,IAChC,IAAVj1C,EACAyU,EAAM2+B,SAAS0B,EAAO,GAGe,IAAjCA,EAAM7P,WAAW,GAAGlhD,SACpB0wB,EAAM2+B,SAAS0B,EAAM7P,WAAW,GAAIjlC,EAAQ60C,GAEvCC,EAAMI,YACXzgC,EAAM0gC,eAAeL,EAAMI,aAG3BzgC,EAAM2gC,cAAcN,GAG5BC,GAAa,EACT/0C,IAAUW,GAAK,CACfq0C,GAAO,EACP,KACJ,CAEAD,GAAcp0C,GAAOk0C,GAAal0C,GAAOs0C,IAC7B,IAARt0C,EACA8T,EAAMq/B,OAAOgB,EAAO,GAGiB,IAAjCA,EAAM7P,WAAW,GAAGlhD,SACpB0wB,EAAMq/B,OAAOgB,EAAM7P,WAAW,GAAItkC,EAAMk0C,GAEnCC,EAAMI,YACXzgC,EAAM4gC,aAAaP,EAAMI,aAGzBzgC,EAAM6gC,YAAYR,GAG1BE,GAAO,GAEXH,EAAYI,EACZH,EAAQvB,EAAOtO,aAAapd,EAChC,CAKA,OAJKmtB,GAAQzB,EAAOtO,WAAWpd,EAAO,IAClCpT,EAAM0gC,eAAe5B,EAAOtO,WAAWpd,EAAO,IAElDusB,EAAkB3/B,GACXA,CACX,EACI8gC,EAAgB,SAAU/iB,EAAS/d,GACnC,IAAI+gC,EAAahjB,EAAQW,cAAc,OACvC,GAAKqiB,EAAL,CAGA,GAAKA,EAAWC,uBAqBZ,GAAID,EAAWC,uBAAuBC,WAAWF,EAAWG,iBAAkB,CAC1E,GAAIH,EAAWC,uBAAuBhD,UAalC,OAXAh+B,EAAM0gC,eAAeK,GACrB/gC,EAAM4+B,UAAS,GACfe,EAAkB3/B,KAEd,EAAGs+B,EAA4D6C,OAAwD,OAA9CJ,EAAWC,uBAAuB9P,SAC7D,WAA9C6P,EAAWC,uBAAuB9P,SACY,MAA9C6P,EAAWC,uBAAuB9P,UAClClxB,EAAMohC,WAAWpjB,SAASqjB,eAAe9W,EAA8Dx7C,EAAE46C,OACzG3pB,EAAM4+B,UAAS,SAEnBmC,EAAWz9B,SAKXtD,EAAM2gC,cAAcI,EAAWC,uBAEvC,MAGIhhC,EAAM2+B,SAASoC,EAAWG,gBAAiBH,EAAWG,gBAAgB9V,YAAYjuD,aA3ClF4jE,EAAWG,gBAEXlhC,EAAM2+B,SAASoC,EAAWG,gBAAiBH,EAAWG,gBAAgB9V,YAAYjuD,QAE7E4jE,EAAWN,YACwB,IAApCM,EAAWN,YAAYnxD,SAEvB0wB,EAAM2+B,SAASoC,EAAWN,YAAa,GAIvCzgC,EAAM0gC,eAAeK,EAAWN,aAKpCzgC,EAAM2+B,SAASoC,EAAWjf,cAAe,GA8BjD9hB,EAAM4+B,UAAS,GACfmC,EAAWz9B,SACXq8B,EAAkB3/B,EAlDlB,CAmDJ,EACIshC,EAAa,SAAUvpB,EAAMgf,GAE7B,IAAIG,EAAclZ,SAASI,cAAc,OACzC8Y,EAAYxV,UAAY3J,EACxB,IAAIwpB,EAAmBrK,EAAYnY,iBAAiB,KACpB,IAA5BwiB,EAAiBpkE,SAAiBokE,EAAiB,GAAGL,kBAAoBK,EAAiB,GAAGd,aAC9F1J,EAAOA,EAAOK,aAAarZ,QAAQl+C,SAAS1C,OAAS,GAA+C,MAA1C+5D,EAAYS,kBAAkBzG,UACxFnZ,EAAOwpB,EAAiB,GAAG7f,UAAU7W,QAEzC,IAAI22B,EAAexjB,SAASI,cAAc,OAC1CojB,EAAa9f,UAAY3J,EACzB,IAAI/X,EAAQw+B,EAAezH,GAK3B,GAJyB,KAArB/2B,EAAM5oB,aACN2/C,EAAOA,EAAOK,aAAaqK,cAAe,EAC1CzjB,SAAS0jB,YAAY,UAAU,EAAO,KAEtCF,EAAa7J,mBACiD,MAA9D6J,EAAa7J,kBAAkBrZ,aAAa,cAAuB,CAEnEkjB,EAAaG,iBAAiBzU,mBAAmB,YAAa,SAC9D,IAAI2Q,GAAe,EAAGU,EAAgEqD,IAAI5hC,EAAMy+B,gBAC3FZ,EAIDA,EAAa3Q,mBAAmB,WAAYsU,EAAa9f,WAHzDqV,EAAOA,EAAOK,aAAarZ,QAAQmP,mBAAmB,YAAasU,EAAa9f,WAKpFof,EAAc/J,EAAOA,EAAOK,aAAarZ,QAAS/d,EACtD,KACK,CACD,IAAI6hC,EAAgB7jB,SAASI,cAAc,YAC3CyjB,EAAcngB,UAAY3J,EAC1B/X,EAAMohC,WAAWS,EAAcpiE,QAAQktD,WAAU,IACjD3sB,EAAM4+B,UAAS,GACfe,EAAkB3/B,EACtB,CACJ,CAGO,GAKO8hC,EAA2B,CAAC,EAGhC,SAAS,EAAoBC,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBn8D,IAAjBo8D,EACH,OAAOA,EAAa3yD,QAGrB,IAAIG,EAASsyD,EAAyBC,GAAY,CAGjD1yD,QAAS,CAAC,GAOX,OAHAg+B,EAAoB00B,GAAUvyD,EAAQA,EAAOH,QAAS,GAG/CG,EAAOH,OACf,CAMC,EAAoB0iC,EAAI,CAAC1iC,EAAS4yD,KACjC,IAAI,IAAIj7D,KAAOi7D,EACX,EAAoBlO,EAAEkO,EAAYj7D,KAAS,EAAoB+sD,EAAE1kD,EAASrI,IAC5EpK,OAAOic,eAAexJ,EAASrI,EAAK,CAAEk7D,YAAY,EAAMviD,IAAKsiD,EAAWj7D,IAE1E,EAMD,EAAoB+sD,EAAI,CAACsK,EAAKngC,IAAUthC,OAAOC,UAAUC,eAAeC,KAAKshE,EAAKngC,GAMlF,EAAoB+sB,EAAK57C,IACH,oBAAX0I,QAA0BA,OAAOa,aAC1Chc,OAAOic,eAAexJ,EAAS0I,OAAOa,YAAa,CAAExY,MAAO,WAE7DxD,OAAOic,eAAexJ,EAAS,aAAc,CAAEjP,OAAO,GAAO,EAKzE,IAAI,EAAsB,CAAC,EA8rVjB,MA5rVV,MACA,aAGA,EAAoB2xC,EAAE,EAAqB,CACzC,QAAW,IAAM,KAInB,IAwgDIowB,EAxgDA1iC,EAAS,EAAoB,KAE7BsgB,EAAY,EAAoB,KAEhCub,EAAc,EAAoB,KAGlC8G,EAAc,SAAUrL,GACxB,MAA2B,OAAvBA,EAAOK,aACA,EAAGkE,EAA6BxV,GAAG,GAAG5kB,OAAO61B,EAAOsL,GAAGtkB,QAAQqN,YAAa,MAAMp3C,QAAQ,QAAS,OAE9E,YAAvB+iD,EAAOK,YACLL,EAAOlR,KAAKyc,aAAavL,EAAOwL,QAAQxkB,QAAQ2D,WAE3B,OAAvBqV,EAAOK,YACLL,EAAOlR,KAAK2c,eAAezL,EAAO0L,GAAG1kB,QAAQ2D,WAEjD,EACX,EAGIzB,EAAY,EAAoB,KAIhCyiB,EAA0B,WAC1B,SAASA,IACLnmD,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,kBACzB4d,KAAKwhC,QAAQ2D,UAAY,0EAC7B,CAmEA,OAlEAghB,EAAS7lE,UAAU8lE,aAAe,SAAU5L,GACxC,IAAI6L,EAAQrmD,KACkC,UAA1Cw6C,EAAO8L,SAAS9kB,QAAQz+C,MAAM9D,UAGlC,EAAGykD,EAAyB2F,GAAG,GAAG1kB,OAAO61B,EAAO78B,QAAQqqB,IAAK,mCAAoC,uBAAuBb,MAAK,WACpHkf,EAAME,WACPF,EAAME,SAAW7W,QAAQC,KAAK6K,EAAO8L,SAAS9kB,QAAQ4jB,mBAE1D,IACIiB,EAAM7kB,QAAQ4jB,iBAAiBriE,MAAM9D,QAAU,QAC/ConE,EAAM7kB,QAAQ4Z,kBAAkBjW,UAAY,GAC5CkhB,EAAME,SAAS3W,UAAU,CACrB8J,OAAQ,CACJ,CACIr4C,KAAMmuC,KAAKC,MAAM+K,EAAOlR,KAAKkd,kBAAkBX,EAAYrL,KAC3Db,kBAAmB,EACnBpS,MAAO,CACHkf,MAAO,OACP1/D,gBAAiB,wBACjBX,aAAc,EACdhH,MAAO,UACPR,SAAU,GACVS,WAAY,GACZyW,OAAQ,CAAC,EAAG,IACZkoC,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBv3C,SAAU,MACVigE,cAAe,UAEnB5M,UAAW,CACP16D,MAAO,UACPkL,KAAM,QACNyvD,MAAO,GAEX4M,OAAQ,WACR3M,MAAM,EACN1vD,KAAM,SAGds8D,QAAS,CACLC,OAAQ,GACRC,SAAU,CACNC,UAAW,CACP3nE,MAAO,YAGf4nE,QAAS,CACLC,QAAS,CACLC,MAAM,GAEVC,YAAa,CACTD,MAAM,IAGdE,MAAO,GACPF,MAAM,KAGdb,EAAME,SAASc,QACnB,CACA,MAAOnnE,GACHmmE,EAAM7kB,QAAQ4jB,iBAAiBriE,MAAM9D,QAAU,OAC/ConE,EAAM7kB,QAAQ4Z,kBAAkBjW,UAAYjlD,CAChD,CACJ,GACJ,EACOimE,CACX,CAzE6B,GA6EzBmB,EAAgB,EAAoB,KAIpCC,EAAuB,SAAU5L,EAAS6L,GAC1CA,EAAM7uD,SAAQ,SAAUuR,GACpB,GAAKyxC,EAAQzxC,GAAb,CAGA,IAAIu9C,EAAc9L,EAAQzxC,GAAM5mB,SAAS,GACrCmkE,GAAeA,EAAYviB,UAAUI,SAAS,yBAC9CmiB,EAAYviB,UAAUne,OAAO,uBAHjC,CAKJ,GACJ,EACI2gC,EAAoB,SAAU/L,EAAS6L,GACvCA,EAAM7uD,SAAQ,SAAUuR,GACpB,GAAKyxC,EAAQzxC,GAAb,CAGA,IAAIu9C,EAAc9L,EAAQzxC,GAAM5mB,SAAS,GACrCmkE,IAAgBA,EAAYviB,UAAUI,SAAS,yBAC/CmiB,EAAYviB,UAAU/jC,IAAI,uBAH9B,CAKJ,GACJ,EACIwmD,EAAgB,SAAUhM,EAAS6L,GACnCA,EAAM7uD,SAAQ,SAAUuR,GACpB,GAAKyxC,EAAQzxC,GAAb,CAGA,IAAIu9C,EAAc9L,EAAQzxC,GAAM5mB,SAAS,GACrCmkE,GAAeA,EAAYviB,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAC7Fka,EAAYviB,UAAUne,OAAOyc,EAA6ChxC,EAAE+6C,oBAHhF,CAKJ,GACJ,EACIqa,EAAiB,SAAUjM,EAAS6L,GACpCA,EAAM7uD,SAAQ,SAAUuR,GACpB,GAAKyxC,EAAQzxC,GAAb,CAGA,IAAIu9C,EAAc9L,EAAQzxC,GAAM5mB,SAAS,GACrCmkE,IAAgBA,EAAYviB,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAC9Fka,EAAYviB,UAAU/jC,IAAIqiC,EAA6ChxC,EAAE+6C,oBAH7E,CAKJ,GACJ,EACIsa,EAAc,SAAUlM,EAAS6L,GACjCA,EAAM7uD,SAAQ,SAAUuR,GACfyxC,EAAQzxC,IAGTyxC,EAAQzxC,KACRyxC,EAAQzxC,GAAMnnB,MAAM9D,QAAU,OAEtC,GACJ,EACI6oE,EAAc,SAAUnM,EAAS6L,GACjCA,EAAM7uD,SAAQ,SAAUuR,GACfyxC,EAAQzxC,IAGTyxC,EAAQzxC,KACRyxC,EAAQzxC,GAAMnnB,MAAM9D,QAAU,QAEtC,GACJ,EAEI8oE,EAAY,SAAUvN,EAAQwN,EAAQC,GAClCD,EAAOhiD,SAAS,gBAChBw0C,EAAOmB,QAAQna,QAAQgB,iBAAiB,gBAAgB7pC,SAAQ,SAAU2rC,GAClE2jB,GAAiB3jB,EAAKgX,YAAY2M,KAGtC3jB,EAAKvhD,MAAM9D,QAAU,OACzB,IACIu7D,EAAOmB,QAAQuM,SAASC,QACxB3N,EAAOmB,QAAQuM,SAASC,MAAM/C,iBAAiBriE,MAAM9D,QAAU,SAGnE+oE,EAAOhiD,SAAS,UAChBw0C,EAAO4N,KAAK5mB,QAAQz+C,MAAM9D,QAAU,QAEpCu7D,EAAOwL,QAAQqC,SAAWL,EAAOhiD,SAAS,aAC1Cw0C,EAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,OAE/C,EACIqpE,EAAgB,SAAU9N,EAAQ+N,EAAcC,EAAWC,GAC3DD,EAAUxmB,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3EA,EAAMwP,iBACNxP,EAAMz7C,kBACF4+D,EAAUtjB,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,uBAGhFiN,EAAOmB,QAAQna,QAAQgB,iBAAiB,yBAAyB7pC,SAAQ,SAAU2rC,GAC/EA,EAAKY,UAAUne,OAAO,uBAC1B,IACmC,UAA/BwhC,EAAaxlE,MAAM9D,QACnBspE,EAAaxlE,MAAM9D,QAAU,QAG7B8oE,EAAUvN,EAAQ,CAAC,aAAc,OAAQ,WAAYgO,EAAUjjB,cAAcA,eACxEijB,EAAUtjB,UAAUI,SAAS,sBAC9BkjB,EAAUtjB,UAAU/jC,IAAI,wBAE5BonD,EAAaxlE,MAAM9D,QAAU,QACzBu7D,EAAOmB,QAAQna,QAAQ6E,wBAAwB+gB,MAAQoB,EAAUniB,wBAAwB+gB,MAAQ,IACjGmB,EAAarjB,UAAU/jC,IAAI,sBAG3BonD,EAAarjB,UAAUne,OAAO,uBAG1C,GACJ,EAGI4c,EAAa,EAAoB,KAEjCge,EAAuB,EAAoB,KAE3CgH,EAAM,SAAUzlC,EAAQhgC,EAASoH,EAAMs+D,GACnCA,GAEA9W,QAAQ6W,IAAI,GAAGhkC,OAAOzB,EAAQ,OAAOyB,OAAOr6B,EAAM,MAAMq6B,OAAOzhC,GAEvE,EAGI89C,EAAY,EAAoB,KAEhCE,EAAc,EAAoB,KAElCC,EAAa,EAAoB,KAEjCC,EAAkB,EAAoB,KAEtCC,EAAiB,EAAoB,KAErCC,EAAkB,EAAoB,KAEtC2B,EAAa,EAAoB,KAEjCE,EAAgB,EAAoB,KAEpCC,EAAgB,EAAoB,KAEpCC,EAAgB,EAAoB,KAEpCE,EAAiB,EAAoB,KAwDrCslB,EAAoB,SAAUC,EAActO,GAC5C,GAAKsO,EAGL,GAA6D,eAAzDA,EAAavjB,cAAcxD,aAAa,aAA5C,CAIA,IAAIgnB,EAAWD,EAAa1N,kBAAkBh5D,UAAUqV,QAAQ,YAAa,IAC5D,QAAbsxD,GACA,EAAG/nB,EAAyB4K,GAAGkd,EAActO,EAAO78B,QAAQqqB,KAE1C,YAAb+gB,GACL,EAAG5lB,EAAiCxiD,GAAGmoE,EAActO,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,OAEtE,YAAbggB,GACL,EAAG3lB,EAAiCsI,GAAGod,EAActO,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,OAEtE,cAAbggB,GACL,EAAG3nB,EAAqC2F,GAAG+hB,EAActO,EAAO78B,QAAQqqB,KAEtD,YAAb+gB,GACL,EAAG7nB,EAA6B9gD,GAAG0oE,EAActO,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,OAElE,YAAbggB,GACL,EAAG1lB,EAAiC0D,GAAG+hB,EAActO,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,OAEtE,aAAbggB,GACL,EAAGxlB,EAAmCoI,GAAGmd,EAActO,EAAO78B,QAAQqqB,KAEpD,aAAb+gB,GACL,EAAG1nB,EAAmCuG,GAAGkhB,EAActO,EAAO78B,QAAQqqB,KAEpD,SAAb+gB,GACL,EAAG9lB,EAA2BwI,GAAGqd,EAAc,CAAE9gB,IAAKwS,EAAO78B,QAAQqqB,IAAKQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,OAGzFgS,EAAO78B,QAAQqrC,cAAclsC,MAAK,SAAUwnB,GACtD,GAAIA,EAAKykB,WAAaA,EAElB,OADAzkB,EAAKuE,OAAOigB,EAActO,IACnB,CAEf,OAEI,EAAGlZ,EAAqCrhD,GAAGI,OAAOiC,OAAO,CAAC,EAAGk4D,EAAO78B,QAAQsvB,QAAQ7E,MAAO0gB,EAActO,EAAO78B,QAAQqqB,MACxH,EAAG7G,EAA2BqK,GAAGsd,EAActO,EAAO78B,QAAQsvB,QAAQ7E,OAG9E0gB,EAAaliB,aAAa,cAAe,IAzCzC,MAFIkiB,EAAaliB,aAAa,cAAe,IA4CjD,EAGI/C,EAAY,EAAoB,KAMhColB,EAAY,SAAUzO,GACtB,GAA2B,OAAvBA,EAAOK,YAAX,CAGA,IAAI4I,EAAgBjJ,EAAOA,EAAOK,aAAarZ,QAC3CiZ,EAAUD,EAAO0O,QAAQrgB,OAAO2R,GACpB,KAAZC,IACAA,EAAU,SAEdgJ,EAAcjhB,iBAAiB,2BAA2B7pC,SAAQ,SAAU2rC,GACxEA,EAAKa,UAAYsV,GACjB,EAAGxX,EAA2BwI,GAAGnH,EAAM,CACnC0D,IAAKwS,EAAO78B,QAAQqqB,IACpBQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,MAErC,GAZA,CAaJ,EACI2gB,EAAW,SAAU9jB,EAAOmV,GAC5B,IAAInO,GAAc,EAAG1I,EAAqC2I,IAAIjH,EAAM9b,OAAQ,QAC5E,GAAI8iB,IAAe,EAAG1I,EAAsC4I,IAAIF,EAAa,cAA7E,CACI,IAAIG,EAAiBgO,EAAOA,EAAOK,aAAarZ,QAAQW,cAAc,IAAMkK,EAAYtK,aAAa,mBACrG,GAAIyK,EACA,GAA8B,SAA1BgO,EAAO78B,QAAQ53B,OAAmB,CAClC,IAAIy1D,EAAgBhP,EAAeR,UAAYwO,EAAOhZ,QAAQwK,UACzDwO,EAAO78B,QAAQ89B,cAAcC,MAC9BF,GAAiBhB,EAAOmB,QAAQna,QAAQoa,cAE5CvZ,OAAOoK,SAASpK,OAAOqK,QAAS8O,EACpC,MAEQhB,EAAOhZ,QAAQwK,UAAY3J,OAAOwZ,SAClCxZ,OAAOoK,SAASpK,OAAOqK,QAAS8N,EAAOhZ,QAAQwK,WAEnDwO,EAAOA,EAAOK,aAAarZ,QAAQ+E,UAAYiG,EAAeR,SAI1E,CACJ,EACIod,EAAa,SAAU9H,EAAc9G,EAAQnV,EAAO5hB,GAEpD,GAAI69B,EAAamD,wBACbnD,EAAamD,uBAAuBvf,UAAUI,SAAS,cAAe,CACtE,GAAkB,cAAdD,EAAM56C,KACqG,KAA3G,EAAGo5C,EAAiCwlB,IAAI/H,EAAc9G,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,MAGjG,OAFAsyC,EAAamD,uBAAuB19B,SACpCuiC,GAAgB9O,IACT,EAEX,GAAI+O,GAAkB/O,EAAQnV,EAAO5hB,EAAO69B,EAAcA,EAAamD,wBACnE,OAAO,CAEf,CAEA,GAAInD,EAAajG,oBACbiG,EAAajG,mBAAmBnW,UAAUI,SAAS,cAAe,CAClE,GAAkB,WAAdD,EAAM56C,MACN,EAAGo5C,EAAiCwlB,IAAI/H,EAAc9G,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,OAC1FsyC,EAAazS,YAAY2a,YAAY5oE,OAG5C,OAFA0gE,EAAajG,mBAAmBt0B,SAChCuiC,GAAgB9O,IACT,EAEX,GAAIiP,GAAiBjP,EAAQnV,EAAO5hB,EAAO69B,EAAcA,EAAajG,oBAClE,OAAO,CAEf,CAEA,GAAkB,cAAdhW,EAAM56C,KAAqC,WAAd46C,EAAM56C,IAAkB,CACrD,IAAIi/D,GAAa,EAAG/lB,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,cACpF,GAAIwH,EAGA,OAFAA,EAAW3iC,SACXuiC,GAAgB9O,IACT,CAEf,CACJ,EAaIx2C,EAAQ,SAAUw2C,EAAQ/2B,EAAOkmC,EAAatkB,QAC1B,IAAhBskB,IAA0BA,GAAc,GAC5C,IAAIrI,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAEhE,GAAIZ,IAAiBqI,GAA0D,eAA3CrI,EAAavf,aAAa,aAA+B,CACzF,GAAK6nB,GAAOtI,EAAanc,YAAcmc,EAAamD,wBAChDoF,GAAYvI,EAAanc,WACzB,OAMJ,IAHA,IAAIyd,GAAc,EAAG/e,EAAiCwlB,IAAI/H,EAAc9G,EAAO0L,GAAG1kB,QAAS/d,GAAOzU,MAE9F86C,GAAa,EACRnpE,EAAIiiE,EAAc,EAE3BjiE,EAAI2gE,EAAazS,YAAY9C,OAAO,EAAG6W,GAAa13B,YAAY,MAAOvqC,IACnE,GAA2C,MAAvC2gE,EAAazS,YAAYrmD,OAAO7H,IAEO,OAAvC2gE,EAAazS,YAAYrmD,OAAO7H,GAAa,CAC7CmpE,GAAa,EACb,KACJ,CAEgB,IAAhBlH,IACAkH,GAAa,GAGjB,IAAIC,GAAW,EACf,IAASppE,EAAIiiE,EAAc,EAAGjiE,EAAI2gE,EAAazS,YAAYjuD,OAAQD,IAC/D,GAA2C,MAAvC2gE,EAAazS,YAAYrmD,OAAO7H,IAAqD,OAAvC2gE,EAAazS,YAAYrmD,OAAO7H,GAAa,CAC3FopE,GAAW,EACX,KACJ,CAEJ,GAAID,EAIA,YAHoC,mBAAzBtP,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,KAIzC,GAAIuP,KACoB,EAAGpmB,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,qBAIlF,CACD,IAAI8H,EAAevmC,EAAMy+B,eAAeyC,gBAQxC,OAPIqF,GAA0C,IAA1BA,EAAaj3D,UAAkBi3D,EAAa9kB,UAAUI,SAAS,4BAE/E0kB,EAAa9kB,UAAUne,OAAO,gCAEE,mBAAzByzB,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,IAGzC,CAER,CASA,GARAA,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,4BAA4B7pC,SAAQ,SAAU2rC,GAC7EA,EAAKY,UAAUne,OAAO,0BAC1B,IACKu6B,IAEDA,EAAe9G,EAAO0L,GAAG1kB,UAGxB8f,EAAanf,cAAc,OAAQ,CACpC,IAAI8nB,GAAuB,EAAGtmB,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,sBAC1F+H,EACAA,EAAqBxF,uBAAuB9T,mBAAmB,YAAa,SAG5EltB,EAAMohC,WAAWpjB,SAASI,cAAc,OAEhD,CAEAyf,EAAa9e,iBAAiB,WAAW7pC,SAAQ,SAAU2rC,GACvDA,EAAK/B,gBAAgB,QACzB,IAC+C,wBAA3C+e,EAAavf,aAAa,eAE1Buf,EAAe9G,EAAO0L,GAAG1kB,SAE7B,IAmFI0oB,EAnFAC,EAAc7I,EAAahG,YAAYd,EAAO0L,GAAG1kB,SACjD4oB,GAAkB,EAAGzmB,EAAsC0mB,IAAI/I,EAAc,YAAa,mBAC1F9lB,EAAO,GACX,GAAK2uB,EAwDD3uB,EAAO8lB,EAAanc,cAxDN,CACd,IAAImlB,GAAoB,EAAG3I,EAA0Cd,GAAGp9B,EAAMy+B,eAAgB,cAE1FjB,GAAiB,EAAGtd,EAA2B4mB,IAAI9mC,EAAMy+B,gBAa7D,GAZIjB,IACAK,EAAeL,GAGfqJ,KAAuBrJ,GAAmBA,IAAmBqJ,EAAkBhlB,SAAS2b,MACxFK,EAAegJ,GAGfF,IACA9I,EAAe8I,GAEnB5uB,EAAO8lB,EAAa1P,UACS,OAAzB0P,EAAa3M,SAA6C,OAAzB2M,EAAa3M,QAAkB,CAEhE,IAAI6V,EAAkBlJ,EAAamD,uBAC/BgG,EAAkBnJ,EAAajG,oBAC/BmP,GAAgD,OAA5BA,EAAgB7V,SAAgD,OAA5B6V,EAAgB7V,UACxEnZ,EAAOgvB,EAAgB5Y,UAAYpW,EACnCgvB,EAAgBzjC,WAEhB0jC,GAAgD,OAA5BA,EAAgB9V,SAAgD,OAA5B8V,EAAgB9V,UACxEnZ,GAAcivB,EAAgB7Y,UAC9B6Y,EAAgB1jC,UAGpByU,EAAOA,EAAK/jC,QAAQ,uBAAwB,4BAChD,MACS6pD,EAAamD,wBACoF,KAAtGnD,EAAamD,uBAAuB5V,YAAYp3C,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAC9F/H,GAA6B,oBAApBA,EAAMqlB,YAEflvB,EAAO8lB,EAAamD,uBAAuB7S,UAAYpW,EACvD8lB,EAAamD,uBAAuB19B,UAEnCu6B,EAAapS,UAAUniB,WAAW,SAEnCytB,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,qCAAqC7pC,SAAQ,SAAU2rC,GAClFA,IAASgd,EAAahG,YAAYhX,KAClC9I,GAAQ8I,EAAKsN,UACbtN,EAAKvd,SAEb,IAEAyzB,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,iCAAiC7pC,SAAQ,SAAU2rC,GAC9EA,IAASgd,EAAahG,YAAYhX,KAClC9I,GAAQ8I,EAAKsN,UACbtN,EAAKvd,SAEb,IAER,CAOA,GAHA4hC,EAAI,kBAAmBntB,EAAM,WAAYgf,EAAO78B,QAAQgtC,UACxDnvB,EAAOgf,EAAOlR,KAAKyR,gBAAgBvf,GACnCmtB,EAAI,kBAAmBntB,EAAM,SAAUgf,EAAO78B,QAAQgtC,UAClDR,EACA7I,EAAanc,UAAY3J,OAKzB,GAFA8lB,EAAa1P,UAAYpW,EAErB4uB,EAAiB,CACjB,IAAIQ,GAAsB,EAAGjnB,EAAsC0mB,IAAI7P,EAAO0L,GAAG1kB,QAAQW,cAAc,OAAQ,YAAa,iBAC5H,GAAIyoB,EAAqB,CACrB,IAAIC,EAAmBD,EAAoB/b,YACvCic,EAASD,EAAiBj8B,UAAU,EAAGi8B,EAAiBpqE,QAAQ,OAChEsqE,EAAqBvQ,EAAO0L,GAAG1kB,QAAQW,cAAc,wDAA2Dxd,OAAOmmC,EAAQ,OAC/HC,GACAA,EAAmBnkB,aAAa,aAAcikB,EAAiB9e,OAAO+e,EAAOlqE,OAAS,GAAG0tC,OAAOyd,OAAO,EAAG,IAElH,CACJ,CAIJ,IAcIif,EAdAC,EAAwBzQ,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,qCAC/DyoB,EAAsBtyD,SAAQ,SAAU2rC,EAAMxvC,GAC5B,IAAVA,EACAo1D,EAAyB5lB,GAGzB4lB,EAAuBvZ,mBAAmB,YAAarM,EAAKa,WAC5Db,EAAKvd,SAEb,IACIkkC,EAAsBrqE,OAAS,GAC/B45D,EAAO0L,GAAG1kB,QAAQoD,sBAAsB,YAAaqmB,EAAsB,IAI/E,IAAIC,EAAqB1Q,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,iCAC5D0oB,EAAmBvyD,SAAQ,SAAU2rC,EAAMxvC,GACzB,IAAVA,EACAk2D,EAAuB1mB,GAGvB0mB,EAAqBra,mBAAmB,YAAarM,EAAKa,WAC1Db,EAAKvd,SAEb,IACImkC,EAAmBtqE,OAAS,GAC5B45D,EAAO0L,GAAG1kB,QAAQoD,sBAAsB,YAAasmB,EAAmB,KAE5E,EAAGrnB,EAA6BsnB,IAAI3Q,EAAO0L,GAAG1kB,QAAS/d,GACvD+2B,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,wCAAwC7pC,SAAQ,SAAU2rC,GACzFukB,EAAkBvkB,EAAMkW,EAC5B,IACAyO,EAAUzO,GACV4Q,GAA2B5Q,EAAQ,CAC/B6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,GAErB,EAKIC,EAAc,SAAUC,EAAQpmB,GAChC,GAAe,KAAXomB,EACA,OAAO,EAGX,IAA6B,IAAzBA,EAAOhrE,QAAQ,OAAwC,IAAzBgrE,EAAOhrE,QAAQ,OAAwC,IAAzBgrE,EAAOhrE,QAAQ,KAC3E,SAAK,EAAG6mE,EAA0BoE,IAAIrmB,IAAWA,EAAMsmB,QAAWtmB,EAAMumB,UAAYvmB,EAAM4L,OAASwa,GAMvG,GAAe,SAAXA,EACA,SAAK,EAAGnE,EAA0BoE,IAAIrmB,IAAWA,EAAMsmB,SAAUtmB,EAAMumB,UAA2B,QAAfvmB,EAAM4L,MAK7F,IAAI4a,EAAUJ,EAAO/xD,MAAM,IAC3B,GAAI+xD,EAAO1+B,WAAW,KAAM,CAExB,IAAI++B,EAA6B,IAAnBD,EAAQjrE,OAAeirE,EAAQ,GAAKA,EAAQ,GAC1D,SAAwB,IAAnBA,EAAQjrE,SAAe,EAAG0mE,EAA0BoE,IAAIrmB,IAAU,EAAGiiB,EAA0BoE,IAAIrmB,MAAWA,EAAMsmB,QAAWtmB,EAAMumB,UACtIvmB,EAAM4L,QAAU,UAAUz4C,KAAKszD,GAAW,QAAU,OAASA,EAIrE,CAEe,WAAXL,IACAI,EAAU,CAAC,IAAK,UAEpB,IAAIE,EAAWF,EAAQjrE,OAAS,GAAqB,MAAfirE,EAAQ,GAC1CphE,EAAOshE,EAAWF,EAAQ,GAAKA,EAAQ,GAS3C,OARIE,KAAa,EAAGzE,EAA6B0E,OAAU,MAAMxzD,KAAKymD,UAAUO,YAChE,MAAR/0D,EACAA,EAAM,IAEO,MAARA,IACLA,EAAM,UAGV,EAAG68D,EAA0BoE,IAAIrmB,IAAUA,EAAM56C,IAAIu3B,gBAAkBv3B,EAAIu3B,eAAkBqjB,EAAMsmB,WAC7FI,IAAa1mB,EAAMumB,UAAcG,GAAY1mB,EAAMumB,UAIjE,EA2CIK,EAAe,SAAUxoC,EAAO+2B,GAChCA,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,4BAA4B7pC,SAAQ,SAAU2rC,GAC7EA,EAAKY,UAAUne,OAAO,0BAC1B,IACA,IAAImlC,GAAc,EAAGvoB,EAAyCwoB,IAAI1oC,EAAMy+B,eAAgB,mBACpFkK,GAAkB3oC,EAAM4oC,YAAa,EAAG1oB,EAAyCwoB,IAAI1oC,EAAMs/B,aAAc,mBAE7G,GAAKt/B,EAAM4oC,WAAeH,GAAeA,IAAgBE,EAAzD,CAGIF,IACAA,EAAYhnB,UAAU/jC,IAAI,2BAC1B+qD,EAAYhnB,UAAUne,OAAO,4BAE7B,EAAG8c,EAAiCgC,IAAIpiB,IAE5C,IAAI6oC,EAtDS,SAAU7oC,GACvB,IAAIy+B,EAAiBz+B,EAAMy+B,eAC3B,GAAgC,IAA5BA,EAAenvD,UAAkBmvD,EAAeqK,UAAU3rE,SAAW6iC,EAAMm/B,YAC3E,OAAO,EAGX,IADA,IAAI0J,EAAWpK,EAAegC,YACvBoI,GAAqC,KAAzBA,EAASzd,aACxByd,EAAWA,EAASpI,YAExB,IAAKoI,EAAU,CAEX,IAAIE,GAAgB,EAAG7oB,EAAsC4I,IAAI2V,EAAgB,qBACjF,GAAIsK,IAAkBA,EAActI,YAAa,CAC7C,IAAIuI,EAAiBvK,EAAe3c,cAAcA,cAAc2e,YAChE,GAAIuI,GAA8C,IAA5BA,EAAe15D,UACjC05D,EAAevnB,UAAUI,SAAS,mBAClC,OAAOmnB,CAEf,CACA,OAAO,CACX,CACK,SAAIH,GAAkC,IAAtBA,EAASv5D,WAAkBu5D,EAASpnB,UAAUI,SAAS,oBACvEgnB,EAASvqB,aAAa,gBAEhBuqB,CAGf,CA2BmBI,CAAWjpC,GAC1B,GAAI6oC,EAGA,OAFAA,EAASpnB,UAAU/jC,IAAI,gCACvBmrD,EAASpnB,UAAUne,OAAO,2BAG9B,IAAIijC,EAhCa,SAAUvmC,GAC3B,IAAIy+B,EAAiBz+B,EAAMy+B,eACvB8H,EAAe9H,EAAeyC,gBAClC,QAAgC,IAA5BzC,EAAenvD,UAAwC,IAAtB0wB,EAAMm/B,cAAqBoH,GAA0C,IAA1BA,EAAaj3D,WAEzFi3D,EAAa9kB,UAAUI,SAAS,oBAAuB0kB,EAAajoB,aAAa,gBAC1EioB,CAGf,CAuBuB2C,CAAelpC,GAClC,OAAIumC,GACAA,EAAa9kB,UAAU/jC,IAAI,gCAC3B6oD,EAAa9kB,UAAUne,OAAO,iCAFlC,CAdA,CAmBJ,EA8MI4lB,EAAgB,EAAoB,KAOpCigB,EAAkB,SAAU1E,EAAU2E,GACtC3E,EAAS1lB,iBAAiB,8BAA8B7pC,SAAQ,SAAUyyC,GAItE,IAHA,IAAIz4C,EAAOy4C,EAAG7F,cACVunB,EAAWn6D,EAAKuxD,YAEb4I,GACCA,EAASje,YAAY9hB,WAAW,SADvB,CAGT,IAAIggC,EAAWD,EACfC,EAAS9Y,WAAWt7C,SAAQ,SAAUm9C,GAClCnjD,EAAKojD,OAAOD,EAAK1F,WAAU,GAC/B,IACA0c,EAAWA,EAAS5I,YACpB6I,EAAShmC,QAMjB,CACA8lC,GAAgBA,EAAal6D,EACjC,GACJ,EAQIq6D,EAAa,SAAUxS,EAAQnV,GAC/B,IAAIliD,EACAsgC,EAAQuiB,eAAeE,WAAW,GAAGC,aACrC+b,EAAiBz+B,EAAMy+B,eACW,IAAlCz+B,EAAMy+B,eAAenvD,UAAmD,QAAjC0wB,EAAMy+B,eAAevN,UAC5DuN,EAAiBz+B,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,YAAc,IAEzE,IAAItB,GAAe,EAAG3d,EAAsC0mB,IAAInI,EAAgB,aAAc,KAE9F,GAAIZ,GAAgBjc,IAA8B,0BAApBA,EAAMqlB,WAAwD,MAAfrlB,EAAMhkC,MAAe,CAI9F,IAFA,IAAIuhD,GAAc,EAAG/e,EAAiCwlB,IAAI/H,EAAc9G,EAAOsL,GAAGtkB,QAAS/d,GAAOzU,MAC9F86C,GAAa,EACRnpE,EAAIiiE,EAAc,EAE3BjiE,EAAI2gE,EAAazS,YAAY9C,OAAO,EAAG6W,GAAa13B,YAAY,MAAOvqC,IACnE,GAA2C,MAAvC2gE,EAAazS,YAAYrmD,OAAO7H,IAEO,OAAvC2gE,EAAazS,YAAYrmD,OAAO7H,GAAa,CAC7CmpE,GAAa,EACb,KACJ,CAKJ,GAHoB,IAAhBlH,IACAkH,GAAa,GAEbA,EAEA,YADAmD,GAAmBzS,GAGvB,GAAwB,0BAApBnV,EAAMqlB,UAAuC,CAE7C,IAAIwC,GAAyB,EAAGvpB,EAAsC0mB,IAAInI,EAAgB,YAAa,4BACnG,EAAGve,EAAsC0mB,IAAInI,EAAgB,YAAa,2BAC9E,GAAIgL,EAAwB,CAEpB,IAQIC,EATR,GAAyD,4BAArDD,EAAuBnrB,aAAa,eAChCorB,EAAoBC,GAAclL,EAAgB,2BAIlD,OAFAiL,EAAkBte,YAAcqe,EAAuBre,iBACvDoe,GAAmBzS,GAI3B,GAAyD,2BAArD0S,EAAuBnrB,aAAa,eAChCorB,EAAoBC,GAAclL,EAAgB,2BAA2B,IAI7E,OAFAiL,EAAkBte,YAAcqe,EAAuBre,iBACvDoe,GAAmBzS,EAI/B,CAEA,IAAI6S,GAAyB,EAAG1pB,EAAsC0mB,IAAInI,EAAgB,YAAa,0BACvG,GAAImL,EAAwB,CACxB,IAAIC,EAAwBD,EAAuBhS,mBAAmBA,mBAKtE,YAJIiS,GAA6E,4BAApDA,EAAsBvrB,aAAa,eAC5DurB,EAAsBvmC,SACtBkmC,GAAmBzS,IAG3B,CACA8G,EAAa9e,iBAAiB,wCAAwC7pC,SAAQ,SAAU2rC,GACpD,IAA5BA,EAAKuK,YAAYjuD,QACjB0jD,EAAKvd,QAEb,IACAu6B,EAAa9e,iBAAiB,yCAAyC7pC,SAAQ,SAAU2rC,GACrD,IAA5BA,EAAKuK,YAAYjuD,QACjB0jD,EAAKvd,QAEb,IAEA,IAAIylB,GAAiB,EAAG7I,EAAsC0mB,IAAInI,EAAgB,YAAa,kBAC/F,GAAI1V,IAA+D,IAA7CA,EAAeqC,YAAYpuD,QAAQ,KAErD,YADAwsE,GAAmBzS,EAG3B,CAEA,IAAoB,MAAfnV,EAAMhkC,MAAoC,0BAApBgkC,EAAMqlB,cAC5B,EAAG/mB,EAAsC0mB,IAAInI,EAAgB,YAAa,aACpE,EAAGve,EAAsC0mB,IAAInI,EAAgB,YAAa,eAC1E,EAAGve,EAAsC0mB,IAAInI,EAAgB,YAAa,iBAC1E,EAAGve,EAAsC0mB,IAAInI,EAAgB,YAAa,sBAGjF,YADA+K,GAAmBzS,EAG3B,CACA,GAAI8G,GAAyD,OAAzCA,EAAazS,YAAY2a,YAEzCyD,GAAmBzS,OAFvB,CAKK8G,IACDA,EAAe9G,EAAOsL,GAAGtkB,SAEqF,yBAAnE,QAAzCr+C,EAAKm+D,EAAalG,yBAAsC,IAAPj4D,OAAgB,EAASA,EAAG4+C,aAAa,gBAE5Fuf,EAAe9G,EAAOsL,GAAGtkB,UAEzB,EAAGmC,EAAsC0mB,IAAInI,EAAgB,YAAa,oBAE1EZ,EAAe9G,EAAOsL,GAAGtkB,UAGyB,IAAlD8f,EAAazS,YAAYpuD,QAAQw6D,KAAKsS,QAEtC9pC,EAAMohC,WAAWpjB,SAASqjB,eAAe7J,KAAKsS,QAGlDjM,EAAa9e,iBAAiB,WAAW7pC,SAAQ,SAAU2rC,GACvDA,EAAK/B,gBAAgB,QACzB,IACA+e,EAAa9e,iBAAiB,QAAQ7pC,SAAQ,SAAU2rC,GACpDA,EAAKsN,UAAYtN,EAAKa,SAC1B,IACA,IAAI3J,EAAO8lB,EAAazS,YACpB2e,EAAclM,EAAahG,YAAYd,EAAOsL,GAAGtkB,SACrD,GAAIgsB,EACAhyB,EAAO8lB,EAAazS,gBAEnB,CAEGyS,EAAamD,yBACbjpB,EAAO8lB,EAAamD,uBAAuB5V,YAAcrT,EACzD8lB,EAAamD,uBAAuB19B,UAEpCu6B,EAAamD,wBAAoD,IAA1BjpB,EAAK/6C,QAAQ,WAEpD+6C,EAAO8lB,EAAamD,uBAAuB5V,YAAcrT,EACzD8lB,EAAamD,uBAAuB19B,UAGxC,IAAI0mC,EAAc,GAClBjT,EAAOsL,GAAGtkB,QAAQgB,iBAAiB,qCAAqC7pC,SAAQ,SAAU2rC,EAAMxvC,GACxFwvC,IAASgd,EAAahG,YAAYhX,EAAKiB,iBACvCkoB,GAAenpB,EAAKiB,cAAcsJ,YAAc,KAChDvK,EAAKiB,cAAcxe,SAE3B,IAEAyzB,EAAOsL,GAAGtkB,QAAQgB,iBAAiB,gCAAgC7pC,SAAQ,SAAU2rC,EAAMxvC,GACnFwvC,IAASgd,EAAahG,YAAYhX,EAAKiB,iBACvCkoB,GAAenpB,EAAKiB,cAAcsJ,YAAc,KAChDvK,EAAKiB,cAAcxe,SAE3B,IACAyU,EAAOiyB,EAAcjyB,CACzB,CACAA,EAAOkyB,GAAuBlyB,EAAMgf,GAChCgT,EACAlM,EAAanc,UAAY3J,EAGzB8lB,EAAa1P,UAAYpW,EAE7Bgf,EAAOsL,GAAGtkB,QAAQgB,iBAAiB,qCAAqC7pC,SAAQ,SAAU2rC,GACtFkW,EAAOsL,GAAGtkB,QAAQoD,sBAAsB,YAAaN,EAAKiB,cAC9D,IAEAqnB,EAAgBpS,EAAOsL,GAAGtkB,SAAS,SAAU7uC,GACzC6nD,EAAOsL,GAAGtkB,QAAQoD,sBAAsB,YAAajyC,EACzD,KACA,EAAGkxC,EAA6BsnB,IAAI3Q,EAAOsL,GAAGtkB,QAAS/d,GACvDkqC,GAAanT,GACbyS,GAAmBzS,EAAQ,CACvB6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,GA5EjB,CA8EJ,EA8MI9nB,EAAkB,EAAoB,KAEtCmqB,EAAW,SAAUpT,GACQ,SAAzBA,EAAO78B,QAAQorB,MACfyR,EAAOhZ,QAAQ0D,UAAU/jC,IAAI,gBAG7Bq5C,EAAOhZ,QAAQ0D,UAAUne,OAAO,eAExC,EAyFI8mC,EAAa,SAAUrT,GACvB,IAAIsT,EAAazrB,OAAOkb,YAAc/Z,EAAsChxC,EAAE86C,aAAe,GAAK,GAClG,GAA2D,SAAvDkN,EAAOwL,QAAQxkB,QAAQ+D,cAAcxiD,MAAM9D,QAAoB,CAC/D,IAAI++C,GAAWwc,EAAOwL,QAAQxkB,QAAQ+D,cAAcnD,YAC9CoY,EAAO78B,QAAQsvB,QAAQ8gB,UAAY,EACzCvT,EAAOwL,QAAQxkB,QAAQz+C,MAAMi7C,QAAU,QAAQrZ,OAAOtqB,KAAKqD,IAAIowD,EAAY9vB,GAAU,KACzF,CACsD,SAAlDwc,EAAO0L,GAAG1kB,QAAQ+D,cAAcxiD,MAAM9D,UAClC++C,GAAWwc,EAAO0L,GAAG1kB,QAAQ+D,cAAcnD,YACzCoY,EAAO78B,QAAQsvB,QAAQ8gB,UAAY,EACzCvT,EAAO0L,GAAG1kB,QAAQz+C,MAAMi7C,QAAU,QAAQrZ,OAAOtqB,KAAKqD,IAAIowD,EAAY9vB,GAAU,OAEvC,UAAzCwc,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAC7Bu7D,EAAOmB,QAAQna,QAAQz+C,MAAMirE,YAAc3zD,KAAKqD,IAAI,EAAGpL,SAASkoD,EAAOA,EAAOK,aAAarZ,QAAQz+C,MAAMirE,aAAe,IAAK,KACpF,SAApCxT,EAAO78B,QAAQurC,QAAQziE,SAAsB+zD,EAAO0O,QAAQ1nB,QAAQysB,YAAc,IAAM,KAG7FzT,EAAOmB,QAAQna,QAAQz+C,MAAMirE,YAAe,GACH,SAApCxT,EAAO78B,QAAQurC,QAAQziE,SAAsB+zD,EAAO0O,QAAQ1nB,QAAQysB,YAAc,GAAM,IAErG,EACIC,EAAwB,SAAU1T,GAClC,GAAKA,EAAO78B,QAAQwwC,eAApB,CAGA,IAAIpoE,EAASs8C,OAAOC,YACiB,iBAA1BkY,EAAO78B,QAAQ53B,QACtBA,EAASy0D,EAAO78B,QAAQ53B,OACgB,iBAA7By0D,EAAO78B,QAAQywC,YACtBroE,EAASsU,KAAKqD,IAAI3X,EAAQy0D,EAAO78B,QAAQywC,YAE7CroE,EAASsU,KAAKuD,IAAIykC,OAAOC,YAAav8C,IAGtCA,EAASy0D,EAAOhZ,QAAQkc,aAExBlD,EAAOhZ,QAAQ0D,UAAUI,SAAS,wBAClCv/C,EAASs8C,OAAOC,aAGpBkY,EAAOA,EAAOK,aAAarZ,QAAQz+C,MAAMsrE,YAAY,mBAAqBtoE,EAASy0D,EAAOmB,QAAQna,QAAQoa,cAAgB,EAAK,KAhB/H,CAiBJ,EAEA,SAAS0S,IACLjsB,OAAOksB,oBAAoB,SAAU3I,EACzC,CACA,IA4kEQ4I,EAymFJC,EArrJAC,EAAc,SAAUlU,GACxB0T,EAAsB1T,GACtB8T,IACAjsB,OAAOL,iBAAiB,SAAU4jB,EAAW,WACzCiI,EAAWrT,GACX0T,EAAsB1T,EAC1B,GAEA,IAAImU,GAAY,EAAGrH,EAAsCsH,OAASvP,aAAawP,QAAQrU,EAAO78B,QAAQ9lB,MAAMqa,IAY5G,OAXKsoC,EAAO78B,QAAQ9lB,MAAM+wC,QAAW+lB,IAC7BnU,EAAO78B,QAAQ95B,MACf8qE,EAAYnU,EAAO78B,QAAQ95B,MAEtB22D,EAAOsU,kBACZH,EAAYnU,EAAOlR,KAAKylB,QAAQvU,EAAOsU,mBAEjCtU,EAAO78B,QAAQ9lB,MAAM+wC,SAC3B+lB,EAAY,KAGbA,GAAa,EACxB,EAQIK,EAAqB,SAAUxU,GAC/B/9C,aAAa+9C,EAAOA,EAAOK,aAAaoU,oBACxCzU,EAAOA,EAAOK,aAAaoU,mBAAqB5sB,OAAOxlC,YAAW,WAC9D,GAA2E,UAAvE29C,EAAOA,EAAOK,aAAarZ,QAAQO,aAAa,qBAG/C,EAAG8B,EAA8BqrB,IAAI1U,EAAOA,EAAOK,aAAarZ,SAArE,CAGA+lB,EAAqB/M,EAAOmB,QAAQuM,SAAU1kB,EAAuChxC,EAAEg7C,eACvFma,EAAcnN,EAAOmB,QAAQuM,SAAU1kB,EAAuChxC,EAAEg7C,eAChF,IAAI/pB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C4U,EAAc3rC,EAAMy+B,eACc,IAAlCz+B,EAAMy+B,eAAenvD,WACrBq8D,EAAc3rC,EAAMy+B,eAAe3c,eAEnC6pB,EAAYlqB,UAAUI,SAAS,kBAC/B8pB,EAAcA,EAAYnb,WAAWxwB,EAAMm/B,eAEH,OAAvBpI,EAAOK,aACxB,EAAGlX,EAAsC0mB,IAAI+E,EAAa,YAAa,YAAa,EAAGzN,EAA+CnI,GAAG4V,KAEzI1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,cAEN,OAAvB1N,EAAOK,aAAuB,EAAGlX,EAAsC0mB,IAAI+E,EAAa,YAAa,eACpH,EAAGzrB,EAAqC2I,IAAI8iB,EAAa,gBAEzD1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,WAE5B,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,WAEvF1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,UAEhC,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,OAEnF1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,YAEjC,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,MAElF1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,YAEjC,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,MAElF1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,SAEhD,IAAImH,GAAY,EAAG1rB,EAAqC2I,IAAI8iB,EAAa,MACrEC,GACIA,EAAUnqB,UAAUI,SAAS,eAC7BoiB,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,UAEH,OAApCmH,EAAU9pB,cAAcoP,QAC7B+S,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,iBAEH,OAApCmH,EAAU9pB,cAAcoP,SAC7B+S,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,SAEhDP,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,YAGnDN,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,YAEjC,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,gBAE1FxH,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,WAAY,OAAQ,SAAU,SAAU,OAAQ,QACrF,OAAQ,eAAgB,QAAS,OAAQ,cAAe,SAAU,OAAQ,QAAS,WACvFR,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,WAE9B,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,UAErFxH,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,WAAY,OAAQ,SAAU,SAAU,OAAQ,QACrF,OAAQ,eAAgB,QAAS,OAAQ,SAAU,OAAQ,QAAS,WACxER,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,kBAE7B,EAAGvkB,EAAsC0mB,IAAI+E,EAAa,YAAa,UAEtFxH,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,WAAY,OAAQ,eAAgB,QAAS,OAClF,QAAS,OAAQ,SApEzB,CAsEJ,GAAG,IACP,EAKIoH,EAAmB,SAAU9U,EAAQ78B,QACrB,IAAZA,IAAsBA,EAAU,CAChC0tC,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEb5tC,EAAQ2tC,YACR9Q,EAAO4N,KAAKvf,OAAO2R,GAEvB/9C,aAAa+9C,EAAOwL,QAAQuJ,sBAC5B/U,EAAOwL,QAAQuJ,qBAAuBltB,OAAOxlC,YAAW,WACpD,IAAI29C,EAAOwL,QAAQwJ,cAAnB,CAGA,IAAI99B,EAAOm0B,EAAYrL,GACa,mBAAzBA,EAAO78B,QAAQ3Z,OAAwB2Z,EAAQ4tC,aACtD/Q,EAAO78B,QAAQ3Z,MAAM0tB,GAErB8oB,EAAO78B,QAAQ8xC,QAAQ7mB,QACvB4R,EAAOiV,QAAQ5mB,OAAO2R,EAAQ9oB,GAE9B8oB,EAAO78B,QAAQ9lB,MAAM+wC,SAAU,EAAG0e,EAAsCsH,QACxEvP,aAAaqQ,QAAQlV,EAAO78B,QAAQ9lB,MAAMqa,GAAIwf,GAC1C8oB,EAAO78B,QAAQ9lB,MAAM0sB,OACrBi2B,EAAO78B,QAAQ9lB,MAAM0sB,MAAMmN,IAG/B8oB,EAAO8L,UACP9L,EAAO8L,SAASF,aAAa5L,GAE7B78B,EAAQ0tC,oBACR7Q,EAAOmV,KAAKC,eAAepV,EAlB/B,CAoBJ,GAAGA,EAAO78B,QAAQkyC,UACtB,EA6BIC,EAAc,SAAUha,GAGxB,IAFA,IAAIta,EAAO,GACP8wB,EAAWxW,EAAKoO,YACboI,GACuB,IAAtBA,EAASv5D,SACTyoC,GAAQ8wB,EAASzd,YAGjBrT,GAAQ8wB,EAAS1a,UAErB0a,EAAWA,EAASpI,YAExB,OAAO1oB,CACX,EACIu0B,GAAkB,SAAUja,GAG5B,IAFA,IAAIta,EAAO,GACPwuB,EAAelU,EAAK6O,gBACjBqF,GAECxuB,EAD0B,IAA1BwuB,EAAaj3D,SACNi3D,EAAanb,YAAcrT,EAG3BwuB,EAAapY,UAAYpW,EAEpCwuB,EAAeA,EAAarF,gBAEhC,OAAOnpB,CACX,EA0BIw0B,GAAY,SAAUxV,EAAQ/2B,GAE9B9tB,MAAMo6C,KAAKyK,EAAOwL,QAAQxkB,QAAQyS,YAAYn3B,MAAK,SAAUg5B,GACzD,GAAsB,IAAlBA,EAAK/iD,SAAgB,CACrB,IAAIk9D,EAAWxuB,SAASI,cAAc,KACtCouB,EAASrpB,aAAa,aAAc,KACpCqpB,EAASphB,YAAciH,EAAKjH,YAE5B,IAAIqhB,EAAqD,IAAlCzsC,EAAMy+B,eAAenvD,SAAiB0wB,EAAMm/B,YAAc9M,EAAKjH,YAAYjuD,OAMlG,OALAk1D,EAAK/B,WAAWoc,aAAaF,EAAUna,GACvCA,EAAK/uB,SACLtD,EAAM2+B,SAAS6N,EAAS9c,WAAY94C,KAAKuD,IAAIqyD,EAAS9c,WAAWtE,YAAYjuD,OAAQsvE,IACrFzsC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IACjC,CACX,CACK,IAAKqyB,EAAK/T,aAAa,cAuBxB,MAtBqB,MAAjB+T,EAAKnB,QACLmB,EAAK/uB,UAGgB,QAAjB+uB,EAAKnB,SACLlxB,EAAMohC,WAAWpjB,SAASI,cAAc,QAExCiU,EAAKlE,UAAY,qBAAuBjtB,OAAOmxB,EAAK3Q,UAAW,SAG1C,OAAjB2Q,EAAKnB,QAELmB,EAAKlE,UAAY,qBAAuBjtB,OAAOmxB,EAAKlE,UAAW,cAG/DnuB,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCiU,EAAKlE,UAAY,qBAAuBjtB,OAAOmxB,EAAKlE,UAAW,UAGvE,EAAG/N,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5DA,EAAQuiB,eAAeE,WAAW,KAE/B,CAEf,GACJ,EAMIkqB,GAAa,SAAU5V,EAAQ7F,GAC/B,IAAIlxB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C8G,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAC3DZ,IACDA,EAAe79B,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,cAEpDtB,GAA2D,IAA3C9G,EAAOwL,QAAQxkB,QAAQl+C,SAAS1C,SACjD0gE,EAAe9G,EAAOwL,QAAQxkB,SAE9B8f,IAAiBA,EAAapc,UAAUI,SAAS,2BACjD7hB,EAAMohC,WAAWpjB,SAASI,cAAc,QAEF,UAAlCyf,EAAanc,UAAU7W,SAEvBgzB,EAAanc,UAAY,aAEA,eAAzBmc,EAAa3M,SAA4B2M,EAAapc,UAAUI,SAAS,gBACzEgc,EAAanc,UAAY,IAAIxgB,OAAOgwB,EAAS,oBAAsBhwB,OAAO28B,EAAanc,UAAU7W,OAAQ,MAAM3J,OAAOgwB,EAAS,KAG/H2M,EAAa1P,UAAY,IAAIjtB,OAAOgwB,EAAS,oBAAsBhwB,OAAO28B,EAAanc,UAAU7W,OAAQ,MAAM3J,OAAOgwB,EAAS,MAEnI,EAAG9Q,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5DwlC,EAAUzO,GAElB,EACI6V,GAAgB,SAAU7V,GAC1B,IAAI/2B,EAAQuiB,eAAeE,WAAW,GAClCob,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAC3DZ,IACDA,EAAe79B,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,cAErDtB,IACA79B,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCyf,EAAa1P,UAAY,qBAAuBjtB,OAAO28B,EAAanc,UAAW,SAC/E,EAAGtB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,IAEhE+2B,EAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,MAC3C,EAKIqxE,GAAW,SAAUtlB,EAAgBwP,EAAQprB,QAC/B,IAAVA,IAAoBA,GAAQ,GAChC,IAAImhC,EAAkBvlB,EAAeyZ,uBACjChhC,EAAQ8sC,EAAgBpO,cAAc/qC,cACV,SAA5Bm5C,EAAgB5b,SAChB4b,EAAgBxtE,MAAM9D,QAAU,eAC5BmwC,EACA3L,EAAM2+B,SAASmO,EAAgBpd,WAAY,GAG3C1vB,EAAMkgC,mBAAmB4M,KAI7BA,EAAgBxtE,MAAM9D,QAAU,QAC3BsxE,EAAgBpd,WAAWA,YAC5Bod,EAAgBpd,WAAWa,YAAYvS,SAASqjB,eAAe,KAEnErhC,EAAMkgC,mBAAmB4M,EAAgBpd,aAEzC/jB,EACA3L,EAAM4+B,UAAS,GAGf5+B,EAAM4+B,UAAS,IAEnB,EAAGxe,EAAiCgC,IAAIpiB,GACpCunB,EAAeoQ,kBAAkBlW,UAAUI,SAAS,qBAGxDqoB,GAAanT,EACjB,EA6SIgW,GAAqB,SAAUhW,EAAQnV,GAEvC,GAAImmB,EAAY,MAAOnmB,GAAQ,CAC3B,IAAIoiB,EAAcjN,EAAOwL,QAAQqC,QAAQlmB,cAAc,wBAKvD,OAJIslB,GACAA,EAAYgJ,QAEhBprB,EAAMwP,kBACC,CACX,CACJ,EAmBI6b,GAA0B,SAAUlW,GACpC/9C,aAAa+9C,EAAOwL,QAAQiJ,oBAC5BzU,EAAOwL,QAAQiJ,mBAAqB5sB,OAAOxlC,YAAW,WAClD,GAA+D,UAA3D29C,EAAOwL,QAAQxkB,QAAQO,aAAa,qBAGnC,EAAG8B,EAA8BqrB,IAAI1U,EAAOwL,QAAQxkB,SAAzD,CAGA+lB,EAAqB/M,EAAOmB,QAAQuM,SAAU1kB,EAAuChxC,EAAEg7C,eACvFma,EAAcnN,EAAOmB,QAAQuM,SAAU1kB,EAAuChxC,EAAEg7C,eAChF,IAAI/pB,EAAQuiB,eAAeE,WAAW,GAClCkpB,EAAc3rC,EAAMy+B,eAEpBkN,EADkC,IAAlC3rC,EAAMy+B,eAAenvD,SACP0wB,EAAMy+B,eAAe3c,cAGrB6pB,EAAYnb,WAAWxwB,EAAMm/B,aAAewM,EAAYnb,WAAWrzD,OAC3EwuE,EAAYnb,WAAWrzD,OAAS,EAChC6iC,EAAMm/B,aAEhB,IAAI+N,GAAmB,EAAGhtB,EAAsC0mB,IAAI+E,EAAa,YAAa,mBAC9F,GAAIuB,EAIA,OAHAnW,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnCyrB,GAASD,EAAkBnW,QAC3BqW,GAAmBrW,EAAQmW,GAI/B,IAAItB,GAAY,EAAG1rB,EAAqC2I,IAAI8iB,EAAa,MACrEC,GACIA,EAAUnqB,UAAUI,SAAS,eAC7BoiB,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,UAEH,OAApCmH,EAAU9pB,cAAcoP,QAC7B+S,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,iBAEH,OAApCmH,EAAU9pB,cAAcoP,SAC7B+S,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,SAEhDP,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,YAGnDN,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,YAEpD,EAAGvkB,EAAqC2I,IAAI8iB,EAAa,eACzD1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,YAE5C,EAAGvkB,EAAqC2I,IAAI8iB,EAAa,OACzD,EAAGzrB,EAAqC2I,IAAI8iB,EAAa,YACzD1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,WAE5C,EAAGvkB,EAAqC2I,IAAI8iB,EAAa,OACzD,EAAGzrB,EAAqC2I,IAAI8iB,EAAa,QACzD1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,aAE5C,EAAGvkB,EAAqC2I,IAAI8iB,EAAa,YACzD,EAAGzrB,EAAqC2I,IAAI8iB,EAAa,OACzD1H,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,WAGhD1N,EAAOwL,QAAQxkB,QACVgB,iBAAiB,0BACjB7pC,SAAQ,SAAU2rC,GACnBA,EAAKY,UAAUne,OAAO,wBAC1B,IACA,IAAI+pC,GAAiB,EAAGntB,EAAsC4I,IAAI6iB,EAAa,kBAC/E,GAAI0B,EAAgB,CAChB,IAAIC,EAAQD,EAAe/uB,aAAa,eAAeroC,MAAM,KAC7D,GAAIq3D,EAAMnwE,OAAS,GAAKkwE,EAAe5M,YAAYQ,WAAWoM,EAAezV,oBAAqB,CAC9F,IAAI2V,EAAYF,EAAezV,mBAC1BtZ,aAAa,eACbroC,MAAM,KACXq3D,EAAMj0C,MAAK,SAAU5K,GACjB,GAAI8+C,EAAUhrD,SAASkM,GAEnB,OADA6+C,EAAQ,CAAC7+C,IACF,CAEf,GACJ,CACAsoC,EAAOwL,QAAQxkB,QACVgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACfA,EAAKvC,aAAa,eAAethD,QAAQswE,EAAM,KAAO,GACtDzsB,EAAKY,UAAU/jC,IAAI,wBAE3B,GACJ,CACA,IAAIs1C,GAAW,EAAG9S,EAAqC2I,IAAI8iB,EAAa,KACpE3Y,GACAiR,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,SAEhD,IAAI+I,GAAe,EAAGttB,EAAqC2I,IAAI8iB,EAAa,SACxE5iB,GAAiB,EAAGmV,EAA+CnI,GAAG4V,IACtE,EAAGzrB,EAAqC2I,IAAI8iB,EAAa,SACrD,EAAGzrB,EAAqC2I,IAAI8iB,EAAa,QACzDxH,EAAepN,EAAOmB,QAAQuM,SAAU,CACpC,WACA,OACA,SACA,SACA,OACA,QACA,OACA,eACA,QACA,OACA,cACA,SACA,OACA,QACA,WAEJR,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,WAG5CN,EAAepN,EAAOmB,QAAQuM,SAAU,CACpC,WACA,OACA,SACA,SACA,OACA,QACA,OACA,eACA,QACA,OACA,SACA,OACA,QACA,WAEJR,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,iBAG3C1b,GACLob,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,SACzCR,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,cAEvC+I,GACLrJ,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,UAG7C,IAAIwB,GAAa,EAAG/lB,EAAsC4I,IAAI6iB,EAAa,cAC3E,GAAI1F,EAIA,OAHAlP,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnCyrB,GAASlH,EAAYlP,QACrBqW,GAAmBrW,EAAQkP,GAI/B,IAAIY,GAAoB,EAAG3I,EAA0Cd,GAAGuO,EAAa,cAiBrF,GAhBI9E,IACA9P,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC+rB,GAAMztC,EAAO6mC,EAAmB9P,GAChC2W,GAAQ1tC,EAAO6mC,EAAmB9P,GAClCoW,GAAStG,EAAmB9P,GAC5BqW,GAAmBrW,EAAQ8P,IAG3B+E,IACA7U,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC+rB,GAAMztC,EAAO4rC,EAAW7U,GACxB2W,GAAQ1tC,EAAO4rC,EAAW7U,GAC1BoW,GAASvB,EAAW7U,GACpBqW,GAAmBrW,EAAQ6U,IAG3B4B,EAAc,CACHzW,EAAO78B,QAAQomB,KACZyW,EAAO78B,QACrB68B,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC,IAAIisB,EAAgB,WAChB,IAAIC,EAASJ,EAAaK,KAAK1wE,OAC3B2wE,EAAYN,EAAaK,KAAK,GAAGE,MAAM5wE,OACvC6wE,EAAMn/D,SAASo/D,EAAQ7tE,MAAO,KAAOwtE,EACrCM,EAASr/D,SAASs/D,EAAS/tE,MAAO,KAAO0tE,EAC7C,GAAIE,IAAQJ,GAAUE,IAAcI,EAApC,CAGA,GAAIJ,IAAcI,EAEd,IADA,IAAIE,EAAaF,EAASJ,EACjB5wE,EAAI,EAAGA,EAAIswE,EAAaK,KAAK1wE,OAAQD,IAC1C,GAAIkxE,EAAa,EACb,IAAK,IAAIp9B,EAAI,EAAGA,EAAIo9B,EAAYp9B,IAClB,IAAN9zC,EACAswE,EAAaK,KAAK3wE,GAAGykE,iBAAiBzU,mBAAmB,WAAY,cAGrEsgB,EAAaK,KAAK3wE,GAAGykE,iBAAiBzU,mBAAmB,WAAY,mBAK7E,IAAK,IAAI3D,EAAIukB,EAAY,EAAGvkB,GAAK2kB,EAAQ3kB,IACrCikB,EAAaK,KAAK3wE,GAAG6wE,MAAMxkB,GAAGjmB,SAK9C,GAAIsqC,IAAWI,EAAK,CAChB,IAAIK,EAAUL,EAAMJ,EACpB,GAAIS,EAAU,EAAG,CAEb,IADA,IAAIC,EAAU,OACLpxB,EAAI,EAAGA,EAAIgxB,EAAQhxB,IACxBoxB,GAAW,aAEf,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAASE,IACrBf,EAAa9uB,cAAc,SAC3B8uB,EACK9uB,cAAc,SACdwO,mBAAmB,YAAaohB,GAGrCd,EACK9uB,cAAc,SACdwO,mBAAmB,WAAYohB,EAAU,QAG1D,MAEI,IAASpxB,EAAI0wB,EAAS,EAAG1wB,GAAK8wB,EAAK9wB,IAC/BswB,EAAaK,KAAK3wB,GAAG5Z,SACY,IAA7BkqC,EAAaK,KAAK1wE,QAClBqwE,EAAa9uB,cAAc,SAASpb,QAIpD,CACoC,mBAAzByzB,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,GAnDrC,CAqDJ,EACIyX,EAAa,SAAU3nE,GACvB4nE,GAAcjB,EAAc3mE,GACf,UAATA,GACA6nE,EAAOjtB,UAAUne,OAAO,wBACxBqrC,EAASltB,UAAUne,OAAO,wBAC1BsrC,EAAQntB,UAAU/jC,IAAI,yBAER,WAAT7W,GACL6nE,EAAOjtB,UAAUne,OAAO,wBACxBsrC,EAAQntB,UAAUne,OAAO,wBACzBqrC,EAASltB,UAAU/jC,IAAI,0BAGvBixD,EAASltB,UAAUne,OAAO,wBAC1BsrC,EAAQntB,UAAUne,OAAO,wBACzBorC,EAAOjtB,UAAU/jC,IAAI,0BAEzB,EAAG0iC,EAAiCgC,IAAIpiB,GACxC6rC,EAAiB9U,EACrB,EACI8X,GAAK,EAAG3uB,EAAqC2I,IAAI8iB,EAAa,MAC9DmD,GAAK,EAAG5uB,EAAqC2I,IAAI8iB,EAAa,MAC9DoD,EAAY,OACZF,EACAE,EAAYF,EAAGvwB,aAAa,UAAY,OAEnCwwB,IACLC,EAAYD,EAAGxwB,aAAa,UAAY,UAE5C,IAAIowB,EAAS1wB,SAASI,cAAc,UACpCswB,EAAOvrB,aAAa,OAAQ,UAC5BurB,EAAOvrB,aAAa,aAAcvE,OAAOiJ,WAAWmnB,UAAY,KAAM,EAAGnL,EAAmCoL,IAAI,OAAS,KACzHP,EAAOvrB,aAAa,YAAa,QACjCurB,EAAOhtB,UACH,8DACJgtB,EAAO/vE,UACH,sDACmB,SAAdowE,EAAuB,wBAA0B,IAC1DL,EAAOrmB,QAAU,WACbmmB,EAAW,OACf,EACA,IAAIG,EAAW3wB,SAASI,cAAc,UACtCuwB,EAASxrB,aAAa,OAAQ,UAC9BwrB,EAASxrB,aAAa,aAAcvE,OAAOiJ,WAAWqnB,YAAc,KAAM,EAAGrL,EAAmCoL,IAAI,OAAS,KAC7HN,EAASxrB,aAAa,YAAa,UACnCwrB,EAASjtB,UACL,gEACJitB,EAAShwE,UACL,sDACmB,WAAdowE,EAAyB,wBAA0B,IAC5DJ,EAAStmB,QAAU,WACfmmB,EAAW,SACf,EACA,IAAII,EAAU5wB,SAASI,cAAc,UACrCwwB,EAAQzrB,aAAa,OAAQ,UAC7ByrB,EAAQzrB,aAAa,aAAcvE,OAAOiJ,WAAWsnB,WAAa,KAAM,EAAGtL,EAAmCoL,IAAI,OAAS,KAC3HL,EAAQzrB,aAAa,YAAa,SAClCyrB,EAAQltB,UACJ,+DACJktB,EAAQjwE,UACJ,sDACmB,UAAdowE,EAAwB,wBAA0B,IAC3DH,EAAQvmB,QAAU,WACdmmB,EAAW,QACf,EACA,IAAIY,EAAmBpxB,SAASI,cAAc,UAC9CgxB,EAAiBjsB,aAAa,OAAQ,UACtCisB,EAAiBjsB,aAAa,aAAcvE,OAAOiJ,WAAWwnB,eAAiB,KAAM,EAAGxL,EAAmCoL,IAAI,MAAQ,KACvIG,EAAiBjsB,aAAa,YAAa,aAC3CisB,EAAiB1tB,UACb,8DACJ0tB,EAAiBzwE,UACb,qDACJywE,EAAiB/mB,QAAU,WACvB,IAAIoW,EAAiBlc,eAAeE,WAAW,GAC1Cgc,eACD6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAC5D6Q,GACAC,GAAUxY,EAAQ/2B,EAAOsvC,EAEjC,EACA,IAAIE,EAAoBxxB,SAASI,cAAc,UAC/CoxB,EAAkBrsB,aAAa,OAAQ,UACvCqsB,EAAkBrsB,aAAa,aAAcvE,OAAOiJ,WAAW4nB,eAAiB,KAAM,EAAG5L,EAAmCoL,IAAI,OAAS,KACzIO,EAAkBrsB,aAAa,YAAa,aAC5CqsB,EAAkB9tB,UACd,+DACJ8tB,EAAkB7wE,UACd,qDACJ6wE,EAAkBnnB,QAAU,WACxB,IAAIoW,EAAiBlc,eAAeE,WAAW,GAC1Cgc,eACD6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAC5D6Q,GACAG,GAAe1Y,EAAQ/2B,EAAOsvC,EAEtC,EACA,IAAII,EAAsB1xB,SAASI,cAAc,UACjDsxB,EAAoBvsB,aAAa,OAAQ,UACzCusB,EAAoBvsB,aAAa,aAAcvE,OAAOiJ,WAAW8nB,kBAAoB,KAAM,EAAG9L,EAAmCoL,IAAI,OAAS,KAC9IS,EAAoBvsB,aAAa,YAAa,gBAC9CusB,EAAoBhuB,UAChB,iEACJguB,EAAoB/wE,UAChB,qDACJ+wE,EAAoBrnB,QAAU,WAC1B,IAAIoW,EAAiBlc,eAAeE,WAAW,GAC1Cgc,eACD6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAC5D6Q,GACAM,GAAa7Y,EAAQyW,EAAc8B,EAE3C,EACA,IAAIO,EAAuB7xB,SAASI,cAAc,UAClDyxB,EAAqB1sB,aAAa,OAAQ,UAC1C0sB,EAAqB1sB,aAAa,aAAcvE,OAAOiJ,WAAWioB,iBAAmB,KAAM,EAAGjM,EAAmCoL,IAAI,OAAS,KAC9IY,EAAqB1sB,aAAa,YAAa,gBAC/C0sB,EAAqBnuB,UACjB,kEACJmuB,EAAqBlxE,UACjB,qDACJkxE,EAAqBxnB,QAAU,WAC3B,IAAIoW,EAAiBlc,eAAeE,WAAW,GAC1Cgc,eACD6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAC5D6Q,GACAM,GAAa7Y,EAAQyW,EAAc8B,EAAa,cAExD,EACA,IAAIS,EAAmB/xB,SAASI,cAAc,UAC9C2xB,EAAiB5sB,aAAa,OAAQ,UACtC4sB,EAAiB5sB,aAAa,aAAcvE,OAAOiJ,WAAW,cAAgB,KAAM,EAAGgc,EAAmCoL,IAAI,MAAQ,KACtIc,EAAiB5sB,aAAa,YAAa,aAC3C4sB,EAAiBruB,UACb,8DACJquB,EAAiBpxE,UACb,qDACJoxE,EAAiB1nB,QAAU,WACvB,IAAIoW,EAAiBlc,eAAeE,WAAW,GAC1Cgc,eACD6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAC5D6Q,GACAU,GAAUjZ,EAAQ/2B,EAAOsvC,EAEjC,EACA,IAAIW,EAAsBjyB,SAASI,cAAc,UACjD6xB,EAAoB9sB,aAAa,OAAQ,UACzC8sB,EAAoB9sB,aAAa,aAAcvE,OAAOiJ,WAAW,iBAAmB,KAAM,EAAGgc,EAAmCoL,IAAI,OAAS,KAC7IgB,EAAoB9sB,aAAa,YAAa,gBAC9C8sB,EAAoBvuB,UAChB,iEACJuuB,EAAoBtxE,UAChB,qDACJsxE,EAAoB5nB,QAAU,WAC1B,IAAIoW,EAAiBlc,eAAeE,WAAW,GAC1Cgc,eACD6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAC5D6Q,GACAY,GAAanZ,EAAQ/2B,EAAOwtC,EAAc8B,EAElD,GACIa,EAAYnyB,SAASI,cAAc,SAC7B+E,aAAa,aAAcvE,OAAOiJ,WAAWmmB,KACvDmC,EAAUxxE,UAAY,yCACtB,IAAIsvE,EAAUjwB,SAASI,cAAc,SACrC+xB,EAAU5f,YAAY0d,GACtBA,EAAQpnE,KAAO,SACfonE,EAAQ9zD,IAAM,IACd8zD,EAAQtvE,UAAY,eACpBsvE,EAAQ3uE,MAAMg3D,MAAQ,OACtB2X,EAAQ3uE,MAAMtD,UAAY,SAC1BiyE,EAAQ9qB,aAAa,cAAevE,OAAOiJ,WAAWmmB,KACtDC,EAAQ7tE,MAAQotE,EAAaK,KAAK1wE,OAAOia,WACzC62D,EAAQmC,QAAU,WACdzC,GACJ,EACAM,EAAQoC,UAAY,SAAUzuB,GAC1B,IAAIA,EAAM0uB,YAGV,MAAkB,QAAd1uB,EAAM56C,KACNmnE,EAAS7rB,QACT6rB,EAASoC,cACT3uB,EAAMwP,uBAGN2b,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,GAG9B,EACA,IAAIywC,EAAazyB,SAASI,cAAc,QACxCqyB,EAAWttB,aAAa,aAAcvE,OAAOiJ,WAAWqmB,QACxDuC,EAAW9xE,UAAY,yCACvB,IAAIwvE,EAAWnwB,SAASI,cAAc,SACtCqyB,EAAWlgB,YAAY4d,GACvBA,EAAStnE,KAAO,SAChBsnE,EAASh0D,IAAM,IACfg0D,EAASxvE,UAAY,eACrBwvE,EAAS7uE,MAAMg3D,MAAQ,OACvB6X,EAAS7uE,MAAMtD,UAAY,SAC3BmyE,EAAShrB,aAAa,cAAevE,OAAOiJ,WAAWqmB,QACvDC,EAAS/tE,MAAQotE,EAAaK,KAAK,GAAGE,MAAM5wE,OAAOia,WACnD+2D,EAASiC,QAAU,WACfzC,GACJ,EACAQ,EAASkC,UAAY,SAAUzuB,GAC3B,IAAIA,EAAM0uB,YAGV,MAAkB,QAAd1uB,EAAM56C,KACNinE,EAAQ3rB,QACR2rB,EAAQsC,cACR3uB,EAAMwP,uBAGN2b,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,GAG9B,EACAytC,GAAMztC,EAAOwtC,EAAczW,GAC3B2W,GAAQ1tC,EAAOwtC,EAAczW,GAC7BoW,GAASK,EAAczW,GACvBA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAautB,GAC1D3X,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAawtB,GAC1D5X,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAaytB,GAC1D7X,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAaquB,GAC1DzY,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAaiuB,GAC1DrY,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAa0uB,GAC1D9Y,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAauuB,GAC1D3Y,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAa4uB,GAC1DhZ,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAa8uB,GAC1DlZ,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAagvB,GAC1DpZ,EAAOwL,QAAQqC,QAAQ1X,mBAAmB,YAAa,OACvD6J,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAasvB,GAC1DrD,GAAmBrW,EAAQyW,EAC/B,CAEA,IAAIkD,GAAiB,EAAGxwB,EAAsC0mB,IAAI+E,EAAa,YAAa,YACxF+E,GACAC,GAAkB5Z,EAAQ2Z,EAAgB1wC,GAG9C,IAAI4wC,GAAsB,EAAG1wB,EAAsC0mB,IAAI+E,EAAa,YAAa,iBACjG,GAAIiF,EAAqB,CACV7Z,EAAO78B,QAAQomB,KACZyW,EAAO78B,QACrB68B,EAAOwL,QAAQqC,QAAQljB,UAAY,IAC/ByuB,EAAYnyB,SAASI,cAAc,SAC7B+E,aAAa,aAAcvE,OAAOiJ,WAAWgpB,YAAc,KAAM,EAAGhN,EAAmCoL,IAAI,UAAY,KACjIkB,EAAUxxE,UAAY,yCACtB,IAAImyE,EAAU9yB,SAASI,cAAc,SACrC+xB,EAAU5f,YAAYugB,GACtBA,EAAQnyE,UAAY,eACpBmyE,EAAQ3tB,aAAa,cAAevE,OAAOiJ,WAAWgpB,YAAc,KAAM,EAAGhN,EAAmCoL,IAAI,UAAY,KAChI6B,EAAQxxE,MAAMg3D,MAAQ,QACtBwa,EAAQ1wE,MAAQwwE,EAAoBtyB,aAAa,wBACjDwyB,EAAQV,QAAU,WACe,KAAzBU,EAAQ1wE,MAAMyqC,QACd+lC,EAAoBztB,aAAa,uBAAwB2tB,EAAQ1wE,OAEjC,mBAAzB22D,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,GAEzC,EACA+Z,EAAQT,UAAY,SAAUzuB,GACtBA,EAAM0uB,aAGNvD,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,EAG9B,EACAmtC,GAASyD,EAAqB7Z,GAC9BA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAagvB,GAC1D/C,GAAmBrW,EAAQ6Z,EAC/B,CAEA,IAAIG,GAAqB,EAAG7wB,EAAsC4I,IAAI6iB,EAAa,yBAC/EqF,IAAUD,GAAqBA,EAAmBzyB,aAAa,aAAathD,QAAQ,UAAY,EASpG,GARA+5D,EAAOwL,QAAQxkB,QACVgB,iBAAiB,4BACjB7pC,SAAQ,SAAU8uD,KACd+M,GAAuBA,GAAsBC,IAAYD,EAAmBlvB,SAASmiB,MAChEA,EAAYhD,uBAClB1hE,MAAM9D,QAAU,OAExC,IACIu1E,GAAsBC,EAAS,CAK/B,GAJAja,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC+rB,GAAMztC,EAAO+wC,EAAoBha,GACjC2W,GAAQ1tC,EAAO+wC,EAAoBha,GACnCoW,GAAS4D,EAAoBha,GACwB,eAAjDga,EAAmBzyB,aAAa,aAA+B,CAC/D,IAAI2yB,EAAejzB,SAASI,cAAc,QAC1C6yB,EAAa9tB,aAAa,aAAcvE,OAAOiJ,WAAWyd,SAAW,KAAM,EAAGzB,EAAmCoL,IAAI,UAAY,KACjIgC,EAAatyE,UAAY,yCACzB,IAAIuyE,EAAalzB,SAASI,cAAc,SACxC6yB,EAAa1gB,YAAY2gB,GACzB,IAAIC,EAAgBJ,EAAmBpZ,kBAAkBA,kBACzDuZ,EAAWvyE,UAAY,eACvBuyE,EAAW/tB,aAAa,cAAevE,OAAOiJ,WAAWyd,SAAW,KAAM,EAAGzB,EAAmCoL,IAAI,UAAY,KAChIiC,EAAW9wE,MACP+wE,EAAcxyE,UAAU3B,QAAQ,cAAgB,EAC1Cm0E,EAAcxyE,UAAUsX,MAAM,KAAK,GAAGA,MAAM,KAAK,GACjD,GACVi7D,EAAWd,QAAU,SAAU3zE,GACK,KAA5By0E,EAAW9wE,MAAMyqC,OACjBsmC,EAAcxyE,UAAY,YAAYuiC,OAAOgwC,EAAW9wE,QAGxD+wE,EAAcxyE,UAAY,GAC1Bo4D,EAAO4N,KAAKyM,eAAiB,IAE7BL,EAAmBpP,iBAAiBlgB,UAAUI,SAAS,6BACvDkvB,EAAmBpP,iBAAiBjgB,UAChCqvB,EAAmBpZ,kBAAkBjW,UACzC0jB,EAAkB2L,EAAmBpP,iBAAkB5K,IAE3D8U,EAAiB9U,GAEA,IAAbt6D,EAAE40E,SAEFrxC,EAAM2+B,SAASwS,EAAczhB,WAAY,GACzC1vB,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GAEhD,EACAkxC,EAAWb,UAAY,SAAUzuB,GAC7B,IAAIA,EAAM0uB,cAGNvD,GAAmBhW,EAAQnV,GAA/B,CAGA,GAAkB,WAAdA,EAAM56C,KACgC,UAAtC+vD,EAAO4N,KAAK5mB,QAAQz+C,MAAM9D,QAG1B,OAFAu7D,EAAO4N,KAAK5mB,QAAQz+C,MAAM9D,QAAU,YACpComD,EAAMwP,iBAGV2F,EAAO4N,KAAK4L,OAAO3uB,EAAOmV,GAC1ByZ,GAAe5uB,EAAO5hB,EARtB,CASJ,EACAkxC,EAAWI,QAAU,SAAU1vB,GAC3B,IAAIA,EAAM0uB,aACQ,UAAd1uB,EAAM56C,KACQ,YAAd46C,EAAM56C,KACQ,WAAd46C,EAAM56C,KACQ,cAAd46C,EAAM56C,IAJV,CAOA,IAAIuqE,EAAgB,GAChBvqE,EAAMkqE,EAAW9wE,MAAM+qC,UAAU,EAAG+lC,EAAWM,iBAClDza,EAAO78B,QAAQsvB,QAAQ7E,KAAK8sB,OAAS1xB,EAAwChxC,EAAEk7C,gBAAgB/0C,SAAQ,SAAUw8D,GAC1GA,EAAQ10E,QAAQgK,EAAIu3B,gBAAkB,GACtCgzC,EAAcjzD,KAAK,CACfy5B,KAAM25B,EACNtxE,MAAOsxE,GAGnB,IACA3a,EAAO4N,KAAKgN,QAAQJ,EAAevqE,EAAK+vD,GACxCnV,EAAMwP,gBAZN,CAaJ,EACA2F,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAa8vB,EAC9D,CACA7D,GAAmBrW,EAAQga,EAC/B,MAEIA,OAAqBnrE,EAEzB,GAAImjD,EAAgB,CAEhB,IAAIonB,EADJpZ,EAAOwL,QAAQqC,QAAQljB,UAAY,IAC/ByuB,EAAYnyB,SAASI,cAAc,SAC7B+E,aAAa,aAAc,OAAa,EAAG0gB,EAAmCoL,IAAI,UAAY,KACxGkB,EAAUxxE,UAAY,yCACtB,IAAIizE,EAAU5zB,SAASI,cAAc,SACrC+xB,EAAU5f,YAAYqhB,GACtBA,EAAQjzE,UAAY,eACpBizE,EAAQzuB,aAAa,cAAe,OAAa,EAAG0gB,EAAmCoL,IAAI,UAAY,KACvG2C,EAAQtyE,MAAMg3D,MAAQ,QACtBsb,EAAQxxE,MAAQ2oD,EAAezK,aAAa,YAAc,GAC1DszB,EAAQxB,QAAU,WACdrnB,EAAe5F,aAAa,UAAWyuB,EAAQxxE,OACX,mBAAzB22D,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,GAEzC,EACA6a,EAAQvB,UAAY,SAAUzuB,GACtBA,EAAM0uB,aAGNvD,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,EAG9B,EACAytC,GAAMztC,EAAO+oB,EAAgBgO,GAC7B2W,GAAQ1tC,EAAO+oB,EAAgBgO,GAC/BoW,GAASpkB,EAAgBgO,GACzBA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAagvB,GAC1D/C,GAAmBrW,EAAQhO,EAC/B,CAKA,GAHIiK,GACA6e,GAAY9a,EAAQ/D,EAAUhzB,KAE7B6mC,GACA+E,GACA4B,GACAuD,GACA/d,GACA0d,GACAE,GACA7nB,GACAkd,GAAY,CACb,IAAIpI,GAAe,EAAG3d,EAAsC0mB,IAAI+E,EAAa,aAAc,KACvF9N,GACAA,EAAa/b,cAAc+V,YAAYd,EAAOwL,QAAQxkB,UACtDgZ,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC+rB,GAAMztC,EAAO69B,EAAc9G,GAC3B2W,GAAQ1tC,EAAO69B,EAAc9G,GAC7BoW,GAAStP,EAAc9G,GACvBqW,GAAmBrW,EAAQ8G,IAG3B9G,EAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,MAE/C,CAEAu7D,EAAOwL,QAAQxkB,QACVgB,iBAAiB,sCACjB7pC,SAAQ,SAAU2rC,GACnBA,EAAKvhD,MAAM9D,QAAU,MACzB,IACA,IAAIs2E,GAAmB,EAAG5xB,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa,aACnGqT,IACAA,EAAiBpzB,cAAc,QAAQp/C,MAAM9D,QAAU,SAvqB3D,CAyqBJ,GAAG,IACP,EACI4xE,GAAqB,SAAUrW,EAAQhZ,GACvC,IAAI+Y,EAAgB/Y,EAChByvB,GAAe,EAAGttB,EAAqC2I,IAAI9K,EAAS,SACpEyvB,IACA1W,EAAgB0W,GAEpBzW,EAAOwL,QAAQqC,QAAQtlE,MAAMyjD,KAAO,IACpCgU,EAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,QACvCu7D,EAAOwL,QAAQqC,QAAQtlE,MAAMujD,IACzBjsC,KAAKqD,KAAK,EAAG68C,EAAcvO,UAAY,GAAKwO,EAAOwL,QAAQxkB,QAAQ+E,WAAa,KACpFiU,EAAOwL,QAAQqC,QAAQtlE,MAAMyjD,KACzBnsC,KAAKuD,IAAI28C,EAAcib,WAAYhb,EAAOwL,QAAQxkB,QAAQY,YAAcoY,EAAOwL,QAAQqC,QAAQjmB,aAAe,KAClHoY,EAAOwL,QAAQqC,QAAQzhB,aAAa,YAAa2T,EAAcvO,UAAY,IAAInxC,WACnF,EACIu5D,GAAoB,SAAU5Z,EAAQ2Z,EAAgB1wC,QACxC,IAAVA,IAAoBA,EAAQuiB,eAAeE,WAAW,IAC1DsU,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC,IAAIswB,EAAgB,WACW,KAAvBzxD,EAAMngB,MAAMyqC,SACmB,QAA3B6lC,EAAexf,QACfwf,EAAevtB,aAAa,MAAO5iC,EAAMngB,OAGzCswE,EAAetlB,YAAc7qC,EAAMngB,OAIf,KAAxB6xE,EAAO7xE,MAAMyqC,QACb6lC,EAAevtB,aAAa,kBAAmB8uB,EAAO7xE,OAEtB,mBAAzB22D,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,GAEzC,EACIoZ,EAAYnyB,SAASI,cAAc,QACvC+xB,EAAUhtB,aAAa,aAAcvE,OAAOiJ,WAAWqqB,gBACvD/B,EAAUxxE,UAAY,yCACtB,IAAI4hB,EAAQy9B,SAASI,cAAc,SACnC+xB,EAAU5f,YAAYhwC,GACtBA,EAAM5hB,UAAY,eAClB4hB,EAAM4iC,aAAa,cAAevE,OAAOiJ,WAAWqqB,gBACpD3xD,EAAMjhB,MAAMg3D,MAAQ,QACpB/1C,EAAMngB,MACFswE,EAAepyB,aAAa,QAAUoyB,EAAetlB,YACzD7qC,EAAM6vD,QAAU,WACZ4B,GACJ,EACAzxD,EAAM8vD,UAAY,SAAUzuB,GACpBmrB,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,IAG1BmyC,GAAWpb,EAAQ2Z,EAAgB9uB,EAAOqwB,EAC9C,EACA,IAAIG,EAAap0B,SAASI,cAAc,QACxCg0B,EAAWjvB,aAAa,aAAcvE,OAAOiJ,WAAWwqB,SACxDD,EAAWzzE,UAAY,yCACvB,IAAIszE,EAASj0B,SAASI,cAAc,SACpCg0B,EAAW7hB,YAAY0hB,GACvBA,EAAOtzE,UAAY,eACnBszE,EAAO9uB,aAAa,cAAevE,OAAOiJ,WAAWwqB,SACrDJ,EAAO7xE,MAAQswE,EAAepyB,aAAa,mBAC3C2zB,EAAO7B,QAAU,WACb4B,GACJ,EACAC,EAAO5B,UAAY,SAAUzuB,GACrBmrB,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,IAG1BmyC,GAAWpb,EAAQ2Z,EAAgB9uB,EAAOrhC,EAC9C,EACA4sD,GAASuD,EAAgB3Z,GACzBA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAagvB,GAC1DpZ,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAaixB,GAC1DhF,GAAmBrW,EAAQ2Z,EAC/B,EACIjD,GAAQ,SAAUztC,EAAO+d,EAASgZ,GAClC,IAAI+V,EAAkB/uB,EAAQijB,uBAC9B,GAAK8L,IACC/uB,EAAQ+D,cAAc+V,YAAYd,EAAOwL,QAAQxkB,UAC3B,OAApBA,EAAQmT,SAFhB,CAKA,IAAIohB,EAAYt0B,SAASI,cAAc,UACvCk0B,EAAUnvB,aAAa,OAAQ,UAC/BmvB,EAAUnvB,aAAa,YAAa,MACpCmvB,EAAUnvB,aAAa,aAAcvE,OAAOiJ,WAAW0qB,GAAK,KAAM,EAAG1O,EAAmCoL,IAAI,OAAS,KACrHqD,EAAU5wB,UAAY,sDACtB4wB,EAAU3zE,UAAY,qDACtB2zE,EAAUjqB,QAAU,WAChBroB,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC0uB,EAAgB3rB,sBAAsB,cAAepD,IACrD,EAAGqC,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5D6rC,EAAiB9U,GACjBkW,GAAwBlW,GACxBmT,GAAanT,EACjB,EACAA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAamxB,EAf1D,CAgBJ,EACI5E,GAAU,SAAU1tC,EAAO+d,EAASgZ,GACpC,IAAIyb,EAAcz0B,EAAQ6Z,mBAC1B,GAAK4a,IACCz0B,EAAQ+D,cAAc+V,YAAYd,EAAOwL,QAAQxkB,UAC3B,OAApBA,EAAQmT,SAFhB,CAKA,IAAIuhB,EAAcz0B,SAASI,cAAc,UACzCq0B,EAAYtvB,aAAa,OAAQ,UACjCsvB,EAAYtvB,aAAa,YAAa,QACtCsvB,EAAYtvB,aAAa,aAAcvE,OAAOiJ,WAAW6qB,KAAO,KAAM,EAAG7O,EAAmCoL,IAAI,OAAS,KACzHwD,EAAY/wB,UACR,wDACJ+wB,EAAY9zE,UACR,qDACJ8zE,EAAYpqB,QAAU,WAClBroB,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCo0B,EAAYrxB,sBAAsB,WAAYpD,IAC9C,EAAGqC,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5D6rC,EAAiB9U,GACjBkW,GAAwBlW,GACxBmT,GAAanT,EACjB,EACAA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAasxB,EAjB1D,CAkBJ,EACItF,GAAW,SAAUpvB,EAASgZ,GAC9B,IAAI/4D,EAAQggD,SAASI,cAAc,UACnCpgD,EAAMmlD,aAAa,OAAQ,UAC3BnlD,EAAMmlD,aAAa,YAAa,UAChCnlD,EAAMmlD,aAAa,aAAcvE,OAAOiJ,WAAWvkB,OAAS,KAAM,EAAGugC,EAAmCoL,IAAI,OAAS,KACrHjxE,EAAM0jD,UACF,4DACJ1jD,EAAMW,UAAY,qDAClBX,EAAMqqD,QAAU,WACZ,IAAIroB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GACjD/2B,EAAM2gC,cAAc5iB,IACpB,EAAGqC,EAAiCgC,IAAIpiB,GACxC+d,EAAQza,SACRuoC,EAAiB9U,GACjBkW,GAAwBlW,GACpB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAAMx0C,SAASw7B,EAAQmT,UACtDsU,EAAUzO,EAElB,EACAA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAanjD,EAC9D,EACIm0E,GAAa,SAAUpb,EAAQhZ,EAAS6D,EAAO+wB,GAC/C,IAAI/wB,EAAM0uB,YAAV,CAGA,GAAkB,QAAd1uB,EAAM56C,IAIN,OAHA2rE,EAAiBrwB,QACjBqwB,EAAiBpC,cACjB3uB,EAAMwP,iBAGV,KAAK,EAAGyS,EAA0BoE,IAAIrmB,KACjCA,EAAMumB,UACPvmB,EAAMsmB,QACQ,UAAdtmB,EAAM56C,IAAiB,CACvB,IAAIg5B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAEjDhZ,EAAQmP,mBAAmB,WAAYnN,EAA8BhxC,EAAE46C,MACvE3pB,EAAM2gC,cAAc5iB,EAAQ0iB,aAC5BzgC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACxC4hB,EAAMwP,gBACV,CAlBA,CAmBJ,EACIygB,GAAc,SAAU9a,EAAQ/D,EAAUhzB,GAC1C+2B,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC,IAAIkxB,EAAU,WACiB,KAAvBryD,EAAMngB,MAAMyqC,SACZmoB,EAAStR,UAAYnhC,EAAMngB,OAE/B4yD,EAAS7P,aAAa,OAAQ8uB,EAAO7xE,OACrC4yD,EAAS7P,aAAa,QAAS0vB,EAAOzyE,OACtCyrE,EAAiB9U,EACrB,EACA/D,EAASjU,iBAAiB,iBAAiB7pC,SAAQ,SAAU2rC,GACzDA,EAAK/B,gBAAgB,cACzB,IACA,IAAIqxB,EAAYnyB,SAASI,cAAc,QACvC+xB,EAAUhtB,aAAa,aAAcvE,OAAOiJ,WAAWqqB,gBACvD/B,EAAUxxE,UAAY,yCACtB,IAAI4hB,EAAQy9B,SAASI,cAAc,SACnC+xB,EAAU5f,YAAYhwC,GACtBA,EAAM5hB,UAAY,eAClB4hB,EAAM4iC,aAAa,cAAevE,OAAOiJ,WAAWqqB,gBACpD3xD,EAAMjhB,MAAMg3D,MAAQ,QACpB/1C,EAAMngB,MAAQ4yD,EAAStR,WAAa,GACpCnhC,EAAM6vD,QAAU,WACZwC,GACJ,EACAryD,EAAM8vD,UAAY,SAAUzuB,GACpBmrB,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,IAG1BmyC,GAAWpb,EAAQ/D,EAAUpR,EAAOqwB,EACxC,EACA,IAAIG,EAAap0B,SAASI,cAAc,QACxCg0B,EAAWjvB,aAAa,aAAcvE,OAAOiJ,WAAW8U,MACxDyV,EAAWzzE,UAAY,yCACvB,IAAIszE,EAASj0B,SAASI,cAAc,SACpCg0B,EAAW7hB,YAAY0hB,GACvBA,EAAOtzE,UAAY,eACnBszE,EAAO9uB,aAAa,cAAevE,OAAOiJ,WAAW8U,MACrDsV,EAAO7xE,MAAQ4yD,EAAS1U,aAAa,SAAW,GAChD2zB,EAAO7B,QAAU,WACbwC,GACJ,EACAX,EAAO5B,UAAY,SAAUzuB,GACrBmrB,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,IAG1BmyC,GAAWpb,EAAQ/D,EAAUpR,EAAOixB,EACxC,EACA,IAAIpC,EAAazyB,SAASI,cAAc,QACxCqyB,EAAWttB,aAAa,aAAcvE,OAAOiJ,WAAWirB,aACxDrC,EAAW9xE,UAAY,yCACvB,IAAIk0E,EAAS70B,SAASI,cAAc,SACpCqyB,EAAWlgB,YAAYsiB,GACvBA,EAAOl0E,UAAY,eACnBk0E,EAAO1vB,aAAa,cAAevE,OAAOiJ,WAAWirB,aACrDD,EAAOvzE,MAAMg3D,MAAQ,OACrBuc,EAAOzyE,MAAQ4yD,EAAS1U,aAAa,UAAY,GACjDu0B,EAAOzC,QAAU,WACbwC,GACJ,EACAC,EAAOxC,UAAY,SAAUzuB,GACrBmrB,GAAmBhW,EAAQnV,IAG3B4uB,GAAe5uB,EAAO5hB,IAG1BmyC,GAAWpb,EAAQ/D,EAAUpR,EAAOrhC,EACxC,EACA4sD,GAASna,EAAU+D,GACnBA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAagvB,GAC1DpZ,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAaixB,GAC1Drb,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAasvB,GAC1DrD,GAAmBrW,EAAQ/D,EAC/B,EA6DIwd,GAAiB,SAAU5uB,EAAO5hB,GAClC,KAAM,EAAG6jC,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,UAA0B,UAAdvmB,EAAM56C,KAAkC,WAAd46C,EAAM56C,IAMhG,OALIg5B,IACA,EAAGogB,EAAiCgC,IAAIpiB,GAE5C4hB,EAAMwP,iBACNxP,EAAMz7C,mBACC,CAEf,EAKI4sE,GAAmB,SAAUhc,GACF,YAAvBA,EAAOK,YACP6V,GAAwBlW,GAEI,OAAvBA,EAAOK,aACZmU,EAAmBxU,EAE3B,EAKIic,GAAgB,SAAUjc,EAAQkc,EAAI/4C,QACtB,IAAZA,IAAsBA,EAAU,CAChC0tC,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEjB,IAAI9H,EAAgBjJ,EAAOwL,QAAQxkB,QACnCiiB,EAActe,UAAYqV,EAAOlR,KAAKqtB,aAAaD,GACnDjT,EAAcjhB,iBAAiB,6CAA6C7pC,SAAQ,SAAU2rC,GAC1FukB,EAAkBvkB,EAAMkW,GACxBlW,EAAKmgB,uBAAuB7d,aAAa,QAAS,eACtD,IACA0oB,EAAiB9U,EAAQ78B,EAC7B,EAYIi5C,GAAY,SAAUnzC,EAAO+2B,EAAQqc,GAQrC,IAPA,IAAIr1B,EAAU/d,EAAMy+B,eAAe3c,cAC/BuxB,GAAO,EACPC,EAAc,GACdC,EAAiB,GACjBC,EA3/CW,SAAUxzC,GACzB,IAAIyzC,EAAenH,GAAgBtsC,EAAMy+B,gBACrCiV,EAAWrH,EAAYrsC,EAAMy+B,gBAC7BxwB,EAAOjO,EAAMy+B,eAAerT,YAC5B/4C,EAAS2tB,EAAMm/B,YACfwU,EAAa,GACbC,EAAY,GAOhB,OAN+B,KAA3B3lC,EAAKqa,OAAO,EAAGj2C,IAAkB47B,EAAKqa,OAAO,EAAGj2C,KAAY0tC,EAA8BhxC,EAAE46C,MAAQ8pB,KACpGE,EAAa,GAAGzyC,OAAOuyC,GAAcvyC,OAAO+M,EAAKqa,OAAO,EAAGj2C,MAEnC,KAAxB47B,EAAKqa,OAAOj2C,IAAkB47B,EAAKqa,OAAOj2C,KAAY0tC,EAA8BhxC,EAAE46C,MAAQ+pB,KAC9FE,EAAY,GAAG1yC,OAAO+M,EAAKqa,OAAOj2C,IAAS6uB,OAAOwyC,IAE/C,CACHE,UAAWA,EACXD,WAAYA,EAEpB,CA0+CoBE,CAAa7zC,GACzB8zC,EAAiBN,EAAUG,WAC3BI,EAAgBP,EAAUI,UACvB71B,IAAYs1B,GAAM,CACrB,IAAIniB,EAAUnT,EAAQmT,QAUtB,GATgB,WAAZA,IACAA,EAAU,KAEE,MAAZA,IACAA,EAAU,MAEE,MAAZA,IACAA,EAAU,UAEE,MAAZA,GAA+B,WAAZA,GAAoC,OAAZA,EAAkB,CAC7D,IAAIoQ,EAAa,GACbmS,EAAe,GACfC,EAAW,GAC0C,MAArD31B,EAAQ+D,cAAcxD,aAAa,gBACnCm1B,EAAenH,GAAgBvuB,GAC/B21B,EAAWrH,EAAYtuB,KAEvB+1B,GAAkBL,KAElBK,EADAxS,EAAa,GAAGpgC,OAAOuyC,EAAc,KAAKvyC,OAAOgwB,EAAS,KAAKhwB,OAAO4yC,EAAgB,MAAM5yC,OAAOgwB,EAAS,OAG3F,SAAhBkiB,GAAsC,WAAZliB,GACV,WAAhBkiB,GAAwC,OAAZliB,GACZ,kBAAhBkiB,GAA+C,MAAZliB,KAEpCoQ,GAAc,GAAGpgC,OAAOoyC,GAAapyC,OAAO6e,EAA8BhxC,EAAE46C,KAAM,SAASzoB,OAAOqyC,GAClGF,GAAO,IAEPU,GAAiBL,KAEjBpS,GADAyS,EAAgB,IAAI7yC,OAAOgwB,EAAS,KAAKhwB,OAAO6yC,EAAe,MAAM7yC,OAAOgwB,EAAS,KAAKhwB,OAAOwyC,IAG5C,MAArD31B,EAAQ+D,cAAcxD,aAAa,eACnCP,EAAUA,EAAQ+D,eACVJ,UAAY4f,GAGpBvjB,EAAQoQ,UAAYmT,EACpBvjB,EAAUA,EAAQ+D,eAEtBwxB,EAAc,IAAIpyC,OAAOgwB,EAAS,KAAOoiB,EACzCC,EAAiB,KAAKryC,OAAOgwB,EAAS,KAAOqiB,CACjD,MAEIF,GAAO,CAEf,EACA,EAAGjzB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,EAChE,EAsRIg0C,GACA,SAAkBjd,EAAQkd,GACtB,IAAIv0E,EACAkjE,EAAQrmD,KACZA,KAAKwhC,QAAUC,SAASI,cAAc,OAClC61B,EAASt1E,YACRe,EAAK6c,KAAKwhC,QAAQ0D,WAAW/jC,IAAI9M,MAAMlR,EAAIu0E,EAASt1E,UAAUsX,MAAM,MAEzE,IAAIkmD,EAAS8X,EAAS9X,OAAS,KAAKj7B,QAAO,EAAG2iC,EAAmCoL,IAAIgF,EAAS9X,QAAS,KAAO,GACvF,IAAnB8X,EAASjP,QACT7I,EAAS8X,EAAS9X,OAAS,QAAQj7B,QAAO,EAAG2iC,EAAmCoL,IAAIgF,EAAS9X,QAAS,QAAU,IAEpH,IAAI+X,EAAMD,EAASC,IAAMD,EAASC,IAAM/X,EAAS,GAAGj7B,OAAO0d,OAAOiJ,WAAWosB,EAASxtD,OAAOya,OAAOi7B,GAChGjL,EAA4B,WAAlB+iB,EAASxtD,KAAoB,MAAQ,SACnD,GAAuB,IAAnBwtD,EAASjP,MACTzoD,KAAKwhC,QAAQ2D,UAAY,IAAIxgB,OAAOgwB,EAAS,gBAAiBhwB,OAAO+yC,EAASxtD,KAAM,MAAOya,OAAOgzC,EAAK,MAAMhzC,OAAOgwB,EAAS,SAE5H,CACD30C,KAAKwhC,QAAQ0D,UAAU/jC,IAAI,wBAC3B,IAAIy2D,EAAcn2B,SAASI,cAAc8S,GACzCijB,EAAYhxB,aAAa,YAAa8wB,EAASxtD,MAC/C0tD,EAAYx1E,UAAY,wCAAwCuiC,OAAO+yC,EAASG,aAChFD,EAAYhxB,aAAa,aAAc+wB,GACvCC,EAAYzyB,UAAYuyB,EAASx5E,KACjC8hB,KAAKwhC,QAAQwS,YAAY4jB,EAC7B,CACKF,EAASzoC,QAGdjvB,KAAKwhC,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC1FA,EAAMwP,iBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,uBAG3E,YAAvBiN,EAAOK,YAvTJ,SAAUL,EAAQgO,EAAWnjB,GAC5C,KAAImV,EAAOwL,QAAQwJ,eACZnqB,aAAiByyB,aADxB,CAKA,IAAIC,GAAe,EACfC,GAAY,EACZxd,EAAOwL,QAAQxkB,QAAQW,cAAc,QACrCqY,EAAOwL,QAAQxkB,QAAQW,cAAc,OAAOpb,SAEhD,IAAItD,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7Cqc,EAAcrO,EAAUzmB,aAAa,aAEzC,GAAIymB,EAAUtjB,UAAUI,SAAS,wBAI7B,GAHoB,WAAhBuxB,IACAA,EAAc,iBAEE,UAAhBA,EAAyB,CACzB,IAAIoB,GAAe,EAAGt0B,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,cAChF+V,IACDA,EAAex0C,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,cAErDqV,IACAF,GAAe,EACfvP,EAAUtjB,UAAUne,OAAO,wBAC3BtD,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCo2B,EAAarmB,UAA8C,KAAlCqmB,EAAa9yB,UAAU7W,OAC5C,qBAAuB3J,OAAOszC,EAAa9yB,UAAW,QAAU8yB,EAAa9yB,WACjF,EAAGtB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAEpE,MACK,GAAoB,gBAAhBozC,EAA+B,CACpC,IAAIqB,GAAoB,EAAGv0B,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,QACrFgW,IACDA,EAAoBz0C,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,cAE1DsV,IACAA,EAAkBtmB,UAAYsmB,EAAkB/yB,UAAU1tC,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,IAAM,SAC9G,EAAGvJ,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAEpE,KACyB,SAAhBozC,EACApzC,EAAM4oC,WAIP5oC,EAAMo/B,WAAWp/B,EAAMy+B,eAAe3c,eACtC9D,SAAS0jB,YAAY,UAAU,EAAO,KAJtC1jB,SAAS0jB,YAAY,UAAU,EAAO,IAOrB,UAAhB0R,GAA2C,SAAhBA,GAA0C,iBAAhBA,GAC1DsB,GAAW3d,EAAQ/2B,EAAOozC,IAC1B,EAAGhzB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5Ds0C,GAAe,EACfvP,EAAUtjB,UAAUne,OAAO,0BAI3BgxC,GAAe,EACfvP,EAAUtjB,UAAUne,OAAO,wBACF,KAArBtD,EAAM5oB,WACN+7D,GAAUnzC,EAAO+2B,EAAQqc,GAGzBp1B,SAAS0jB,YAAY0R,GAAa,EAAO,SAIhD,CAEgD,IAA7Crc,EAAOwL,QAAQxkB,QAAQyS,WAAWrzD,SAClC45D,EAAOwL,QAAQxkB,QAAQ2D,UAAY,+BACnC,EAAGtB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,IAEhE,IAAI69B,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAChE,GAAoB,UAAhB2U,GAIA,GAHKvV,IACDA,EAAe79B,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,cAErDtB,EAAc,CACdyW,GAAe,EACfvP,EAAUtjB,UAAU/jC,IAAI,wBACxBsiB,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC,IAAIwtB,GAAY,EAAG1rB,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,MAE9EmN,GAAa/N,EAAahc,SAAS+pB,GACnCA,EAAUlqB,UAAY,8BAAgCxgB,OAAO0qC,EAAUlqB,UAAW,iBAGlFmc,EAAa1P,UAAY,8BAAgCjtB,OAAO28B,EAAa1P,UAAW,kBAE5F,EAAG/N,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,EAChE,OAEC,GAAoB,UAAhBozC,GAA2C,SAAhBA,GAA0C,iBAAhBA,EAC1DsB,GAAW3d,EAAQ/2B,EAAOozC,GAAa,IACvC,EAAGhzB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5Ds0C,GAAe,EACfxQ,EAAqB/M,EAAOmB,QAAQuM,SAAU,CAAC,QAAS,OAAQ,iBAChEM,EAAUtjB,UAAU/jC,IAAI,6BAEvB,GAAoB,gBAAhB01D,EAA+B,CACpC,GAAyB,KAArBpzC,EAAM5oB,YACFi7C,EAAOrU,SAASI,cAAc,SAC7BgN,YAAcrL,EAA8BhxC,EAAE46C,KACnD3pB,EAAMohC,WAAW/O,GACjBryB,EAAM2+B,SAAStM,EAAK3C,WAAY,GAChC1vB,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,QAEvC,GAAsC,IAAlCA,EAAMy+B,eAAenvD,SAAgB,CAC1C,IAAI+iD,EAAOrU,SAASI,cAAc,QAClCpe,EAAM20C,iBAAiBtiB,GACvBryB,EAAMohC,WAAW/O,IACjB,EAAGjS,EAAiCgC,IAAIpiB,EAC5C,CACA+kC,EAAUtjB,UAAU/jC,IAAI,uBAC5B,MACK,GAAoB,SAAhB01D,GACD/gB,EAAOrU,SAASI,cAAc,QAC7Bz/C,UAAY,wBACjB0zD,EAAKlP,aAAa,YAAa,cAC/BkP,EAAKlP,aAAa,aAAc,KAChCkP,EAAKlP,aAAa,cAAe,OACR,KAArBnjB,EAAM5oB,WACNi7C,EAAK3Q,UAAY,mCAGjB2Q,EAAK3Q,UAAY,cAAcxgB,OAAOlB,EAAM5oB,WAAY,sBACxD4oB,EAAM40C,kBAEV50C,EAAMohC,WAAW/O,GACbwL,IACAA,EAAa1P,UAAY4I,EAAOlR,KAAK0R,cAAcsG,EAAa1P,aAEpE,EAAG/N,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5D+2B,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,6CAA6C7pC,SAAQ,SAAU2rC,GACnGukB,EAAkBvkB,EAAMkW,EAC5B,IACAgO,EAAUtjB,UAAU/jC,IAAI,8BAEvB,GAAoB,SAAhB01D,EAAwB,CAC7B,GAAyB,KAArBpzC,EAAM5oB,WAAmB,CACzB,IAAI47C,EAAWhV,SAASI,cAAc,KACtC4U,EAASvH,UAAY1L,EAA8BhxC,EAAE46C,KACrD3pB,EAAMohC,WAAWpO,GACjBhzB,EAAM2+B,SAAS3L,EAAStD,WAAY,GACpC1vB,EAAM4+B,UAAS,GACfiT,GAAY9a,EAAQ/D,EAAUhzB,GAC9B,IAAI60C,EAAmB9d,EAAOwL,QAAQqC,QAAQlmB,cAAc,SAC5Dm2B,EAAiBz0E,MAAQ,GACzBy0E,EAAiBvyB,QACjBiyB,GAAY,CAChB,KACK,EACGliB,EAAOrU,SAASI,cAAc,MAC7B+E,aAAa,OAAQ,IAC1BkP,EAAK3Q,UAAY1hB,EAAM5oB,WACvB4oB,EAAM20C,iBAAiBtiB,GACvBryB,EAAMohC,WAAW/O,IACjB,EAAGjS,EAAiCgC,IAAIpiB,GACxC6xC,GAAY9a,EAAQ1E,EAAMryB,GAC1B,IAAI80C,EAAoB/d,EAAOwL,QAAQqC,QAAQ7lB,iBAAiB,SAChE+1B,EAAkB,GAAG10E,MAAQiyD,EAAK5G,UAClCqpB,EAAkB,GAAGxyB,OACzB,CACAgyB,GAAe,EACfvP,EAAUtjB,UAAU/jC,IAAI,uBAC5B,MACK,GAAoB,UAAhB01D,EAAyB,CAC9B,IAAI2B,EAAc,kMAClB,GAAgC,KAA5B/0C,EAAM5oB,WAAWyzB,OACbgzB,GAAoG,KAApFA,EAAanc,UAAU7W,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,IAC5FkU,EAAa1P,UAAY4mB,EAGzB/2B,SAAS0jB,YAAY,cAAc,EAAOqT,GAE9C/0C,EAAMo/B,WAAWrI,EAAOwL,QAAQxkB,QAAQW,cAAc,OAAOwiB,iBAC7DnK,EAAOwL,QAAQxkB,QAAQW,cAAc,OAAOpb,UAC5C,EAAG8c,EAAiCgC,IAAIpiB,OAEvC,CACD+0C,EAAc,oCACd,IAAIC,EAAYh1C,EAAM5oB,WAAWnB,MAAM,MACnCg/D,EAAcD,EAAU,GAAG/+D,MAAM,KAAK9Y,OAAS63E,EAAU,GAAG/+D,MAAM,MAAM9Y,OAAS,IAAM,KAC3F63E,EAAU9/D,SAAQ,SAAU24D,EAAMx8D,GAChB,IAAVA,GACAw8D,EAAK53D,MAAMg/D,GAAa//D,SAAQ,SAAUggE,EAAQC,GAE1CJ,GAAe,OAAO7zC,OAAOg0C,EADhB,IAAbC,EACqC,aAGA,QAE7C,IACAJ,GAAe,kBAIXA,GADU,IAAV1jE,EACe,cAGA,OAEnBw8D,EAAK53D,MAAMg/D,GAAa//D,SAAQ,SAAUkgE,GACtCL,GAAe,OAAO7zC,OAAOk0C,EAAM,QACvC,IACAL,GAAe,QAEvB,IACAA,GAAe,mBACf/2B,SAAS0jB,YAAY,cAAc,EAAOqT,IAC1C,EAAG30B,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,EAChE,CACAs0C,GAAe,EACfvP,EAAUtjB,UAAU/jC,IAAI,wBAC5B,MACK,GAAoB,SAAhB01D,GACL,GAAIvV,EAAc,CACd,IAAIwX,EAAS,mDACyB,KAAlCxX,EAAanc,UAAU7W,OACvBgzB,EAAa1P,UAAYknB,EAGzBxX,EAAa3Q,mBAAmB,WAAYmoB,IAEhD,EAAGj1B,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,EAChE,OASA,GALAs0C,GAAe,EACfvP,EAAUtjB,UAAU/jC,IAAI,wBACJ,WAAhB01D,IACAA,EAAc,iBAEO,KAArBpzC,EAAM5oB,YAAsC,SAAhBg8D,GAA0C,WAAhBA,GAA4C,kBAAhBA,EAoBlFp1B,SAAS0jB,YAAY0R,GAAa,EAAO,QApB2E,CACpH,IAAIliB,EAAU,SACM,WAAhBkiB,EACAliB,EAAU,KAEW,kBAAhBkiB,IACLliB,EAAU,MAEVmB,EAAOrU,SAASI,cAAc8S,IAC7B9F,YAAcrL,EAA8BhxC,EAAE46C,KACnD3pB,EAAMohC,WAAW/O,GACbA,EAAK6O,iBAAmB7O,EAAK6O,gBAAgB9V,cAAgBrL,EAA8BhxC,EAAE46C,OAE7F0I,EAAK6O,gBAAgB9V,YAAc,IAEvCprB,EAAM2+B,SAAStM,EAAK3C,WAAY,GAChC1vB,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,EAC5C,CAKR,CACIs0C,GACArH,GAAwBlW,GAExBwd,GACA1I,EAAiB9U,EArQrB,CAuQJ,CA4CgBue,CAAave,EAAQ6L,EAAM7kB,QAAQl+C,SAAS,GAAI+hD,GAEpB,OAAvBmV,EAAOK,YACZme,GAAuBxe,EAAQ6L,EAAM7kB,QAAQl+C,SAAS,GAAIo0E,EAASzoC,QAAU,GAAIyoC,EAASz5B,QAAU,IAGpGg7B,GAAeze,EAAQ6L,EAAM7kB,QAAQl+C,SAAS,GAAIo0E,EAASzoC,QAAU,GAAIyoC,EAASz5B,QAAU,IAEpG,GACJ,EAMAi7B,IACI1K,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,GAgBAC,GAAc,SAAU/e,EAAQlwD,EAAM+6C,GACtC,IAAIm0B,EASJ,GARqB,iBAAVn0B,GACP0iB,EAAUvN,EAAQ,CAAC,aAAc,SACjCnV,EAAMwP,iBACN2kB,EAAe3T,EAAYrL,IAG3Bgf,EAAen0B,EAEfmV,EAAOK,cAAgBvwD,GAAyB,iBAAV+6C,EAA1C,CAeA,GAZImV,EAAO8L,UACP9L,EAAO8L,SAASF,aAAa5L,GAEG,SAAhCA,EAAO78B,QAAQsvB,QAAQvE,MAA4B,OAATp+C,EAC1CkwD,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,QAGvCu7D,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,OAE3C0oE,EAAcnN,EAAOmB,QAAQuM,SAAU1kB,EAAuChxC,EAAEg7C,eAChF+Z,EAAqB/M,EAAOmB,QAAQuM,SAAU1kB,EAAuChxC,EAAEg7C,eACvFoa,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,WACvC,OAAT59D,EACAu9D,EAAYrN,EAAOmB,QAAQuM,SAAU,CAAC,SACtCJ,EAAYtN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,SAAU,UAAW,gBAAiB,iBACvF1N,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,OAClCu7D,EAAOwL,QAAQxkB,QAAQ+D,cAAcxiD,MAAM9D,QAAU,OACrDu7D,EAAO0L,GAAG1kB,QAAQ+D,cAAcxiD,MAAM9D,QAAU,QAChDu7D,EAAOlR,KAAKmwB,aAAY,GACxBjf,EAAOlR,KAAKowB,kBAAiB,GAC7Blf,EAAOlR,KAAKqwB,aAAY,GACxBnf,EAAOK,YAAc,KACrBL,EAAO0L,GAAG1kB,QAAQ2D,UAAYqV,EAAOlR,KAAKswB,eAAeJ,GACzDpO,GAA2B5Q,EAAQ,CAC/B6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEjBsC,EAAWrT,GACXA,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,wCAAwC7pC,SAAQ,SAAU2rC,GACzFukB,EAAkBvkB,EAAMkW,EAC5B,IACAA,EAAO0L,GAAG1kB,QAAQgB,iBAAiB,eAAe7pC,SAAQ,SAAU2rC,IAChE,EAAGrB,EAA2BwI,GAAGnH,EAAM,CACnC0D,IAAKwS,EAAO78B,QAAQqqB,IACpBQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,MAErC,SAEC,GAAa,YAATl+C,EACLu9D,EAAYrN,EAAOmB,QAAQuM,SAAU,CAAC,SACtCJ,EAAYtN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,SAAU,UAAW,gBAAiB,iBACvF1N,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,OAClCu7D,EAAOwL,QAAQxkB,QAAQ+D,cAAcxiD,MAAM9D,QAAU,QACrDu7D,EAAO0L,GAAG1kB,QAAQ+D,cAAcxiD,MAAM9D,QAAU,OAChDu7D,EAAOlR,KAAKmwB,aAAY,GACxBjf,EAAOlR,KAAKowB,kBAAiB,GAC7Blf,EAAOlR,KAAKqwB,aAAY,GACxBnf,EAAOK,YAAc,UACrBgT,EAAWrT,GACXic,GAAcjc,EAAQgf,EAAc,CAChCnO,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEjB/Q,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,eAAe7pC,SAAQ,SAAU2rC,IACrE,EAAGrB,EAA2BwI,GAAGnH,EAAM,CACnC0D,IAAKwS,EAAO78B,QAAQqqB,IACpBQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,MAErC,IACAgS,EAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,YAEtC,GAAa,OAATqL,EAAe,CACpBw9D,EAAYtN,EAAOmB,QAAQuM,SAAU,CAAC,SACtCL,EAAYrN,EAAOmB,QAAQuM,SAAU,CAAC,UAAW,SAAU,UAAW,gBAAiB,iBACvF1N,EAAOwL,QAAQxkB,QAAQ+D,cAAcxiD,MAAM9D,QAAU,OACrDu7D,EAAO0L,GAAG1kB,QAAQ+D,cAAcxiD,MAAM9D,QAAU,QACZ,SAAhCu7D,EAAO78B,QAAQsvB,QAAQvE,MAGc,WAAhC8R,EAAO78B,QAAQsvB,QAAQvE,QAF5B8R,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,SAKtCu7D,EAAOlR,KAAKmwB,aAAY,GACxBjf,EAAOlR,KAAKowB,kBAAiB,GAC7Blf,EAAOlR,KAAKqwB,aAAY,GACxBnf,EAAOK,YAAc,KACrB,IAAIgf,EAASnM,GAAuB8L,EAAchf,GACnC,+BAAXqf,IAEAA,EAAS,IAEbrf,EAAOsL,GAAGtkB,QAAQ2D,UAAY00B,EAC9BjN,EAAgBpS,EAAOsL,GAAGtkB,SAC1ByrB,GAAmBzS,EAAQ,CACvB6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEjBsC,EAAWrT,EACf,CACAA,EAAOmV,KAAKmK,UAAUtf,GACD,iBAAVnV,IAEPmV,EAAOA,EAAOK,aAAarZ,QAAQuE,QACnCywB,GAAiBhc,IAErByO,EAAUzO,GACV0T,EAAsB1T,GAClBA,EAAOmB,QAAQuM,SAAS,eACxB1N,EAAOmB,QAAQuM,SAAS,aAAa1lB,iBAAiB,UAAU7pC,SAAQ,SAAU2rC,GAC9EA,EAAKY,UAAUne,OAAO,uBAC1B,IACAyzB,EAAOmB,QAAQuM,SAAS,aAAa/lB,cAAc,qBAAsBxd,OAAO61B,EAAOK,YAAa,OAAQ3V,UAAU/jC,IAAI,yBAE9Hq5C,EAAO0O,QAAQ6Q,OAAOvf,EAA+B,OAAvBA,EAAOK,aAAwBL,EAAO78B,QAAQurC,QAAQtgB,OAAyB,iBAAVvD,EA3GnG,CA4GJ,EACI20B,GAA0B,SAAUC,GAEpC,SAASD,EAASxf,EAAQkd,GACtB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/CuoD,EAAe9mB,SAASI,cAAc,OAK1C,OAJA0mB,EAAanmE,UAAY,cAAcuiC,OAA0B,IAAnB+yC,EAASjP,MAAc,GAAK,wBAC1EF,EAAapjB,UAAY,+BAAiCxgB,OAAO0d,OAAOiJ,WAAW0a,QAAS,SAASrhC,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,uCAAyC/tC,OAAO0d,OAAOiJ,WAAW4uB,iBAAkB,SAASv1C,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,uCAAyC/tC,OAAO0d,OAAOiJ,WAAW6uB,UAAW,SAASx1C,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,cACncrM,EAAM7kB,QAAQwS,YAAYuU,GAC1BlC,EAAM+T,WAAW5f,EAAQ+N,EAAcmP,GAChCrR,CACX,CAuBA,OAhCA6S,GAAUc,EAAUC,GAUpBD,EAAS15E,UAAU85E,WAAa,SAAU5f,EAAQ+N,EAAcmP,GAC5D,IAAIlP,EAAYxoD,KAAKwhC,QAAQl+C,SAAS,GACtCglE,EAAc9N,EAAQ+N,EAAcC,EAAWkP,EAASjP,OACxDF,EAAajlE,SAASghD,KAAK,GAAGtC,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAE/Fk0B,GAAY/e,EAAQ,UAAWnV,GAC/BA,EAAMwP,iBACNxP,EAAMz7C,iBACV,IACA2+D,EAAajlE,SAASghD,KAAK,GAAGtC,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAE/Fk0B,GAAY/e,EAAQ,KAAMnV,GAC1BA,EAAMwP,iBACNxP,EAAMz7C,iBACV,IACA2+D,EAAajlE,SAASghD,KAAK,GAAGtC,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAE/Fk0B,GAAY/e,EAAQ,KAAMnV,GAC1BA,EAAMwP,iBACNxP,EAAMz7C,iBACV,GACJ,EACOowE,CACX,CAlC6B,CAkC3BvC,IAKE4C,GAAgB,SAAU9X,EAAQ9+B,GAClC,OAAI,EAAGogB,EAA8BqrB,IAAI3M,EAAQ9+B,GACtCuiB,eAAenrC,WAEnB,EACX,EAqBIy/D,GAAa,SAAU9f,EAAQiJ,GAC/BA,EAAczhB,iBAAiB,SAAS,WAChCwY,EAAO78B,QAAQooB,OACfyU,EAAO78B,QAAQooB,MAAM8f,EAAYrL,IAErCuN,EAAUvN,EAAQ,CAAC,aAAc,QACrC,GACJ,EACI+f,GAAgB,SAAU/f,EAAQiJ,GAClCA,EAAczhB,iBAAiB,YAAY,SAAUqD,GACpB,QAAzBA,EAAM9b,OAAOorB,UACT6F,EAAO78B,QAAQ68C,MAAMvtB,QACrBuN,EAAO78B,QAAQ68C,MAAMvtB,QAAQ5H,EAAM9b,QAE9BixB,EAAO78B,QAAQ68C,MAAMC,YAC1B,EAAG9tB,EAAgCI,GAAG1H,EAAM9b,OAAQixB,EAAO78B,QAAQomB,KAAMyW,EAAO78B,QAAQorB,OAGpG,GACJ,EACI2xB,GAAY,SAAUlgB,EAAQiJ,GAC9BA,EAAczhB,iBAAiB,QAAQ,SAAUqD,GAC7C,GAA2B,OAAvBmV,EAAOK,YAAsB,CAC7B,IAAI8f,EAAgBngB,EAAO0L,GAAG1kB,QAAQW,cAAc,4BAChDw4B,GACAA,EAAcz1B,UAAUne,OAAO,0BAEvC,KACgC,YAAvByzB,EAAOK,aACXL,EAAOwL,QAAQ4U,cAAct1B,SAASD,EAAMw1B,gBAC7CrgB,EAAOwL,QAAQ8U,cAEnBtgB,EAAOA,EAAOK,aAAap3B,OAAQ,EAAGogB,EAA8BsrB,IAAI3U,GACpEA,EAAO78B,QAAQo9C,MACfvgB,EAAO78B,QAAQo9C,KAAKlV,EAAYrL,GAExC,GACJ,EACIwgB,GAAY,SAAUxgB,EAAQiJ,GAC9BA,EAAczhB,iBAAiB,aAAa,SAAUqD,GAElDA,EAAM41B,aAAapjD,QAAQ2rB,EAAqChxC,EAAE66C,YAAa7J,EAAqChxC,EAAE66C,YAC1H,IACAoW,EAAczhB,iBAAiB,QAAQ,SAAUqD,GACzCA,EAAM41B,aAAa7lD,QAAQouB,EAAqChxC,EAAE66C,aAElEic,GAAgB9O,IAEXnV,EAAM41B,aAAa3nE,MAAM0S,SAAS,UAAYq/B,EAAM41B,aAAa3nE,MAAM0S,SAAS,eAErFk1D,GAAM1gB,EAAQnV,EAAO,CACjB81B,UAAW,SAAUlqB,GACjBxP,SAAS0jB,YAAY,cAAc,EAAOlU,EAC9C,GAGZ,GACJ,EACImqB,GAAY,SAAU5gB,EAAQiJ,EAAetxC,GAC7CsxC,EAAczhB,iBAAiB,QAAQ,SAAUqD,GAAS,OAAOlzB,EAAKkzB,EAAOmV,EAAS,GAC1F,EACI6gB,GAAW,SAAU7gB,EAAQiJ,EAAetxC,GAC5CsxC,EAAczhB,iBAAiB,OAAO,SAAUqD,GAC5ClzB,EAAKkzB,EAAOmV,GAERA,EAAO78B,QAAQ29C,QAAQ1yB,QAAiC,YAAvB4R,EAAOK,aACxCL,EAAOwL,QAAQuV,YAAY/gB,GAE/B/Y,SAAS0jB,YAAY,SACzB,GACJ,EACIwI,GAAe,SAAUnT,GAIzB,GAH2B,YAAvBA,EAAOK,aAA6BL,EAAO78B,QAAQ29C,QAAQ1yB,QAC3D4R,EAAO78B,QAAQ29C,QAAQE,UAAUhhB,EAAOwL,QAAQuV,YAAY/gB,GAAQ,IAEnEA,EAAO78B,QAAQwwC,eAApB,CAGA,IAAI1K,EAAgBjJ,EAAOA,EAAOK,aAAarZ,QAC3Ci6B,GAAY,EAAG53B,EAAiC63B,IAAIjY,GAAend,IACzC,SAA1BkU,EAAO78B,QAAQ53B,QAAsBy0D,EAAOhZ,QAAQ0D,UAAUI,SAAS,uBACvEjD,OAAOoK,SAASpK,OAAOqK,QAAS+uB,EAAYjhB,EAAOhZ,QAAQwK,UAAYwO,EAAOmB,QAAQna,QAAQoa,aAAevZ,OAAOC,YAAc,EAAI,KAE5G,SAA1BkY,EAAO78B,QAAQ53B,QAAqBy0D,EAAOhZ,QAAQ0D,UAAUI,SAAS,yBACtEme,EAAcld,UAAYk1B,EAAYhY,EAAcld,UAAYkd,EAAc/F,aAAe,EAAI,GAPrG,CASJ,EACIie,GAAc,SAAUnhB,EAAQiJ,GAChCA,EAAczhB,iBAAiB,WAAW,SAAUqD,GAKhD,IAJKA,EAAM0uB,aAAevZ,EAAO78B,QAAQi+C,SACrCphB,EAAO78B,QAAQi+C,QAAQv2B,KAGtBmV,EAAO78B,QAAQyqC,KAAKt/B,OAAOloC,OAAS,GAAK45D,EAAOmB,QAAQuM,SAASC,SAClE3N,EAAO4N,KAAK4L,OAAO3uB,EAAOmV,GAD9B,CASA,GAJIA,EAAO78B,QAAQ29C,QAAQ1yB,QAAiC,YAAvB4R,EAAOK,cACzB,cAAdxV,EAAM56C,KAAuB+gE,EAAY,KAAMnmB,KAChDmV,EAAOwL,QAAQuV,YAAY/gB,GAEJ,OAAvBA,EAAOK,aACP,GA7tFwB,SAAUL,EAAQnV,GAClD,IAAIliD,EAAIC,EAAI6sD,EAAI4rB,EAAIC,EAEpB,GADAthB,EAAOsL,GAAG0J,cAAgBnqB,EAAM0uB,YAC5B1uB,EAAM0uB,YACN,OAAO,EAOX,IALoC,IAAhC1uB,EAAM56C,IAAIhK,QAAQ,UAAiC,SAAd4kD,EAAM56C,KAAgC,YAAd46C,EAAM56C,KAAmC,QAAd46C,EAAM56C,KAChF,UAAd46C,EAAM56C,KAAiC,aAAd46C,EAAM56C,KAAoC,WAAd46C,EAAM56C,KAAqB,aAAa+N,KAAK6sC,EAAM56C,MACxG+vD,EAAOmV,KAAKoM,oBAAoBvhB,EAAQnV,GAG1B,UAAdA,EAAM56C,KAAiC,QAAd46C,EAAM56C,KAA+B,cAAd46C,EAAM56C,MAAuD,IAAhC46C,EAAM56C,IAAIhK,QAAQ,YAC3F,EAAG6mE,EAA0BoE,IAAIrmB,IAAwB,WAAdA,EAAM56C,IACrD,OAAO,EAEX,IAAIg5B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C0H,EAAiBz+B,EAAMy+B,eACW,IAAlCz+B,EAAMy+B,eAAenvD,UAAmD,QAAjC0wB,EAAMy+B,eAAevN,UAC5DuN,EAAiBz+B,EAAMy+B,eAAejO,WAAWxwB,EAAMm/B,YAAc,IAEzE,IAAIoZ,GAAc,EAAGr4B,EAAsC0mB,IAAInI,EAAgB,YAAa,QAExF+Z,GAA0B,EAAGt4B,EAAsC0mB,IAAInI,EAAgB,YAAa,qBAMxG,IALK+Z,GAAiD,IAAtBx4C,EAAMm/B,aAAqBoZ,GAAeA,EAAYvX,wBACjB,sBAAjEuX,EAAYvX,uBAAuB1iB,aAAa,eAChDk6B,EAA0BD,EAAYvX,wBAGtCwX,GACkB,UAAd52B,EAAM56C,OAAoB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,QACV,KAAlEsQ,EAAwB5gB,mBAAmBxM,YAAYvgB,SACvD,EAAGuV,EAAiCwlB,IAAI4S,EAAyBzhB,EAAOsL,GAAGtkB,QAAS/d,GAAOzU,QACvFitD,EAAwBptB,YAAYjuD,OAQxC,MAPkI,aAAnE,QAAzDuC,EAAK84E,EAAwBxX,8BAA2C,IAAPthE,OAAgB,EAASA,EAAG4+C,aAAa,eAE5Gk6B,EAAwBxX,uBAAuB7d,aAAa,cAAe,gBAE/Eq1B,EAAwBl1C,SACxBkmC,GAAmBzS,GACnBnV,EAAMwP,kBACC,EAIf,IAAIqnB,GAAoB,EAAGv4B,EAAsC0mB,IAAInI,EAAgB,YAAa,aAC9Fia,GAAoB,EAAGx4B,EAAsC0mB,IAAInI,EAAgB,YAAa,eAC9Fka,EAAwBF,EAW5B,GAVKE,GACGD,GAAwF,gBAAnEA,EAAkB9gB,mBAAmBtZ,aAAa,eACvEq6B,EAAwBD,GAG3BC,GAA+C,IAAtB34C,EAAMm/B,cAAqBoZ,IAAeA,EAAYvX,wBACd,cAAjEuX,EAAYvX,uBAAuB1iB,aAAa,cACoB,gBAAjEi6B,EAAYvX,uBAAuB1iB,aAAa,eACpDq6B,EAAwBJ,EAAYvX,wBAEpC2X,EAAuB,CACvB,IAAIC,GAAa,EAAGx4B,EAAiCwlB,IAAI+S,EAAuB5hB,EAAOsL,GAAGtkB,QAAS/d,GAAOzU,MACtGstD,EAA6D,gBAApDF,EAAsBr6B,aAAa,aAC5Cw6B,EAAyBH,EAK7B,GAJIE,IACAC,EAAyBH,EAAsB3X,uBAAuBA,uBACjEA,wBAEL4X,IAAeD,EAAsBvtB,YAAYjuD,OAAQ,CAEzD,GAAkB,UAAdykD,EAAM56C,OAAoB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,SAAWtmB,EAAMumB,UAC7B,KAAhEwQ,EAAsB/gB,mBAAmBxM,YAAYvgB,OAgBrD,MAfiI,aAAnE,QAAxDlrC,EAAKm5E,EAAuB9X,8BAA2C,IAAPrhE,OAAgB,EAASA,EAAG2+C,aAAa,eAC3Gw6B,EAAuB9X,uBAAuB19B,SAC9CimC,EAAWxS,KAGP8hB,IACAC,EAAuBx1C,SACvBq1C,EAAsB3X,uBAAuBA,uBAAuB19B,SACpEq1C,EAAsB3X,uBAAuB19B,UAEjDq1C,EAAsB/gB,mBAAmBt0B,SACzCq1C,EAAsBr1C,SACtBkmC,GAAmBzS,IAEvBnV,EAAMwP,kBACC,EAGX,GAAkB,QAAdxP,EAAM56C,IAgBN,OAfI46C,EAAMumB,SAC0E,YAA5E2Q,EAAuB9X,uBAAuB1iB,aAAa,cAC3Dw6B,EAAuB9X,uBAAuB19B,SAIlDw1C,EAAuB5rB,mBAAmB,cAAe,6BAA+BhsB,OAAO43C,EAAuB1tB,YAAYp3C,QAAQ,MAAO,KAAM,YAEvJ,MAAMe,KAAK+jE,EAAuB1tB,eAClC0tB,EAAuB1tB,YAAc0tB,EAAuB1tB,YAAYp3C,QAAQ,UAAW,KAC3FgsB,EAAMkgC,mBAAmByY,EAAsBjpB,YAC/C1vB,EAAM4+B,UAAS,IAEnB2K,EAAWxS,GACXnV,EAAMwP,kBACC,CAEf,CACJ,CAEA,GAAI2nB,GAAOhiB,EAAQ/2B,EAAO4hB,GACtB,OAAO,EAEX,IAAIic,GAAe,EAAG3d,EAAsC0mB,IAAInI,EAAgB,aAAc,KAC1F7V,GAAc,EAAGsV,EAA0Cd,GAAGqB,EAAgB,QAElF,GAAkB,UAAd7c,EAAM56C,OAAoB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,SAAWtmB,EAAMumB,UAAYtK,EAAc,CACvH,IAAImb,GAAU,EACVC,EAAepb,EAAazS,YAAYr1C,MAAM,SAC9C,EAAGqqC,EAAiCwlB,IAAI/H,EAAc9G,EAAOsL,GAAGtkB,SAASxyB,QAAU0tD,EAAeA,EAAa,GAAG97E,OAAS,KAE3H67E,GAAU,GAEd,IAAIE,EAAc,KAClB,GAAItwB,EAAa,CACb,GAAwH,kBAArE,QAA7C4D,EAAK5D,EAAYoY,8BAA2C,IAAPxU,OAAgB,EAASA,EAAGlO,aAAa,gBAKhG,OAHAsK,EAAYoY,uBAAuB19B,SACnCkmC,GAAmBzS,GACnBnV,EAAMwP,kBACC,EAGP8nB,GAAeC,GAAuBvwB,EAE9C,CAUA,OATA5oB,EAAMohC,WAAWpjB,SAASqjB,eAAe6X,IACzCl5C,EAAM4+B,UAAS,GACXf,GAAoD,KAApCA,EAAazS,YAAYvgB,SAAkBmuC,EAC3DzP,EAAWxS,GAGXyS,GAAmBzS,GAEvBnV,EAAMwP,kBACC,CACX,CAEA,GAAkB,cAAdxP,EAAM56C,OAAwB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,SAAWtmB,EAAMumB,SAAU,CAC3G,GAAIvf,GAAiI,aAAnE,QAA7CwvB,EAAKxvB,EAAYoY,8BAA2C,IAAPoX,OAAgB,EAASA,EAAG95B,aAAa,eACtB,KAAzF,EAAG8B,EAAiCwlB,IAAIhd,EAAamO,EAAOsL,GAAGtkB,QAAS/d,GAAOzU,QAEb,IAAlEq9B,EAAYtK,aAAa,aAAathD,QAAQ,eAW9C,OATAgjC,EAAM2+B,SAAS/V,EAAa,GAC5B5oB,EAAMo5C,kBACiC,KAAnCxwB,EAAYwC,YAAYvgB,OACxB0+B,EAAWxS,GAGXyS,GAAmBzS,GAEvBnV,EAAMwP,kBACC,EAGX,GAAIyM,GAA0G,KAA1F,EAAGzd,EAAiCwlB,IAAI/H,EAAc9G,EAAOsL,GAAGtkB,QAAS/d,GAAOzU,OAChGsyC,EAAamD,uBAAwB,CACrChhC,EAAMo5C,kBACN,IAAIC,EAAsBxb,EAAamD,uBAAuBW,iBAsB9D,MArBsD,YAAlD0X,EAAoB/6B,aAAa,eACjC+6B,EAAoB/1C,SACpB+1C,EAAsBxb,EAAamD,uBAAuBW,kBAGR,YAAlD0X,EAAoB/6B,aAAa,eACjC+6B,EAAoBnsB,mBAAmB,WAAY2Q,EAAanc,WAChEmc,EAAav6B,UAEuB,KAApCu6B,EAAazS,YAAYvgB,SAAkE,QAA9CwtC,EAAKxa,EAAamD,8BAA2C,IAAPqX,OAAgB,EAASA,EAAG35B,cAAc,0CAIvF,YAAlD26B,EAAoB/6B,aAAa,eAEjCte,EAAMkgC,mBAAmBmZ,EAAoBrb,WAC7Ch+B,EAAM4+B,UAAS,IAEnB4K,GAAmBzS,IARnBwS,EAAWxS,GAUfnV,EAAMwP,kBACC,CACX,CACJ,CACA,OAAO,CACX,CA4hFgBkoB,CAA8BviB,EAAQnV,GACtC,YAGH,GAA2B,YAAvBmV,EAAOK,aACZ,GA/hEgC,SAAUL,EAAQnV,GAG1D,GADAmV,EAAOwL,QAAQwJ,cAAgBnqB,EAAM0uB,YACjC1uB,EAAM0uB,YACN,OAAO,GAGyB,IAAhC1uB,EAAM56C,IAAIhK,QAAQ,UAAiC,SAAd4kD,EAAM56C,KAAgC,YAAd46C,EAAM56C,KAAmC,QAAd46C,EAAM56C,KAChF,UAAd46C,EAAM56C,KAAiC,aAAd46C,EAAM56C,KAAoC,WAAd46C,EAAM56C,KAAqB,aAAa+N,KAAK6sC,EAAM56C,MACxG+vD,EAAOmV,KAAKoM,oBAAoBvhB,EAAQnV,GAE5C,IAAI5hB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C0H,EAAiBz+B,EAAMy+B,eAC3B,IAAK8a,GAAkB33B,EAAOmV,EAAQ0H,GAClC,OAAO,EAKX,GAHA+a,GAAex5C,EAAO+2B,EAAQnV,GAC9B63B,GAAMz5C,GAEY,UAAd4hB,EAAM56C,KAAiC,QAAd46C,EAAM56C,KAA+B,cAAd46C,EAAM56C,MAAuD,IAAhC46C,EAAM56C,IAAIhK,QAAQ,YAC3F,EAAG6mE,EAA0BoE,IAAIrmB,IAAwB,WAAdA,EAAM56C,KAAkC,WAAd46C,EAAM56C,IAC/E,OAAO,EAEX,IAAI62D,GAAe,EAAG3d,EAAgC0hB,IAAInD,GACtD+N,GAAW,EAAGtsB,EAAqC2I,IAAI4V,EAAgB,KAE3E,GAAIib,GAAY93B,EAAOmV,EAAQyV,EAAUxsC,GACrC,OAAO,EAGX,GAAI25C,GAAQ35C,EAAO+2B,EAAQyV,EAAU5qB,GACjC,OAAO,EAGX,GAAIg4B,GAAS7iB,EAAQnV,EAAO5hB,GACxB,OAAO,EAGX,IAAI65C,GAAoB,EAAG35B,EAAsC4I,IAAI2V,EAAgB,yBACrF,GAAIob,EAAmB,CAEnB,GAAkB,WAAdj4B,EAAM56C,KAA0D,IAAtC6yE,EAAkBh6E,SAAS1C,OAKrD,OAJA45D,EAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,OACvCq+E,EAAkBliB,kBAAkBr4D,MAAM9D,QAAU,OACpDu7D,EAAOwL,QAAQxkB,QAAQu5B,OACvB11B,EAAMwP,kBACC,EAGX,KAAK,EAAGyS,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,UAAYvmB,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,KACrC,eAAhD6yE,EAAkBv7B,aAAa,aAA+B,CAC9D,IAAIw7B,EAAgB/iB,EAAOwL,QAAQqC,QAAQlmB,cAAc,iBAIzD,OAHAo7B,EAAcx3B,QACdw3B,EAAcvJ,SACd3uB,EAAMwP,kBACC,CACX,CACA,GAAqD,MAAjDyoB,EAAkBv7B,aAAa,cAAuB,CACtD,GAAIy7B,GAAahjB,EAAQnV,EAAOi4B,EAAkBliB,kBAAmB33B,GACjE,OAAO,EAEX,GAAIgmC,GAAiBjP,EAAQnV,EAAO5hB,EAAO65C,EAAkBliB,kBAAmBkiB,GAC5E,OAAO,EAEX,GAAoD,sBAAhDA,EAAkBv7B,aAAa,cAC/BwnB,GAAkB/O,EAAQnV,EAAO5hB,EAAO65C,EAAkBliB,kBAAmBkiB,GAC7E,OAAO,CAEf,CACJ,CAEA,GAAIG,GAAcjjB,EAAQ/2B,EAAO4hB,EAAO4qB,GACpC,OAAO,EAGX,IAAIyN,GAAe,EAAG/5B,EAAmCg6B,IAAIzb,EAAgB,cAC7E,GAAIwb,IACKr4B,EAAMumB,UAAYvmB,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,IAAiB,EACrD,EAAG68D,EAA0BoE,IAAIrmB,GAMlC5hB,EAAM0gC,eAAeuZ,GAJrBj6C,EAAM2gC,cAAcsZ,IAMxB,EAAG75B,EAAiCgC,IAAIpiB,GACxC,IAAIqyB,EAAOrU,SAASI,cAAc,KASlC,OARAiU,EAAKlP,aAAa,aAAc,KAChCkP,EAAK3Q,UAAY,KACjB1hB,EAAMohC,WAAW/O,GACjBryB,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACxC6rC,EAAiB9U,GACjBmT,GAAanT,GACbnV,EAAMwP,kBACC,CACX,CAGJ,IA0EQ4S,EA1EJjb,GAAiB,EAAGmV,EAA+CnI,GAAG0I,GAC1E,GAAI1V,EAAgB,CAChB,GAA+B,OAA3BA,EAAemI,SAAoBuN,EAAerT,YAAYjuD,SAAW6iC,EAAMm/B,eAC9E,EAAG0E,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,IAAiB,CAEvG,IAAImzE,EAAen8B,SAASI,cAAc,KAS1C,OARA+7B,EAAa/uB,YAAc,KAC3B+uB,EAAah3B,aAAa,aAAc,KACxCsb,EAAe3c,cAAcX,sBAAsB,WAAYg5B,GAC/Dn6C,EAAM2+B,SAASwb,EAAc,IAC7B,EAAG/5B,EAAiCgC,IAAIpiB,GACxC6rC,EAAiB9U,GACjBmT,GAAanT,GACbnV,EAAMwP,kBACC,CACX,CAGI,IAUI//C,EAXR,GAAI02D,EAAY,KAAMnmB,GAOlB,OANIvwC,EAAQxC,SAASk6C,EAAemI,QAAQ5I,OAAO,GAAI,IAAM,GACjD,IACRqkB,GAAW5V,EAAQ,IAAI71B,OAAO7vB,IAC9Bw6D,EAAiB9U,IAErBnV,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,KAAMnmB,GAOlB,OANIvwC,EAAQxC,SAASk6C,EAAemI,QAAQ5I,OAAO,GAAI,IAAM,GACjD,IACRqkB,GAAW5V,EAAQ,IAAI71B,OAAO7vB,IAC9Bw6D,EAAiB9U,IAErBnV,EAAMwP,kBACC,EAEO,cAAdxP,EAAM56C,MAAwB,EAAG68D,EAA0BoE,IAAIrmB,IAAWA,EAAMumB,UAAavmB,EAAMsmB,QAC1D,IAAtCnf,EAAeqC,YAAYjuD,QAE9ByvE,GAAc7V,EAEtB,CAEA,GAAIqjB,GAAQrjB,EAAQ/2B,EAAO4hB,GACvB,OAAO,EAGX,GAAIA,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,OAAoB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,SAAU,CAEtG,IAAInV,GAAW,EAAG9S,EAAqC2I,IAAI4V,EAAgB,KACvE4b,GAAgB,EAAGn6B,EAAsC0mB,IAAInI,EAAgB,YAAa,YAC1F6I,GAAqB,EAAGpnB,EAAsC0mB,IAAInI,EAAgB,YAAa,iBACnG,GAAIzL,GAAYqnB,GAAiB/S,GAC5Bve,GAAoD,IAAlCA,EAAemI,QAAQ/zD,OAAe,CACzD,IAAIm9E,EAAevjB,EAAOwL,QAAQqC,QAAQlmB,cAAc,SACxD47B,EAAah4B,QACbg4B,EAAa/J,QACjB,CACJ,CAEA,GAAIxD,GAAmBhW,EAAQnV,GAC3B,OAAO,EAGX,GAAImmB,EAAY,MAAOnmB,KACfoiB,EAAcjN,EAAOwL,QAAQqC,QAAQlmB,cAAc,qBAInD,OAFAslB,EAAYgJ,QACZprB,EAAMwP,kBACC,EAIf,GAAI2W,EAAY,MAAOnmB,KACfoiB,EAAcjN,EAAOwL,QAAQqC,QAAQlmB,cAAc,uBAInD,OAFAslB,EAAYgJ,QACZprB,EAAMwP,kBACC,EAGf,GAAI2nB,GAAOhiB,EAAQ/2B,EAAO4hB,GACtB,OAAO,EAGX,KAAK,EAAGiiB,EAA0BoE,IAAIrmB,IAAUA,EAAMumB,WAAavmB,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,KAC5C,OAAzCy3D,EAAe3c,cAAcoP,SAA6D,MAAzCuN,EAAe3c,cAAcoP,QAa9E,MAZI,CAAC,SAAU,SAAU,IAAK,IAAK,KAAM,KAAK3uC,SAASk8C,EAAe3c,cAAcoP,SAEhFlxB,EAAMohC,WAAWpjB,SAASqjB,eAAe,KAAOthB,EAA8BhxC,EAAE46C,OAGhF3pB,EAAMohC,WAAWpjB,SAASqjB,eAAe,OAE7CrhC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACxC6rC,EAAiB9U,GACjBmT,GAAanT,GACbnV,EAAMwP,kBACC,EAGX,GAAkB,cAAdxP,EAAM56C,OAAwB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QAA+B,KAArBloC,EAAM5oB,WAAmB,CACtI,GAAImjE,GAAUxjB,EAAQ/2B,EAAO4hB,EAAO4qB,GAChC,OAAO,EAEX,GAAI3O,EAAc,CACd,GAAIA,EAAamD,wBACVnD,EAAamD,uBAAuBvf,UAAUI,SAAS,0BACY,MAAnEgc,EAAamD,uBAAuB1iB,aAAa,eAExB,OAAzBuf,EAAa3M,SAA6C,OAAzB2M,EAAa3M,QAAkB,CACnE,IAAIspB,GAAa,EAAGp6B,EAAiCwlB,IAAI/H,EAAc9G,EAAOwL,QAAQxkB,QAAS/d,GAAOzU,MACtG,GAAoB,IAAfivD,GAA0C,IAAtBx6C,EAAMm/B,aACX,IAAfqb,GAAoB3c,EAAapS,UAAUniB,WAAWyW,EAA8BhxC,EAAE46C,MASvF,OAPAkjB,GAAShP,EAAamD,uBAAuBW,iBAAkB5K,GAAQ,GACiB,KAApF8G,EAAanc,UAAU7W,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,MAE5EkU,EAAav6B,SACbuoC,EAAiB9U,IAErBnV,EAAMwP,kBACC,CAEf,CACA,IAAIqpB,EAAmBz6C,EAAMm/B,YAC7B,GAAyB,KAArBn/B,EAAM5oB,YAAiD,IAA5BqnD,EAAenvD,UACkB,OAA5DmvD,EAAerT,YAAYrmD,OAAO01E,EAAmB,IACrDhc,EAAerT,YAAYrmD,OAAO01E,EAAmB,KAAO16B,EAA8BhxC,EAAE46C,MACzF,CAAC,SAAU,SAAU,IAAK,IAAK,KAAM,KAAKpnC,SAASk8C,EAAe3c,cAAcoP,SAQnF,OANAuN,EAAerT,YAAcqT,EAAerT,YAAYjgB,UAAU,EAAGsvC,EAAmB,GACpF16B,EAA8BhxC,EAAE46C,KACpC3pB,EAAM2+B,SAASF,EAAgBgc,GAC/Bz6C,EAAM4+B,UAAS,GACfiN,EAAiB9U,GACjBnV,EAAMwP,kBACC,EAGPqN,EAAerT,cAAgBrL,EAA8BhxC,EAAE46C,MAA8B,IAAtB3pB,EAAMm/B,cACzEV,EAAeyC,iBA9blB,SAAUlhC,GAEvB,IADA,IAAI6oC,EAAW7oC,EAAMy+B,eAAegC,YAC7BoI,GAAqC,KAAzBA,EAASzd,aACxByd,EAAWA,EAASpI,YAExB,SAAIoI,GAAkC,IAAtBA,EAASv5D,UAAwC,SAArBu5D,EAAS3X,SACV,gBAAvC2X,EAASvqB,aAAa,cACiB,gBAAvCuqB,EAASvqB,aAAa,cACiB,gBAAvCuqB,EAASvqB,aAAa,aAI9B,CAkbsDo8B,CAAW16C,KACjDy+B,EAAerT,YAAc,IAIjCyS,EAAa9e,iBAAiB,uDAAuD7pC,SAAQ,SAAU2rC,GACnGA,EAAK8W,kBAAkBr4D,MAAM9D,QAAU,SACvCqlD,EAAK8gB,iBAAiBriE,MAAM9D,QAAU,MAC1C,IACAqiE,EAAa9e,iBAAiB,uDAAuD7pC,SAAQ,SAAU2rC,GACnGA,EAAK8W,kBAAkBr4D,MAAM9D,QAAU,SACvCqlD,EAAK8gB,iBAAiBriE,MAAM9D,QAAU,MAC1C,GACJ,CACJ,CACA,IAAI,EAAGqoE,EAA6B0E,OAA+B,IAAtBvoC,EAAMm/B,aAAqBV,EAAerT,YAAYpuD,QAAQ+iD,EAA8BhxC,EAAE46C,OAAS,GAChJ8U,EAAeyC,iBAA+D,IAA5CzC,EAAeyC,gBAAgB5xD,UACtB,SAA3CmvD,EAAeyC,gBAAgBhQ,UAChB,cAAdtP,EAAM56C,KAAqC,cAAd46C,EAAM56C,KAKpC,OAHAg5B,EAAMkgC,mBAAmBzB,EAAeyC,iBACxClhC,EAAM4+B,UAAS,GACfhd,EAAMwP,kBACC,EAEX,GAAIupB,GAAuB/4B,EAAOic,EAAc79B,GAE5C,OADA4hB,EAAMwP,kBACC,EAGX,GADAwpB,GAAwB56C,EAAO4hB,EAAM56C,KACnB,cAAd46C,EAAM56C,IAAqB,CAE3B,IAAIwrE,EAAc/T,EAAegC,YAC7B+R,GAAwC,IAAzBA,EAAYljE,UAA4D,gBAA1CkjE,EAAYl0B,aAAa,cACtEte,EAAM2gC,cAAc6R,EAE5B,CACA,SAAI3U,IAAgB8H,EAAW9H,EAAc9G,EAAQnV,EAAO5hB,KACxD4hB,EAAMwP,iBACC,GAGf,CAmwDgBypB,CAAsC9jB,EAAQnV,GAC9C,YAGH,GAA2B,OAAvBmV,EAAOK,aAjoGH,SAAUL,EAAQnV,GAEnC,GADAmV,EAAO0L,GAAGsJ,cAAgBnqB,EAAM0uB,YAC5B1uB,EAAM0uB,YACN,OAAO,GAGyB,IAAhC1uB,EAAM56C,IAAIhK,QAAQ,UAAiC,SAAd4kD,EAAM56C,KAAgC,YAAd46C,EAAM56C,KAAmC,QAAd46C,EAAM56C,KAChF,UAAd46C,EAAM56C,KAAiC,aAAd46C,EAAM56C,KAAoC,WAAd46C,EAAM56C,KAAqB,aAAa+N,KAAK6sC,EAAM56C,MACxG+vD,EAAOmV,KAAKoM,oBAAoBvhB,EAAQnV,GAE5C,IAAI5hB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C0H,EAAiBz+B,EAAMy+B,eAC3B,IAAK8a,GAAkB33B,EAAOmV,EAAQ0H,GAClC,OAAO,EAKX,GAHA+a,GAAex5C,EAAO+2B,EAAQnV,GAC9B63B,GAAMz5C,GAEY,UAAd4hB,EAAM56C,KAAiC,QAAd46C,EAAM56C,KAA+B,cAAd46C,EAAM56C,MAAuD,IAAhC46C,EAAM56C,IAAIhK,QAAQ,YAC3F,EAAG6mE,EAA0BoE,IAAIrmB,IAAwB,WAAdA,EAAM56C,KAAkC,WAAd46C,EAAM56C,IAC/E,OAAO,EAGX,IAAI8zE,GAAiB,EAAG56B,EAAsC0mB,IAAInI,EAAgB,eAAgB,KAClG,KAAK,EAAGoF,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,SAAWtmB,EAAMumB,UAA0B,UAAdvmB,EAAM56C,KAAmB8zE,GACtG96C,EAAMm/B,YAAc2b,EAAe1vB,YAAYjuD,OAAQ,CAC1D,IAAI49E,EAAsBD,EAAe9Z,uBACrC+Z,IACA/6C,EAAMohC,WAAWpjB,SAASqjB,eAAe0Z,EAAoB3vB,cAC7DprB,EAAM4+B,UAAS,IAEnB,IAAIoc,EAAqBF,EAAera,YACpCua,IACAh7C,EAAMohC,WAAWpjB,SAASqjB,eAAe2Z,EAAmB5vB,cAC5DprB,EAAM4+B,UAAS,GAEvB,CACA,IAAI4N,GAAW,EAAGtsB,EAAqC2I,IAAI4V,EAAgB,KAE3E,GAAIib,GAAY93B,EAAOmV,EAAQyV,EAAUxsC,GACrC,OAAO,EAGX,GAAI25C,GAAQ35C,EAAO+2B,EAAQyV,EAAU5qB,GACjC,OAAO,EAGX,GAAIo4B,GAAcjjB,EAAQ/2B,EAAO4hB,EAAO4qB,GACpC,OAAO,EAGX,IAAIyO,GAAmB,EAAG/6B,EAAsC4I,IAAI2V,EAAgB,0BACpF,GAAIwc,GAAiD,QAA7BA,EAAiB/pB,QAAmB,CACxD,IAAI2oB,EAAoBoB,EAAiBvrB,WACzC,GAAIqqB,GAAahjB,EAAQnV,EAAOq5B,EAAkBj7C,GAC9C,OAAO,EAGX,IAAqD,eAAhD65C,EAAkBv7B,aAAa,cACmB,eAAhDu7B,EAAkBv7B,aAAa,eAClCwnB,GAAkB/O,EAAQnV,EAAO5hB,EAAO65C,EAAmBoB,EAAiBn5B,eAC5E,OAAO,EAGX,GAAIkkB,GAAiBjP,EAAQnV,EAAO5hB,EAAO65C,EAAmBoB,EAAiBn5B,eAC3E,OAAO,CAEf,CAEA,IAAIo5B,GAAmB,EAAGh7B,EAAsC0mB,IAAInI,EAAgB,YAAa,mBACjG,GAAIyc,EAAkB,CAClB,GAAkB,UAAdt5B,EAAM56C,KAAiC,QAAd46C,EAAM56C,IAK/B,OAJAg5B,EAAMkgC,mBAAmBgb,EAAiBtjB,mBAAmBlI,YAC7D1vB,EAAM4+B,UAAS,GACfhd,EAAMwP,iBACNkT,EAAUvN,EAAQ,CAAC,UACZ,EAEX,GAAkB,cAAdnV,EAAM56C,IAAqB,CAC3B,IAAIukB,GAAQ,EAAG60B,EAAiCwlB,IAAIsV,EAAkBnkB,EAAO0L,GAAG1kB,SAASxyB,MAC3E,IAAVA,GACAyU,EAAM2+B,SAASF,EAAgB,GAErB,IAAVlzC,IACAwrC,EAAO4N,KAAKyM,eAAiB,GAErC,CACA,GAAItL,GAAkB/O,EAAQnV,EAAO5hB,EAAOk7C,EAAkBA,EAAiBp5B,eAG3E,OADAwiB,EAAUvN,EAAQ,CAAC,UACZ,CAEf,CAEA,IAAIuY,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAChE,GAAI7c,EAAM56C,IAAIhK,QAAQ,UAAY,GAAKsyE,EAAa,CAChD,IAAI9B,EAAe2N,GAAY7L,GAC/B,GAAI9B,GAAgB1H,GAAkB/O,EAAQnV,EAAO5hB,EAAOsvC,EAAa9B,GACrE,OAAO,EAEX,IAAI4N,EAAgBC,GAAW/L,GAC/B,GAAI8L,GAAiBpV,GAAiBjP,EAAQnV,EAAO5hB,EAAOsvC,EAAa8L,GACrE,OAAO,CAEf,CACA,GAAIxB,GAAS7iB,EAAQnV,EAAO5hB,GACxB,OAAO,EAGX,GAAIo6C,GAAQrjB,EAAQ/2B,EAAO4hB,GACvB,OAAO,EAGX,GAAIm3B,GAAOhiB,EAAQ/2B,EAAO4hB,GACtB,OAAO,EAEX,IAAImH,GAAiB,EAAGmV,EAA+CnI,GAAG0I,GAC1E,GAAI1V,EAAgB,CAGZ,IASIuyB,EAVR,GAAIvT,EAAY,KAAMnmB,GAMlB,OALI05B,EAAuBvyB,EAAerK,cAAc,iCAC5B48B,EAAqBlwB,YAAYvgB,OAAO1tC,OAAS,GACzEo+E,GAAuBxkB,EAAQukB,EAAqBlwB,YAAY9C,OAAO,IAE3E1G,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,KAAMnmB,GAMlB,OALI05B,EAAuBvyB,EAAerK,cAAc,iCAC5B48B,EAAqBlwB,YAAYvgB,OAAO1tC,OAAS,GACzEo+E,GAAuBxkB,EAAQukB,EAAqBlwB,YAAYvgB,OAAS,MAE7E+W,EAAMwP,kBACC,CAEf,CACA,IAAIyM,GAAe,EAAG3d,EAAgC0hB,IAAInD,GAC1D,GAAkB,cAAd7c,EAAM56C,OAAwB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QAA+B,KAArBloC,EAAM5oB,WAAmB,CACtI,GAAImjE,GAAUxjB,EAAQ/2B,EAAO4hB,EAAO4qB,GAChC,OAAO,EAEX,GAAI3O,GAAgBA,EAAamD,wBACD,OAAzBnD,EAAa3M,SAA6C,OAAzB2M,EAAa3M,UACqB,eAAlE2M,EAAamD,uBAAuB1iB,aAAa,cACiB,eAAlEuf,EAAamD,uBAAuB1iB,aAAa,cAAgC,CACrF,IAAIk8B,GAAa,EAAGp6B,EAAiCwlB,IAAI/H,EAAc9G,EAAO0L,GAAG1kB,QAAS/d,GAAOzU,MACjG,GAAmB,IAAfivD,GAAoC,IAAfA,GAAoB3c,EAAapS,UAAUniB,WAAWyW,EAA8BhxC,EAAE46C,MAW3G,OATA3pB,EAAMkgC,mBAAmBrC,EAAamD,uBAAuBtiB,cAAc,iCAC3E1e,EAAM4+B,UAAS,GACf4J,EAAaxoC,EAAO+2B,GACsE,KAAtF8G,EAAazS,YAAYvgB,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,MAE9EkU,EAAav6B,SACbqkC,GAA2B5Q,IAE/BnV,EAAMwP,kBACC,CAEf,CAEA,GAAIrI,EAAgB,CAChB,IAAIyyB,EAAgBzyB,EAAe4O,kBAAkBvM,YAAYjuD,QAC7D,EAAGijD,EAAiCwlB,IAAI7c,EAAgBgO,EAAO0L,GAAG1kB,SAASxyB,QAAUiwD,IACrFx7C,EAAM2+B,SAAS5V,EAAe4O,kBAAkBjI,WAAY8rB,EAAgB,GAC5Ex7C,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GAEhD,CACJ,CACA,SAAmB,YAAd4hB,EAAM56C,KAAmC,cAAd46C,EAAM56C,MAAwB62D,IAE1DA,EAAa9e,iBAAiB,oBAAoB7pC,SAAQ,SAAU2rC,GAC3DA,EAAKgB,SAAS4c,IACf5d,EAAKY,UAAU/jC,IAAI,0BAE3B,KACIi9D,GAAuB/4B,EAAOic,EAAc79B,OAIpD46C,GAAwB56C,EAAO4hB,EAAM56C,MACjC62D,IAAgB8H,EAAW9H,EAAc9G,EAAQnV,EAAO5hB,KACxD4hB,EAAMwP,iBACC,IAGf,CAq8FgBqqB,CAAe1kB,EAAQnV,GACvB,OAGR,GAAImV,EAAO78B,QAAQwhD,WAAa3T,EAAY,SAAUnmB,GAGlD,OAFAmV,EAAO78B,QAAQwhD,UAAUtZ,EAAYrL,SACrCnV,EAAMwP,iBAIV,GAAI2W,EAAY,KAAMnmB,KAAWmV,EAAOmB,QAAQuM,SAASyH,KAGrD,OAFAnV,EAAOmV,KAAKA,KAAKnV,QACjBnV,EAAMwP,iBAIV,GAAI2W,EAAY,KAAMnmB,KAAWmV,EAAOmB,QAAQuM,SAASkX,KAGrD,OAFA5kB,EAAOmV,KAAKyP,KAAK5kB,QACjBnV,EAAMwP,iBAIV,GAAkB,WAAdxP,EAAM56C,IAQN,MAP0C,UAAtC+vD,EAAO4N,KAAK5mB,QAAQz+C,MAAM9D,QAC1Bu7D,EAAO4N,KAAK5mB,QAAQz+C,MAAM9D,QAAU,OAE/Bu7D,EAAO78B,QAAQ0hD,MAAQh6B,EAAM0uB,aAClCvZ,EAAO78B,QAAQ0hD,IAAIxZ,EAAYrL,SAEnCnV,EAAMwP,iBAIV,IAAI,EAAGyS,EAA0BoE,IAAIrmB,IAAUA,EAAMsmB,SAAWtmB,EAAMumB,UAAY,eAAepzD,KAAK6sC,EAAM4L,MAAO,CAC/G,GAA2B,YAAvBuJ,EAAOK,YAA2B,CAClC,IAAIlG,EAAUtP,EAAM4L,KAAKx5C,QAAQ,QAAS,MACtC,EAAGksC,EAAqC2I,IAAItG,eAAeE,WAAW,GAAGgc,eAAgBvN,GACzF0b,GAAc7V,GAGd4V,GAAW5V,EAAQ7F,GAEvB2a,EAAiB9U,EACrB,KACgC,OAAvBA,EAAOK,YACZykB,GAAe9kB,EAAQ,IAAIluB,OAAOh6B,SAAS+yC,EAAM4L,KAAKx5C,QAAQ,QAAS,IAAK,KAAO,KAEvD,OAAvB+iD,EAAOK,aACZmkB,GAAuBxkB,EAAQ,IAAIluB,OAAOh6B,SAAS+yC,EAAM4L,KAAKx5C,QAAQ,QAAS,IAAK,KAAO,KAG/F,OADA4tC,EAAMwP,kBACC,CACX,CAEA,IAAI,EAAGyS,EAA0BoE,IAAIrmB,IAAUA,EAAMsmB,SAAWtmB,EAAMumB,UAAY,eAAepzD,KAAK6sC,EAAM4L,MAUxG,MATmB,WAAf5L,EAAM4L,KACNsoB,GAAY/e,EAAQ,UAAWnV,GAEX,WAAfA,EAAM4L,KACXsoB,GAAY/e,EAAQ,KAAMnV,GAEN,WAAfA,EAAM4L,MACXsoB,GAAY/e,EAAQ,KAAMnV,IAEvB,EAGXmV,EAAO78B,QAAQg+B,QAAQ7+B,MAAK,SAAU46C,GAClC,OAAKA,EAAS9X,QAAU8X,EAAS/b,UACzB+b,EAAS/b,WACC+b,EAAS/b,QAAQ7+B,MAAK,SAAUyiD,GACtC,QAAKA,EAAY3f,SAGb4L,EAAY+T,EAAY3f,OAAQva,IAChCmV,EAAOmB,QAAQuM,SAASqX,EAAYr1D,MAAM5mB,SAAS,GAC9Ck8E,cAAc,IAAI1H,aAAY,EAAGxQ,EAAgCoB,QACtErjB,EAAMwP,kBACC,QAJX,EAMJ,IAKJ2W,EAAYkM,EAAS9X,OAAQva,IAC7BmV,EAAOmB,QAAQuM,SAASwP,EAASxtD,MAAM5mB,SAAS,GAAGk8E,cAAc,IAAI1H,aAAY,EAAGxQ,EAAgCoB,QACpHrjB,EAAMwP,kBACC,QAHX,CAKJ,GA3GA,CA4GJ,GACJ,EACI4qB,GAAc,SAAUjlB,EAAQiJ,GAChCA,EAAczhB,iBAAiB,eAAe,SAAUqD,GACpDoe,EAAcic,UAAY,WACtB7iE,YAAW,WACP,IAAI8iE,EAAatF,GAAc7f,EAAOA,EAAOK,aAAarZ,SACtDm+B,EAAWrxC,QACgB,YAAvBksB,EAAOK,aAA6BL,EAAO78B,QAAQ29C,QAAQ1yB,UACtD,EAAGjF,EAAsC0mB,IAAIhlB,EAAM9b,OAAQ,YAAa,qBACxE,EAAGoa,EAAsC0mB,IAAIhlB,EAAM9b,OAAQ,YAAa,uBAIzEixB,EAAOwL,QAAQ8U,cAHftgB,EAAOwL,QAAQ4Z,eAMnBplB,EAAO78B,QAAQq2C,QACfxZ,EAAO78B,QAAQq2C,OAAO2L,IAIC,YAAvBnlB,EAAOK,aAA6BL,EAAO78B,QAAQ29C,QAAQ1yB,QAC3D4R,EAAOwL,QAAQ8U,aAG3B,GACJ,CACJ,GACJ,EAYI+E,GAAe,SAAUrlB,EAAQ9oB,GACjC,IAAIjO,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GACjD/2B,EAAMo5C,kBACNp5C,EAAMohC,WAAWpjB,SAASqjB,eAAe7J,KAAKsS,QAC9C9pC,EAAMohC,WAAWpjB,SAASqjB,eAAepzB,IACzC,IAAI4vB,GAAe,EAAG3d,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,aAAc,KAC/FZ,IACDA,EAAe9G,EAAOsL,GAAGtkB,SAE7B,IAAIs+B,EAAWtlB,EAAOlR,KAAKy2B,gBAAgBze,EAAazS,aACxDixB,EAAW,uBACPA,EAASroE,QAAQ,mKAAoK,uLACrL,SACA6pD,EAAahG,YAAYd,EAAOsL,GAAGtkB,SACnC8f,EAAanc,UAAY26B,EAGzBxe,EAAa1P,UAAYkuB,EAE7BlT,EAAgBpS,EAAOsL,GAAGtkB,UAC1B,EAAGqC,EAA6BsnB,IAAI3Q,EAAOsL,GAAGtkB,QAAS/d,GACvDkqC,GAAanT,EACjB,EACI4S,GAAgB,SAAU4S,EAAU11E,EAAM21E,QACvB,IAAfA,IAAyBA,GAAa,GAC1C,IAAIC,EAAcF,EAIlB,IAH6B,IAAzBE,EAAYntE,WACZmtE,EAAcA,EAAY36B,eAEvB26B,GAAa,CAChB,GAAIA,EAAYn+B,aAAa,eAAiBz3C,EAC1C,OAAO41E,EAGPA,EADAD,EACcC,EAAYzb,uBAGZyb,EAAY7kB,kBAElC,CACA,OAAO,CACX,EACIqS,GAAyB,SAAUlyB,EAAMgf,GAOzC,OANAmO,EAAI,kBAAmBntB,EAAM,WAAYgf,EAAO78B,QAAQgtC,UAExDnvB,EAAO,uBADQgf,EAAOlR,KAAKy2B,gBAAgBvkC,GAE9B/jC,QAAQ,mKAAoK,uLACrL,SACJkxD,EAAI,kBAAmBntB,EAAM,SAAUgf,EAAO78B,QAAQgtC,UAC/CnvB,CACX,EACIohC,GAAyB,SAAUvwB,GACnC,IAAI8zB,EAAW9zB,EAAYtK,aAAa,aACpCwuB,EAAkBlkB,EAAYoY,uBAE9B2b,EAAcD,GAAyB,SAAbA,GAAoC,UAAbA,GAAqC,mBAAbA,GAC5D,YAAbA,GAAuC,kCAAbA,GAA6D,mCAAbA,GAC1D,oBAAbA,GAA+C,4BAAbA,GAAuD,2BAAbA,EAC/E9zB,EAAYwC,YAAc,GAC1BwxB,GAAQ,EAIZ,IAHiB,YAAbF,IACAE,GAAQ,GAEL9P,IAAoB8P,GAAO,CAC9B,IAAIC,EAAe/P,EAAgBxuB,aAAa,aAChD,GAAqB,cAAjBu+B,GAAiD,sBAAjBA,GAAyD,gBAAjBA,GACvD,YAAjBA,EAA4B,CAC5B,IAAIC,EAAehQ,EAAgB1hB,YACnC,GAAqB,cAAjByxB,GACc,2BAAbH,GAAsD,oBAAbA,EAIzC,GAAiB,4BAAbA,GACL5P,EAAgBlV,mBAAmBqJ,WAAWrY,GAAc,CAE5D,IAAIm0B,EAAapT,GAAc/gB,EAAa,0BACxCm0B,GAAcA,EAAW/b,yBACzB8L,EAAkBiQ,EAAW/b,uBAC7B2b,EAAaG,EAAeH,EAEpC,MAEIA,EAAaG,EAAeH,OAZ5BA,EAAaG,EAAa9oE,QAAQ,MAAO,KAAO2oE,CAcxD,KAC0B,YAAjBE,IACLD,GAAQ,GAEZ9P,EAAkBA,EAAgB9L,sBACtC,CACA,OAAO2b,CACX,EACInT,GAAqB,SAAUzS,EAAQ78B,QACvB,IAAZA,IAAsBA,EAAU,CAChC0tC,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEb5tC,EAAQ2tC,YACR9Q,EAAO4N,KAAKvf,OAAO2R,GAEvBA,EAAOvN,QAAQpE,OAAO2R,GACtB,IAAI9oB,EAAOm0B,EAAYrL,GACa,mBAAzBA,EAAO78B,QAAQ3Z,OAAwB2Z,EAAQ4tC,aACtD/Q,EAAO78B,QAAQ3Z,MAAM0tB,GAErB8oB,EAAO78B,QAAQ8xC,QAAQ7mB,QACvB4R,EAAOiV,QAAQ5mB,OAAO2R,EAAQ9oB,GAE9B8oB,EAAO78B,QAAQ9lB,MAAM+wC,SAAU,EAAG0e,EAAsCsH,QACxEvP,aAAaqQ,QAAQlV,EAAO78B,QAAQ9lB,MAAMqa,GAAIwf,GAC1C8oB,EAAO78B,QAAQ9lB,MAAM0sB,OACrBi2B,EAAO78B,QAAQ9lB,MAAM0sB,MAAMmN,IAG/B8oB,EAAO8L,UACP9L,EAAO8L,SAASF,aAAa5L,GAEjC/9C,aAAa+9C,EAAOsL,GAAG2a,kBACvBjmB,EAAOsL,GAAG2a,iBAAmBp+B,OAAOxlC,YAAW,WACvC8gB,EAAQ0tC,qBAAuB7Q,EAAOsL,GAAG0J,eACzChV,EAAOmV,KAAKC,eAAepV,EAEnC,GAAGA,EAAO78B,QAAQkyC,UACtB,EACIyP,GAAiB,SAAU9kB,EAAQ32D,GACnC,IAAI4/B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7ChO,GAAiB,EAAGmV,EAA0Cd,GAAGp9B,EAAMy+B,eAAgB,QACvF1V,GAAwD,KAAtCA,EAAeqC,YAAYvgB,SAC7CzqC,EAAQ,KAAOA,GAEnB4/B,EAAM4+B,UAAS,GACf5gB,SAAS0jB,YAAY,cAAc,EAAOthE,EAC9C,EACIo1E,GAAiB,SAAUze,EAAQgO,EAAWv5B,EAAQgP,GACtD,IAAIxa,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7Cqc,EAAcrO,EAAUzmB,aAAa,aAEG,IAAxCyY,EAAOsL,GAAGtkB,QAAQyS,WAAWrzD,SAC7B45D,EAAOsL,GAAGtkB,QAAQ2D,UAAY,2JAC9B,EAAGtB,EAA6BsnB,IAAI3Q,EAAOsL,GAAGtkB,QAAS/d,IAE3D,IAAI69B,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAC5D7V,GAAc,EAAGsV,EAA0Cd,GAAGp9B,EAAMy+B,eAAgB,QACxF,GAAKZ,EAAL,CAGA,GAAoB,SAAhBuV,EAAwB,CACxB,IAAIr7B,OAAO,EAQX,OANIA,EADqB,KAArB/X,EAAM5oB,WACC,GAAG8pB,OAAOsK,GAAQtK,OAAOs2B,KAAKsS,OAAO5oC,OAAOsZ,GAG5C,GAAGtZ,OAAOsK,GAAQtK,OAAOlB,EAAM5oB,YAAY8pB,OAAOsZ,EAAOxmC,QAAQ,IAAKwjD,KAAKsS,MAAQ,WAE9F9rB,SAAS0jB,YAAY,cAAc,EAAO3pB,EAE9C,CACK,GAAoB,WAAhBq7B,GAA4C,SAAhBA,GAA0C,WAAhBA,GAC3C,gBAAhBA,GAAiD,SAAhBA,GAA0C,UAAhBA,GAA2C,SAAhBA,EAgBtF,OAfIr7B,OAAO,EAGPA,EADqB,KAArB/X,EAAM5oB,WACC,GAAG8pB,OAAOsK,GAAQtK,OAAOs2B,KAAKsS,OAAO5oC,OAAuB,SAAhBkyC,EAAyB,GAAK54B,GAG1E,GAAGtZ,OAAOsK,GAAQtK,OAAOlB,EAAM5oB,YAAY8pB,OAAOs2B,KAAKsS,OAAO5oC,OAAuB,SAAhBkyC,EAAyB,GAAK54B,GAE1F,UAAhB44B,GAA4C,SAAhBA,GAA0BxqB,GAA2C,KAA5BA,EAAYwC,YACjFrT,EAAO,OAASA,EAEK,SAAhBq7B,IACLr7B,EAAO,OAAO7W,OAAOsK,EAAQ,MAAMtK,OAAOs2B,KAAKsS,aAEnD9rB,SAAS0jB,YAAY,cAAc,EAAO3pB,GAGzC,IAAoB,UAAhBq7B,GAA2C,SAAhBA,GAA0C,iBAAhBA,GAC1C,UAAhBA,IACIxqB,EAAa,CACb,IAAIye,EAAS,KACO,UAAhB+L,EACA/L,EAAS,SAEY,iBAAhB+L,EACL/L,EAAS,MAEY,UAAhB+L,IACL/L,EAAS,MAEb,IAAI4V,EAAUtT,GAAc/gB,EAAa,WAQzC,OAPIq0B,EACAA,EAAQC,mBAAmB,WAAY7V,GAGvCxJ,EAAaqf,mBAAmB,aAAc7V,QAElDkC,EAAWxS,EAEf,EAEJ,EAAG3W,EAA6BsnB,IAAI3Q,EAAOsL,GAAGtkB,QAAS/d,GACvDwpC,GAAmBzS,EAxDnB,CAyDJ,EAGIomB,GAAa,SAAUpmB,GACvB,OAAQA,EAAOK,aACX,IAAK,KACD,OAAOL,EAAO0L,GAAG1kB,QACrB,IAAK,UACD,OAAOgZ,EAAOwL,QAAQxkB,QAC1B,IAAK,KACD,OAAOgZ,EAAOsL,GAAGtkB,QAE7B,EAGIq/B,GAAa,SAAUrmB,EAAQsmB,GAC3BtmB,EAAO78B,QAAQojD,OAAOF,aACtBrmB,EAAO78B,QAAQojD,OAAOC,QAAUxmB,EAAO78B,QAAQojD,OAAOF,cAEtDrmB,EAAO78B,QAAQojD,OAAOC,SACtB3gF,OAAO4a,KAAKu/C,EAAO78B,QAAQojD,OAAOC,SAASroE,SAAQ,SAAUlO,GACzDq2E,EAAIziB,iBAAiB5zD,EAAK+vD,EAAO78B,QAAQojD,OAAOC,QAAQv2E,GAC5D,GAER,EAGIo8C,GAAkD,SAAUtyC,EAASuyC,EAAYC,EAAGC,GAEpF,OAAO,IAAKD,IAAMA,EAAI1oC,WAAU,SAAUsb,EAASmN,GAC/C,SAASmgB,EAAUpjD,GAAS,IAAMwzB,EAAK2vB,EAAU1mB,KAAKz8B,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC1F,SAASgnD,EAASrjD,GAAS,IAAMwzB,EAAK2vB,EAAiB,MAAEnjD,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC7F,SAASm3B,EAAKhiB,GAJlB,IAAexR,EAIawR,EAAOkrB,KAAO5G,EAAQtkB,EAAOxR,QAJ1CA,EAIyDwR,EAAOxR,MAJhDA,aAAiBkjD,EAAIljD,EAAQ,IAAIkjD,GAAE,SAAUptB,GAAWA,EAAQ91B,EAAQ,KAIjBsjD,KAAKF,EAAWC,EAAW,CAC7G7vB,GAAM2vB,EAAYA,EAAU3yC,MAAME,EAASuyC,GAAc,KAAKxmB,OAClE,GACJ,EACI8mB,GAAsD,SAAU7yC,EAAS8yC,GACzE,IAAsGC,EAAGpR,EAAG/1C,EAAGqS,EAA3GqH,EAAI,CAAE0tC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPrnD,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGsnD,KAAM,GAAIC,IAAK,IAChG,OAAOl1C,EAAI,CAAE8tB,KAAMqnB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXnsC,SAA0BhJ,EAAEgJ,OAAOW,UAAY,WAAa,OAAO6D,IAAM,GAAIxN,EACvJ,SAASm1C,EAAKtwC,GAAK,OAAO,SAAUuwC,GAAK,OACzC,SAAcnW,GACV,GAAI6V,EAAG,MAAM,IAAI/sC,UAAU,mCAC3B,KAAO/H,IAAMA,EAAI,EAAGi/B,EAAG,KAAO53B,EAAI,IAAKA,OACnC,GAAIytC,EAAI,EAAGpR,IAAM/1C,EAAY,EAARsxC,EAAG,GAASyE,EAAU,OAAIzE,EAAG,GAAKyE,EAAS,SAAO/1C,EAAI+1C,EAAU,SAAM/1C,EAAEK,KAAK01C,GAAI,GAAKA,EAAE5V,SAAWngC,EAAIA,EAAEK,KAAK01C,EAAGzE,EAAG,KAAKlR,KAAM,OAAOpgC,EAE3J,OADI+1C,EAAI,EAAG/1C,IAAGsxC,EAAK,CAAS,EAARA,EAAG,GAAQtxC,EAAE0D,QACzB4tC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtxC,EAAIsxC,EAAI,MACxB,KAAK,EAAc,OAAX53B,EAAE0tC,QAAgB,CAAE1jD,MAAO4tC,EAAG,GAAIlR,MAAM,GAChD,KAAK,EAAG1mB,EAAE0tC,QAASrR,EAAIzE,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAK53B,EAAE6tC,IAAInhC,MAAO1M,EAAE4tC,KAAKlhC,MAAO,SACxC,QACI,MAAkBpmB,GAAZA,EAAI0Z,EAAE4tC,MAAY7mD,OAAS,GAAKT,EAAEA,EAAES,OAAS,KAAkB,IAAV6wC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE53B,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAV43B,EAAG,MAActxC,GAAMsxC,EAAG,GAAKtxC,EAAE,IAAMsxC,EAAG,GAAKtxC,EAAE,IAAM,CAAE0Z,EAAE0tC,MAAQ9V,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAY53B,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAIA,EAAIsxC,EAAI,KAAO,CACpE,GAAItxC,GAAK0Z,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAI0Z,EAAE6tC,IAAI3lC,KAAK0vB,GAAK,KAAO,CAC9DtxC,EAAE,IAAI0Z,EAAE6tC,IAAInhC,MAChB1M,EAAE4tC,KAAKlhC,MAAO,SAEtBkrB,EAAK4V,EAAK7mD,KAAK+T,EAASsF,EAC5B,CAAE,MAAO3Z,GAAKuxC,EAAK,CAAC,EAAGvxC,GAAIg2C,EAAI,CAAG,CAAE,QAAUoR,EAAInnD,EAAI,CAAG,CACzD,GAAY,EAARsxC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5tC,MAAO4tC,EAAG,GAAKA,EAAG,QAAK,EAAQlR,MAAM,EAC9E,CAtBgDlJ,CAAK,CAAChgB,EAAGuwC,GAAK,CAAG,CAuBrE,EAIIq5B,GACA,WACIjhE,KAAKkhE,aAAc,EACnBlhE,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,eAC7B,EA4HA++E,GAAc,SAAU3mB,EAAQ4mB,EAAO5/B,GAAW,OAAOqF,QAAU,OAAQ,OAAQ,GAAQ,WAC3F,IAAIw6B,EAAUC,EAAaC,EAAsBC,EAAY/d,EAAege,EAAgBC,EAAUC,EAAW/f,EAAIz+D,EAAIsH,EAAK9J,EAAGihF,EAAMd,EACvI,OAAO15B,GAAYpnC,MAAM,SAAU5c,GAC/B,OAAQA,EAAGmkD,OACP,KAAK,EAGD,IAFA85B,EAAW,GACXC,GAA8C,IAAnC9mB,EAAO78B,QAAQojD,OAAOc,SAAoBT,EAAMxgF,OAAS,EAC/DD,EAAI,EAAGA,EAAI2gF,EAAU3gF,KACtB4gF,EAAWH,EAAMzgF,cACOmhF,mBACpBP,EAAWA,EAASQ,aAExBV,EAASt/D,KAAKw/D,GAElB,OAAK/mB,EAAO78B,QAAQojD,OAAOiB,QACpB,CAAC,EAAaxnB,EAAO78B,QAAQojD,OAAOiB,QAAQX,IADR,CAAC,EAAa,GAE7D,KAAK,EAKD,OAJAG,EAAap+E,EAAGokD,OACZhG,IACAA,EAAQ39C,MAAQ,IAEM,iBAAf29E,GACPhnB,EAAOmd,IAAIzQ,KAAKsa,GACT,CAAC,IAEL,CAAC,GACZ,KAAK,EACD,OAAKhnB,EAAO78B,QAAQojD,OAAOrqB,KAAQ8D,EAAOumB,OAOrCvmB,EAAO78B,QAAQojD,OAAOkB,KACpB,CAAC,EAAaznB,EAAO78B,QAAQojD,OAAOkB,KAAKZ,IADR,CAAC,EAAa,IAN9C7/B,IACAA,EAAQ39C,MAAQ,IAEpB22D,EAAOmd,IAAIzQ,KAAK,qCACT,CAAC,IAIhB,KAAK,EACDma,EAAWj+E,EAAGokD,OACdpkD,EAAGmkD,MAAQ,EACf,KAAK,EACD,GAAIiT,EAAO78B,QAAQojD,OAAOmB,UAEI,iBAD1BV,EAAahnB,EAAO78B,QAAQojD,OAAOmB,SAASb,IAGxC,OADA7mB,EAAOmd,IAAIzQ,KAAKsa,GACT,CAAC,GAMhB,GAHA/d,EAAgBmd,GAAWpmB,GAC3BA,EAAOumB,OAAOt9C,OAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC3DinB,EA1KG,SAAUjnB,EAAQ4mB,GACjC5mB,EAAOmd,IAAIwK,OA6CX,IA5CA,IAAIC,EAAiB,GACjBC,EAAW,GACXC,EAAe,GAGflsB,GAFOoE,EAAO78B,QAAQomB,KACZyW,EAAO78B,QACP,SAAUikD,EAAMjhF,GAC1B,IAAIshF,EAAOb,EAAMzgF,GACbuhF,GAAW,EACVD,EAAK/3D,OACNm4D,GAAY,OAAO19C,OAAO0d,OAAOiJ,WAAWi3B,UAAW,SACvDL,GAAW,GAEXD,EAAK1/E,KAAOi4D,EAAO78B,QAAQojD,OAAOrjE,MAClC2kE,GAAY,OAAO19C,OAAOs9C,EAAK/3D,KAAM,KAAKya,OAAO0d,OAAOiJ,WAAWjoB,KAAM,KAAKsB,OAAO61B,EAAO78B,QAAQojD,OAAOrjE,IAAM,KAAO,KAAM,UAC9HwkE,GAAW,GAEf,IAAI7oE,EAAY4oE,EAAK/3D,KAAKghB,YAAY,KAClCs3C,EAAUP,EAAK/3D,KAAK6hC,OAAO1yC,GAC3BopE,EAAWjoB,EAAO78B,QAAQojD,OAAO0B,SAASR,EAAK/3D,KAAK6hC,OAAO,EAAG1yC,IAAcmpE,EAC5EhoB,EAAO78B,QAAQojD,OAAO2B,SACPloB,EAAO78B,QAAQojD,OAAO2B,OAAOhpE,MAAM,KAAK8yB,MAAK,SAAU8X,GAClE,IAAIh6C,EAAOg6C,EAAKhW,OAChB,GAA0B,IAAtBhkC,EAAK7J,QAAQ,MACb,GAAI+hF,EAAQxgD,gBAAkB13B,EAAK03B,cAC/B,OAAO,OAIX,GAAIigD,EAAK33E,KAAKoP,MAAM,KAAK,KAAOpP,EAAKoP,MAAM,KAAK,GAC5C,OAAO,EAGf,OAAO,CACX,MAEI2oE,GAAY,OAAO19C,OAAOs9C,EAAK/3D,KAAM,KAAKya,OAAO0d,OAAOiJ,WAAWq3B,cAAe,SAClFT,GAAW,IAGfA,IACAE,EAAergE,KAAKkgE,GACpBK,GAAgB,OAAO39C,OAAO89C,EAAU,KAAK99C,OAAO0d,OAAOiJ,WAAWs3B,UAAW,SAEzF,GACShB,EAAOR,EAAMxgF,OAAQD,EAAI,EAAGA,EAAIihF,EAAMjhF,IAC3Cy1D,EAAQwrB,EAAMjhF,GAGlB,OADA65D,EAAOmd,IAAIzQ,KAAK,OAAOviC,OAAO09C,GAAU19C,OAAO29C,EAAc,UACtDF,CACX,CAuHiCS,CAAaroB,EAAQ6mB,GACR,IAA1BI,EAAe7gF,OAIf,OAHI4gD,IACAA,EAAQ39C,MAAQ,IAEb,CAAC,GAIZ,IAFA69E,EAAW,IAAIoB,SACfnB,EAAYnnB,EAAO78B,QAAQojD,OAAOY,UAC7B/f,EAAK,EAAGz+D,EAAK9C,OAAO4a,KAAK0mE,GAAY/f,EAAKz+D,EAAGvC,OAAQghE,IACtDn3D,EAAMtH,EAAGy+D,GACT8f,EAAS3rB,OAAOtrD,EAAKk3E,EAAUl3E,IAEnC,IAAK9J,EAAI,EAAGihF,EAAOH,EAAe7gF,OAAQD,EAAIihF,EAAMjhF,IAChD+gF,EAAS3rB,OAAOyE,EAAO78B,QAAQojD,OAAOgC,UAAWtB,EAAe9gF,IAqDpE,OAnDAmgF,EAAM,IAAI1iB,gBACN16D,KAAK,OAAQ82D,EAAO78B,QAAQojD,OAAOrqB,KACnC8D,EAAO78B,QAAQojD,OAAO5iF,OACtB2iF,EAAIziB,iBAAiB,iBAAkB7D,EAAO78B,QAAQojD,OAAO5iF,OAE7Dq8D,EAAO78B,QAAQojD,OAAOiC,kBACtBlC,EAAIkC,iBAAkB,GAE1BnC,GAAWrmB,EAAQsmB,GACnBtmB,EAAOumB,OAAOG,aAAc,EAC5Bzd,EAAc7c,aAAa,kBAAmB,SAC9Ck6B,EAAImC,mBAAqB,WACrB,GAAInC,EAAIoC,aAAe9kB,eAAe+kB,KAAM,CAGxC,GAFA3oB,EAAOumB,OAAOG,aAAc,EAC5Bzd,EAAc7c,aAAa,kBAAmB,QAC1Ck6B,EAAI14E,QAAU,KAAO04E,EAAI14E,OAAS,IAClC,GAAIoyD,EAAO78B,QAAQojD,OAAOqC,QACtB5oB,EAAO78B,QAAQojD,OAAOqC,QAAQ3f,EAAeqd,EAAItiB,kBAEhD,CACD,IAAIA,EAAesiB,EAAItiB,aACnBhE,EAAO78B,QAAQojD,OAAOsC,SACtB7kB,EAAehE,EAAO78B,QAAQojD,OAAOsC,OAAOjC,EAAON,EAAItiB,eA5JpE,SAAUA,EAAchE,GACvBomB,GAAWpmB,GACjBzU,QACd,IAAIu9B,EAAW9zB,KAAKC,MAAM+O,GACtB6jB,EAAW,GACO,IAAlBiB,EAASryB,OACToxB,EAAW,GAAG19C,OAAO2+C,EAASC,MAE9BD,EAASjiE,KAAKmiE,UAAYF,EAASjiE,KAAKmiE,SAAS5iF,OAAS,IAC1DyhF,EAAW,WAAW19C,OAAO09C,EAAU,SACvCiB,EAASjiE,KAAKmiE,SAAS7qE,SAAQ,SAAU0I,GACrC,IAAIhI,EAAYgI,EAAK6pB,YAAY,KAC7Bu3C,EAAWjoB,EAAO78B,QAAQojD,OAAO0B,SAASphE,EAAK0qC,OAAO,EAAG1yC,IAAcgI,EAAK0qC,OAAO1yC,GACvFgpE,GAAY,OAAO19C,OAAO89C,EAAU,KAAK99C,OAAO0d,OAAOiJ,WAAWm4B,YAAa,QACnF,IACApB,GAAY,SAEZA,EACA7nB,EAAOmd,IAAIzQ,KAAKmb,GAGhB7nB,EAAOmd,IAAIwK,OAEf,IAAIuB,EAAe,GACnBrjF,OAAO4a,KAAKqoE,EAASjiE,KAAKsiE,SAAShrE,SAAQ,SAAUlO,GACjD,IAAIod,EAAOy7D,EAASjiE,KAAKsiE,QAAQl5E,GAC7B4O,EAAY5O,EAAIygC,YAAY,KAC5B5gC,EAAOG,EAAIshD,OAAO1yC,GAClBopE,EAAWjoB,EAAO78B,QAAQojD,OAAO0B,SAASh4E,EAAIshD,OAAO,EAAG1yC,IAAc/O,EAE7C,KAD7BA,EAAOA,EAAK03B,eACHvhC,QAAQ,SAA0C,IAAzB6J,EAAK7J,QAAQ,SAA0C,IAAzB6J,EAAK7J,QAAQ,QAC9C,YAAvB+5D,EAAOK,YACP6oB,GAAgB,4HAAqI/+C,OAAO9c,EAAM,yHAAiI8c,OAAO9c,EAAM,4BAEpR,OAAvB2yC,EAAOK,YACZ6oB,GAAgB,mCAAsC/+C,OAAO9c,EAAM,gBAGnE67D,GAAgB,IAAI/+C,OAAO89C,EAAU,MAAM99C,OAAO9c,EAAM,OAG7B,IAA1Bvd,EAAK7J,QAAQ,UACU,IAAzB6J,EAAK7J,QAAQ,SACY,IAAzB6J,EAAK7J,QAAQ,SACY,IAAzB6J,EAAK7J,QAAQ,SAA0C,IAAzB6J,EAAK7J,QAAQ,SAClB,IAAzB6J,EAAK7J,QAAQ,SAA2C,IAA1B6J,EAAK7J,QAAQ,UAA4C,IAA1B6J,EAAK7J,QAAQ,UAA2C,IAAzB6J,EAAK7J,QAAQ,SAA4C,IAA3B6J,EAAK7J,QAAQ,WAC9G,IAAzB6J,EAAK7J,QAAQ,SACY,IAAzB6J,EAAK7J,QAAQ,SACa,IAA1B6J,EAAK7J,QAAQ,SACW,YAAvB+5D,EAAOK,YACP6oB,GAAgB,aAAc/+C,OAAO89C,EAAU,WAAa99C,OAAO9c,EAAM,QAGzE67D,GAAgB,KAAK/+C,OAAO89C,EAAU,MAAM99C,OAAO9c,EAAM,OAIlC,YAAvB2yC,EAAOK,YACP6oB,GAAgB,YAAa/+C,OAAO9c,EAAM,MAAO8c,OAAO89C,EAAU,UAGlEiB,GAAgB,IAAI/+C,OAAO89C,EAAU,MAAM99C,OAAO9c,EAAM,MAGpE,KACA,EAAGg8B,EAAiCgC,IAAI2U,EAAOumB,OAAOt9C,OACtDge,SAAS0jB,YAAY,cAAc,EAAOue,GAC1ClpB,EAAOumB,OAAOt9C,MAAQuiB,eAAeE,WAAW,GAAGC,YACvD,CA0FgCy9B,CAAiBplB,EAAchE,EACnC,MAGIA,EAAO78B,QAAQojD,OAAOlxB,MACtB2K,EAAO78B,QAAQojD,OAAOlxB,MAAMixB,EAAItiB,cAGhChE,EAAOmd,IAAIzQ,KAAK4Z,EAAItiB,cAGxBhd,IACAA,EAAQ39C,MAAQ,IAEpB22D,EAAOumB,OAAOv/B,QAAQz+C,MAAM9D,QAAU,MAC1C,CACJ,EACA6hF,EAAIC,OAAO8C,WAAa,SAAUx+B,GAC9B,GAAKA,EAAMy+B,iBAAX,CAGA,IAAIC,EAAW1+B,EAAM2+B,OAAS3+B,EAAM4+B,MAAQ,IAC5CzpB,EAAOumB,OAAOv/B,QAAQz+C,MAAM9D,QAAU,QACpBu7D,EAAOumB,OAAOv/B,QACpBz+C,MAAMg3D,MAAQgqB,EAAW,GAJrC,CAKJ,EACAjD,EAAIxiB,KAAKojB,GACF,CAAC,GAEpB,GACJ,GAAI,EAYAwC,GAAc,SAAU1pB,EAAQ/2B,EAAO4hB,GACvC,IAAIliD,EACAm+D,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAKhE,GAJKZ,IAEDA,EAAe9G,EAAOwL,QAAQxkB,SAE9B6D,GAA6B,iBAApBA,EAAMqlB,WACQ,iBAApBrlB,EAAMqlB,WACc,mBAApBrlB,EAAMqlB,WACc,eAApBrlB,EAAMqlB,WACc,iBAApBrlB,EAAMqlB,WACc,wBAApBrlB,EAAMqlB,WACc,wBAApBrlB,EAAMqlB,WACc,sBAApBrlB,EAAMqlB,WACc,kBAApBrlB,EAAMqlB,WACc,iBAApBrlB,EAAMqlB,WACc,KAApBrlB,EAAMqlB,YACLrlB,EAAO,CACX,IAAI8+B,EAp6FW,SAAUruB,GAE7B,IADA,IAAIkU,EAAelU,EAAK6O,gBACjBqF,GAAc,CACjB,GAA8B,IAA1BA,EAAaj3D,UAA2C,MAAzBi3D,EAAarV,UAAoBqV,EAAarF,iBACG,KAA7EqF,EAAa7kB,UAAU1tC,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAAc4c,EAAa9F,YACnG,OAAO8F,EAEXA,EAAeA,EAAarF,eAChC,CACA,OAAO,CACX,CA05FoCyf,CAAiB3gD,EAAMy+B,gBAC/CiiB,GAEAA,EAAsBp9C,SAG1ByzB,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU0rE,GAC7DA,EAAIt9C,QACR,IACAtD,EAAMohC,WAAWpjB,SAASI,cAAc,QAExCyf,EAAa9e,iBAAiB,WAAW7pC,SAAQ,SAAU2rC,GACvDA,EAAK/B,gBAAgB,QACzB,IAEA+e,EAAa9e,iBAAiB,mBAAmB7pC,SAAQ,SAAU2rC,GAC/B,KAA5BA,EAAKuK,YAAYvgB,SACjBgW,EAAKY,UAAUne,OAAO,iBAAkB,yBACxCud,EAAK/B,gBAAgB,eAE7B,IAE+C,QAA9Cp/C,EAAKm+D,EAAamD,8BAA2C,IAAPthE,GAAyBA,EAAGq/C,iBAAiB,mBAAmB7pC,SAAQ,SAAU2rC,GACrG,KAA5BA,EAAKuK,YAAYvgB,SACjBgW,EAAKY,UAAUne,OAAO,iBAAkB,yBACxCud,EAAK/B,gBAAgB,eAE7B,IACA,IAAI+hC,EAAS,GACkC,wBAA3ChjB,EAAavf,aAAa,eAE1Buf,EAAe9G,EAAOwL,QAAQxkB,SAElC,IAiFI+iC,EAjFAC,EAAmBljB,EAAahG,YAAYd,EAAOwL,QAAQxkB,SAC3D4oB,GAAkB,EAAGzmB,EAAsC0mB,IAAI/I,EAAc,YAAa,mBAC9F,GAAKkjB,EAmDDF,EAAShjB,EAAanc,cAnDH,CAEnB,IAAI8b,GAAiB,EAAGtd,EAA2B4mB,IAAI9mC,EAAMy+B,gBAC7D,GAAIjB,IAAmBmJ,EAAiB,CACpC,IAAIE,GAAoB,EAAG3I,EAA0Cd,GAAGp9B,EAAMy+B,eAAgB,cAG1FZ,EAFAgJ,GAEe,EAAG3mB,EAAgC0hB,IAAI5hC,EAAMy+B,iBAAmBZ,EAGhEL,CAEvB,CAMA,GAJImJ,IACA9I,EAAe8I,GAEnBka,EAAShjB,EAAa1P,UACO,OAAzB0P,EAAa3M,SAA6C,OAAzB2M,EAAa3M,QAAkB,CAEhE,IAAI6V,EAAkBlJ,EAAamD,uBAC/BgG,EAAkBnJ,EAAajG,oBAC/BmP,GAAgD,OAA5BA,EAAgB7V,SAAgD,OAA5B6V,EAAgB7V,UACxE2vB,EAAS9Z,EAAgB5Y,UAAY0yB,EACrC9Z,EAAgBzjC,WAEhB0jC,GAAgD,OAA5BA,EAAgB9V,SAAgD,OAA5B8V,EAAgB9V,UACxE2vB,GAAkB7Z,EAAgB7Y,UAClC6Y,EAAgB1jC,UAGpBu9C,EAASA,EAAO7sE,QAAQ,uBAAwB,4BACpD,CACK6pD,EAAapS,UAAUniB,WAAW,SAEnCytB,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,qCAAqC7pC,SAAQ,SAAU2rC,GACvFA,IAASgd,EAAahG,YAAYhX,KAClCggC,GAAUhgC,EAAKsN,UACftN,EAAKvd,SAEb,IAEAyzB,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,iCAAiC7pC,SAAQ,SAAU2rC,GACnFA,IAASgd,EAAahG,YAAYhX,KAClCggC,GAAUhgC,EAAKsN,UACftN,EAAKvd,SAEb,IAER,CAcA,GANe,oCAHfu9C,EAASA,EAAO7sE,QAAQ,8CAA+C,IAClEA,QAAQ,sCAAuC,IAC/CA,QAAQ,0CAA2C,MACL+iD,EAAO4N,KAAKyM,iBAC3DyP,EAAS,iCAAiC7sE,QAAQ,MAAO,MAAQ+iD,EAAO4N,KAAKyM,iBAEjFlM,EAAI,gBAAiB2b,EAAQ,WAAY9pB,EAAO78B,QAAQgtC,UACxD2Z,EAAS9pB,EAAOlR,KAAK0R,cAAcspB,GACnC3b,EAAI,gBAAiB2b,EAAQ,SAAU9pB,EAAO78B,QAAQgtC,UAClD6Z,EACAljB,EAAanc,UAAYm/B,OAIzB,GADAhjB,EAAa1P,UAAY0yB,EACrBla,EAAiB,CAEjB,IAAIQ,GAAsB,EAAGjnB,EAAmCg6B,IAAInjB,EAAOwL,QAAQxkB,QAAQW,cAAc,OAAQ,MACjH,GAAIyoB,EAAqB,CACrB,IAAIG,EAAqBvQ,EAAOwL,QAAQxkB,QAAQW,cAAc,wDAA2Dxd,OAAOimC,EAAoB7oB,aAAa,eAAgB,OAC7KgpB,GACAA,EAAmBnkB,aAAa,aAAcgkB,EAAoB/b,YAAYvgB,OAAOyd,OAAO,EAAG,IAEvG,CACJ,CAGJ,IAcI04B,EAdAxZ,EAAwBzQ,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,qCACpEyoB,EAAsBtyD,SAAQ,SAAU2rC,EAAMxvC,GAC5B,IAAVA,EACAyvE,EAA2BjgC,GAG3BigC,EAAyB5zB,mBAAmB,YAAarM,EAAKa,WAC9Db,EAAKvd,SAEb,IACIkkC,EAAsBrqE,OAAS,GAC/B45D,EAAOwL,QAAQxkB,QAAQoD,sBAAsB,YAAaqmB,EAAsB,IAIpF,IAAIC,EAAqB1Q,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,iCACjE0oB,EAAmBvyD,SAAQ,SAAU2rC,EAAMxvC,GACzB,IAAVA,EACA2vE,EAAyBngC,GAGzBmgC,EAAuB9zB,mBAAmB,YAAarM,EAAKa,WAC5Db,EAAKvd,SAEb,IACImkC,EAAmBtqE,OAAS,GAC5B45D,EAAOwL,QAAQxkB,QAAQoD,sBAAsB,YAAasmB,EAAmB,KAGjF,EAAGrnB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5D+2B,EAAOwL,QAAQxkB,QAAQgB,iBAAiB,6CACnC7pC,SAAQ,SAAU2rC,GACnBukB,EAAkBvkB,EAAMkW,EAC5B,IACInV,IAA8B,0BAApBA,EAAMqlB,WAA6D,yBAApBrlB,EAAMqlB,YAC/DlQ,EAAO78B,QAAQ29C,QAAQ1yB,SACvB4R,EAAOwL,QAAQ0e,qBAAqBlqB,GACpCA,EAAO78B,QAAQ29C,QAAQE,UAAUhhB,EAAOwL,QAAQuV,YAAY/gB,GAAQ,IAE5E,CACAyO,EAAUzO,GACV8U,EAAiB9U,EAAQ,CACrB6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,GAErB,EAGIoZ,GAAwE,SAAUC,EAAQC,GAE1F,OADIxkF,OAAOic,eAAkBjc,OAAOic,eAAesoE,EAAQ,MAAO,CAAE/gF,MAAOghF,IAAiBD,EAAOC,IAAMA,EAClGD,CACX,EACIE,GAAmE,SAAUvwE,EAASuyC,EAAYC,EAAGC,GAErG,OAAO,IAAKD,IAAMA,EAAI1oC,WAAU,SAAUsb,EAASmN,GAC/C,SAASmgB,EAAUpjD,GAAS,IAAMwzB,EAAK2vB,EAAU1mB,KAAKz8B,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC1F,SAASgnD,EAASrjD,GAAS,IAAMwzB,EAAK2vB,EAAiB,MAAEnjD,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC7F,SAASm3B,EAAKhiB,GAJlB,IAAexR,EAIawR,EAAOkrB,KAAO5G,EAAQtkB,EAAOxR,QAJ1CA,EAIyDwR,EAAOxR,MAJhDA,aAAiBkjD,EAAIljD,EAAQ,IAAIkjD,GAAE,SAAUptB,GAAWA,EAAQ91B,EAAQ,KAIjBsjD,KAAKF,EAAWC,EAAW,CAC7G7vB,GAAM2vB,EAAYA,EAAU3yC,MAAME,EAASuyC,GAAc,KAAKxmB,OAClE,GACJ,EACIykD,GAAuE,SAAUxwE,EAAS8yC,GAC1F,IAAsGC,EAAGpR,EAAG/1C,EAAGqS,EAA3GqH,EAAI,CAAE0tC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPrnD,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGsnD,KAAM,GAAIC,IAAK,IAChG,OAAOl1C,EAAI,CAAE8tB,KAAMqnB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXnsC,SAA0BhJ,EAAEgJ,OAAOW,UAAY,WAAa,OAAO6D,IAAM,GAAIxN,EACvJ,SAASm1C,EAAKtwC,GAAK,OAAO,SAAUuwC,GAAK,OACzC,SAAcnW,GACV,GAAI6V,EAAG,MAAM,IAAI/sC,UAAU,mCAC3B,KAAO/H,IAAMA,EAAI,EAAGi/B,EAAG,KAAO53B,EAAI,IAAKA,OACnC,GAAIytC,EAAI,EAAGpR,IAAM/1C,EAAY,EAARsxC,EAAG,GAASyE,EAAU,OAAIzE,EAAG,GAAKyE,EAAS,SAAO/1C,EAAI+1C,EAAU,SAAM/1C,EAAEK,KAAK01C,GAAI,GAAKA,EAAE5V,SAAWngC,EAAIA,EAAEK,KAAK01C,EAAGzE,EAAG,KAAKlR,KAAM,OAAOpgC,EAE3J,OADI+1C,EAAI,EAAG/1C,IAAGsxC,EAAK,CAAS,EAARA,EAAG,GAAQtxC,EAAE0D,QACzB4tC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtxC,EAAIsxC,EAAI,MACxB,KAAK,EAAc,OAAX53B,EAAE0tC,QAAgB,CAAE1jD,MAAO4tC,EAAG,GAAIlR,MAAM,GAChD,KAAK,EAAG1mB,EAAE0tC,QAASrR,EAAIzE,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAK53B,EAAE6tC,IAAInhC,MAAO1M,EAAE4tC,KAAKlhC,MAAO,SACxC,QACI,MAAkBpmB,GAAZA,EAAI0Z,EAAE4tC,MAAY7mD,OAAS,GAAKT,EAAEA,EAAES,OAAS,KAAkB,IAAV6wC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE53B,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAV43B,EAAG,MAActxC,GAAMsxC,EAAG,GAAKtxC,EAAE,IAAMsxC,EAAG,GAAKtxC,EAAE,IAAM,CAAE0Z,EAAE0tC,MAAQ9V,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAY53B,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAIA,EAAIsxC,EAAI,KAAO,CACpE,GAAItxC,GAAK0Z,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAI0Z,EAAE6tC,IAAI3lC,KAAK0vB,GAAK,KAAO,CAC9DtxC,EAAE,IAAI0Z,EAAE6tC,IAAInhC,MAChB1M,EAAE4tC,KAAKlhC,MAAO,SAEtBkrB,EAAK4V,EAAK7mD,KAAK+T,EAASsF,EAC5B,CAAE,MAAO3Z,GAAKuxC,EAAK,CAAC,EAAGvxC,GAAIg2C,EAAI,CAAG,CAAE,QAAUoR,EAAInnD,EAAI,CAAG,CACzD,GAAY,EAARsxC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5tC,MAAO4tC,EAAG,GAAKA,EAAG,QAAK,EAAQlR,MAAM,EAC9E,CAtBgDlJ,CAAK,CAAChgB,EAAGuwC,GAAK,CAAG,CAuBrE,EAkBIo1B,GAAoB,SAAU33B,EAAOmV,EAAQ0H,GAC7C,GAAsB,MAAlB7c,EAAMymB,SAAkC,KAAfzmB,EAAM4L,MAA6B,iBAAd5L,EAAM56C,KAAiD,OAAvB+vD,EAAOK,YAAsB,CAC3G,IAAIyG,GAAe,EAAG3d,EAAgC0hB,IAAInD,GAE1D,GAAIZ,GAAoD,KAApCA,EAAazS,YAAYvgB,OAEzC,OADAksB,EAAOA,EAAOK,aAAa2U,eAAgB,GACpC,CAEf,CACA,OAAO,CACX,EAEIyN,GAAiB,SAAUx5C,EAAO+2B,EAAQnV,GAC1C,KAAkB,UAAdA,EAAM56C,KAAiC,QAAd46C,EAAM56C,KAA+B,cAAd46C,EAAM56C,KAAuB46C,EAAM56C,IAAIhK,QAAQ,UAAY,IACxG,EAAG6mE,EAA0BoE,IAAIrmB,IAAwB,WAAdA,EAAM56C,KAAoB46C,EAAMumB,UAAYvmB,EAAMsmB,QADpG,CAIA,IAAIqZ,GAAa,EAAGrhC,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,OAC/E,EAAGve,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,MACtE,GAAI8iB,GAAuH,KAAzG,EAAGnhC,EAAiCwlB,IAAI2b,EAAYxqB,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,MAAa,CAEtHg2D,EAAWzY,YACXyY,EAAWzY,UAAYyY,EAAWzY,UAAU90D,QAAQ,UAAW,KAEnE,IAAIwtE,EAAWxjC,SAASqjB,eAAethB,EAA8BhxC,EAAE46C,MACvE3pB,EAAMohC,WAAWogB,GACjBxhD,EAAM2gC,cAAc6gB,EACxB,CAXA,CAYJ,EAEI5G,GAA0B,SAAU56C,EAAOh5B,GAC3C,GAAY,cAARA,GAA+B,YAARA,EAAmB,CAC1C,IAAIy6E,GAAgB,EAAGvhC,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa,iBAChG,EAAGve,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa,iBAChF,EAAGve,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa,eAChFgjB,IACY,cAARz6E,GACAg5B,EAAM2gC,cAAc8gB,EAAc3/B,eAE1B,YAAR96C,GACAg5B,EAAM0gC,eAAe+gB,EAAc3/B,eAG/C,CACJ,EACI4/B,GAAmB,SAAU3qB,EAAQ/zD,GACrC,IAAIg9B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C8G,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAC5DZ,IACAA,EAAa3Q,mBAAmBlqD,EAAU,qBAAuBk+B,OAAO6e,EAA8BhxC,EAAE46C,KAAM,iBAC9G,EAAGvJ,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE+yC,GAAiBhc,GACjB8O,GAAgB9O,GAExB,EACIokB,GAAc,SAAU7L,GACxB,IAAI9B,GAAe,EAAGttB,EAAqC2I,IAAIymB,EAAa,SAC5E,SAAI9B,IAAgBA,EAAaK,KAAK,GAAGE,MAAM,GAAG9M,WAAWqO,KAClD9B,CAGf,EACI6N,GAAa,SAAU/L,GACvB,IAAI9B,GAAe,EAAGttB,EAAqC2I,IAAIymB,EAAa,SAC5E,SAAI9B,IAAgBA,EAAa7L,iBAAiBA,iBAAiBA,iBAAiBV,WAAWqO,KACpF9B,CAGf,EAEImU,GAAiB,SAAUrS,EAAatvC,EAAO4hD,QAC5B,IAAfA,IAAyBA,GAAa,GAC1C,IAAI9U,EAAkBwC,EAAYtO,uBAqBlC,OApBK8L,IAEGA,EADAwC,EAAYxtB,cAAckf,uBACRsO,EAAYxtB,cAAckf,uBAAuBW,iBAEV,UAApD2N,EAAYxtB,cAAcA,cAAcoP,SAC7Coe,EAAYxtB,cAAcA,cAAckf,uBACtBsO,EAAYxtB,cACzBA,cAAckf,uBAAuBW,iBAAiBA,iBAGzC,MAGtBmL,IACA9sC,EAAMkgC,mBAAmB4M,GACpB8U,GACD5hD,EAAM4+B,UAAS,IAEnB,EAAGxe,EAAiCgC,IAAIpiB,IAErC8sC,CACX,EACI9G,GAAmB,SAAUjP,EAAQnV,EAAO5hB,EAAO+d,EAAS8f,GAC5D,IAAI76D,GAAW,EAAGo9C,EAAiCwlB,IAAI7nB,EAASgZ,EAAOA,EAAOK,aAAarZ,QAAS/d,GACpG,GAAmB,cAAd4hB,EAAM56C,MAAiG,IAA1E+2C,EAAQqN,YAAY2a,YAAYzd,OAAOtlD,EAASuoB,OAAOvuB,QAAQ,OAC9E,eAAd4kD,EAAM56C,KAAwBhE,EAASuoB,OAASwyB,EAAQqN,YAAY2a,YAAY5oE,OAAS,CAC1F,IAAIq1E,EAAc3U,EAAajG,mBAY/B,OAXK4a,GACAA,IAAwC,UAAxBA,EAAYthB,SAAuBshB,EAAYl0B,aAAa,eAC7Euf,EAAa3Q,mBAAmB,WAAY,qBAAuBhsB,OAAO6e,EAA8BhxC,EAAE46C,KAAM,eAChH,EAAGvJ,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,KAGxEA,EAAMkgC,mBAAmBsS,GACzBxyC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IAE5C4hB,EAAMwP,kBACC,CACX,CACA,OAAO,CACX,EACI0U,GAAoB,SAAU/O,EAAQnV,EAAO5hB,EAAO+d,EAAS8f,GAC7D,IAAI76D,GAAW,EAAGo9C,EAAiCwlB,IAAI7nB,EAASgZ,EAAOA,EAAOK,aAAarZ,QAAS/d,GACpG,GAAmB,YAAd4hB,EAAM56C,MAAsF,IAAjE+2C,EAAQqN,YAAY9C,OAAO,EAAGtlD,EAASuoB,OAAOvuB,QAAQ,QAClE,cAAd4kD,EAAM56C,KAAsC,cAAd46C,EAAM56C,KAA4C,KAArBg5B,EAAM5oB,aAC5C,IAAnBpU,EAASuoB,MAAc,CAC3B,IAAIuhD,EAAkBjP,EAAamD,uBAanC,OAXK8L,GACAA,IAAgD,UAA5BA,EAAgB5b,SAAuB4b,EAAgBxuB,aAAa,eACzFuf,EAAa3Q,mBAAmB,cAAe,qBAAuBhsB,OAAO6e,EAA8BhxC,EAAE46C,KAAM,eACnH,EAAGvJ,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,KAGxEA,EAAMkgC,mBAAmB4M,GACzB9sC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IAE5C4hB,EAAMwP,kBACC,CACX,CACA,OAAO,CACX,EACIsjB,GAAa,SAAU3d,EAAQ/2B,EAAOn5B,EAAMy0B,QAC7B,IAAXA,IAAqBA,GAAS,GAClC,IAAI0oC,GAAc,EAAG9jB,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,MAKpF,GAJA1H,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU0rE,GACzEA,EAAIt9C,QACR,IACAtD,EAAMohC,WAAWpjB,SAASI,cAAc,QACpC9iB,GAAU0oC,EAAa,CAGvB,IADA,IAAI6d,EAAQ,GACH3kF,EAAI,EAAGA,EAAI8mE,EAAYliB,cAAcggC,kBAAmB5kF,IAAK,CAClE,IAAIo9E,EAAetW,EAAYliB,cAAcjiD,SAAS3C,GAAGwhD,cAAc,SACnE47B,GACAA,EAAah3C,SAEjBu+C,GAAS,qBAAuB3gD,OAAO8iC,EAAYliB,cAAcjiD,SAAS3C,GAAGwkD,UAAUqgC,WAAY,OACvG,CACA/d,EAAYliB,cAAcoL,mBAAmB,cAAe20B,GAC5D7d,EAAYliB,cAAcxe,QAC9B,MAEI,GAAK0gC,EAuBD,GAAa,UAATn9D,EACAm9D,EAAYliB,cAAc/C,iBAAiB,MAAM7pC,SAAQ,SAAU2rC,GAC/DA,EAAKqM,mBAAmB,aAAc,4BAA8BhsB,OAAyC,IAAlC2f,EAAKuK,YAAYpuD,QAAQ,KAAa,GAAK,MACtH6jD,EAAKY,UAAU/jC,IAAI,cACvB,QAEC,CACGsmD,EAAYtlB,cAAc,UAC1BslB,EAAYliB,cAAc/C,iBAAiB,MAAM7pC,SAAQ,SAAU2rC,GAC/DA,EAAKnC,cAAc,SAASpb,SAC5Bud,EAAKY,UAAUne,OAAO,cAC1B,IAEJ,IAAIya,OAAU,EACD,SAATl3C,GACAk3C,EAAUC,SAASI,cAAc,OACzB+E,aAAa,cAAe,MAGpCpF,EAAUC,SAASI,cAAc,OACzB+E,aAAa,cAAe,MAExCpF,EAAQoF,aAAa,aAAc,KACnCpF,EAAQoF,aAAa,aAAc6gB,EAAYliB,cAAcxD,aAAa,eAC1EP,EAAQ2D,UAAYsiB,EAAYliB,cAAcJ,UAC9CsiB,EAAYliB,cAAcwO,WAAW0xB,aAAajkC,EAASimB,EAAYliB,cAC3E,KAjDc,CAEd,IAAI+b,GAAe,EAAG3d,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,aAAc,KAC/FZ,IACD9G,EAAOA,EAAOK,aAAarZ,QAAQW,cAAc,OAAOpb,UACxDu6B,EAAe9G,EAAOA,EAAOK,aAAarZ,QAAQW,cAAc,MACnDgD,UAAY,SAEhB,UAAT76C,GACAg3D,EAAa3Q,mBAAmB,cAAe,wEAA8EhsB,OAAO28B,EAAanc,UAAW,eAC5Jmc,EAAav6B,UAEC,SAATz8B,GACLg3D,EAAa3Q,mBAAmB,cAAe,0BAA4BhsB,OAAO28B,EAAanc,UAAW,eAC1Gmc,EAAav6B,UAEC,iBAATz8B,IACLg3D,EAAa3Q,mBAAmB,cAAe,0BAA4BhsB,OAAO28B,EAAanc,UAAW,eAC1Gmc,EAAav6B,SAErB,CAgCR,EACI2+C,GAAa,SAAUlrB,EAAQ6U,EAAW5rC,GAC1C,IAAI8sC,EAAkBlB,EAAU5K,uBAChC,GAAI4K,GAAakB,EAAiB,CAC9B,IAAIoV,EAAe,CAACtW,GACpB15D,MAAMo6C,KAAKtsB,EAAMmiD,gBAAgBtiF,UAAUqV,SAAQ,SAAU2rC,EAAMxvC,GACzC,IAAlBwvC,EAAKvxC,UAAkBs8D,GAAyC,KAA5B/qB,EAAKuK,YAAYvgB,QAClD+gC,EAAUttB,aAAa,kBAAoBuC,EAAKvC,aAAa,kBAClD,IAAVjtC,GACA6wE,EAAa5jE,KAAKstD,GAEtBA,EAAYA,EAAUhU,mBAE9B,IACAb,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU0rE,GACzEA,EAAIt9C,QACR,IACAtD,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC,IAAIgkC,EAAkBtV,EAAgBhrB,cAClCugC,EAAW,GACfH,EAAahtE,SAAQ,SAAU2rC,GAC3B,IAAIwmB,EAASxmB,EAAKvC,aAAa,eACT,IAAlB+oB,EAAOlqE,SACPkqE,EAAS,IAAInmC,OAAOmmC,EAAOpiE,OAAO,KAEtCo9E,GAAY,qBAAsBnhD,OAAO2f,EAAKvC,aAAa,gBAAiB,mBAAqBpd,OAAOmmC,EAAQ,MAAOnmC,OAAO2f,EAAKa,UAAW,SAC9Ib,EAAKvd,QACT,IACAwpC,EAAgB5f,mBAAmB,YAAa,IAAIhsB,OAAOkhD,EAAgBlxB,QAAS,oBAAsBhwB,OAAOmhD,EAAU,MAAMnhD,OAAOkhD,EAAgBlxB,QAAS,MACtI,YAAvB6F,EAAOK,YACPgrB,EAAgBj0B,UAAY4I,EAAOlR,KAAK0R,cAAc6qB,EAAgBj0B,WAGtEi0B,EAAgBj0B,UAAY4I,EAAOlR,KAAKyR,gBAAgB8qB,EAAgBj0B,YAE5E,EAAG/N,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE,IAAIsiD,GAAqB,EAAGpiC,EAA2B4mB,IAAI9mC,EAAMy+B,gBAC7D6jB,GACAA,EAAmBvjC,iBAAiB,WAAW7d,OAAO61B,EAAOK,YAAa,+BACrEliD,SAAQ,SAAU2rC,GACnBukB,EAAkBvkB,EAAMkW,GACG,YAAvBA,EAAOK,aACPvW,EAAKmgB,uBAAuB7d,aAAa,QAAS,eAE1D,IAEJ0iB,GAAgB9O,GAChBgc,GAAiBhc,EACrB,MAEIA,EAAOA,EAAOK,aAAarZ,QAAQuE,OAE3C,EACIigC,GAAc,SAAUxrB,EAAQ6U,EAAW5rC,EAAOw9B,GAClD,IAAIglB,GAAoB,EAAGtiC,EAAqC2I,IAAI+iB,EAAU9pB,cAAe,MAC7F,GAAI0gC,EAAmB,CACnBzrB,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU0rE,GACzEA,EAAIt9C,QACR,IACAtD,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC,IAAIgkC,EAAkBxW,EAAU9pB,cAC5B2gC,EAAuBL,EAAgBz1B,YACvC+1B,EAAe,CAAC9W,GACpB15D,MAAMo6C,KAAKtsB,EAAMmiD,gBAAgBtiF,UAAUqV,SAAQ,SAAU2rC,EAAMxvC,GACzC,IAAlBwvC,EAAKvxC,UAAkBs8D,GAAyC,KAA5B/qB,EAAKuK,YAAYvgB,QACrD+gC,EAAUttB,aAAa,kBAAoBuC,EAAKvC,aAAa,kBAC/C,IAAVjtC,GACAqxE,EAAapkE,KAAKstD,GAEtBA,EAAYA,EAAUhU,mBAE9B,IACA,IAAI+qB,GAAY,EACZC,EAAc,GAClBR,EAAgBrjC,iBAAiB,MAAM7pC,SAAQ,SAAU2rC,GACjD8hC,IACAC,GAAe/hC,EAAKsN,UACftN,EAAK+W,oBAAuB/W,EAAKmgB,uBAIlCngB,EAAKvd,SAHLud,EAAKiB,cAAcxe,UAMvBud,EAAKogB,WAAWyhB,EAAaA,EAAavlF,OAAS,MACnDwlF,GAAY,EAEpB,IACAD,EAAajoE,UAAUvF,SAAQ,SAAU2rC,GACrC2hC,EAAkBrhC,sBAAsB,WAAYN,EACxD,IACI+hC,IACAH,EAAqB/gC,UAAYkhC,EACjCF,EAAa,GAAGvhC,sBAAsB,YAAashC,IAE5B,YAAvB1rB,EAAOK,YACPoG,EAAerP,UAAY4I,EAAOlR,KAAK0R,cAAciG,EAAerP,WAGpEqP,EAAerP,UAAY4I,EAAOlR,KAAKyR,gBAAgBkG,EAAerP,YAE1E,EAAG/N,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE,IAAIsiD,GAAqB,EAAGpiC,EAA2B4mB,IAAI9mC,EAAMy+B,gBAC7D6jB,GACAA,EAAmBvjC,iBAAiB,WAAW7d,OAAO61B,EAAOK,YAAa,+BACrEliD,SAAQ,SAAU2rC,GACnBukB,EAAkBvkB,EAAMkW,GACG,YAAvBA,EAAOK,aACPvW,EAAKmgB,uBAAuB7d,aAAa,QAAS,eAE1D,IAEJ0iB,GAAgB9O,GAChBgc,GAAiBhc,EACrB,MAEIA,EAAOA,EAAOK,aAAarZ,QAAQuE,OAE3C,EACImsB,GAAgB,SAAUjB,EAAc3mE,GAKxC,IAJA,IAAIuuE,EAAO7yB,eAAeE,WAAW,GAAGgc,eAAe3c,cACnD+gC,EAAYrV,EAAaK,KAAK,GAAGE,MAAM5wE,OACvC2lF,EAAStV,EAAaK,KAAK1wE,OAC3B4lF,EAAgB,EACX7lF,EAAI,EAAGA,EAAI4lF,EAAQ5lF,IACxB,IAAK,IAAI8zC,EAAI,EAAGA,EAAI6xC,EAAW7xC,IAC3B,GAAIw8B,EAAaK,KAAK3wE,GAAG6wE,MAAM/8B,GAAGiwB,WAAWmU,GAAO,CAChD2N,EAAgB/xC,EAChB,KACJ,CAGR,IAAK,IAAIuY,EAAI,EAAGA,EAAIu5B,EAAQv5B,IACxBikB,EAAaK,KAAKtkB,GAAGwkB,MAAMgV,GAAe5/B,aAAa,QAASt8C,EAExE,EACIs/D,GAAS,SAAUl4B,GAEnB,IAAIo5B,EAASp5B,EAAK83B,YAAY9vD,MAAM,MAAM6M,MAC1C,MAAe,KAAXukD,IAG+B,KAA/BA,EAAOrzD,QAAQ,OAAQ,KACW,KAA/BqzD,EAAOrzD,QAAQ,OAAQ,KACS,KAAhCqzD,EAAOrzD,QAAQ,QAAS,MACvBqzD,EAAOrzD,QAAQ,KAAM,IAAI7W,OAAS,KAC9BkqE,EAAOrqE,QAAQ,MAAQ,IAAyC,IAApCqqE,EAAO0a,WAAW/kF,QAAQ,MACnDixC,EAAK83B,YAAY9vD,MAAM,MAAM9Y,OAAS,IAId,IAA3BkqE,EAAOrqE,QAAQ,SAA0C,IAAzBqqE,EAAOrqE,QAAQ,KAS/D,EACIopE,GAAc,SAAUn4B,GAExB,IAAI+0C,EAAY/0C,EAAK83B,YAAY9vD,MAAM,MAEvC,OAA6B,KAD7Bg4B,EAAO+0C,EAAUlgE,OACR9lB,QAAQ,SAAwC,IAAvBixC,EAAKjxC,QAAQ,OAIlC,MADbixC,EAAOA,EAAK8zC,aAC4B,IAArBiB,EAAU7lF,SAGE,KAA3B8wC,EAAKj6B,QAAQ,KAAM,KACW,KAA3Bi6B,EAAKj6B,QAAQ,KAAM,IAI9B,EACI6xD,GAAkB,SAAU9O,EAAQ78B,QACpB,IAAZA,IAAsBA,EAAU,CAChC0tC,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEU,YAAvB/Q,EAAOK,YACPyU,EAAiB9U,EAAQ78B,GAEG,OAAvB68B,EAAOK,YACZuQ,GAA2B5Q,EAAQ78B,GAEP,OAAvB68B,EAAOK,aACZoS,GAAmBzS,EAAQ78B,EAEnC,EACIy/C,GAAU,SAAU35C,EAAO+2B,EAAQyV,EAAU5qB,GAC7C,IAAIliD,EACA++D,EAAiBz+B,EAAMy+B,eACvBmN,GAAY,EAAG1rB,EAAqC2I,IAAI4V,EAAgB,MAC5E,GAAImN,EAAW,CACX,KAAK,EAAG/H,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,MAEjE46C,EAAMumB,UAAYqE,GAAYZ,EAAU/pB,SAAS2qB,IAAaA,EAAS5U,mBASzE,OARIgU,IAAcA,EAAUxgB,YAAYvlB,SAAS,OAE7C+lC,EAAUsR,mBAAmB,YAAa,MAE9Cl9C,EAAMohC,WAAWpjB,SAASqjB,eAAe,SACzCrhC,EAAM4+B,UAAS,GACfiH,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAEX,MAAK,EAAGyS,EAA0BoE,IAAIrmB,IAAWA,EAAMumB,UAAavmB,EAAMsmB,QAAwB,cAAdtmB,EAAM56C,KACrF4kE,EAAU5K,wBAA+C,KAArBhhC,EAAM5oB,YAC6D,KAAxG,EAAGgpC,EAAiCwlB,IAAIgG,EAAW7U,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,OAY9F,OAVIqgD,EAAUhU,oBACVgU,EAAU9pB,cAAcoL,mBAAmB,cAAe,0BAA4BhsB,OAAO0qC,EAAUlqB,UAAW,SAClHkqB,EAAUtoC,UAGVsoC,EAAU9pB,cAAcqM,UAAY,0BAA4BjtB,OAAO0qC,EAAUlqB,UAAW,SAEhG,EAAGtB,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAGX,KAAK,EAAGyS,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QAAwB,cAAdtmB,EAAM56C,KACH,KAAnF4kE,EAAUxgB,YAAYvgB,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KACtD,KAArB3pB,EAAM5oB,YAAmH,QAAjD,QAA3C1X,EAAKksE,EAAU5K,8BAA2C,IAAPthE,OAAgB,EAASA,EAAGwxD,SAQ5G,OAPA0a,EAAU5K,uBAAuBkc,mBAAmB,YAAa,QACjEl9C,EAAMkgC,mBAAmB0L,EAAU5K,wBACnChhC,EAAM4+B,UAAS,GACfgN,EAAUtoC,UACV,EAAG8c,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAEX,KAAK,EAAGyS,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,QAAwB,QAAdtmB,EAAM56C,IAAe,CAElF,IAAIgyE,GAAU,EAad,IAZ0B,IAAtBh5C,EAAMm/B,cAC2B,IAA5BV,EAAenvD,WAAmBmvD,EAAeyC,iBAClB,IAA5BzC,EAAenvD,UAA8C,OAA5BmvD,EAAehO,WAInDmb,EAAUnqB,UAAUI,SAAS,gBAAwC,IAAtB7hB,EAAMm/B,aACX,IAA5CV,EAAeyC,gBAAgB5xD,UACY,UAA3CmvD,EAAeyC,gBAAgBhQ,WAJlC8nB,GAAU,GAQVA,GAAgC,KAArBh5C,EAAM5oB,WAQjB,OAPIwqC,EAAMumB,SACNoa,GAAYxrB,EAAQ6U,EAAW5rC,EAAO4rC,EAAU9pB,eAGhDmgC,GAAWlrB,EAAQ6U,EAAW5rC,GAElC4hB,EAAMwP,kBACC,CAEf,CACJ,CACA,OAAO,CACX,EAEI2nB,GAAS,SAAUhiB,EAAQ/2B,EAAO4hB,GAClC,GAAImV,EAAO78B,QAAQ+oD,KAAqB,QAAdrhC,EAAM56C,IAkB5B,OAjBI46C,EAAMumB,WAImB,KAArBnoC,EAAM5oB,YACN4oB,EAAMohC,WAAWpjB,SAASqjB,eAAetK,EAAO78B,QAAQ+oD,MACxDjjD,EAAM4+B,UAAS,KAGf5+B,EAAMo5C,kBACNp5C,EAAMohC,WAAWpjB,SAASqjB,eAAetK,EAAO78B,QAAQ+oD,MACxDjjD,EAAM4+B,UAAS,MAGvB,EAAGxe,EAAiCgC,IAAIpiB,GACxC6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,CAEf,EACIsoB,GAAc,SAAU93B,EAAOmV,EAAQyV,EAAUxsC,GACjD,GAAKwsC,EAAL,CAGA,KAAK,EAAG3I,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,IAAiB,CACpF,IAAIk8E,EAAQrsE,OAAOuqE,IAAIpW,IAAqBA,EAAmBkW,GAAqB,CAAC,GAAI,IAAK,CAAC,GAAI,MAAO1U,EAASphB,aAAap3C,QAAQ,QAAS,IAAI62B,OACjJs4C,EAAYD,EAAMjtE,MAAM,KAC5B,GAAIitE,EAAM55C,WAAW,MAAQ45C,EAAMr9C,SAAS,MAAQs9C,EAAUhmF,OAAS,EAAG,CAEtE,IAAIimF,EAAgBD,EAAUluE,KAAI,WAAc,MAAO,KAAO,IAAGrH,KAAK,KAQtE,OAPAw1E,EACI5W,EAASphB,YAAc,KAAOg4B,EAAcj4C,UAAU,EAAGi4C,EAAcjmF,OAAS,GAAK,WACzFqvE,EAASre,UAAY4I,EAAOlR,KAAK0R,cAAc6rB,IAC/C,EAAGhjC,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBmT,GAAanT,GACbnV,EAAMwP,kBACC,CACX,CAEA,GAAI+U,GAAOqG,EAAS9qB,YAAc8qB,EAASxL,uBAAwB,CAE/D,IAAIqiB,EAAa,GACbC,EAAgB9W,EAAS9qB,UAAUqkB,YAAY9vD,MAAM,MAWzD,OAVIqtE,EAAcnmF,OAAS,IACvBmmF,EAAcxgE,MACdugE,EAAa,qBAAuBniD,OAAOoiD,EAAc11E,KAAK,MAAO,SAEzE4+D,EAAStf,mBAAmB,WAAY,GAAGhsB,OAAOmiD,EAAY,qDAC9D7W,EAASlpC,UACT,EAAG8c,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBmT,GAAanT,GACbnV,EAAMwP,kBACC,CACX,CACA,GAAIgV,GAAYoG,EAAS9qB,WAYrB,MAV2B,YAAvBqV,EAAOK,YACPoV,EAASre,UAAY4I,EAAOlR,KAAK0R,cAAciV,EAAS9qB,UAAY,iCAGpE8qB,EAASre,UAAY4I,EAAOlR,KAAKyR,gBAAgBkV,EAAS9qB,UAAY,kCAE1E,EAAGtB,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBmT,GAAanT,GACbnV,EAAMwP,kBACC,CAEf,CAEA,GAAIpxB,EAAM4oC,WAAa4D,EAASxL,wBAAwC,cAAdpf,EAAM56C,OAC3D,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,SAAWtmB,EAAMumB,UACpEqE,EAASphB,YAAY2a,YAAY9vD,MAAM,MAAM9Y,OAAS,GACiD,KAAvG,EAAGijD,EAAiCwlB,IAAI4G,EAAUzV,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,MAAa,CAC1G,IAAIg4D,GAAc,EAAGrjC,EAA4BsjC,IAAIhX,EAASxL,wBAO9D,OANKuiB,EAAYn4B,YAAYvlB,SAAS,QAClC09C,EAAYn4B,YAAcm4B,EAAYn4B,YAAc,MAExDm4B,EAAYzhC,cAAcoL,mBAAmB,YAAa,QAAQhsB,OAAOsrC,EAAS9qB,YAClF8qB,EAASlpC,UACT,EAAG8c,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,IACjE,CACX,CACA,OAAO,CA9DP,CA+DJ,EACIuvC,GAAY,SAAUxY,EAAQ/2B,EAAOsvC,GAErC,IADA,IAAIhB,EAAU,GACLpxB,EAAI,EAAGA,EAAIoyB,EAAYxtB,cAAcggC,kBAAmB5kC,IAC7DoxB,GAAW,cAAeptC,OAAOouC,EAAYxtB,cAAcjiD,SAASq9C,GAAGoB,aAAa,SAAU,YAEtE,OAAxBgxB,EAAYpe,QACZoe,EAAYxtB,cAAcA,cAAcoL,mBAAmB,WAAY,cAAchsB,OAAOotC,EAAS,kBAGrGgB,EAAYxtB,cAAcoL,mBAAmB,WAAY,OAAOhsB,OAAOotC,EAAS,UAEpFzI,GAAgB9O,EACpB,EACI0Y,GAAiB,SAAU1Y,EAAQ/2B,EAAOsvC,GAE1C,IADA,IAAIhB,EAAU,GACLpxB,EAAI,EAAGA,EAAIoyB,EAAYxtB,cAAcggC,kBAAmB5kC,IACjC,OAAxBoyB,EAAYpe,QACZod,GAAW,cAAeptC,OAAOouC,EAAYxtB,cAAcjiD,SAASq9C,GAAGoB,aAAa,SAAU,YAG9FgwB,GAAW,cAAeptC,OAAOouC,EAAYxtB,cAAcjiD,SAASq9C,GAAGoB,aAAa,SAAU,YAGtG,GAA4B,OAAxBgxB,EAAYpe,QAAkB,CAC9Boe,EAAYxtB,cAAcA,cAAcoL,mBAAmB,cAAe,cAAchsB,OAAOotC,EAAS,kBACxGtuC,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC,IAAIqlC,EAAYnU,EAAYxtB,cAAcJ,UAAU1tC,QAAQ,QAAS,QAAQA,QAAQ,UAAW,SAChGs7D,EAAYxtB,cAAcA,cAAc8V,mBAAmB1K,mBAAmB,aAAcu2B,GAC5FnU,EAAYxtB,cAAcA,cAAcxe,UACxC,EAAG8c,EAA6BsnB,IAAI3Q,EAAO0L,GAAG1kB,QAAS/d,EAC3D,MAEIsvC,EAAYxtB,cAAcoL,mBAAmB,cAAe,OAAOhsB,OAAOotC,EAAS,UAEvFzI,GAAgB9O,EACpB,EACI6Y,GAAe,SAAU7Y,EAAQyW,EAAc8B,EAAazoE,QAC/C,IAATA,IAAmBA,EAAO,YAG9B,IAFA,IAAIwK,EAAQ,EACRy7D,EAAkBwC,EAAYtO,uBAC3B8L,GACHz7D,IACAy7D,EAAkBA,EAAgB9L,uBAEtC,IAAK,IAAI9jE,EAAI,EAAGA,EAAIswE,EAAaK,KAAK1wE,OAAQD,IAChC,IAANA,EACAswE,EAAaK,KAAK3wE,GAAG6wE,MAAM18D,GAAO67C,mBAAmBrmD,EAAM,cAG3D2mE,EAAaK,KAAK3wE,GAAG6wE,MAAM18D,GAAO67C,mBAAmBrmD,EAAM,cAGnEg/D,GAAgB9O,EACpB,EACIiZ,GAAY,SAAUjZ,EAAQ/2B,EAAOsvC,GACrC,GAA4B,OAAxBA,EAAYpe,QAAkB,CAC9B,IAAIwyB,EAAepU,EAAYxtB,cAAcA,cACzCwtB,EAAYxtB,cAAckf,uBAC1BhhC,EAAMkgC,mBAAmBoP,EAAYxtB,cAAckf,uBAAuBW,kBAG1E3hC,EAAMkgC,mBAAmBwjB,EAAa1iB,uBAAuBW,iBAAiBA,kBAE3C,IAAnC+hB,EAAa5B,kBACb4B,EAAapgD,SAGbgsC,EAAYxtB,cAAcxe,SAE9BtD,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACxC6lC,GAAgB9O,EACpB,CACJ,EACImZ,GAAe,SAAUnZ,EAAQ/2B,EAAOwtC,EAAc8B,GAGtD,IAFA,IAAIj+D,EAAQ,EACRy7D,EAAkBwC,EAAYtO,uBAC3B8L,GACHz7D,IACAy7D,EAAkBA,EAAgB9L,wBAElCsO,EAAYtO,wBAA0BsO,EAAY1X,sBAClD53B,EAAMkgC,mBAAmBoP,EAAYtO,wBAA0BsO,EAAY1X,oBAC3E53B,EAAM4+B,UAAS,IAEnB,IAAK,IAAI1hE,EAAI,EAAGA,EAAIswE,EAAaK,KAAK1wE,OAAQD,IAAK,CAC/C,IAAI6wE,EAAQP,EAAaK,KAAK3wE,GAAG6wE,MACjC,GAAqB,IAAjBA,EAAM5wE,OAAc,CACpBqwE,EAAalqC,SACbyvC,GAAiBhc,GACjB,KACJ,CACAgX,EAAM18D,GAAOiyB,QACjB,EACA,EAAG8c,EAAiCgC,IAAIpiB,GACxC6lC,GAAgB9O,EACpB,EACI6iB,GAAW,SAAU7iB,EAAQnV,EAAO5hB,GACpC,IAAIy+B,EAAiBz+B,EAAMy+B,eACvB6Q,GAAc,EAAGpvB,EAAqC2I,IAAI4V,EAAgB,QAC1E,EAAGve,EAAqC2I,IAAI4V,EAAgB,MAChE,GAAI6Q,EAAa,CAEb,KAAK,EAAGzL,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,IAAiB,CAC/EsoE,EAAY3N,oBACZ2N,EAAY3N,kBAAsB2N,EAAY3N,iBAAiBV,WAAWqO,EAAYtR,YAC1C,OAAzCsR,EAAY3N,iBAAiBzQ,UACjCoe,EAAYpiB,mBAAmB,YAAa,QAEhD,IAAIy2B,EAAY3lC,SAASI,cAAc,MAMvC,OALApe,EAAMohC,WAAWuiB,GACjB3jD,EAAM2gC,cAAcgjB,GACpB9d,GAAgB9O,GAChBmT,GAAanT,GACbnV,EAAMwP,kBACC,CACX,CAEA,GAAkB,QAAdxP,EAAM56C,IACN,OAAI46C,EAAMumB,UAENwZ,GAAerS,EAAatvC,GAC5B4hB,EAAMwP,kBACC,KAEPohB,EAAclD,EAAY1X,sBAGtB4a,EADAlD,EAAYxtB,cAAc8V,mBACZ0X,EAAYxtB,cAAc8V,mBAAmBD,kBAEF,UAApD2X,EAAYxtB,cAAcA,cAAcoP,SAC7Coe,EAAYxtB,cAAcA,cAAc8V,mBAEpC0X,EAAYxtB,cAAcA,cAAc8V,mBAAmBD,kBAAkBA,kBAGnE,MAGlB6a,IACAxyC,EAAMkgC,mBAAmBsS,IACzB,EAAGpyB,EAAiCgC,IAAIpiB,IAE5C4hB,EAAMwP,kBACC,GAEX,IAAIoc,EAAe8B,EAAYxtB,cAAcA,cAAcA,cAC3D,GAAkB,YAAdF,EAAM56C,IAAmB,CAEzB,GADA46C,EAAMwP,iBACsB,OAAxBke,EAAYpe,QASZ,OARIsc,EAAaxM,wBACbhhC,EAAMkgC,mBAAmBsN,EAAaxM,wBACtChhC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IAGxC0hD,GAAiB3qB,EAAQ,gBAEtB,EAIX,IAFA,IAAI7Z,EAAI,EACJ0mC,EAAYtU,EAAYxtB,cACrB5E,EAAI0mC,EAAU7V,MAAM5wE,SACnBymF,EAAU7V,MAAM7wB,GAAG+jB,WAAWqO,GADHpyB,KAKnC,IAAI4vB,EAAkB8W,EAAU5iB,uBAOhC,OANK8L,IACDA,EAAkB8W,EAAU9hC,cAAckf,uBAAuBtR,YAErE1vB,EAAMkgC,mBAAmB4M,EAAgBiB,MAAM7wB,IAC/Cld,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IACjC,CACX,CACA,GAAkB,cAAd4hB,EAAM56C,IAAqB,CAE3B,IAkBIwrE,EAjBJ,GAFA5wB,EAAMwP,mBACFwyB,EAAYtU,EAAYxtB,eACb8V,oBAA8C,OAAxB0X,EAAYpe,QAS7C,OARIsc,EAAa5V,oBACb53B,EAAMkgC,mBAAmBsN,EAAa5V,oBACtC53B,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IAGxC0hD,GAAiB3qB,EAAQ,aAEtB,EAGX,IADI7Z,EAAI,EACDA,EAAI0mC,EAAU7V,MAAM5wE,SACnBymF,EAAU7V,MAAM7wB,GAAG+jB,WAAWqO,GADHpyB,KAYnC,OAPIs1B,EAAcoR,EAAUhsB,sBAExB4a,EAAcoR,EAAU9hC,cAAc8V,mBAAmBlI,YAE7D1vB,EAAMkgC,mBAAmBsS,EAAYzE,MAAM7wB,IAC3Cld,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IACjC,CACX,CAEA,GAA2B,YAAvB+2B,EAAOK,eACN,EAAGyM,EAA0BoE,IAAIrmB,IAAwB,UAAdA,EAAM56C,MAAoB46C,EAAMumB,UAAYvmB,EAAMsmB,OAAQ,CACtG,IAAIoS,EAAevjB,EAAOwL,QAAQqC,QAAQlmB,cAAc,iBAIxD,OAHA47B,EAAah4B,QACbg4B,EAAa/J,SACb3uB,EAAMwP,kBACC,CACX,CAEA,KAAK,EAAGyS,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QAAwB,cAAdtmB,EAAM56C,KAC7D,IAAtBg5B,EAAMm/B,aAA0C,KAArBn/B,EAAM5oB,WAcpC,OAb0BuqE,GAAerS,EAAatvC,GAAO,IACjCwtC,IACgB,KAApCA,EAAapiB,YAAYvgB,QACzB2iC,EAAarf,UAAY,iCACzB,EAAG/N,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,KAGxEA,EAAM0gC,eAAe8M,GACrBxtC,EAAM4+B,UAAS,IAEnBiH,GAAgB9O,IAEpBnV,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,MAAOnmB,GAGnB,OAFA6tB,GAAe1Y,EAAQ/2B,EAAOsvC,GAC9B1tB,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,KAAMnmB,GAGlB,OAFA2tB,GAAUxY,EAAQ/2B,EAAOsvC,GACzB1tB,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,MAAOnmB,GAGnB,OAFAguB,GAAa7Y,EAAQyW,EAAc8B,EAAa,eAChD1tB,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,MAAOnmB,GAGnB,OAFAguB,GAAa7Y,EAAQyW,EAAc8B,GACnC1tB,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,KAAMnmB,GAGlB,OAFAouB,GAAUjZ,EAAQ/2B,EAAOsvC,GACzB1tB,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,MAAOnmB,GAGnB,OAFAsuB,GAAanZ,EAAQ/2B,EAAOwtC,EAAc8B,GAC1C1tB,EAAMwP,kBACC,EAGX,GAAI2W,EAAY,MAAOnmB,GAAQ,CAC3B,GAA2B,OAAvBmV,EAAOK,YAIP,OAHAqX,GAAcjB,EAAc,QAC5B3H,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAIP,GADI4S,EAAcjN,EAAOwL,QAAQqC,QAAQlmB,cAAc,sBAInD,OAFAslB,EAAYgJ,QACZprB,EAAMwP,kBACC,CAGnB,CAEA,GAAI2W,EAAY,MAAOnmB,GAAQ,CAC3B,GAA2B,OAAvBmV,EAAOK,YAIP,OAHAqX,GAAcjB,EAAc,UAC5B3H,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAIP,GADI4S,EAAcjN,EAAOwL,QAAQqC,QAAQlmB,cAAc,wBAInD,OAFAslB,EAAYgJ,QACZprB,EAAMwP,kBACC,CAGnB,CAEA,GAAI2W,EAAY,MAAOnmB,GAAQ,CAC3B,GAA2B,OAAvBmV,EAAOK,YAIP,OAHAqX,GAAcjB,EAAc,SAC5B3H,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAGP,IAAI4S,EACJ,GADIA,EAAcjN,EAAOwL,QAAQqC,QAAQlmB,cAAc,uBAInD,OAFAslB,EAAYgJ,QACZprB,EAAMwP,kBACC,CAGnB,CACJ,CACA,OAAO,CACX,EACI2oB,GAAe,SAAUhjB,EAAQnV,EAAOi4B,EAAmB75C,GAE3D,GAAkC,QAA9B65C,EAAkB3oB,SAAqB6W,EAAY,KAAMnmB,GAGzD,OAFA5hB,EAAMkgC,mBAAmB2Z,EAAkBliB,mBAC3C/V,EAAMwP,kBACC,EAIX,GAAI2F,EAAO78B,QAAQ+oD,KAAqB,QAAdrhC,EAAM56C,MAAkB46C,EAAMumB,UAAiC,KAArBnoC,EAAM5oB,WAKtE,OAJA4oB,EAAMohC,WAAWpjB,SAASqjB,eAAetK,EAAO78B,QAAQ+oD,MACxDjjD,EAAM4+B,UAAS,GACfiH,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAGX,GAAkB,cAAdxP,EAAM56C,OAAwB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,OAAQ,CAC3G,IAAI2b,GAAe,EAAGzjC,EAAiCwlB,IAAIiU,EAAmB9iB,EAAOA,EAAOK,aAAarZ,QAAS/d,GAClH,IAA4B,IAAvB6jD,EAAat4D,OACU,IAAvBs4D,EAAat4D,OAA+C,OAAhCsuD,EAAkBpuB,YACvB,KAArBzrB,EAAM5oB,WAMT,OALAyiE,EAAkB/3B,cAAcqM,UAC5B,0BAA4BjtB,OAAO24C,EAAkBliB,kBAAkBjW,UAAW,SACtF,EAAGtB,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,CAEf,CAEA,QAAK,EAAGyS,EAA0BoE,IAAIrmB,KAAWA,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,MAC9D6yE,EAAkBliB,kBAAkBvM,YAAYvlB,SAAS,OAC1Dg0C,EAAkBliB,kBAAkBulB,mBAAmB,YAAa,MAExEl9C,EAAMo5C,kBACNp5C,EAAMohC,WAAWpjB,SAASqjB,eAAe,OACzCrhC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,IACnC,EAAG6jC,EAA6B0E,QACN,YAAvBxR,EAAOK,YACPqpB,GAAY1pB,EAAQ/2B,GAGpBzf,EAAMw2C,EAAQ/2B,IAGtBkqC,GAAanT,GACbnV,EAAMwP,kBACC,EAGf,EACI4oB,GAAgB,SAAUjjB,EAAQ/2B,EAAO4hB,EAAO4qB,GAChD,IAAI/N,EAAiBz+B,EAAMy+B,eACvBoI,GAAoB,EAAG3mB,EAAqC2I,IAAI4V,EAAgB,cACpF,GAAIoI,GAA0C,KAArB7mC,EAAM5oB,WAAmB,CAC9C,GAAkB,cAAdwqC,EAAM56C,OAAwB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QACa,KAAhH,EAAG9nB,EAAiCwlB,IAAIiB,EAAmB9P,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,MAOtG,OALAyU,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCyoB,EAAkB1Y,UAAY0Y,EAAkBnlB,WAChD,EAAGtB,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,EAEX,GAAIob,GAA0B,UAAd5qB,EAAM56C,OAAoB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QACrE,eAAnCsE,EAAS1qB,cAAcoP,QAA0B,CAEpD,IAAItqB,GAAU,EAcd,GAb6E,OAAzE4lC,EAAS9qB,UAAU1tC,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KACQ,KAAzE6iB,EAAS9qB,UAAU1tC,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAEjE/iB,GAAU,EACV4lC,EAASlpC,UAEJkpC,EAAS9qB,UAAU7b,SAAS,UACjC,EAAGua,EAAiCwlB,IAAI4G,EAAUzV,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,QACzFihD,EAASphB,YAAYjuD,OAAS,IAElCqvE,EAAS9qB,UAAY8qB,EAAS9qB,UAAU4G,OAAO,EAAGkkB,EAAS9qB,UAAUvkD,OAAS,GAC9EypC,GAAU,GAEVA,EAMA,OAJAigC,EAAkB3Z,mBAAmB,WAAY,qBAAuBhsB,OAAO6e,EAA8BhxC,EAAE46C,KAAM,iBACrH,EAAGvJ,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,CAEf,CACA,IAAIyM,GAAe,EAAG3d,EAAgC0hB,IAAInD,GAC1D,GAA2B,YAAvB1H,EAAOK,aAA6ByG,GAAgBkK,EAAY,MAAOnmB,GAOvE,OALA5hB,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCyf,EAAa1P,UAAY,8BAAgCjtB,OAAO28B,EAAa1P,UAAW,kBACxF,EAAG/N,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,GAC5D6rC,EAAiB9U,GACjBnV,EAAMwP,kBACC,EAEX,GAAI4U,GAAiBjP,EAAQnV,EAAO5hB,EAAO6mC,EAAmBA,GAC1D,OAAO,EAEX,GAAIf,GAAkB/O,EAAQnV,EAAO5hB,EAAO6mC,EAAmBA,GAC3D,OAAO,CAEf,CACA,OAAO,CACX,EACIuT,GAAU,SAAUrjB,EAAQ/2B,EAAO4hB,GACnC,IAAI6c,EAAiBz+B,EAAMy+B,eACvBqlB,GAAkB,EAAG5jC,EAAsC4I,IAAI2V,EAAgB,eACnF,GAAIqlB,EAAiB,CACjB,GAAI/b,EAAY,MAAOnmB,GAAQ,CAE3B,IAAI04B,EAAewJ,EAAgBnsB,kBASnC,OARI2iB,EAAa12E,QACb02E,EAAax7B,gBAAgB,WAG7Bw7B,EAAan3B,aAAa,UAAW,WAEzC0iB,GAAgB9O,GAChBnV,EAAMwP,kBACC,CACX,CAEA,GAAkB,cAAdxP,EAAM56C,OAAwB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,QAA+B,KAArBloC,EAAM5oB,YAC1F,IAAtB4oB,EAAMm/B,cACwB,IAA5BV,EAAenvD,UAAkBmvD,EAAeyC,iBACN,UAA3CzC,EAAeyC,gBAAgBhQ,SACA,IAA5BuN,EAAenvD,UAAiB,CACvC,IAAIw9D,EAAkBgX,EAAgB9iB,uBAmBtC,OAlBA8iB,EAAgBplC,cAAc,SAASpb,SACnCwpC,IACe,EAAG5sB,EAA4BsjC,IAAI1W,GACzChrB,cAAcoL,mBAAmB,YAAa,QAAU42B,EAAgBpiC,UAAU7W,QAC3Fi5C,EAAgBxgD,WAGhBwgD,EAAgBhiC,cAAcoL,mBAAmB,cAAe,0BAA4BhsB,OAAO4iD,EAAgBpiC,UAAU7W,QAAU,KAAM,SACzIi5C,EAAgBlsB,mBAChBksB,EAAgBxgD,SAGhBwgD,EAAgBhiC,cAAcxe,WAGtC,EAAG8c,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,CACX,CACA,GAAkB,UAAdxP,EAAM56C,OAAoB,EAAG68D,EAA0BoE,IAAIrmB,KAAWA,EAAMumB,WAAavmB,EAAMsmB,OAAQ,CACvG,GAA2C,KAAvC4b,EAAgB14B,YAAYvgB,OAE5B,IAAI,EAAGqV,EAAsC4I,IAAIg7B,EAAgBhiC,cAAe,eAAgB,CAE5F,IAAI0b,GAAiB,EAAGtd,EAA2B4mB,IAAIrI,GACnDjB,GACA+kB,GAAYxrB,EAAQ+sB,EAAiB9jD,EAAOw9B,EAEpD,MAGI,GAAIsmB,EAAgBlsB,mBAAoB,CAEpC,IAAImsB,EAAc,GACdC,EAAe,GACfC,GAAY,EAChB/xE,MAAMo6C,KAAKw3B,EAAgBhiC,cAAcjiD,UAAUqV,SAAQ,SAAUgvE,GAC7DJ,EAAgB7iB,WAAWijB,GAC3BD,GAAY,EAGRA,EACAF,GAAeG,EAAS/1B,UAGxB61B,GAAgBE,EAAS/1B,SAGrC,IACA,IAAIg2B,EAAgBL,EAAgBhiC,cAAcoP,QAC9CkzB,EAAuD,OAA1CN,EAAgBhiC,cAAcoP,QAAmB,GAAK,iBAAkBhwB,OAAO4iD,EAAgBhiC,cAAcxD,aAAa,eAAgB,KACvJ+lC,EAAiB,GACjBL,IACAK,EAA2D,OAA1CP,EAAgBhiC,cAAcoP,QAAmB,GAAK,aACvE8yB,EAAe,IAAI9iD,OAAOijD,EAAe,sBAAwBjjD,OAAOkjD,EAAY,oBAAsBljD,OAAO8iD,EAAc,MAAM9iD,OAAOijD,EAAe,MAI/JL,EAAgBhiC,cAAcqM,UAAY,GAAGjtB,OAAO8iD,EAAc,kCAAoC9iD,OAAOijD,EAAe,wBAA0BjjD,OAAOkjD,EAAY,mBAAqBljD,OAAOmjD,EAAgB,KAAKnjD,OAAO6iD,EAAa,MAAM7iD,OAAOijD,EAAe,IAC9Q,MAGIL,EAAgBhiC,cAAcoL,mBAAmB,WAAY,iCACO,IAAhE42B,EAAgBhiC,cAAc/C,iBAAiB,MAAM5hD,OAErD2mF,EAAgBhiC,cAAcxe,SAI9BwgD,EAAgBxgD,cAKK,IAA5Bm7B,EAAenvD,UAAwC,IAAtB0wB,EAAMm/B,aACN,UAAtCV,EAAe/O,WAAWwB,QAE1BlxB,EAAM2+B,SAASF,EAAejO,WAAW,GAAI,IAI7CxwB,EAAM6gC,YAAYijB,EAAgB9lB,WAClC8lB,EAAgB52B,mBAAmB,WAAY,wCAA2ChsB,OAAO4iD,EAAgBxlC,aAAa,eAAgB,yCAC9IN,SAASU,cAAc,OAAO5d,MAAMd,EAAMo5C,oBAM9C,OAJA,EAAGh5B,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBmT,GAAanT,GACbnV,EAAMwP,kBACC,CACX,CACJ,CACA,OAAO,CACX,EACImpB,GAAY,SAAUxjB,EAAQ/2B,EAAO4hB,EAAO4qB,GAC5C,GAAsC,IAAlCxsC,EAAMy+B,eAAenvD,SAAgB,CAErC,IAAIg1E,EAAetkD,EAAMy+B,eAAe5+D,SAASmgC,EAAMm/B,aACvD,GAAImlB,GAAyC,OAAzBA,EAAapzB,QAI7B,OAHAlxB,EAAMkgC,mBAAmBokB,EAAatjB,wBACtChhC,EAAM4+B,UAAS,GACfhd,EAAMwP,kBACC,CAEf,CACA,GAAIob,EAAU,CACV,IAAIM,EAAkBN,EAASxL,uBAC/B,GAAI8L,GAA0H,KAAvG,EAAG1sB,EAAiCwlB,IAAI4G,EAAUzV,EAAOA,EAAOK,aAAarZ,QAAS/d,GAAOzU,SAC9G,EAAGs4C,EAA6B0E,OAAqC,OAA5BuE,EAAgB5b,SAAiD,UAA5B4b,EAAgB5b,SAAsB,CACtH,GAAgC,UAA5B4b,EAAgB5b,QAAqB,CAErC,IAAIqzB,EAAkBzX,EAAgBnL,iBAAiBA,iBAAiBA,iBACxE4iB,EAAgB7iC,UACZ6iC,EAAgB7iC,UAAUqgC,WAAa,QAAUvV,EAASphB,YAAYvgB,OAC1E2hC,EAASlpC,QACb,MAGIwpC,EAAgBxpC,SAKpB,OAHA,EAAG8c,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,GACxE6lC,GAAgB9O,GAChBnV,EAAMwP,kBACC,CACX,CACJ,CACA,OAAO,CACX,EACIqoB,GAAQ,SAAUz5C,IACd,EAAG6jC,EAA6B0E,OAA2C,IAAlCvoC,EAAMy+B,eAAenvD,UAC7B,OAAjC0wB,EAAMy+B,eAAevN,SACrBlxB,EAAM0gC,eAAe1gC,EAAMy+B,eAEnC,EAEIkc,GAAyB,SAAU/4B,EAAOic,EAAc79B,GACxD,IAAItgC,EAAIC,EACR,KAAK,EAAGkkE,EAA6B0E,MACjC,OAAO,EAEX,GAAkB,YAAd3mB,EAAM56C,KAAqB62D,GAAiH,WAAjD,QAA9Cn+D,EAAKm+D,EAAamD,8BAA2C,IAAPthE,OAAgB,EAASA,EAAGwxD,SAAsB,CACrJ,IAAIsc,EAAe3P,EAAamD,uBAIhC,OAHAhhC,EAAMkgC,mBAAmBsN,EAAaK,KAAKL,EAAaK,KAAK1wE,OAAS,GAAGwkE,kBACzE3hC,EAAM4+B,UAAS,GACfhd,EAAMwP,kBACC,CACX,CACA,QAAkB,cAAdxP,EAAM56C,MAAuB62D,GAA6G,WAAjD,QAA1Cl+D,EAAKk+D,EAAajG,0BAAuC,IAAPj4D,OAAgB,EAASA,EAAGuxD,WAC7HlxB,EAAMkgC,mBAAmBrC,EAAajG,mBAAmBiW,KAAK,GAAGE,MAAM,IACvE/tC,EAAM4+B,UAAS,GACfhd,EAAMwP,iBACC,GAGf,EACIqmB,GAAQ,SAAU1gB,EAAQnV,EAAOjxB,GAAY,OAAO0wD,QAA2B,OAAQ,OAAQ,GAAQ,WACvG,IAAImD,EAAUC,EAAW9G,EAAOz2B,EAAWw9B,EAAgBC,EAAKriF,EAAQkrD,EAAMd,EAAa1pD,EAAUk0D,EAAa0tB,EAAcC,EAAehnB,EAAc79B,EACzJtgC,EACJ,OAAO4hF,GAA6B/kE,MAAM,SAAU5c,GAChD,OAAQA,EAAGmkD,OACP,KAAK,EACD,MAA2E,SAAvEiT,EAAOA,EAAOK,aAAarZ,QAAQO,aAAa,mBACzC,CAAC,IAEZsD,EAAMz7C,kBACNy7C,EAAMwP,iBACF,kBAAmBxP,GACnB4iC,EAAW5iC,EAAM4P,cAAc7/B,QAAQ,aACvC8yD,EAAY7iC,EAAM4P,cAAc7/B,QAAQ,cACxCgsD,EAAQ/7B,EAAM4P,cAAcmsB,QAG5B6G,EAAW5iC,EAAM41B,aAAa7lD,QAAQ,aACtC8yD,EAAY7iC,EAAM41B,aAAa7lD,QAAQ,cACnCiwB,EAAM41B,aAAa3nE,MAAM0S,SAAS,WAClCo7D,EAAQ/7B,EAAM41B,aAAasN,QAGnC59B,EAAY,CAAC,EACbw9B,EAAiB,SAAUryB,EAAM0yB,GAC7B,IAAKA,EACD,MAAO,CAAC,GAAIvtB,KAAKwtB,cAErB,GAAIjuB,EAAO78B,QAAQojD,OAAOoH,eACtB,OAAO3tB,EAAO78B,QAAQojD,OAAOoH,eAAe3tB,EAAQ1E,EAAM0yB,GAE9D,IAAI1mC,EAAMgU,EAAK4yB,YACf,GAA6C,KAAzC5yB,EAAK6yB,oBAAoBC,OAAOC,MAAe/mC,IAAmC,IAA5BA,EAAIrhD,QAAQ,YAClE+5D,EAAO78B,QAAQojD,OAAO+H,aAAc,CACpC,IAAIC,EAAQ,IAAI3qB,eAChB2qB,EAAMrlF,KAAK,OAAQ82D,EAAO78B,QAAQojD,OAAO+H,cACrCtuB,EAAO78B,QAAQojD,OAAO5iF,OACtB4qF,EAAM1qB,iBAAiB,iBAAkB7D,EAAO78B,QAAQojD,OAAO5iF,OAE/Dq8D,EAAO78B,QAAQojD,OAAOiC,kBACtB+F,EAAM/F,iBAAkB,GAE5BnC,GAAWrmB,EAAQuuB,GACnBA,EAAM1qB,iBAAiB,eAAgB,mCACvC0qB,EAAM9F,mBAAqB,WACvB,GAAI8F,EAAM7F,aAAe9kB,eAAe+kB,KAAM,CAC1C,GAAqB,MAAjB4F,EAAM3gF,OAAgB,CACtB,IAAIo2D,EAAeuqB,EAAMvqB,aACrBhE,EAAO78B,QAAQojD,OAAOiI,kBACtBxqB,EAAehE,EAAO78B,QAAQojD,OAAOiI,gBAAgBD,EAAMvqB,eAE/D,IAAIyqB,EAAiBz5B,KAAKC,MAAM+O,GAChC,GAA4B,IAAxByqB,EAAeh4B,KAEf,YADAuJ,EAAOmd,IAAIzQ,KAAK+hB,EAAe1F,KAGnC,IAAI2F,EAAaD,EAAe5nE,KAAK8nE,YACrC,GAA2B,OAAvB3uB,EAAOK,YACPL,EAAOsL,GAAGtkB,QAAQgB,iBAAiB,4BAC9B7pC,SAAQ,SAAU2rC,GACfA,EAAKuK,cAAgBq6B,IACrB5kC,EAAKuK,YAAco6B,EAAe5nE,KAAKq1C,IAE/C,QAEC,CACD,IAAIjU,EAAa+X,EAAOA,EAAOK,aAAarZ,QAAQW,cAAc,YAAaxd,OAAOukD,EAAY,OAClGzmC,EAAWX,IAAMmnC,EAAe5nE,KAAKq1C,IACV,OAAvB8D,EAAOK,cACPpY,EAAWgiB,uBAAuBA,uBAAuBtf,UACrD8jC,EAAe5nE,KAAKq1C,IAEhC,CACA4S,GAAgB9O,EACpB,MAEIA,EAAOmd,IAAIzQ,KAAK6hB,EAAMvqB,cAEtBhE,EAAO78B,QAAQojD,OAAOqI,mBACtB5uB,EAAO78B,QAAQojD,OAAOqI,kBAAkBL,EAAMvqB,aAEtD,CACJ,EACAuqB,EAAMzqB,KAAK9O,KAAK65B,UAAU,CAAE3yB,IAAK5U,IACrC,CACA,MAA2B,OAAvB0Y,EAAOK,YACA,CAAC,2DAA6Dl2B,OAAOs2B,KAAKquB,cAAcxnC,GAAM,WAAYmZ,KAAKwtB,cAE1F,YAAvBjuB,EAAOK,YACL,CAAC,GAAII,KAAKwtB,cAGV,CAAC,yCAA2C9jD,OAAOs2B,KAAKquB,cAAcxnC,GAAM,WAAYmZ,KAAKwtB,aAE5G,EAEIR,EAASxwE,QAAQ,SAAU,KAAKA,QAAQ,kCAAmC,IAAI62B,SAC/E,YAAa3J,OAAOujD,EAAW,MAAOvjD,OAAOujD,EAAW,SACxDD,EAASxwE,QAAQ,SAAU,KAAKA,QAAQ,kCAAmC,IAAI62B,SAC3E,sCAAiC3J,OAAOujD,EAAW,MAAOvjD,OAAOujD,EAAW,kCAChFD,EAAW,KAEfG,GAAM,IAAImB,WAAYC,gBAAgBvB,EAAU,cACxC5gC,OACJ4gC,EAAWG,EAAI/gC,KAAKlC,WAExB8iC,EAAWhtB,KAAKwuB,SAASxB,GACzBztB,EAAOwL,QAAQuV,YAAY/gB,GAC3Bz0D,EAASy0D,EAAOA,EAAOK,aAAarZ,QAAQic,aAC5CxM,EAzyLO,SAAUzV,EAAM9J,EAAMpnC,QAC5B,IAATA,IAAmBA,EAAO,MAC9B,IAAIqwD,EAAclZ,SAASI,cAAc,OACzC8Y,EAAYxV,UAAY3J,EACxB,IAAIkuC,GAAS,EACyB,IAAlC/uB,EAAY4qB,mBACZ5qB,EAAYyK,iBAAiBriE,MAAMw1D,WAAW93D,QAAQ,cAAgB,IAEtEipF,GAAS,GAEb,IAAIC,EAAOhvB,EAAYnY,iBAAiB,OAgBxC,GAfsC,IAAlCmY,EAAY4qB,mBAA2C,IAAhBoE,EAAK/oF,QACnB,mBAAtB+oF,EAAK,GAAGvnF,WACc,cAAtBunF,EAAK,GAAGvnF,YAEXsnF,GAAS,GAE4B,IAArCluC,EAAK/6C,QAAQ,sBAEbipF,GAAS,GAEyB,IAAlC/uB,EAAY4qB,mBAAqE,UAA1C5qB,EAAYS,kBAAkBzG,SACrEgG,EAAYxY,cAAc,iBAAmBwY,EAAYxY,cAAc,mBAEvEunC,GAAS,GAETA,EAAQ,CACR,IAAIz4B,EAAOvf,GAAQ8J,EACnB,MAAI,KAAKhjC,KAAKy4C,IAAyB,IAAhB04B,EAAK/oF,OACX,YAAT0J,EACO,uFAA6Fq6B,OAAOssB,EAAKx5C,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAS,4BAE3J,UAAYw5C,EAAKx5C,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAU,QAG1D,YAATnN,EACO,SAASq6B,OAAOssB,EAAKx5C,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAS,gBAEvE,IAAIktB,OAAOssB,EAAM,IAEhC,CACA,OAAO,CACX,CA+vLuB24B,CAAiB3B,EAAUC,EAAW1tB,EAAOK,cACpD1K,EAAqC,OAAvBqK,EAAOK,aACjB,EAAGlX,EAAsC0mB,IAAIhlB,EAAM9b,OAAQ,YAAa,eACxE,EAAGoa,EAAqC2I,IAAIjH,EAAM9b,OAAQ,UAGnC,OAAvBixB,EAAOK,YACPpZ,SAAS0jB,YAAY,cAAc,EAAO+iB,EAAUzwE,QAAQ,KAAM,SAASA,QAAQ,KAAM,UAGzFhR,GAAW,EAAGo9C,EAAiCwlB,IAAIhkB,EAAM9b,OAAQixB,EAAOA,EAAOK,aAAarZ,SAClD,QAAtC2O,EAAY5K,cAAcoP,UAE1BuzB,GAAa1kC,EAA8BhxC,EAAE46C,MAEjD+C,EAAYtB,YAAcsB,EAAYtB,YAAYjgB,UAAU,EAAGnoC,EAASuoB,OAClEk5D,EAAY/3B,EAAYtB,YAAYjgB,UAAUnoC,EAASkpB,MAC7D,EAAGk0B,EAAsCgmC,IAAIpjF,EAASuoB,MAAQk5D,EAAUtnF,OAAQ6F,EAASuoB,MAAQk5D,EAAUtnF,OAAQuvD,EAAY5K,gBACtF,QAApCpiD,EAAKgtD,EAAY5K,qBAAkC,IAAPpiD,OAAgB,EAASA,EAAGk4D,mBAAmBnW,UAAUI,SAAS,UAAU3gB,OAAO61B,EAAOK,YAAa,iBACpJ1K,EAAY5K,cAAc8V,mBAAmBlW,UAAYgL,EAAYyB,UACrEiX,EAAkB1Y,EAAY5K,cAAc8V,mBAAoBb,KAGjE,CAAC,EAAa,IAnBI,CAAC,EAAa,IAoB3C,KAAK,EACD,OAAKvJ,GACL78B,EAAS+mD,UAAUlqB,GACZ,CAAC,EAAa,IAFH,CAAC,EAAa,GAGpC,KAAK,EACD,MAA0B,KAApBg3B,EAAS35C,OAAuB,CAAC,EAAa,KACpDqsB,EAAclZ,SAASI,cAAc,QACzBsD,UAAY8iC,EACxBttB,EAAYnY,iBAAiB,WAAW7pC,SAAQ,SAAUzY,GACtDA,EAAEqiD,gBAAgB,QACtB,IACAoY,EAAYnY,iBAAiB,gBAAgB7pC,SAAQ,SAAUzY,GAC3DA,EAAE6mC,QACN,IAC2B,OAAvByzB,EAAOK,aACPlQ,EAAUm/B,iBAAmB,CAAE3B,eAAgBA,GAC/C3tB,EAAOlR,KAAKsB,eAAe,CAAED,UAAWA,KACxC,EAAG9G,EAA0BkmC,IAAIvvB,EAAOlR,KAAKwgC,iBAAiBnvB,EAAYxV,WAAYqV,IAE1D,YAAvBA,EAAOK,aACZlQ,EAAUmQ,eAAiB,CAAEqtB,eAAgBA,GAC7C3tB,EAAOlR,KAAKsB,eAAe,CAAED,UAAWA,KACxC,EAAG9G,EAA0BkmC,IAAIvvB,EAAOlR,KAAKwR,eAAeH,EAAYxV,WAAYqV,KAGpF7P,EAAUq/B,eAAiB,CAAE7B,eAAgBA,GAC7C3tB,EAAOlR,KAAKsB,eAAe,CAAED,UAAWA,IACxCk1B,GAAarlB,EAAQA,EAAOlR,KAAKylB,QAAQpU,EAAYxV,WAAWqkB,cAEpEhP,EAAO0O,QAAQrgB,OAAO2R,GACf,CAAC,EAAa,IACzB,KAAK,EACD,OAAM4mB,EAAMxgF,OAAS,EACf45D,EAAO78B,QAAQojD,OAAOrqB,KAAO8D,EAAO78B,QAAQojD,OAAOiB,QAClD,CAAC,EAAab,GAAY3mB,EAAQ4mB,IADiC,CAAC,EAAa,GADxD,CAAC,EAAa,GAGlD,KAAK,EAED,OADAh+E,EAAGokD,OACI,CAAC,EAAa,GACzB,KAAK,EACD6gC,EAAe,IAAI4B,WACf,kBAAmB5kC,GACnB+7B,EAAQ/7B,EAAM4P,cAAcmsB,MAC5BkH,EAASlH,EAAM,IAEV/7B,EAAM41B,aAAa3nE,MAAM0S,SAAS,WACvCo7D,EAAQ/7B,EAAM41B,aAAasN,MAC3BD,EAASlH,EAAM,GAAGW,aAElBuG,GAAUA,EAAOh+E,KAAKyiC,WAAW,WACjCs7C,EAAa6B,cAAc5B,GAC3BD,EAAa3pB,OAAS,WAClB,IAAIyrB,EAAU,GACa,YAAvB3vB,EAAOK,YACPsvB,GAAW,aAAcxlD,OAAO2jD,EAAOp+D,KAAM,WAAaya,OAAO0jD,EAAahzE,OAAOwF,WAAY,QAGjGsvE,GAAW,KAAKxlD,OAAO2jD,EAAOp+D,KAAM,MAAMya,OAAO0jD,EAAahzE,OAAOwF,WAAY,OAErF4mC,SAAS0jB,YAAY,cAAc,EAAOglB,EAC9C,GAEJ/mF,EAAGmkD,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EACwB,KAArB2gC,EAAU55C,QAAkC,IAAjB8yC,EAAMxgF,SAER,MADzB6iC,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,IACnC3/C,YAAqB2/C,EAAOlR,KAAK8gC,gBAAgBlC,KACvDA,EAAY,IAAIvjD,OAAOlB,EAAM5oB,WAAY,MAAM8pB,OAAOujD,EAAW,MAE1C,OAAvB1tB,EAAOK,aACPlQ,EAAUivB,eAAiB,CAAEuO,eAAgBA,GAC7C3tB,EAAOlR,KAAKsB,eAAe,CAAED,UAAWA,KACxC,EAAG9G,EAA0BkmC,IAAIvvB,EAAOlR,KAAKswB,eAAesO,GAAY1tB,IAE5C,YAAvBA,EAAOK,aACZlQ,EAAUgsB,aAAe,CAAEwR,eAAgBA,GAC3C3tB,EAAOlR,KAAKsB,eAAe,CAAED,UAAWA,KACxC,EAAG9G,EAA0BkmC,IAAIvvB,EAAOlR,KAAKqtB,aAAauR,GAAY1tB,KAGtE7P,EAAUq/B,eAAiB,CAAE7B,eAAgBA,GAC7C3tB,EAAOlR,KAAKsB,eAAe,CAAED,UAAWA,IACxCk1B,GAAarlB,EAAQ0tB,IAEzB1tB,EAAO0O,QAAQrgB,OAAO2R,IAE1Bp3D,EAAGmkD,MAAQ,EACf,KAAK,EA4BD,MA3B2B,OAAvBiT,EAAOK,eACPyG,GAAe,EAAG3d,EAAgC0hB,KAAI,EAAGxhB,EAA8BsrB,IAAI3U,GAAQ0H,mBAE/Fz+B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7CA,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,OAAO7pC,SAAQ,SAAU0rE,GACzEA,EAAIt9C,QACR,IACAtD,EAAMohC,WAAWpjB,SAASI,cAAc,QACb,YAAvB2Y,EAAOK,YACPyG,EAAa1P,UAAY4I,EAAOlR,KAAK0R,cAAcsG,EAAa1P,WAGhE0P,EAAa1P,UAAY4I,EAAOlR,KAAKyR,gBAAgBuG,EAAa1P,YAEtE,EAAG/N,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAAS/d,IAE5E+2B,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,WAAW7d,OAAO61B,EAAOK,YAAa,+BACrFliD,SAAQ,SAAU2rC,GACnBukB,EAAkBvkB,EAAMkW,EAC5B,KAEJA,EAAOwL,QAAQ0e,qBAAqBlqB,GACpC8O,GAAgB9O,GACZA,EAAOA,EAAOK,aAAarZ,QAAQic,aAAe13D,EAClDsU,KAAKuD,IAAI48C,EAAOA,EAAOK,aAAarZ,QAAQkc,aAAcrb,OAAOC,aAAe,GAChFqrB,GAAanT,GAEV,CAAC,GAEpB,GACJ,GAAI,EAaA6vB,GAAc,SAAU7vB,GACxBA,EAAO4N,KAAKvf,OAAO2R,GACnB,IAAI0H,GAAiB,EAAGre,EAA8BsrB,IAAI3U,GAAQ0H,eAE9Dyc,GAAmB,EAAGh7B,EAAsC0mB,IAAInI,EAAgB,YAAa,mBACjG,GAAIyc,EACA,GAAuF,KAAnFA,EAAiB9vB,YAAYp3C,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAAcoN,EAAO4N,KAAKyM,eACrG8J,EAAiB9vB,YAAcrL,EAA8BhxC,EAAE46C,KAAOoN,EAAO4N,KAAKyM,gBACtE,EAAGhxB,EAA8BsrB,IAAI3U,GAC3CmJ,mBAAmBgb,OAExB,CACD,IAAI2L,EAAkB,GAClBC,EAAQ5L,EAAiB9vB,YAAYjgB,UAAU,GAAG,EAAGiV,EAAiCwlB,IAAIsV,EAAkBnkB,EAAO0L,GAAG1kB,SAASxyB,OAC9HvX,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAClDoN,EAAO78B,QAAQsvB,QAAQ7E,KAAK8sB,OAAS1xB,EAAwChxC,EAAEk7C,gBAAgB/0C,SAAQ,SAAUw8D,GAC1GA,EAAQ10E,QAAQ8pF,EAAMvoD,gBAAkB,GACxCsoD,EAAgBvoE,KAAK,CACjBy5B,KAAM25B,EACNtxE,MAAOsxE,GAGnB,IACA3a,EAAO4N,KAAKgN,QAAQkV,EAAiBC,EAAO/vB,EAChD,CAER,EACI4Q,GAA6B,SAAU5Q,EAAQ78B,QAC/B,IAAZA,IAAsBA,EAAU,CAChC0tC,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEb5tC,EAAQ2tC,YACR+e,GAAY7vB,GAEhB/9C,aAAa+9C,EAAO0L,GAAGua,kBACvBjmB,EAAO0L,GAAGua,iBAAmBp+B,OAAOxlC,YAAW,WAC3C,IAAI29C,EAAO0L,GAAGsJ,cAAd,CAGA,IAAI99B,EAAOm0B,EAAYrL,GACa,mBAAzBA,EAAO78B,QAAQ3Z,OAAwB2Z,EAAQ4tC,aACtD/Q,EAAO78B,QAAQ3Z,MAAM0tB,GAErB8oB,EAAO78B,QAAQ8xC,QAAQ7mB,QACvB4R,EAAOiV,QAAQ5mB,OAAO2R,EAAQ9oB,GAE9B8oB,EAAO78B,QAAQ9lB,MAAM+wC,SAAU,EAAG0e,EAAsCsH,QACxEvP,aAAaqQ,QAAQlV,EAAO78B,QAAQ9lB,MAAMqa,GAAIwf,GAC1C8oB,EAAO78B,QAAQ9lB,MAAM0sB,OACrBi2B,EAAO78B,QAAQ9lB,MAAM0sB,MAAMmN,IAG/B8oB,EAAO8L,UACP9L,EAAO8L,SAASF,aAAa5L,GAE7B78B,EAAQ0tC,oBACR7Q,EAAOmV,KAAKC,eAAepV,EAlB/B,CAoBJ,GAAGA,EAAO78B,QAAQkyC,UACtB,EACImP,GAAyB,SAAUxkB,EAAQ32D,GAC3C,IAAI4/B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7ChO,GAAiB,EAAG7I,EAAgC0hB,IAAI5hC,EAAMy+B,iBAAmBz+B,EAAMy+B,eAC3F,GAAI1V,EAAgB,CAChB,IAAIuyB,EAAuBvyB,EAAerK,cAAc,+BACpD48B,EACAA,EAAqB55B,UAAYthD,GAGjC2oD,EAAem0B,mBAAmB,aAAc98E,GAChD4/B,EAAMkgC,mBAAmBnX,GACzB/oB,EAAM4+B,UAAS,IAEnBr+C,EAAMw2C,EAAQ/2B,EAAM0iB,cACpB6oB,EAAmBxU,EACvB,CACJ,EACIgwB,GAAe,SAAU/mD,EAAO+2B,EAAQlwD,GACxC,IAAI46E,GAAgB,EAAGvhC,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa53D,GACpG,GAAI46E,EAAe,CACfA,EAAc9pB,kBAAkBr0B,SAChCm+C,EAAc9f,iBAAiBr+B,SAC/BtD,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC,IAAI8Y,EAAclZ,SAASI,cAAc,OACzC8Y,EAAYxV,UAAYqV,EAAOlR,KAAKyR,gBAAgBmqB,EAActzB,WAClEszB,EAActzB,UAAY+I,EAAYS,kBAAkBjW,UAAU7W,MACtE,CACJ,EACI0qC,GAAyB,SAAUxe,EAAQgO,EAAWv5B,EAAQgP,GAC9D,IAAIxa,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7Cqc,EAAcrO,EAAUzmB,aAAa,aACrCqtB,EAAc3rC,EAAMy+B,eACK,IAAzBkN,EAAYr8D,WACZq8D,EAAcA,EAAY7pB,eAE9B,IAAIwyB,GAAe,EAEnB,GAAIvP,EAAUtjB,UAAUI,SAAS,wBAC7B,GAAoB,UAAhBuxB,EAAyB,CACzB,IAAIoB,GAAe,EAAGt0B,EAAqC2I,IAAI8iB,EAAa,cACxE6I,IACAx0C,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCo2B,EAAarmB,UAA8C,KAAlCqmB,EAAa9yB,UAAU7W,OAC5C,qBAAuB3J,OAAOszC,EAAa9yB,UAAW,QAAU8yB,EAAa9yB,UAEzF,MACK,GAAoB,SAAhB0xB,EAAwB,CAC7B,IAAIpgB,GAAW,EAAG9S,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa,KAC/F,GAAIzL,EAAU,CACV,IAAIg0B,GAAe,EAAG9mC,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,mBAClFuoB,GACAhnD,EAAMohC,WAAWpjB,SAASI,cAAc,QACxC4U,EAAS7E,UAAY64B,EAAatlC,WAGlCsR,EAAS7E,UAAY6E,EAAStU,cAAc,oBAAoBgD,UAAY,OAEpF,CACJ,KACyB,WAAhB0xB,EACL2T,GAAa/mD,EAAO+2B,EAAQ,MAEP,SAAhBqc,EACL2T,GAAa/mD,EAAO+2B,EAAQ,UAEP,WAAhBqc,EACL2T,GAAa/mD,EAAO+2B,EAAQ,KAEP,gBAAhBqc,EACL2T,GAAa/mD,EAAO+2B,EAAQ,QAEP,UAAhBqc,GAA2C,SAAhBA,GAA0C,iBAAhBA,IAC1DsB,GAAW3d,EAAQ/2B,EAAOozC,GAC1BkB,GAAe,EACfvP,EAAUtjB,UAAUne,OAAO,6BAG9B,CAE2C,IAAxCyzB,EAAO0L,GAAG1kB,QAAQyS,WAAWrzD,SAC7B45D,EAAO0L,GAAG1kB,QAAQ2D,UAAY,+BAC9B,EAAGtB,EAA6BsnB,IAAI3Q,EAAO0L,GAAG1kB,QAAS/d,IAE3D,IAAI69B,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAChE,GAAoB,SAAhB2U,GACA,GAAIvV,EAAc,CACd,IAAIwX,EAAS,mDACyB,KAAlCxX,EAAanc,UAAU7W,OACvBgzB,EAAa1P,UAAYknB,EAGzBxX,EAAa3Q,mBAAmB,WAAYmoB,EAEpD,OAEC,GAAoB,UAAhBjC,EACDvV,IACA79B,EAAMohC,WAAWpjB,SAASI,cAAc,QACxCyf,EAAa1P,UAAY,8BAAgCjtB,OAAO28B,EAAa1P,UAAW,iBACxFmmB,GAAe,EACfvP,EAAUtjB,UAAU/jC,IAAI,8BAG3B,GAAoB,SAAhB01D,EAAwB,CAC7B,IAAIr7B,OAAO,EAEPA,EADqB,KAArB/X,EAAM5oB,WACC,GAAG8pB,OAAOsK,EAAQ,SAAStK,OAAOsZ,GAGlC,GAAGtZ,OAAOsK,GAAQtK,OAAOlB,EAAM5oB,YAAY8pB,OAAOsZ,EAAOxmC,QAAQ,IAAK,WAEjFgqC,SAAS0jB,YAAY,cAAc,EAAO3pB,GAC1Cu8B,GAAe,EACfvP,EAAUtjB,UAAU/jC,IAAI,uBAC5B,MACK,GAAoB,WAAhB01D,GAA4C,SAAhBA,GAA0C,WAAhBA,GACxC,gBAAhBA,GAAiD,SAAhBA,GAA0C,UAAhBA,EAAyB,CACnFr7B,OAAO,EACc,KAArB/X,EAAM5oB,WACN2gC,EAAO,GAAG7W,OAAOsK,EAAQ,SAAStK,OAAOsZ,IAIrCzC,EADgB,SAAhBq7B,EACO,GAAGlyC,OAAOsK,EAAQ,MAAMtK,OAAOlB,EAAM5oB,WAAY,SAAS8pB,OAAOsZ,GAEnD,UAAhB44B,EACE,GAAGlyC,OAAOsK,GAAQtK,OAAOlB,EAAM5oB,WAAY,SAAS8pB,OAAOsZ,GAG3D,GAAGtZ,OAAOsK,GAAQtK,OAAOlB,EAAM5oB,YAAY8pB,OAAOsZ,EAAQ,SAErExa,EAAM40C,kBAEU,UAAhBxB,GAA2C,SAAhBA,IAC3Br7B,EAAO,KAAOA,EAAO,QAEzB,IAAI6Q,EAAc5K,SAASI,cAAc,QACzCwK,EAAYlH,UAAY3J,EACxB/X,EAAMohC,WAAWxY,GACjBroC,EAAMw2C,EAAQ/2B,GACM,UAAhBozC,IACApzC,EAAMkgC,mBAAmB3d,eAAeE,WAAW,GAAGgc,eAAe3c,gBACrE,EAAG1B,EAAiCgC,IAAIpiB,GAEhD,KACyB,UAAhBozC,GAA2C,SAAhBA,GAA0C,iBAAhBA,IAC1DsB,GAAW3d,EAAQ/2B,EAAOozC,GAAa,GACvCkB,GAAe,EACfxQ,EAAqB/M,EAAOmB,QAAQuM,SAAU,CAAC,QAAS,OAAQ,iBAChEM,EAAUtjB,UAAU/jC,IAAI,wBAEhC,EACA,EAAG0iC,EAA6BsnB,IAAI3Q,EAAO0L,GAAG1kB,QAAS/d,GACvD2nC,GAA2B5Q,GACvBud,GACA/I,EAAmBxU,EAE3B,EAGIkwB,GAAqD,SAAUn2E,EAASuyC,EAAYC,EAAGC,GAEvF,OAAO,IAAKD,IAAMA,EAAI1oC,WAAU,SAAUsb,EAASmN,GAC/C,SAASmgB,EAAUpjD,GAAS,IAAMwzB,EAAK2vB,EAAU1mB,KAAKz8B,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC1F,SAASgnD,EAASrjD,GAAS,IAAMwzB,EAAK2vB,EAAiB,MAAEnjD,GAAS,CAAE,MAAO3D,GAAK4mC,EAAO5mC,EAAI,CAAE,CAC7F,SAASm3B,EAAKhiB,GAJlB,IAAexR,EAIawR,EAAOkrB,KAAO5G,EAAQtkB,EAAOxR,QAJ1CA,EAIyDwR,EAAOxR,MAJhDA,aAAiBkjD,EAAIljD,EAAQ,IAAIkjD,GAAE,SAAUptB,GAAWA,EAAQ91B,EAAQ,KAIjBsjD,KAAKF,EAAWC,EAAW,CAC7G7vB,GAAM2vB,EAAYA,EAAU3yC,MAAME,EAASuyC,GAAc,KAAKxmB,OAClE,GACJ,EACIqqD,GAAyD,SAAUp2E,EAAS8yC,GAC5E,IAAsGC,EAAGpR,EAAG/1C,EAAGqS,EAA3GqH,EAAI,CAAE0tC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPrnD,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGsnD,KAAM,GAAIC,IAAK,IAChG,OAAOl1C,EAAI,CAAE8tB,KAAMqnB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXnsC,SAA0BhJ,EAAEgJ,OAAOW,UAAY,WAAa,OAAO6D,IAAM,GAAIxN,EACvJ,SAASm1C,EAAKtwC,GAAK,OAAO,SAAUuwC,GAAK,OACzC,SAAcnW,GACV,GAAI6V,EAAG,MAAM,IAAI/sC,UAAU,mCAC3B,KAAO/H,IAAMA,EAAI,EAAGi/B,EAAG,KAAO53B,EAAI,IAAKA,OACnC,GAAIytC,EAAI,EAAGpR,IAAM/1C,EAAY,EAARsxC,EAAG,GAASyE,EAAU,OAAIzE,EAAG,GAAKyE,EAAS,SAAO/1C,EAAI+1C,EAAU,SAAM/1C,EAAEK,KAAK01C,GAAI,GAAKA,EAAE5V,SAAWngC,EAAIA,EAAEK,KAAK01C,EAAGzE,EAAG,KAAKlR,KAAM,OAAOpgC,EAE3J,OADI+1C,EAAI,EAAG/1C,IAAGsxC,EAAK,CAAS,EAARA,EAAG,GAAQtxC,EAAE0D,QACzB4tC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGtxC,EAAIsxC,EAAI,MACxB,KAAK,EAAc,OAAX53B,EAAE0tC,QAAgB,CAAE1jD,MAAO4tC,EAAG,GAAIlR,MAAM,GAChD,KAAK,EAAG1mB,EAAE0tC,QAASrR,EAAIzE,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAK53B,EAAE6tC,IAAInhC,MAAO1M,EAAE4tC,KAAKlhC,MAAO,SACxC,QACI,MAAkBpmB,GAAZA,EAAI0Z,EAAE4tC,MAAY7mD,OAAS,GAAKT,EAAEA,EAAES,OAAS,KAAkB,IAAV6wC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAE53B,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAV43B,EAAG,MAActxC,GAAMsxC,EAAG,GAAKtxC,EAAE,IAAMsxC,EAAG,GAAKtxC,EAAE,IAAM,CAAE0Z,EAAE0tC,MAAQ9V,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAY53B,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAIA,EAAIsxC,EAAI,KAAO,CACpE,GAAItxC,GAAK0Z,EAAE0tC,MAAQpnD,EAAE,GAAI,CAAE0Z,EAAE0tC,MAAQpnD,EAAE,GAAI0Z,EAAE6tC,IAAI3lC,KAAK0vB,GAAK,KAAO,CAC9DtxC,EAAE,IAAI0Z,EAAE6tC,IAAInhC,MAChB1M,EAAE4tC,KAAKlhC,MAAO,SAEtBkrB,EAAK4V,EAAK7mD,KAAK+T,EAASsF,EAC5B,CAAE,MAAO3Z,GAAKuxC,EAAK,CAAC,EAAGvxC,GAAIg2C,EAAI,CAAG,CAAE,QAAUoR,EAAInnD,EAAI,CAAG,CACzD,GAAY,EAARsxC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE5tC,MAAO4tC,EAAG,GAAKA,EAAG,QAAK,EAAQlR,MAAM,EAC9E,CAtBgDlJ,CAAK,CAAChgB,EAAGuwC,GAAK,CAAG,CAuBrE,EASIgjC,GAAsB,WACtB,SAASA,EAAKC,GACV,IAAIxkB,EAAQrmD,KACZA,KAAK8qE,UAAY,GACjB9qE,KAAK3G,WAAa,EAClB2G,KAAK+qE,UAAY,SAAUvpC,EAASgZ,GAChC6L,EAAM7kB,QAAQz+C,MAAM9D,QAAU,OAC9B,IAAI4E,EAAQqoD,mBAAmB1K,EAAQO,aAAa,eAChDte,EAAQ4e,OAAO2D,eAAeE,WAAW,GAE7C,GAA2B,OAAvBsU,EAAOK,YAAsB,CAC7B,IAAI8jB,GAAmB,EAAGh7B,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,YAAa,mBACvG,GAAIyc,EAUA,OATAA,EAAiB9vB,YAAcrL,EAA8BhxC,EAAE46C,KAAOvpD,EAAM2lE,YAC5E/lC,EAAMkgC,mBAAmBgb,GACzBl7C,EAAM4+B,UAAS,GACf+I,GAA2B5Q,GAC3BmkB,EAAiBp5B,cAAc/C,iBAAiB,QAAQ7pC,SAAQ,SAAU2rC,GACtEA,EAAKliD,UAAY,YAAcyB,EAAM2lE,WACzC,IACAX,EAAkB8V,EAAiBp5B,cAAcpD,cAAc,uBAAwBqY,QACvF6L,EAAMwO,eAAiBhxE,EAAM2lE,YAGrC,CACA,GAA2B,YAAvBhP,EAAOK,aAA+D,IAAlCp3B,EAAMy+B,eAAenvD,SAAgB,CACzE,IAAImvD,EAAiBz+B,EAAMy+B,eACvB6b,OAAe,EAOnB,IALIA,EADA7b,EAAehd,UAAUI,SAAS,gBACnB4c,EAGAA,EAAe9G,oBAEd2iB,EAAa74B,UAAUI,SAAS,gBAQhD,OAPAy4B,EAAal6E,MAAQA,EAAM2lE,YAC3B/lC,EAAMkgC,mBAAmBoa,GACzBt6C,EAAM4+B,UAAS,GAGf0b,EAAayB,cAAc,IAAI1H,YAAY,QAAS,CAAEhD,OAAQ,UAC9DzO,EAAMwO,eAAiBhxE,EAAM2lE,YAGrC,CAsBA,GArBA/lC,EAAM2+B,SAAS3+B,EAAMy+B,eAAgBmE,EAAMhtD,WAC3CoqB,EAAM40C,iBACF7d,EAAO78B,QAAQyqC,KAAK3Y,MACO,OAAvB+K,EAAOK,aACP,EAAGhX,EAA0BkmC,IAAIvvB,EAAOlR,KAAKy2B,gBAAgBl8E,GAAQ22D,GAEzC,YAAvBA,EAAOK,aACZ,EAAGhX,EAA0BkmC,IAAIvvB,EAAOlR,KAAK0R,cAAcn3D,GAAQ22D,IAGnE,EAAG3W,EAA0BkmC,IAAIvvB,EAAOlR,KAAKyR,gBAAgBl3D,GAAQ22D,IAIzE,EAAG3W,EAA0BkmC,IAAIlmF,EAAO22D,GAEpB,MAApB6L,EAAMykB,WAAqBjnF,EAAMpD,QAAQ,MAAQ,GAA4B,OAAvB+5D,EAAOK,aAC7Dp3B,EAAMohC,WAAWpjB,SAASqjB,eAAe,MAE7CrhC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACb,YAAvB+2B,EAAOK,aACHmwB,GAAa,EAAGrnC,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,2BAClE8oB,EAAW5lB,iBAAiBlgB,UAAUI,SAAS,6BAC7D0lC,EAAW5lB,iBAAiBjgB,UAAY6lC,EAAW5vB,kBAAkBjW,UACrE0jB,EAAkBmiB,EAAW5lB,iBAAkB5K,SAGlD,GAA2B,OAAvBA,EAAOK,YAAsB,CAClC,IAAImwB,MAAa,EAAGrnC,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,4BAClE8oB,EAAW3vB,mBAAmBnW,UAAUI,SAAS,wBAC/D0lC,EAAW3vB,mBAAmBlW,UAAY6lC,EAAW7lC,UACrD0jB,EAAkBmiB,EAAW3vB,mBAAoBb,GAEzD,CACA8O,GAAgB9O,EACpB,EACAx6C,KAAKirE,QAAU,EACfjrE,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,cACzB4d,KAAK60D,eAAiB,GACtBgW,EAAY9oE,KAAK,CAAEtX,IAAK,KAC5B,CAqLA,OApLAmgF,EAAKtqF,UAAUuoD,OAAS,SAAU2R,GAC9B,IAAI6L,EAAQrmD,KACZ,GAAKqiC,OAAO2D,eAAeklC,UAA3B,CAGA,IAAIC,EACA1nD,EAAQuiB,eAAeE,WAAW,GACtCilC,EAAmB1nD,EAAMy+B,eAAerT,YAAYjgB,UAAU,EAAGnL,EAAMm/B,cAAgB,GACvF,IAAIn4D,EAAMuV,KAAKorE,OAAOD,EAAkB3wB,EAAO78B,QAAQyqC,KAAKt/B,QAC5D,QAAmB,IAARr+B,EACPuV,KAAKwhC,QAAQz+C,MAAM9D,QAAU,OAC7Bwd,aAAauD,KAAKirE,aAGlB,GAAuB,MAAnBjrE,KAAK8qE,UAAmB,CACxB,IAAIO,EAAsB,KAAR5gF,EAAa+vD,EAAO78B,QAAQyqC,KAAKD,MAAQ3N,EAAOlR,KAAKgiC,YACnEC,EAAmB,GACvBlrF,OAAO4a,KAAKowE,GAAa1yE,SAAQ,SAAUw8D,GACI,IAAvCA,EAAQ10E,QAAQgK,EAAIu3B,iBAChBqpD,EAAYlW,GAAS10E,QAAQ,MAAQ,EACrC8qF,EAAiBxpE,KAAK,CAClBy5B,KAAM,aAAc7W,OAAO0mD,EAAYlW,GAAU,cAAgBxwC,OAAOwwC,EAAS,UAAWxwC,OAAOwwC,EAAS,KAC5GtxE,MAAO,IAAI8gC,OAAOwwC,EAAS,OAI/BoW,EAAiBxpE,KAAK,CAClBy5B,KAAM,oCAAsC7W,OAAO0mD,EAAYlW,GAAU,WAAWxwC,OAAOwwC,GAC3FtxE,MAAOwnF,EAAYlW,KAInC,IACAn1D,KAAKo1D,QAAQmW,EAAkB9gF,EAAK+vD,EACxC,MAEIA,EAAO78B,QAAQyqC,KAAKt/B,OAAOnwB,SAAQ,SAAU2rC,GACrCA,EAAK75C,MAAQ47D,EAAMykB,YACnBruE,aAAa4pD,EAAM4kB,QACnB5kB,EAAM4kB,OAAS5oC,OAAOxlC,YAAW,WAAc,OAAO6tE,GAAarkB,OAAO,OAAQ,GAAQ,WACtF,IAAIljE,EACJ,OAAOwnF,GAAe3qE,MAAM,SAAU5c,GAClC,OAAQA,EAAGmkD,OACP,KAAK,EAED,OADApkD,EAAK6c,KAAKo1D,QACH,CAAC,EAAa9wB,EAAK8jB,KAAK39D,IACnC,KAAK,EAED,OADAtH,EAAGkR,MAAM2L,KAAM,CAAC5c,EAAGokD,OAAQ/8C,EAAK+vD,IACzB,CAAC,GAEpB,GACJ,GAAI,GAAGA,EAAO78B,QAAQyqC,KAAKlpC,OAEnC,GAjDR,CAoDJ,EACA0rD,EAAKtqF,UAAU80E,QAAU,SAAU/zD,EAAM5W,EAAK+vD,GAC1C,IAAI6L,EAAQrmD,KACZ,GAAoB,IAAhBqB,EAAKzgB,OAAT,CAIA,IAAI6iE,EAAgBjJ,EAAOA,EAAOK,aAAarZ,QAC3CgqC,GAAmB,EAAG3nC,EAAiC63B,IAAIjY,GAC3DxuB,EAAIu2C,EAAiBhlC,MACgB,SAApCgU,EAAO78B,QAAQurC,QAAQziE,SAAsB+zD,EAAO0O,QAAQ1nB,QAAQysB,YAAc,GACnF/3B,EAAIs1C,EAAiBllC,IACrBmlC,EAAY,GAChBpqE,EAAK1I,SAAQ,SAAU+yE,EAAU/qF,GAC7B,KAAIA,EAAI,GAAR,CAIA,IAAI66C,EAAOkwC,EAASlwC,KACpB,GAAY,KAAR/wC,EAAY,CACZ,IAAI4O,EAAYmiC,EAAKtQ,YAAY,KAAO,EACpCygD,EAAcnwC,EAAKuQ,OAAO1yC,GAC1BuyE,EAAeD,EAAY3pD,cAAcvhC,QAAQgK,EAAIu3B,eACrD4pD,GAAgB,IAChBD,EAAcA,EAAY/8C,UAAU,EAAGg9C,GAAgB,MACnDD,EAAY/8C,UAAUg9C,EAAcA,EAAenhF,EAAI7J,QAAU,OACjE+qF,EAAY/8C,UAAUg9C,EAAenhF,EAAI7J,QAC7C46C,EAAOA,EAAKuQ,OAAO,EAAG1yC,GAAasyE,EAE3C,CACAF,GAAa,qCAAwC9mD,OAAO0yB,mBAAmBq0B,EAAS7nF,OAAQ,QAAS8gC,OAAa,IAANhkC,EAAU,+BAAiC,GAAI,MAAMgkC,OAAO6W,EAAM,YAdlL,CAeJ,IACAx7B,KAAKwhC,QAAQ2D,UAAYsmC,EACzB,IAAIpsF,EAAaiT,SAASmvC,SAASoqC,YAAYt5B,iBAAiBkR,EAAe,MAC1EqoB,iBAAiB,eAAgB,IACtC9rE,KAAKwhC,QAAQz+C,MAAMujD,IAAM,GAAG3hB,OAAOuR,GAAK72C,GAAc,IAAK,MAC3D2gB,KAAKwhC,QAAQz+C,MAAMyjD,KAAO,GAAG7hB,OAAOsQ,EAAG,MACvCj1B,KAAKwhC,QAAQz+C,MAAM9D,QAAU,QAC7B+gB,KAAKwhC,QAAQz+C,MAAMqkE,MAAQ,OAC3BpnD,KAAKwhC,QAAQgB,iBAAiB,UAAU7pC,SAAQ,SAAU6oC,GACtDA,EAAQQ,iBAAiB,SAAS,SAAUqD,GACxCghB,EAAM0kB,UAAUvpC,EAASgZ,GACzBnV,EAAMwP,gBACV,GACJ,IAEI70C,KAAKwhC,QAAQ6E,wBAAwBwgB,OAASxkB,OAAOC,cACrDtiC,KAAKwhC,QAAQz+C,MAAMujD,IAAM,GAAG3hB,OAAOuR,EAAIl2B,KAAKwhC,QAAQoa,aAAc,OAElE57C,KAAKwhC,QAAQ6E,wBAAwB+gB,MAAQ/kB,OAAOkb,aACpDv9C,KAAKwhC,QAAQz+C,MAAMyjD,KAAO,OAC1BxmC,KAAKwhC,QAAQz+C,MAAMqkE,MAAQ,IA7C/B,MAFIpnD,KAAKwhC,QAAQz+C,MAAM9D,QAAU,MAiDrC,EACA2rF,EAAKtqF,UAAU0zE,OAAS,SAAU3uB,EAAOmV,GACrC,GAAuD,IAAnDx6C,KAAKwhC,QAAQgB,iBAAiB,UAAU5hD,QACT,SAA/Bof,KAAKwhC,QAAQz+C,MAAM9D,QACnB,OAAO,EAEX,IAAI8sF,EAAqB/rE,KAAKwhC,QAAQW,cAAc,yBACpD,GAAkB,cAAdkD,EAAM56C,IAUN,OATA46C,EAAMwP,iBACNxP,EAAMz7C,kBACNmiF,EAAmBxpC,gBAAgB,SAC9BwpC,EAAmB1wB,mBAIpB0wB,EAAmB1wB,mBAAmBj5D,UAAY,uBAHlD4d,KAAKwhC,QAAQl+C,SAAS,GAAGlB,UAAY,wBAKlC,EAEN,GAAkB,YAAdijD,EAAM56C,IAAmB,CAI9B,GAHA46C,EAAMwP,iBACNxP,EAAMz7C,kBACNmiF,EAAmBxpC,gBAAgB,SAC9BwpC,EAAmBtnB,uBAKpBsnB,EAAmBtnB,uBAAuBriE,UAAY,2BALV,CAC5C,IAAI4pF,EAAWhsE,KAAKwhC,QAAQl+C,SAAS1C,OACrCof,KAAKwhC,QAAQl+C,SAAS0oF,EAAW,GAAG5pF,UAAY,sBACpD,CAIA,OAAO,CACX,CACK,SAAK,EAAGklE,EAA0BoE,IAAIrmB,IAAWA,EAAMumB,UAAavmB,EAAMsmB,QAAwB,UAAdtmB,EAAM56C,KAAoB46C,EAAM0uB,cACrH1uB,EAAMwP,iBACNxP,EAAMz7C,kBACNoW,KAAK+qE,UAAUgB,EAAoBvxB,GAC5B,GAGf,EACAowB,EAAKtqF,UAAU8qF,OAAS,SAAUD,EAAkBriD,GAChD,IAUIr+B,EAVA47D,EAAQrmD,KAWZ,GAVAA,KAAK3G,WAAa,EAClB2G,KAAK8qE,UAAY,GACjBhiD,EAAOnwB,SAAQ,SAAU2rC,GACrB,IAAI2nC,EAAmBd,EAAiBjgD,YAAYoZ,EAAK75C,KACrD47D,EAAMhtD,UAAY4yE,IAClB5lB,EAAMykB,UAAYxmC,EAAK75C,IACvB47D,EAAMhtD,UAAY4yE,EAE1B,KAEwB,IAApBjsE,KAAK3G,UACL,OAAO5O,EAEX,IAAIupC,EAAYm3C,EAAiBzxE,MAAMsG,KAAK8qE,WACxCoB,EAAWl4C,EAAUA,EAAUpzC,OAAS,GAE5C,GAAIozC,EAAUpzC,OAAS,GAAKsrF,EAAS59C,SAAW49C,EAC5C,GAAyB,IAArBl4C,EAAUpzC,QAAiC,KAAjBozC,EAAU,IAAaA,EAAU,GAAGpzC,OAFtD,GAGR6J,EAAMupC,EAAU,OAEf,CACD,IAAIm4C,EAAUn4C,EAAUA,EAAUpzC,OAAS,GAAG8H,OAAO,GACD,OAAhD,EAAGq2D,EAA6BxV,GAAG4iC,IAAoBD,EAAStrF,OAP5D,KAQJ6J,EAAMyhF,EAEd,CAEJ,OAAOzhF,CACX,EACOmgF,CACX,CA7QyB,GA6RrBwB,GAAoB,WACpB,SAASA,EAAG5xB,GACRx6C,KAAKwvD,eAAgB,EACrB,IAAIlf,EAAa7O,SAASI,cAAc,OACxCyO,EAAWluD,UAAY,YACvBkuD,EAAWnL,UAAY,0CAA6CxgB,OAAO61B,EAAO78B,QAAQ3kB,YAAa,wDACvGgH,KAAKwhC,QAAU8O,EAAW8K,kBAC1Bp7C,KAAKqsE,UAAU7xB,GACf8f,GAAW9f,EAAQx6C,KAAKwhC,SACxB+4B,GAAc/f,EAAQx6C,KAAKwhC,SAC3Bk5B,GAAUlgB,EAAQx6C,KAAKwhC,SACvBm6B,GAAYnhB,EAAQx6C,KAAKwhC,SACzBi+B,GAAYjlB,EAAQx6C,KAAKwhC,SACzBw5B,GAAUxgB,EAAQx6C,KAAKwhC,SACvB45B,GAAU5gB,EAAQx6C,KAAKwhC,QAASxhC,KAAKmS,MACrCkpD,GAAS7gB,EAAQx6C,KAAKwhC,QAASxhC,KAAKmS,KACxC,CAyMA,OAxMAi6D,EAAG9rF,UAAU6xB,KAAO,SAAUkzB,EAAOmV,GACjC,IAAI/2B,EAAQuiB,eAAeE,WAAW,GACtC,GAAyB,KAArBziB,EAAM5oB,WAAV,CAGAwqC,EAAMz7C,kBACNy7C,EAAMwP,iBACN,IAAI8F,EAAclZ,SAASI,cAAc,OACzC8Y,EAAY3G,YAAYvwB,EAAMmiD,iBAC9BvgC,EAAM4P,cAAcp9B,QAAQ,aAAc2iC,EAAOlR,KAAK2c,eAAetL,EAAYxV,WAAW7W,QAC5F+W,EAAM4P,cAAcp9B,QAAQ,YAAa,GANzC,CAOJ,EACAu0D,EAAG9rF,UAAU+rF,UAAY,SAAU7xB,GAC/B,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C61B,GAAM1gB,EAAQnV,EAAO,CACjB81B,UAAW,SAAUlqB,GACjBxP,SAAS0jB,YAAY,cAAc,EAAOlU,EAC9C,GAER,IACAjxC,KAAKwhC,QAAQQ,iBAAiB,UAAU,WACpC+lB,EAAUvN,EAAQ,CAAC,QACvB,IACAx6C,KAAKwhC,QAAQQ,iBAAiB,oBAAoB,SAAUqD,GACxDghB,EAAMmJ,eAAgB,CAC1B,IACAxvD,KAAKwhC,QAAQQ,iBAAiB,kBAAkB,SAAUqD,IACjD,EAAGiiB,EAA6B0E,OACjChoD,EAAMw2C,EAAQxU,eAAeE,WAAW,GAAGC,cAE/CkgB,EAAMmJ,eAAgB,CAC1B,IACAxvD,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,GAAwB,iBAApBA,EAAMqlB,WAAoD,mBAApBrlB,EAAMqlB,UAIhD,OAAIrE,EAAMnB,cACNmB,EAAMnB,cAAe,OACrBkG,GAA2B5Q,EAAQ,CAC/B6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,UAIjBlF,EAAMmJ,eAAgC,MAAfnqB,EAAMhkC,MAA+B,MAAfgkC,EAAMhkC,MAA+B,MAAfgkC,EAAMhkC,MAG7E2C,EAAMw2C,EAAQxU,eAAeE,WAAW,GAAGC,cAAc,EAAOd,GACpE,IACArlC,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,GAA6B,UAAzBA,EAAM9b,OAAOorB,QASb,OARItP,EAAM9b,OAAOliC,QACbg+C,EAAM9b,OAAOqd,aAAa,UAAW,WAGrCvB,EAAM9b,OAAOgZ,gBAAgB,WAEjC8jB,EAAMnB,cAAe,OACrBkG,GAA2B5Q,GAG/B,IAAI/2B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAE7CxP,GAAiB,EAAGrH,EAAsC4I,IAAIlH,EAAM9b,OAAQ,sBAiBhF,GAhBKyhB,IACDA,GAAiB,EAAGrH,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,uBAEpFlX,IACIA,EAAeyZ,uBAAuBrJ,kBACtC33B,EAAMkgC,mBAAmB3Y,EAAeyZ,uBAAuBrJ,mBAI/D33B,EAAMkgC,mBAAmB3Y,EAAeyZ,wBAE5ChhC,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACxCkqC,GAAanT,IAGY,QAAzBnV,EAAM9b,OAAOorB,QAAmB,CAChC,IAAI23B,EAAcjnC,EAAM9b,OAAOgc,cAAcpD,cAAc,4BACvDmqC,IACA7oD,EAAMo/B,WAAWypB,IACjB,EAAGzoC,EAAiCgC,IAAIpiB,GAEhD,CAEA,IAAIgzB,GAAW,EAAG9S,EAAsC0mB,IAAIhlB,EAAM9b,OAAQ,YAAa,KACvF,IAAIktB,GAAcA,EAASvR,UAAUI,SAAS,2BAA9C,CASA,GAAID,EAAM9b,OAAO+xB,YAAY+K,EAAM7kB,UAAY6kB,EAAM7kB,QAAQ4jB,kBAAoB3hC,EAAM4oC,UAAW,CAC9F,IAAIkgB,EAAWlmB,EAAM7kB,QAAQ4jB,iBAAiB/e,wBAC1ChB,EAAMnP,EAAIq2C,EAASjmC,IAAMimC,EAASxmF,SACa,MAA3CsgE,EAAM7kB,QAAQ4jB,iBAAiBzQ,SACyE,KAAxG0R,EAAM7kB,QAAQ4jB,iBAAiBvW,YAAYvgB,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAChG3pB,EAAMkgC,mBAAmB0C,EAAM7kB,QAAQ4jB,kBACvC3hC,EAAM4+B,UAAS,KAGfgE,EAAM7kB,QAAQmP,mBAAmB,YAAa,qBAAuBhsB,OAAO6e,EAA8BhxC,EAAE46C,KAAM,eAClH,EAAGvJ,EAA6BsnB,IAAI9E,EAAM7kB,QAAS/d,IAG/D,CACyB,KAArBA,EAAM5oB,WACNoxD,EAAaxoC,EAAO+2B,GAIpB39C,YAAW,WACPovD,GAAa,EAAGpoB,EAA8BsrB,IAAI3U,GAASA,EAC/D,IAEJ2O,EAAS9jB,EAAOmV,GAChBwU,EAAmBxU,EAzBnB,MAPQA,EAAO78B,QAAQyiC,KAAKqQ,MACpBjW,EAAO78B,QAAQyiC,KAAKqQ,MAAMha,EAAStU,cAAc,sCAE5CqY,EAAO78B,QAAQyiC,KAAKosB,QACzBnqC,OAAO3+C,KAAK+yD,EAAStU,cAAc,qCAAqC0M,YA6BpF,IACA7uC,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,IAAIA,EAAM0uB,eAAe,EAAGzM,EAA0BoE,IAAIrmB,GAO1D,GAJkB,UAAdA,EAAM56C,KACNkjE,GAAanT,GAEjBwU,EAAmBxU,GACA,cAAdnV,EAAM56C,KAAqC,WAAd46C,EAAM56C,KACJ,KAAhC+vD,EAAO0L,GAAG1kB,QAAQ2D,WAA4D,IAAxCqV,EAAO0L,GAAG1kB,QAAQyS,WAAWrzD,SACnE45D,EAAO0L,GAAG1kB,QAAQ4Z,mBAAqE,MAAhDZ,EAAO0L,GAAG1kB,QAAQ4Z,kBAAkBzG,SACd,IAA1D6F,EAAO0L,GAAG1kB,QAAQ4Z,kBAAkBmqB,mBACD,KAAlC/qB,EAAO0L,GAAG1kB,QAAQqN,aAAwD,OAAlC2L,EAAO0L,GAAG1kB,QAAQqN,YAJlE,CASA,IAAIprB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC/B,cAAdnV,EAAM56C,MAEF,EAAG68D,EAA6B0E,OAA8C,OAArCvoC,EAAMy+B,eAAerT,aAA8C,IAAtBprB,EAAMm/B,cAC5Fn/B,EAAMy+B,eAAerT,YAAc,GACnCod,EAAaxoC,EAAO+2B,IAGxB6L,EAAM7kB,QAAQgB,iBAAiB,kBAAkB7pC,SAAQ,SAAU2rC,GAC/D,IAAI8iC,EAAY9iC,EAAKnC,cAAc,MAC/BilC,GACAA,EAAUrgD,QAElB,KAEKse,EAAM56C,IAAIhK,QAAQ,UAAY,GACjB,cAAd4kD,EAAM56C,KAAqC,eAAd46C,EAAM56C,KACnC4/E,GAAY7vB,GAEhByR,EAAaxoC,EAAO+2B,IAEG,MAAlBnV,EAAMymB,SAAkC,KAAfzmB,EAAM4L,MAA6B,iBAAd5L,EAAM56C,KAEzDwhE,EAAaxoC,EAAO+2B,GAExB,IAAIyP,GAAuB,EAAGtmB,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,sBAC9F,GAAI+H,EAAsB,CACtB,GAAkB,YAAd5kB,EAAM56C,KAAmC,cAAd46C,EAAM56C,IAUjC,OATIw/D,EAAqBxF,uBAAuBrJ,kBAC5C33B,EAAMkgC,mBAAmBsG,EAAqBxF,uBAAuBrJ,mBAIrE33B,EAAMkgC,mBAAmBsG,EAAqBxF,wBAElDhhC,EAAM4+B,UAAS,GACfhd,EAAMwP,kBACC,EAEX,GAAqC,SAAjCoV,EAAqBtV,UACN,cAAdtP,EAAM56C,KAAqC,eAAd46C,EAAM56C,KAWpC,MAVqE,gBAAjEw/D,EAAqB1kB,cAAcxD,aAAa,cAEhDkoB,EAAqB1kB,cAAco7B,mBAAmB,WAAYn9B,EAA8BhxC,EAAE46C,MAClG3pB,EAAM2+B,SAAS6H,EAAqB1kB,cAAc2e,YAAa,IAG/DzgC,EAAMkgC,mBAAmBsG,EAAqB1kB,cAAc6f,kBAEhE3hC,EAAM4+B,UAAS,GACfhd,EAAMwP,kBACC,CAEf,CAtDA,MAFI2F,EAAO0L,GAAG1kB,QAAQ2D,UAAY,EAyDtC,GACJ,EACOinC,CACX,CA1NuB,GA+NnBK,GAAU,SAAUjyB,GACpB,MAA2B,OAAvBA,EAAOK,YACAL,EAAOlR,KAAKuB,QAAQgb,EAAYrL,IAEX,YAAvBA,EAAOK,YACLL,EAAOlR,KAAKojC,eAAelyB,EAAOwL,QAAQxkB,QAAQ2D,WAE7B,OAAvBqV,EAAOK,YACLL,EAAOlR,KAAKqjC,iBAAiBnyB,EAAO0L,GAAG1kB,QAAQ2D,gBADrD,CAGT,EAGIvB,GAAU,EAAoB,IAE9BN,GAAgB,EAAoB,KAMpCspC,GAAyB,WACzB,SAASA,EAAQC,GACb7sE,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,iBACzB4d,KAAKwhC,QAAQ2D,UAAY,sCAAwCxgB,OAAOkoD,EAAc,sDAC1F,CAiCA,OAhCAD,EAAQtsF,UAAUuoD,OAAS,SAAU2R,GAQjC,MAN6C,UAAzCA,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,SACtB,EAAGqkD,GAAiC0J,GAAGwN,EAAOvN,QAAQjC,eAAgBhrC,KAAKwhC,QAAQ4jB,iBAAkB5K,IAGrG,EAAGlX,GAAiC0J,GAAGwN,EAAOA,EAAOK,aAAarZ,QAASxhC,KAAKwhC,QAAQ4jB,iBAAkB5K,EAGzH,EACAoyB,EAAQtsF,UAAUy5E,OAAS,SAAUvf,EAAQ0M,EAAMnhB,GAC/C,IAAI5iD,OACS,IAAT+jE,IAAmBA,GAAO,QAChB,IAAVnhB,IAAoBA,GAAQ,GAChC,IAAI4X,EAAwD,QAA1Cx6D,EAAKq3D,EAAOmB,QAAQuM,SAASgB,eAA4B,IAAP/lE,OAAgB,EAASA,EAAGi4D,kBAUhG,GATI8L,GAAQ7kB,OAAOkb,YAAc/Z,EAAsChxC,EAAE86C,cACrEttC,KAAKwhC,QAAQz+C,MAAM9D,QAAU,QAC7B+gB,KAAK6oC,OAAO2R,GACZmD,SAAwDA,EAAWzY,UAAU/jC,IAAI,0BAGjFnB,KAAKwhC,QAAQz+C,MAAM9D,QAAU,OAC7B0+D,SAAwDA,EAAWzY,UAAUne,OAAO,yBAEpFgf,GAASC,eAAeC,WAAa,EAAG,CACxC,IAAIxiB,EAAQuiB,eAAeE,WAAW,GAClCsU,EAAOA,EAAOK,aAAarZ,QAAQ8D,SAAS7hB,EAAMy+B,kBAClD,EAAGre,EAAiCgC,IAAIpiB,EAEhD,CACAoqC,EAAWrT,EACf,EACOoyB,CACX,CAvC4B,GA2CxB1pC,GAAc,EAAoB,KAoBlC4pC,GAAyB,WACzB,SAASA,EAAQtyB,GACb,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,iBACzB4d,KAAKgrC,eAAiBvJ,SAASI,cAAc,OAC7C7hC,KAAKgrC,eAAe5oD,UAAY,eAC5Bo4D,EAAO78B,QAAQovD,QAAQ9/B,SACvBjtC,KAAKgrC,eAAe9F,UAAU/jC,IAAIq5C,EAAO78B,QAAQovD,QAAQ9/B,SAE7DjtC,KAAKgrC,eAAejoD,MAAMgrE,SAAWvT,EAAO78B,QAAQsvB,QAAQ8gB,SAAW,KACvE/tD,KAAKgrC,eAAehJ,iBAAiB,QAAQ,SAAUqD,GACnD,GAA6B,aAAzBA,EAAM9b,OAAOorB,QAAjB,CAIA,IAAIgG,EAAclZ,SAASI,cAAc,OACzC8Y,EAAYv4D,UAAY,eACxBu4D,EAAY3G,YAAYhO,eAAeE,WAAW,GAAG0/B,iBACrDvf,EAAM2mB,QAAQxyB,EAAQG,EAAa,WACnCtV,EAAMwP,gBALN,CAMJ,IACA70C,KAAKgrC,eAAehJ,iBAAiB,SAAS,SAAUqD,GACpD,IAAIgH,GAAc,EAAG1I,EAAqC2I,IAAIjH,EAAM9b,OAAQ,QAC5E,GAAI8iB,IAAe,EAAG1I,EAAsC4I,IAAIF,EAAa,cAA7E,CACI,IAAIG,EAAiB6Z,EAAMrb,eAAe7I,cAAc,IAAMkK,EAAYtK,aAAa,mBACnFyK,IACA6Z,EAAM7kB,QAAQ+E,UAAYiG,EAAeR,UAGjD,KANA,CAOA,GAA6B,MAAzB3G,EAAM9b,OAAOorB,QAQb,OAPI6F,EAAO78B,QAAQyiC,KAAKqQ,MACpBjW,EAAO78B,QAAQyiC,KAAKqQ,MAAMprB,EAAM9b,QAE3BixB,EAAO78B,QAAQyiC,KAAKosB,QACzBnqC,OAAO3+C,KAAK2hD,EAAM9b,OAAOwY,aAAa,cAE1CsD,EAAMwP,iBAGmB,QAAzBxP,EAAM9b,OAAOorB,UACT6F,EAAO78B,QAAQ68C,MAAMvtB,QACrBuN,EAAO78B,QAAQ68C,MAAMvtB,QAAQ5H,EAAM9b,QAE9BixB,EAAO78B,QAAQ68C,MAAMC,YAC1B,EAAG9tB,EAAgCI,GAAG1H,EAAM9b,OAAQixB,EAAO78B,QAAQomB,KAAMyW,EAAO78B,QAAQorB,OAhBhG,CAmBJ,IACA/oC,KAAKwhC,QAAQwS,YAAYh0C,KAAKgrC,gBAC9B,IAAIz5B,EAAUipC,EAAO78B,QAAQsvB,QAAQ17B,QACrC,GAAuB,IAAnBA,EAAQ3wB,OAAZ,CAGA,IAAIqsF,EAAgBxrC,SAASI,cAAc,OAC3CorC,EAAc7qF,UAAY,yBAE1B,IADA,IAAI8qF,EAAa,GACRvsF,EAAI,EAAGA,EAAI4wB,EAAQ3wB,OAAQD,IAAK,CACrC,IAAI6wB,EAASD,EAAQ5wB,GACrB,GAAsB,iBAAX6wB,EAIX,OAAQA,GACJ,IAAK,UACD07D,EAAWnrE,KAAK,sGAChB,MACJ,IAAK,SACDmrE,EAAWnrE,KAAK,4DAChB,MACJ,IAAK,SACDmrE,EAAWnrE,KAAK,mEAChB,MACJ,IAAK,YACDmrE,EAAWnrE,KAAK,sLAChB,MACJ,IAAK,QACDmrE,EAAWnrE,KAAK,kLAjBpBmrE,EAAWnrE,KAAK,oCAAuC4iB,OAAOnT,EAAO/mB,IAAK,aAAek6B,OAAOnT,EAAOpvB,UAAW,KAAMuiC,OAAOnT,EAAO0oC,QAAU,gBAAiBv1B,OAAOnT,EAAO0oC,QAAS,KAAQ,GAAI,MAAOv1B,OAAOnT,EAAOkgB,KAAM,aAoBvO,CACAu7C,EAAc9nC,UAAY+nC,EAAW77E,KAAK,IAC1C47E,EAAcjrC,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC/E,IAAI8nC,GAAM,EAAGxrB,EAA0Cd,GAAGxb,EAAM9b,OAAQ,UACxE,GAAK4jD,EAAL,CAGA,IAAI7iF,EAAO6iF,EAAIprC,aAAa,aACxBqrC,EAAe77D,EAAQuL,MAAK,SAAUuwD,GAAK,OAAQA,aAA6B,EAASA,EAAE5iF,OAASH,CAAM,IAC1G8iF,EACAA,EAAa3c,MAAMnmE,GAGV,cAATA,GAAiC,UAATA,GAKxB+7D,EAAMrb,eAAejoD,MAAMg3D,MADlB,YAATzvD,EACmC,OAErB,WAATA,EAC8B,QAGA,QAEnC+7D,EAAMrb,eAAewS,YAAc6I,EAAMrb,eAAezF,cAAcnD,cACtEikB,EAAMrb,eAAejoD,MAAMg3D,MAAQ,QAEvCsM,EAAMxd,OAAO2R,GACbyyB,EAAczqC,iBAAiB,UAAU7pC,SAAQ,SAAU2rC,GACvDA,EAAKY,UAAUne,OAAO,kCAC1B,IACAomD,EAAIjoC,UAAU/jC,IAAI,oCAnBdklD,EAAM2mB,QAAQxyB,EAAQ6L,EAAMrb,eAAeoF,WAAU,GAAO9lD,EARhE,CA4BJ,IACA0V,KAAKwhC,QAAQ2uB,aAAa8c,EAAejtE,KAAKgrC,eA9D9C,CA+DJ,CA6IA,OA5IA8hC,EAAQxsF,UAAUuoD,OAAS,SAAU2R,EAAQ32D,GACzC,IAAIwiE,EAAQrmD,KAEZ,GADAvD,aAAauD,KAAKstE,aACiB,SAA/BttE,KAAKwhC,QAAQz+C,MAAM9D,QAMvB,GAAI4E,EACAmc,KAAKgrC,eAAe7F,UAAYthD,OAGpC,GAC2D,KADvDgiE,EAAYrL,GACX/iD,QAAQ,qCAAsC,IADnD,CAKA,IAAI81E,GAAkB,IAAIpzE,MAAO+3B,UAC7BsnC,EAAe3T,EAAYrL,GAC/Bx6C,KAAKstE,YAAcjrC,OAAOxlC,YAAW,WACjC,GAAI29C,EAAO78B,QAAQsvB,QAAQyJ,IAAK,CAC5B,IAAIqyB,EAAQ,IAAI3qB,eAChB2qB,EAAMrlF,KAAK,OAAQ82D,EAAO78B,QAAQsvB,QAAQyJ,KAC1CqyB,EAAM1qB,iBAAiB,eAAgB,kCACvC0qB,EAAM9F,mBAAqB,WACvB,GAAI8F,EAAM7F,aAAe9kB,eAAe+kB,KACpC,GAAqB,MAAjB4F,EAAM3gF,OAAgB,CACtB,IAAIolF,EAAeh+B,KAAKC,MAAMs5B,EAAMvqB,cACpC,GAA0B,IAAtBgvB,EAAav8B,KAEb,YADAuJ,EAAOmd,IAAIzQ,KAAKsmB,EAAajK,KAG7B/oB,EAAO78B,QAAQsvB,QAAQp0C,YACvB20E,EAAansE,KAAOm5C,EAAO78B,QAAQsvB,QAAQp0C,UAAU20E,EAAansE,OAEtEglD,EAAMrb,eAAe7F,UAAYqoC,EAAansE,KAC9CglD,EAAMqI,YAAYlU,EAAQ+yB,EAC9B,KACK,CACD,IAAI/xC,EAAOgf,EAAOlR,KAAKuB,QAAQ2uB,GAC3Bhf,EAAO78B,QAAQsvB,QAAQp0C,YACvB2iC,EAAOgf,EAAO78B,QAAQsvB,QAAQp0C,UAAU2iC,IAE5C6qB,EAAMrb,eAAe7F,UAAY3J,EACjC6qB,EAAMqI,YAAYlU,EAAQ+yB,EAC9B,CAER,EACAxE,EAAMzqB,KAAK9O,KAAK65B,UAAU,CAAE7P,aAAcA,IAC9C,KACK,CACD,IAAIh+B,EAAOgf,EAAOlR,KAAKuB,QAAQ2uB,GAC3Bhf,EAAO78B,QAAQsvB,QAAQp0C,YACvB2iC,EAAOgf,EAAO78B,QAAQsvB,QAAQp0C,UAAU2iC,IAE5C6qB,EAAMrb,eAAe7F,UAAY3J,EACjC6qB,EAAMqI,YAAYlU,EAAQ+yB,EAC9B,CACJ,GAAG/yB,EAAO78B,QAAQsvB,QAAQ/tB,MA1C1B,MAFIlf,KAAKgrC,eAAe7F,UAAY,OAXe,sBAA3CnlC,KAAKwhC,QAAQO,aAAa,cAC1ByY,EAAOmd,IAAIwK,MAuDvB,EACA2K,EAAQxsF,UAAUouE,YAAc,SAAUlU,EAAQizB,GAC1CjzB,EAAO78B,QAAQsvB,QAAQwC,OACvB+K,EAAO78B,QAAQsvB,QAAQwC,MAAMzvC,KAAKwhC,SAEtC,IAAInjB,GAAQ,IAAIlkB,MAAO+3B,UAAYu7C,GAC9B,IAAItzE,MAAO+3B,UAAYu7C,EAAa,MAErCjzB,EAAOmd,IAAIzQ,KAAK7kB,OAAOiJ,WAAWoiC,eAAej2E,QAAQ,OAAQ4mB,EAAKxjB,aACtE2/C,EAAOvN,QAAQzL,QAAQoF,aAAa,YAAa,sBAES,sBAArD4T,EAAOvN,QAAQzL,QAAQO,aAAa,eACzCyY,EAAOmd,IAAIwK,OACX3nB,EAAOvN,QAAQzL,QAAQe,gBAAgB,cAE3C,IAAIorC,EAAkBnzB,EAAOvN,QAAQzL,QAAQW,cAAc,0BACvDwrC,GACAA,EAAgBzoC,UAAUne,OAAO,0BAErC,EAAGoa,EAA2BqK,GAAGgP,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQsvB,QAAQ7E,OACvF,EAAG9G,EAAqCrhD,GAAGu6D,EAAO78B,QAAQsvB,QAAQ7E,KAAMoS,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,MACtH,EAAG7E,EAAiCxiD,GAAG65D,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,QACzG,EAAG3F,EAAiCsI,GAAG8O,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,QACzG,EAAG3H,EAAqC2F,GAAGyT,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,MACzF,EAAG3G,EAAmCuG,GAAG4S,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,MACvF,EAAG9G,EAA6B9gD,GAAGo6D,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,QACrG,EAAG1F,EAAiC0D,GAAGyT,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,IAAKwS,EAAO78B,QAAQorB,QACzG,EAAGxF,EAAmCoI,GAAG6O,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,MACvF,EAAGhH,EAAyB4K,GAAG4O,EAAOvN,QAAQjC,eAAgBwP,EAAO78B,QAAQqqB,KACzEwS,EAAO78B,QAAQsvB,QAAQpE,OAAOC,MAAMF,SACpC,EAAG1F,GAA6B2I,GAAG2O,EAAOvN,QAAQjC,gBAEtDwP,EAAO78B,QAAQqrC,cAAcrwD,SAAQ,SAAU2rC,GAC3CA,EAAKuE,OAAO2R,EAAOvN,QAAQjC,eAAgBwP,EAC/C,IAEA,IAAIiJ,EAAgBjJ,EAAOvN,QAAQzL,QAC/BiZ,EAAUD,EAAO0O,QAAQrgB,OAAO2R,GACpB,KAAZC,IACAA,EAAU,SAEdgJ,EAAcjhB,iBAAiB,2BAA2B7pC,SAAQ,SAAU2rC,GACxEA,EAAKa,UAAYsV,GACjB,EAAGxX,EAA2BwI,GAAGnH,EAAM,CACnC0D,IAAKwS,EAAO78B,QAAQqqB,IACpBQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,MAErC,KACA,EAAGvF,EAA2BwI,GAAG+O,EAAOvN,QAAQjC,eAAgB,CAC5DhD,IAAKwS,EAAO78B,QAAQqqB,IACpBQ,KAAMgS,EAAO78B,QAAQsvB,QAAQzE,MAErC,EACAskC,EAAQxsF,UAAU0sF,QAAU,SAAUxyB,EAAQozB,EAAatjF,QAC1C,IAATA,IAAmBA,EAAO,aAEjB,UAATA,EACAsjF,EAAYprC,iBAAiB,qBAAqB7pC,SAAQ,SAAU2rC,GAChEA,EAAKvhD,MAAM9D,QAAU,SACzB,IAGA2uF,EAAYprC,iBAAiB,kBAAkB7pC,SAAQ,SAAU2rC,GAC7DA,EAAKsN,UAAY,yFAAgGjtB,OAAO2f,EAAKvC,aAAa,aAAc,gEAC5J,IAGJ6rC,EAAY7qF,MAAMgE,gBAAkB,OAEpC6mF,EAAYprC,iBAAiB,QAAQ7pC,SAAQ,SAAU2rC,GACnDA,EAAKvhD,MAAM8qF,gBAAkB,MACjC,IACA7tE,KAAKwhC,QAAQuU,OAAO63B,GACpB,IAAInqD,EAAQmqD,EAAYzrB,cAAc/qC,cACtCqM,EAAMo/B,WAAW+qB,IACjB,EAAG/pC,EAAiCgC,IAAIpiB,GACxCge,SAAS0jB,YAAY,QACrByoB,EAAY7mD,SACZyzB,EAAOmd,IAAIzQ,KAAK,CAAC,QAAS,aAAalhD,SAAS1b,GAAQ,SAAuCq6B,OAAgB,UAATr6B,EAAmB,KAAO,UAAW,QAA8B,UAC7K,EACOwiF,CACX,CAnQ4B,GAuQxBgB,GAAwB,WACxB,SAASA,EAAOtzB,GACZx6C,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,gCAAgCuiC,OAAO61B,EAAO78B,QAAQ0pC,OAAO5gE,UACtFuZ,KAAKwhC,QAAQ2D,UAAY,qEACzBnlC,KAAKqsE,UAAU7xB,EACnB,CAyCA,OAxCAszB,EAAOxtF,UAAU+rF,UAAY,SAAU7xB,GACnC,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAQQ,iBAAiB,aAAa,SAAUqD,GACjD,IAAI0oC,EAAetsC,SACfvL,EAAImP,EAAM2oC,QACVjoF,EAASy0D,EAAOhZ,QAAQoa,aACxBwS,EAAY,GAAK5T,EAAOhZ,QAAQW,cAAc,mBAAmBub,aACrEqwB,EAAaE,YAAc,WAAc,OAAO,CAAO,EACnD5rC,OAAO6rC,eACP7rC,OAAO6rC,gBAEX7nB,EAAM7kB,QAAQ0D,UAAU/jC,IAAI,2BAC5B4sE,EAAaI,YAAc,SAAUC,GACM,QAAnC5zB,EAAO78B,QAAQ0pC,OAAO5gE,SACtB+zD,EAAOhZ,QAAQz+C,MAAMgD,OAASsU,KAAKqD,IAAI0wD,EAAWroE,GAAUmwC,EAAIk4C,EAAUJ,UAAY,KAGtFxzB,EAAOhZ,QAAQz+C,MAAMgD,OAASsU,KAAKqD,IAAI0wD,EAAWroE,GAAUqoF,EAAUJ,QAAU93C,IAAM,KAEtFskB,EAAO78B,QAAQwwC,iBACf3T,EAAOsL,GAAGtkB,QAAQz+C,MAAMsrF,cACpB7zB,EAAOsL,GAAGtkB,QAAQ+D,cAAcqW,aAAe,EAAI,KAE/D,EACAmyB,EAAarO,UAAY,WACjBllB,EAAO78B,QAAQ0pC,OAAO9iC,OACtBi2B,EAAO78B,QAAQ0pC,OAAO9iC,MAAMi2B,EAAOhZ,QAAQoa,aAAe71D,GAE1Ds8C,OAAO6rC,eACP7rC,OAAO6rC,gBAEXH,EAAaI,YAAc,KAC3BJ,EAAarO,UAAY,KACzBqO,EAAaE,YAAc,KAC3BF,EAAaO,cAAgB,KAC7BP,EAAaQ,SAAW,KACxBloB,EAAM7kB,QAAQ0D,UAAUne,OAAO,0BACnC,CACJ,GACJ,EACO+mD,CACX,CAhD2B,GA0DvBU,GAAwB,WACxB,SAASA,EAAOh0B,GACZx6C,KAAKwvD,eAAgB,EACrBxvD,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,yBACzB4d,KAAKwhC,QAAQoF,aAAa,cAAe4T,EAAO78B,QAAQ3kB,aACxDgH,KAAKwhC,QAAQoF,aAAa,kBAAmB,QAC7C5mC,KAAKwhC,QAAQoF,aAAa,aAAc,SACxC5mC,KAAKqsE,UAAU7xB,GACf8f,GAAW9f,EAAQx6C,KAAKwhC,SACxBk5B,GAAUlgB,EAAQx6C,KAAKwhC,SACvBm6B,GAAYnhB,EAAQx6C,KAAKwhC,SACzBi+B,GAAYjlB,EAAQx6C,KAAKwhC,SACzBw5B,GAAUxgB,EAAQx6C,KAAKwhC,SACvB45B,GAAU5gB,EAAQx6C,KAAKwhC,QAASxhC,KAAKmS,MACrCkpD,GAAS7gB,EAAQx6C,KAAKwhC,QAASxhC,KAAKmS,KACxC,CA8EA,OA7EAq8D,EAAOluF,UAAU6xB,KAAO,SAAUkzB,EAAOmV,GACrCnV,EAAMz7C,kBACNy7C,EAAMwP,iBACNxP,EAAM4P,cAAcp9B,QAAQ,aAAcwiD,GAAc7f,EAAOA,EAAOK,aAAarZ,SACvF,EACAgtC,EAAOluF,UAAU+rF,UAAY,SAAU7xB,GACnC,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C61B,GAAM1gB,EAAQnV,EAAO,CACjB81B,UAAW,SAAUlqB,GACjBxP,SAAS0jB,YAAY,cAAc,EAAOlU,EAC9C,GAER,IACAjxC,KAAKwhC,QAAQQ,iBAAiB,UAAU,WACpC,GAA6C,UAAzCwY,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAjC,CAGA,IAAIwvF,EAAgBpoB,EAAM7kB,QAAQ+E,UAC9BmoC,EAAaroB,EAAM7kB,QAAQkc,aAC3BixB,EAAmBtoB,EAAM7kB,QAAQic,aAAerrD,WAAWi0D,EAAM7kB,QAAQz+C,MAAMsrF,eAAiB,KAChGphC,EAAUuN,EAAOvN,QAAQzL,QAEzByL,EAAQ1G,UADPkoC,EAAgBC,EAAa,IACTD,EAAgBC,GACjCzhC,EAAQwQ,aAAekxB,EAAmBD,EAG1BD,EAChBxhC,EAAQwQ,aAAekxB,CAX/B,CAaJ,IACA3uE,KAAKwhC,QAAQQ,iBAAiB,oBAAoB,SAAUqD,GACxDghB,EAAMmJ,eAAgB,CAC1B,IACAxvD,KAAKwhC,QAAQQ,iBAAiB,kBAAkB,SAAUqD,IACjD,EAAGiiB,EAA6B0E,OACjCgB,EAAWxS,EAAQnV,GAEvBghB,EAAMmJ,eAAgB,CAC1B,IACAxvD,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,GAAwB,iBAApBA,EAAMqlB,WAAoD,mBAApBrlB,EAAMqlB,YAI5CrE,EAAMmJ,eAAgC,MAAfnqB,EAAMhkC,MAA+B,MAAfgkC,EAAMhkC,MAA+B,MAAfgkC,EAAMhkC,KAG7E,OAAIglD,EAAMnB,cACNmB,EAAMnB,cAAe,OACrB+H,GAAmBzS,EAAQ,CACvB6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,UAIrByB,EAAWxS,EAAQnV,EACvB,IACArlC,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GACzCA,EAAM0uB,cAAe,EAAGzM,EAA0BoE,IAAIrmB,KAGvC,cAAdA,EAAM56C,KAAqC,WAAd46C,EAAM56C,KACJ,KAAhC+vD,EAAOsL,GAAGtkB,QAAQ2D,WAA4D,IAAxCqV,EAAOsL,GAAGtkB,QAAQyS,WAAWrzD,SACnE45D,EAAOsL,GAAGtkB,QAAQ4Z,mBAAqE,QAAhDZ,EAAOsL,GAAGtkB,QAAQ4Z,kBAAkBzG,SACd,IAA1D6F,EAAOsL,GAAGtkB,QAAQ4Z,kBAAkBmqB,mBACiB,KAApD/qB,EAAOsL,GAAGtkB,QAAQ4Z,kBAAkBvM,aAAwD,OAAlC2L,EAAOsL,GAAGtkB,QAAQqN,YAKlE,UAAdxJ,EAAM56C,KACNkjE,GAAanT,GAJbA,EAAOsL,GAAGtkB,QAAQ2D,UAAY,GAMtC,GACJ,EACOqpC,CACX,CA/F2B,GAmGvBI,GAAqB,WACrB,SAASA,IACL5uE,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,YAC7B,CA+BA,OA9BAwsF,EAAItuF,UAAU4mE,KAAO,SAAUx1B,EAAMrT,GACjC,IAAIgoC,EAAQrmD,UACC,IAATqe,IAAmBA,EAAO,KAC9Bre,KAAKwhC,QAAQp/C,UAAY,8BACZ,IAATi8B,GACAre,KAAKwhC,QAAQ2D,UAAY,oCAAsCxgB,OAAO+M,EAAM,kDAC5E1xB,KAAKwhC,QAAQW,cAAc,sBAAsBH,iBAAiB,SAAS,WACvEqkB,EAAM8b,MACV,MAGAniE,KAAKwhC,QAAQ2D,UAAY,oCAAsCxgB,OAAO+M,EAAM,UAC5E70B,YAAW,WACPwpD,EAAM8b,MACV,GAAG9jD,IAGPre,KAAKwhC,QAAQe,gBAAgB,SAC7B1lC,YAAW,WACIwpD,EAAM7kB,QAAQ6E,wBAChBC,IAAM,KACX+f,EAAM7kB,QAAQz+C,MAAM0D,SAAW,QAC/B4/D,EAAM7kB,QAAQz+C,MAAMujD,IAAM,OAElC,GAAG,IACP,EACAsoC,EAAItuF,UAAU6hF,KAAO,WACjBniE,KAAKwhC,QAAQp/C,UAAY,2BACzB4d,KAAKwhC,QAAQ2D,UAAY,EAC7B,EACOypC,CACX,CApCwB,GA0CpBC,GAAiB,SAAUnmC,EAAM8R,GACjC,GAAIA,EAAO78B,QAAQsvB,QAAQvE,OAASA,EAApC,CAIA,OADA8R,EAAO78B,QAAQsvB,QAAQvE,KAAOA,EACtBA,GACJ,IAAK,OACD8R,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,QAClCu7D,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,QACvCu7D,EAAOvN,QAAQpE,OAAO2R,GACtBkN,EAAkBlN,EAAOmB,QAAQuM,SAAU,CAAC,SAC5C,MACJ,IAAK,SACD1N,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,QAClCu7D,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,OACvCsoE,EAAqB/M,EAAOmB,QAAQuM,SAAU,CAAC,SAKnD1N,EAAO8L,UACP9L,EAAO8L,SAASF,aAAa5L,EAlBjC,CAoBJ,EAGIs0B,GAAqD,WACrD,IAAItgB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdwD,GAmBrDyV,GAAsB,SAAU9U,GAEhC,SAAS8U,EAAKv0B,EAAQkd,GAClB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAoBnD,MAnBoC,SAAhCw6C,EAAO78B,QAAQsvB,QAAQvE,MACvB2d,EAAM7kB,QAAQl+C,SAAS,GAAG4hD,UAAU/jC,IAAI,wBAE5CklD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC1EghB,EAAM7kB,QAAQ4Z,kBAChBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,uBAGjFlI,EAAMwP,iBACqB,OAAvB2F,EAAOK,cAGyB,SAAhCL,EAAO78B,QAAQsvB,QAAQvE,KACvBmmC,GAAe,SAAUr0B,GAGzBq0B,GAAe,OAAQr0B,IAE/B,IACO6L,CACX,CACA,OAxBAyoB,GAAaC,EAAM9U,GAwBZ8U,CACX,CA1ByB,CA0BvBtX,IAIEuX,GACA,WACIhvE,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,oBAC7B,EAMAwqD,GAAe,EAAoB,IAEnCqiC,GAA0D,WAC1D,IAAIzgB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd6D,GAoB1D4V,GAA2B,SAAUjV,GAErC,SAASiV,EAAU10B,EAAQkd,GACvB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/CwoD,EAAYnC,EAAM7kB,QAAQl+C,SAAS,GACnCilE,EAAe9mB,SAASI,cAAc,OAC1C0mB,EAAanmE,UAAY,cAAcuiC,OAA0B,IAAnB+yC,EAASjP,MAAc,GAAK,wBAC1E,IAAItjB,EAAY,GAiBhB,OAhBA3B,EAA4ChxC,EAAEi7C,WAAW90C,SAAQ,SAAUowC,GACvE5D,GAAa,WAAWxgB,OAAOokB,EAAO,YAC1C,IACAwf,EAAapjB,UACT,yCAA0CxgB,OAAO0d,OAAOC,YAAc,EAAG,QAAS3d,OAAOwgB,EAAW,UACxGojB,EAAavmB,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GACjD,WAAzBA,EAAM9b,OAAOorB,UACboT,EAAUvN,EAAQ,CAAC,eACnBA,EAAO78B,QAAQsvB,QAAQ7E,KAAKrlD,MAAQsiD,EAAM9b,OAAOslB,aACjD,EAAGjC,GAA+Bf,GAAGxG,EAAM9b,OAAOslB,YAAa2L,EAAO78B,QAAQqqB,KAC9E3C,EAAMwP,iBACNxP,EAAMz7C,kBAEd,IACAy8D,EAAM7kB,QAAQwS,YAAYuU,GAC1BD,EAAc9N,EAAQ+N,EAAcC,EAAWkP,EAASjP,OACjDpC,CACX,CACA,OAzBA4oB,GAAkBC,EAAWjV,GAyBtBiV,CACX,CA3B8B,CA2B5BzX,IAIE0X,GAA6D,WAC7D,IAAI3gB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdgE,GAmB7D8V,GAA8B,SAAUnV,GAExC,SAASmV,EAAa50B,EAAQkd,GAC1B,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/CwoD,EAAYnC,EAAM7kB,QAAQl+C,SAAS,GACnCilE,EAAe9mB,SAASI,cAAc,OAC1C0mB,EAAanmE,UAAY,cAAcuiC,OAA0B,IAAnB+yC,EAASjP,MAAc,GAAK,wBAC1E,IAAItjB,EAAY,GAiBhB,OAhBA9kD,OAAO4a,KAAKu/C,EAAO78B,QAAQsvB,QAAQlE,MAAMgF,MAAMp1C,SAAQ,SAAUlO,GAC7D06C,GAAa,sBAAuBxgB,OAAOl6B,EAAK,MAAOk6B,OAAO61B,EAAO78B,QAAQsvB,QAAQlE,MAAMgF,KAAKtjD,GAAM,YAC1G,IACA89D,EAAapjB,UACT,yCAA0CxgB,OAAO0d,OAAOC,YAAc,EAAG,QAAS3d,OAAOwgB,EAAW,UACxGojB,EAAavmB,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GACjD,WAAzBA,EAAM9b,OAAOorB,UACboT,EAAUvN,EAAQ,CAAC,eACnBA,EAAO78B,QAAQsvB,QAAQlE,MAAM5xC,QAAUkuC,EAAM9b,OAAOwY,aAAa,cACjE,EAAG0B,EAAqC8H,GAAGiP,EAAO78B,QAAQsvB,QAAQlE,MAAM5xC,QAASqjD,EAAO78B,QAAQsvB,QAAQlE,MAAMlhC,MAC9Gw9B,EAAMwP,iBACNxP,EAAMz7C,kBAEd,IACAy8D,EAAM7kB,QAAQwS,YAAYuU,GAC1BD,EAAc9N,EAAQ+N,EAAcC,EAAWkP,EAASjP,OACjDpC,CACX,CACA,OAzBA8oB,GAAqBC,EAAcnV,GAyB5BmV,CACX,CA3BiC,CA2B/B3X,IAIE4X,GAAyB,WACzB,SAASA,EAAQ70B,GACbx6C,KAAKwhC,QAAUC,SAASI,cAAc,QACtC7hC,KAAKwhC,QAAQp/C,UAAY,yDACzB4d,KAAK6oC,OAAO2R,EAAQ,GACxB,CA+BA,OA9BA60B,EAAQ/uF,UAAUuoD,OAAS,SAAU2R,EAAQrR,GACzC,IAAIvoD,EAASuoD,EAAO7f,SAAS,MAAQ6f,EAAOvoD,OAAS,EAAIuoD,EAAOvoD,OAChE,GAAoC,SAAhC45D,EAAO78B,QAAQ8xC,QAAQnlE,MAAmBkwD,EAAOA,EAAOK,aAAc,CACtE,IAAIF,EAAcH,EAAOA,EAAOK,aAAarZ,QAAQ4O,WAAU,GAC/DuK,EAAYnY,iBAAiB,4BAA4B7pC,SAAQ,SAAU2rC,GACvEA,EAAKvd,QACT,IACAnmC,EAAS+5D,EAAY9L,YAAYjuD,MACrC,CAC0C,iBAA/B45D,EAAO78B,QAAQ8xC,QAAQ/xD,KAC1B9c,EAAS45D,EAAO78B,QAAQ8xC,QAAQ/xD,IAChCsC,KAAKwhC,QAAQp/C,UAAY,uCAGzB4d,KAAKwhC,QAAQp/C,UAAY,iBAE7B4d,KAAKwhC,QAAQ2D,UAAY,GAAGxgB,OAAO/jC,EAAQ,KAAK+jC,OAAO61B,EAAO78B,QAAQ8xC,QAAQ/xD,MAG9EsC,KAAKwhC,QAAQ2D,UAAY,GAAGxgB,OAAO/jC,GAEvCof,KAAKwhC,QAAQoF,aAAa,aAAc4T,EAAO78B,QAAQ8xC,QAAQnlE,MAC3DkwD,EAAO78B,QAAQ8xC,QAAQlrC,OACvBi2B,EAAO78B,QAAQ8xC,QAAQlrC,MAAM3jC,EAAQ,CACjCgoD,OAAQ4R,EAAO78B,QAAQ8xC,QAAQ7mB,OAC/BlrC,IAAK88C,EAAO78B,QAAQ8xC,QAAQ/xD,IAC5BpT,KAAMkwD,EAAO78B,QAAQ8xC,QAAQnlE,MAGzC,EACO+kF,CACX,CArC4B,GAyCxBC,GAAuD,WACvD,IAAI9gB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd0D,GAkBvDiW,GAAwB,SAAUtV,GAElC,SAASsV,EAAO/0B,EAAQkd,GACpB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KASnD,OARAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG6hD,UAAYuyB,EAASx5E,KAC/CmoE,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACFxP,EAAM0P,cAAc7P,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAG1FmqB,EAASjH,MAAMprB,EAAOmV,EAC1B,IACO6L,CACX,CACA,OAbAipB,GAAeC,EAAQtV,GAahBsV,CACX,CAf2B,CAezB9X,IAIE+X,GAAyD,WACzD,IAAIhhB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd4D,GAmBzDmW,GAA0B,SAAUxV,GAEpC,SAASwV,EAASj1B,EAAQkd,GACtB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAmBnD,OAlBAqmD,EAAM7kB,QAAQ4Z,kBAAkBpZ,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GACjG,IAAIsY,EAAa0I,EAAM7kB,QAAQ4Z,kBAC3BuC,EAAWzY,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,uBAGjFlI,EAAMwP,iBACF8I,EAAWzY,UAAUI,SAAS,yBAC9BqY,EAAWzY,UAAUne,OAAO,wBAC5ByzB,EAAO8L,SAAS9kB,QAAQz+C,MAAM9D,QAAU,OACxC4uE,EAAWrT,KAGXmD,EAAWzY,UAAU/jC,IAAI,wBACzBq5C,EAAO8L,SAAS9kB,QAAQz+C,MAAM9D,QAAU,QACxC4uE,EAAWrT,GACXA,EAAO8L,SAASF,aAAa5L,IAErC,IACO6L,CACX,CACA,OAvBAmpB,GAAiBC,EAAUxV,GAuBpBwV,CACX,CAzB6B,CAyB3BhY,IAIEiY,GACA,WACI1vE,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,yBAC7B,EAMAutF,GAAsD,WACtD,IAAInhB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdyD,GAqBtDsW,GAAuB,SAAU3V,GAEjC,SAAS2V,EAAMp1B,EAAQkd,GACnB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/CuoD,EAAe9mB,SAASI,cAAc,OAC1C0mB,EAAanmE,UAAY,mCACzB,IAAIytF,EAAkB,GActB,OAbAxvF,OAAO4a,KAAKu/C,EAAO78B,QAAQyqC,KAAKD,OAAOxvD,SAAQ,SAAUlO,GACrD,IAAIqlF,EAAat1B,EAAO78B,QAAQyqC,KAAKD,MAAM19D,GACvCqlF,EAAWrvF,QAAQ,MAAQ,EAC3BovF,GAAmB,wBAAyBlrD,OAAOl6B,EAAK,mBAAqBk6B,OAAOl6B,EAAK,0BAA4Bk6B,OAAOl6B,EAAK,mBAAqBk6B,OAAOl6B,EAAK,wCAA4Ck6B,OAAOmrD,EAAY,gBAGjOD,GAAmB,uBAAwBlrD,OAAOmrD,EAAY,mBAAqBnrD,OAAOl6B,EAAK,wCAA2Ck6B,OAAOmrD,EAAY,mBAErK,IACAvnB,EAAapjB,UAAY,iDAAoDxgB,OAAiC,SAA1B61B,EAAO78B,QAAQ53B,OAAoB,OAASy0D,EAAO78B,QAAQ53B,OAAS,GAAI,QAAS4+B,OAAOkrD,EAAiB,+FAAmGlrD,OAAO61B,EAAO78B,QAAQyqC,KAAK2nB,WAAa,GAAI,mBAC5U1pB,EAAM7kB,QAAQwS,YAAYuU,GAC1BD,EAAc9N,EAAQ+N,EAAclC,EAAM7kB,QAAQ4Z,kBAAmBsc,EAASjP,OAC9EpC,EAAMgmB,UAAU7xB,GACT6L,CACX,CAuCA,OA3DAspB,GAAcC,EAAO3V,GAqBrB2V,EAAMtvF,UAAU+rF,UAAY,SAAU7xB,GAClC,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAQ4jB,iBAAiBpjB,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC/F,IAAIsY,GAAa,EAAGgE,EAA0Cd,GAAGxb,EAAM9b,OAAQ,UAC/E,GAAIo0B,EAAY,CACZtY,EAAMwP,iBACN,IAAIhxD,EAAQ85D,EAAW5b,aAAa,cAChCte,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7Chf,EAAO33C,EAOX,GAN2B,YAAvB22D,EAAOK,YACPrf,EAAOgf,EAAOlR,KAAK0R,cAAcn3D,GAEL,OAAvB22D,EAAOK,cACZrf,EAAOgf,EAAOlR,KAAKyR,gBAAgBl3D,IAEnCA,EAAMpD,QAAQ,MAAQ,GAA4B,OAAvB+5D,EAAOK,YAAsB,CACxD,IAAIF,EAAclZ,SAASI,cAAc,OACzC8Y,EAAYxV,UAAY3J,EACxBA,EAAOmf,EAAYS,kBAAkBA,kBAAkBxJ,UAAY,KACnE,EAAG/N,EAA0BkmC,IAAIvuC,EAAMgf,EAC3C,MAEI/2B,EAAMo5C,kBACNp5C,EAAMohC,WAAWpjB,SAASqjB,eAAejhE,IAE7C4/B,EAAM4+B,UAAS,IACf,EAAGxe,EAAiCgC,IAAIpiB,GACxC4iC,EAAM7kB,QAAQ4jB,iBAAiBriE,MAAM9D,QAAU,OAC/CqqE,GAAgB9O,EACpB,CACJ,IACAx6C,KAAKwhC,QAAQ4jB,iBAAiBpjB,iBAAiB,aAAa,SAAUqD,GAClE,IAAIsY,GAAa,EAAGgE,EAA0Cd,GAAGxb,EAAM9b,OAAQ,UAC3Eo0B,IACA0I,EAAM7kB,QAAQW,cAAc,uBAAuBgD,UAAYwY,EAAW5b,aAAa,YAE/F,GACJ,EACO6tC,CACX,CA7D0B,CA6DxBnY,IAMEuY,GAAW,SAAUx1B,EAAQt3D,EAASu/E,GACtC,IAAIhsB,EAAWhV,SAASI,cAAc,KAClC,aAAc4U,GACdA,EAASu5B,SAAWvN,EACpBhsB,EAAS1zD,MAAM9D,QAAU,OACzBw3D,EAASvE,KAAOb,IAAIE,gBAAgB,IAAIJ,KAAK,CAACjuD,KAC9Cu+C,SAAS4F,KAAK2M,YAAYyC,GAC1BA,EAASga,QACTha,EAAS1vB,UAGTyzB,EAAOmd,IAAIzQ,KAAK7kB,OAAOiJ,WAAW2kC,YAAa,EAEvD,EAsBIC,GAAuD,WACvD,IAAI1hB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd0D,GAmBvD6W,GAAwB,SAAUlW,GAElC,SAASkW,EAAO31B,EAAQkd,GACpB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/CwoD,EAAYnC,EAAM7kB,QAAQl+C,SAAS,GACnCilE,EAAe9mB,SAASI,cAAc,OA0B1C,OAzBA0mB,EAAanmE,UAAY,cAAcuiC,OAA0B,IAAnB+yC,EAASjP,MAAc,GAAK,wBAC1EF,EAAapjB,UAAY,+HACzBojB,EAAavmB,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC9E,IAAIsY,EAAatY,EAAM9b,OACvB,GAA2B,WAAvBo0B,EAAWhJ,QAAsB,CACjC,OAAQgJ,EAAW5b,aAAa,cAC5B,IAAK,YApDJ,SAAUyY,GAC3B,IAAIt3D,EAAU2iE,EAAYrL,GAC1Bw1B,GAASx1B,EAAQt3D,EAASA,EAAQ6oD,OAAO,EAAG,IAAM,MACtD,CAkDwBqkC,CAAe51B,GACf,MACJ,IAAK,OAnDT,SAAUA,GACtBA,EAAOmd,IAAIzQ,KAAK7kB,OAAOiJ,WAAW+kC,SAAU,MAC5C,IAAIC,EAAS7uC,SAASU,cAAc,uBACpCmuC,EAAOC,gBAAgB7sF,OACvB4sF,EAAOC,gBAAgBC,MAAM,gCAAmC7rD,OAAO61B,EAAO78B,QAAQqqB,IAAK,qCAAuCrjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,0PAA+PrjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,sCAAuCrjB,OAAO6qB,KAAK65B,UAAU7uB,EAAO78B,QAAQsvB,QAAQlE,OAAQ,yCAA0CpkB,OAAO61B,EAAO78B,QAAQsvB,QAAQ7E,KAAKrlD,MAAO,0GACvmButF,EAAOC,gBAAgB9uF,QACvBob,YAAW,WACPyzE,EAAOG,cAAcC,YAAY7qB,EAAYrL,GAAS,IAC1D,GAAG,IACP,CA2CwBm2B,CAAUn2B,GACV,MACJ,IAAK,QA5CR,SAAUA,GACvB,IAAIt3D,EAAUupF,GAAQjyB,GAClBhf,EAAO,4DAAiE7W,OAAO61B,EAAO78B,QAAQqqB,IAAK,qCAAuCrjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,kBAAkBrjB,OAAO61B,EAAO78B,QAAQomB,KAAM,kCAAmCpf,OAAO61B,EAAO78B,QAAQqqB,IAAK,yFAA6FrjB,OAAOzhC,EAAS,iHAAiHyhC,OAAO61B,EAAO78B,QAAQsvB,QAAQlE,MAAM5xC,QAAS,QAAQwtB,OAAO61B,EAAO78B,QAAQsvB,QAAQlE,MAAMlhC,KAAM,4EAA4E8c,OAAO6qB,KAAK65B,UAAU7uB,EAAO78B,QAAQsvB,QAAQ7E,MAAO,uBAAuBzjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,gEAAgErjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,sBAAsBrjB,OAAO6qB,KAAK65B,UAAU7uB,EAAO78B,QAAQsvB,QAAQzE,MAAO,0DAA0D7jB,OAAO61B,EAAO78B,QAAQqqB,IAAK,QAAQrjB,OAAO61B,EAAO78B,QAAQorB,MAAO,mDAAmDpkB,OAAO61B,EAAO78B,QAAQqqB,IAAK,QAAQrjB,OAAO61B,EAAO78B,QAAQorB,MAAO,qDAAqDpkB,OAAO61B,EAAO78B,QAAQqqB,IAAK,oDAAoDrjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,iDAAiDrjB,OAAO61B,EAAO78B,QAAQqqB,IAAK,QAAQrjB,OAAO61B,EAAO78B,QAAQorB,MAAO,mDAAmDpkB,OAAO61B,EAAO78B,QAAQqqB,IAAK,QAAQrjB,OAAO61B,EAAO78B,QAAQorB,MAAO,+CAA+CpkB,OAAO61B,EAAO78B,QAAQqqB,IAAK,aAAarjB,OAAO61B,EAAO78B,QAAQsvB,QAAQpE,OAAOC,MAAMF,OAAS,sCAAwC,GAAI,yEAAyEjkB,OAAO61B,EAAO78B,QAAQqqB,IAAK,mBAAmBrjB,OAAO61B,EAAO78B,QAAQz/B,KAAM,iCACn2D8xF,GAASx1B,EAAQhf,EAAMt4C,EAAQ6oD,OAAO,EAAG,IAAM,QACnD,CAyCwB6kC,CAAWp2B,GAKnBuN,EAAUvN,EAAQ,CAAC,eACnBnV,EAAMwP,iBACNxP,EAAMz7C,iBACV,CACJ,IACAy8D,EAAM7kB,QAAQwS,YAAYuU,GAC1BD,EAAc9N,EAAQ+N,EAAcC,EAAWkP,EAASjP,OACjDpC,CACX,CACA,OAhCA6pB,GAAeC,EAAQlW,GAgChBkW,CACX,CAlC2B,CAkCzB1Y,IAIEoZ,GAA2D,WAC3D,IAAIriB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd8D,GAkB3DwX,GAA4B,SAAU7W,GAEtC,SAAS6W,EAAWt2B,EAAQkd,GACxB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAEnD,OADAqmD,EAAM+T,WAAW5f,EAAQkd,GAClBrR,CACX,CAqDA,OA1DAwqB,GAAmBC,EAAY7W,GAM/B6W,EAAWxwF,UAAU85E,WAAa,SAAU5f,EAAQkd,GAChD13D,KAAKwhC,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC1FA,EAAMwP,iBACF2F,EAAOhZ,QAAQp/C,UAAU4jB,SAAS,uBAC7B0xD,EAASjP,QACVzoD,KAAKmlC,UAAYuyB,EAASx5E,MAE9Bs8D,EAAOhZ,QAAQz+C,MAAMhE,OAAS,GAC9B0iD,SAAS4F,KAAKtkD,MAAMs6D,SAAW,GAC/B7C,EAAOhZ,QAAQ0D,UAAUne,OAAO,sBAChC1mC,OAAO4a,KAAKu/C,EAAOmB,QAAQuM,UAAUvvD,SAAQ,SAAUlO,GACnD,IAAIsmF,EAAav2B,EAAOmB,QAAQuM,SAASz9D,GAAK0oD,WAC1C49B,IACAA,EAAW3uF,UAAY2uF,EAAW3uF,UAAUqV,QAAQ,MAAO,OAC3D+iD,EAAO78B,QAAQg+B,QAAQhjD,SAAQ,SAAU2rC,GACjB,iBAATA,GAAqBA,EAAKuzB,aAAevzB,EAAKp6B,OAAS6mE,EAAWC,QAAQ1mF,OACjFymF,EAAW3uF,UAAY,wCAAwCuiC,OAAO2f,EAAKuzB,aAEnF,IAER,IACIrd,EAAOiV,UACPjV,EAAOiV,QAAQjuB,QAAQp/C,UAAYo4D,EAAOiV,QAAQjuB,QAAQp/C,UAAUqV,QAAQ,MAAO,UAIlFigE,EAASjP,QACVzoD,KAAKmlC,UAAY,6DAErBqV,EAAOhZ,QAAQz+C,MAAMhE,OAASy7D,EAAO78B,QAAQszD,WAAWn8E,MAAM+F,WAC9D4mC,SAAS4F,KAAKtkD,MAAMs6D,SAAW,SAC/B7C,EAAOhZ,QAAQ0D,UAAU/jC,IAAI,sBAC7B9gB,OAAO4a,KAAKu/C,EAAOmB,QAAQuM,UAAUvvD,SAAQ,SAAUlO,GACnD,IAAIsmF,EAAav2B,EAAOmB,QAAQuM,SAASz9D,GAAK0oD,WAC1C49B,IACAA,EAAW3uF,UAAY2uF,EAAW3uF,UAAUqV,QAAQ,MAAO,OAEnE,IACI+iD,EAAOiV,UACPjV,EAAOiV,QAAQjuB,QAAQp/C,UAAYo4D,EAAOiV,QAAQjuB,QAAQp/C,UAAUqV,QAAQ,MAAO,SAGvF+iD,EAAO8L,UACP9L,EAAO8L,SAASF,aAAa5L,GAE7Bkd,EAASjH,OACTiH,EAASjH,MAAMprB,EAAOmV,GAE1BqT,EAAWrT,GACX0T,EAAsB1T,EAC1B,GACJ,EACOs2B,CACX,CA5D+B,CA4D7BrZ,IAIEyZ,GAAyD,WACzD,IAAI1iB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd4D,GAuBzD6X,GAA0B,SAAUlX,GAEpC,SAASkX,EAAS32B,EAAQkd,GACtB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/CuoD,EAAe9mB,SAASI,cAAc,OAK1C,OAJA0mB,EAAanmE,UAAY,kCACzBmmE,EAAapjB,UAAY,yCAA6CxgB,OAAO0d,OAAOiJ,WAAW8lC,SAAU,KAAKzsD,QAAO,EAAG2iC,EAAmCoL,IAAI,YAAa,sDAA0D/tC,OAAO0d,OAAOiJ,WAAW+lC,SAAU,SAAS1sD,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,wDAA4D/tC,OAAO0d,OAAOiJ,WAAWgmC,SAAU,SAAS3sD,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,yDAA6D/tC,OAAO0d,OAAOiJ,WAAWimC,SAAU,SAAS5sD,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,0DAA8D/tC,OAAO0d,OAAOiJ,WAAWkmC,SAAU,SAAS7sD,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,2DAA+D/tC,OAAO0d,OAAOiJ,WAAWmmC,SAAU,SAAS9sD,QAAO,EAAG2iC,EAAmCoL,IAAI,OAAQ,cACr9BrM,EAAM7kB,QAAQwS,YAAYuU,GAC1BlC,EAAM+T,WAAW5f,EAAQ+N,GAClBlC,CACX,CA+CA,OAxDA6qB,GAAiBC,EAAUlX,GAU3BkX,EAAS7wF,UAAU85E,WAAa,SAAU5f,EAAQ+N,GAC9C,IAAIC,EAAYxoD,KAAKwhC,QAAQl+C,SAAS,GACtCklE,EAAUxmB,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3EA,EAAMwP,iBAENp4C,aAAa+9C,EAAOwL,QAAQuJ,sBAC5B9yD,aAAa+9C,EAAO0L,GAAGua,kBACvBhkE,aAAa+9C,EAAOsL,GAAG2a,kBACnBjY,EAAUtjB,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,uBAGhFib,EAAUuS,OACNvS,EAAUtjB,UAAUI,SAAS,yBACF,YAAvBkV,EAAOK,aACPwV,GAAc7V,GACd8U,EAAiB9U,IAEW,OAAvBA,EAAOK,aACZmkB,GAAuBxkB,EAAQ,IAEnCgO,EAAUtjB,UAAUne,OAAO,0BAG3BghC,EAAUvN,EAAQ,CAAC,eACnB+N,EAAaxlE,MAAM9D,QAAU,SAErC,IACA,IAAK,IAAI0B,EAAI,EAAGA,EAAI,EAAGA,IACnB4nE,EAAajlE,SAASghD,KAAK3jD,GAAGqhD,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC/FA,EAAMwP,iBACqB,YAAvB2F,EAAOK,aACPuV,GAAW5V,EAAQnV,EAAM9b,OAAOwY,aAAa,aAC7CutB,EAAiB9U,GACjBgO,EAAUtjB,UAAU/jC,IAAI,yBAEI,OAAvBq5C,EAAOK,aACZmkB,GAAuBxkB,EAAQnV,EAAM9b,OAAOwY,aAAa,eACzDymB,EAAUtjB,UAAU/jC,IAAI,yBAGxBm+D,GAAe9kB,EAAQnV,EAAM9b,OAAOwY,aAAa,eAErDwmB,EAAaxlE,MAAM9D,QAAU,MACjC,GAER,EACOkyF,CACX,CA1D6B,CA0D3B1Z,IAIEia,GAAqD,WACrD,IAAIljB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdwD,GAiBrDqY,GAAsB,SAAU1X,GAEhC,SAAS0X,EAAKn3B,EAAQkd,GAClB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAKnD,OAJAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACN2F,EAAOmd,IAAIzQ,KAAK,+kCAAwzC,EAC50C,IACOb,CACX,CACA,OATAqrB,GAAaC,EAAM1X,GASZ0X,CACX,CAXyB,CAWvBla,IAIEma,GAAuD,WACvD,IAAIpjB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd0D,GAqBvDuY,GAAwB,SAAU5X,GAElC,SAAS4X,EAAOr3B,EAAQkd,GACpB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAanD,OAZAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAE3F,GADAA,EAAMwP,kBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAC3E,OAAvBiN,EAAOK,YADX,CAIA,IAAIp3B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C6U,GAAY,EAAG1rB,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,MAC9EmN,GACAqW,GAAWlrB,EAAQ6U,EAAW5rC,EAJlC,CAMJ,IACO4iC,CACX,CACA,OAjBAurB,GAAeC,EAAQ5X,GAiBhB4X,CACX,CAnB2B,CAmBzBpa,IAIEqa,GAAqD,WACrD,IAAItjB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdwD,GAkBrDyY,GAAsB,SAAU9X,GAEhC,SAAS8X,EAAKv3B,EAAQkd,GAClB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAKnD,OAJAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACN2F,EAAOmd,IAAIzQ,KAAK,g9BAA04CviC,OAAO6e,EAA8BiI,EAAG,aAAa9mB,OAAOs2B,KAAK+2B,QAAS,2KAAyM,EACjrD,IACO3rB,CACX,CACA,OATAyrB,GAAaC,EAAM9X,GASZ8X,CACX,CAXyB,CAWvBta,IAIEwa,GAA4D,WAC5D,IAAIzjB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd+D,GAmB5D4Y,GAA6B,SAAUjY,GAEvC,SAASiY,EAAY13B,EAAQkd,GACzB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KASnD,OARAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAC3E,OAAvBiN,EAAOK,aAGXsqB,GAAiB3qB,EAAQ,WAC7B,IACO6L,CACX,CACA,OAbA4rB,GAAoBC,EAAajY,GAa1BiY,CACX,CAfgC,CAe9Bza,IAIE0a,GAA6D,WAC7D,IAAI3jB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdgE,GAmB7D8Y,GAA8B,SAAUnY,GAExC,SAASmY,EAAa53B,EAAQkd,GAC1B,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KASnD,OARAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAC3E,OAAvBiN,EAAOK,aAGXsqB,GAAiB3qB,EAAQ,cAC7B,IACO6L,CACX,CACA,OAbA8rB,GAAqBC,EAAcnY,GAa5BmY,CACX,CAfiC,CAe/B3a,IAIE4a,GAAwD,WACxD,IAAI7jB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd2D,GAqBxDgZ,GAAyB,SAAUrY,GAEnC,SAASqY,EAAQ93B,EAAQkd,GACrB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAanD,OAZAqmD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAE3F,GADAA,EAAMwP,kBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAC3E,OAAvBiN,EAAOK,YADX,CAIA,IAAIp3B,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C6U,GAAY,EAAG1rB,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,MAC9EmN,GACA2W,GAAYxrB,EAAQ6U,EAAW5rC,EAAO4rC,EAAU9pB,cAJpD,CAMJ,IACO8gB,CACX,CACA,OAjBAgsB,GAAgBC,EAASrY,GAiBlBqY,CACX,CAnB4B,CAmB1B7a,IAIE8a,GAAwD,WACxD,IAAI/jB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd2D,GAkBxDkZ,GAAiC,SAAUvY,GAE3C,SAAS2S,EAAQpyB,EAAQkd,GACrB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAanD,OAZIw6C,EAAO78B,QAAQurC,SACf7C,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAU/jC,IAAI,wBAElDklD,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACW2F,EAAOmB,QAAQuM,SAASgB,QAAQ9N,kBAClClW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,uBAGjFiN,EAAO78B,QAAQurC,QAAQtgB,QAAUyd,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS,wBACpFkV,EAAO0O,QAAQ6Q,OAAOvf,EAAQA,EAAO78B,QAAQurC,QAAQtgB,QACzD,IACOyd,CACX,CACA,OAjBAksB,GAAgB3F,EAAS3S,GAiBlB2S,CACX,CAnBoC,CAmBlCnV,IAIEgb,GAAwD,WACxD,IAAIjkB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd2D,GAoBxDoZ,GAAiC,SAAUzY,GAE3C,SAAS6S,EAAQtyB,EAAQkd,GACrB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAEnD,OADAqmD,EAAM+T,WAAW5f,GACV6L,CACX,CA+CA,OApDAosB,GAAgB3F,EAAS7S,GAMzB6S,EAAQxsF,UAAU85E,WAAa,SAAU5f,GACrC,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC1FA,EAAMwP,iBACN,IAAI8I,EAAa0I,EAAM7kB,QAAQ4Z,kBAC/B,IAAIuC,EAAWzY,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,qBAAjF,CAGA,IAAIolC,EAAWnvC,EAA8ChxC,EAAEg7C,cAAc7oB,OAAO,CAAC,OAAQ,YAAa,aACtGg5B,EAAWzY,UAAUI,SAAS,yBAC9BqY,EAAWzY,UAAUne,OAAO,wBACD,OAAvByzB,EAAOK,aACPL,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,QACE,SAAhCu7D,EAAO78B,QAAQsvB,QAAQvE,KACvB8R,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,QAGvCu7D,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,SAI3Cu7D,EAAOA,EAAOK,aAAarZ,QAAQ+D,cAAcxiD,MAAM9D,QAAU,QACjEu7D,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,QAE3C0oE,EAAcnN,EAAOmB,QAAQuM,SAAUyqB,GACvCn4B,EAAO0O,QAAQrgB,OAAO2R,KAGtBoN,EAAepN,EAAOmB,QAAQuM,SAAUyqB,GACxCn4B,EAAOvN,QAAQzL,QAAQz+C,MAAM9D,QAAU,QACZ,OAAvBu7D,EAAOK,YACPL,EAAOsL,GAAGtkB,QAAQz+C,MAAM9D,QAAU,OAGlCu7D,EAAOA,EAAOK,aAAarZ,QAAQ+D,cAAcxiD,MAAM9D,QAAU,OAErEu7D,EAAOvN,QAAQpE,OAAO2R,GACtBmD,EAAWzY,UAAU/jC,IAAI,wBACzB4mD,EAAUvN,EAAQ,CAAC,aAAc,OAAQ,YACzC39C,YAAW,WACP29C,EAAO0O,QAAQrgB,OAAO2R,EAC1B,GAAGA,EAAO78B,QAAQsvB,QAAQ/tB,MAAQ,KAEtC2uC,EAAWrT,EApCX,CAqCJ,GACJ,EACOsyB,CACX,CAtDoC,CAsDlCrV,IAIEmb,GAA6B,WAC7B,SAASA,EAAY1yF,GAOjB,IAAI6Z,EAEJ,GARAiG,KAAK6yE,YAAc,IACnB7yE,KAAK8yE,aAAc,EACnB9yE,KAAK+yE,WAAY,EACjB/yE,KAAKgzE,YAAc,GACnBhzE,KAAKizE,aAAe,GACpBjzE,KAAKkzE,gBAAkB,EAGK,oBAAjBC,aACPp5E,EAAU,IAAIo5E,iBAEb,KAAIC,mBAIL,OAHAr5E,EAAU,IAAIq5E,kBAIlB,CACApzE,KAAKqzE,oBAAsBt5E,EAAQu5E,WAEnC,IAAIC,EAASx5E,EAAQy5E,aAEJz5E,EAAQ05E,wBAAwBvzF,GAEtCwzF,QAAQH,GAKnBvzE,KAAK2zE,SAAW55E,EAAQ65E,sBAAsB,KAAM,EAAG,GAEvD5zE,KAAK2zE,SAASE,eAAiB,KAE/BN,EAAOG,QAAQ1zE,KAAK2zE,UACpB3zE,KAAK2zE,SAASD,QAAQ35E,EAAQ+5E,aAC9B9zE,KAAK+yE,WAAY,CACrB,CAwGA,OAtGAH,EAAYtyF,UAAUyzF,iBAAmB,SAAUC,EAAiBC,GAChEj0E,KAAKgzE,YAAYjxE,KAAK,IAAImyE,aAAaF,IACvCh0E,KAAKizE,aAAalxE,KAAK,IAAImyE,aAAaD,IACxCj0E,KAAKkzE,iBAAmB,IAC5B,EACAN,EAAYtyF,UAAU6zF,yBAA2B,WACzCn0E,KAAK+yE,YACL/yE,KAAK8yE,aAAc,EACnB9yE,KAAKgzE,YAAYpyF,OAASof,KAAKizE,aAAaryF,OAAS,EACrDof,KAAKkzE,gBAAkB,EAE/B,EACAN,EAAYtyF,UAAU8zF,cAAgB,WAClCp0E,KAAK8yE,aAAc,CACvB,EACAF,EAAYtyF,UAAU+zF,iBAAmB,WAMrC,IAJA,IAAIC,EAAat0E,KAAKu0E,aAAav0E,KAAKgzE,aACpCwB,EAAcx0E,KAAKu0E,aAAav0E,KAAKizE,cAErCwB,EAAc,IAAIP,aAAaI,EAAW1zF,QACrCD,EAAI,EAAGA,EAAI2zF,EAAW1zF,SAAUD,EACrC8zF,EAAY9zF,GAAK,IAAO2zF,EAAW3zF,GAAK6zF,EAAY7zF,IAGpDqf,KAAKqzE,oBAAsBrzE,KAAK6yE,cAChC4B,EAAcz0E,KAAK00E,iBAAiBD,EAAaz0E,KAAK6yE,cAE1D,IAAI8B,EAAkB,GAA0B,EAArBF,EAAY7zF,OACnCmkB,EAAS,IAAI2U,YAAYi7D,GACzBtkD,EAAO,IAAIlyB,SAAS4G,GAExB/E,KAAK40E,cAAcvkD,EAAM,EAAG,QAC5BA,EAAKwkD,UAAU,EAAGF,GAAgB,GAClC30E,KAAK40E,cAAcvkD,EAAM,EAAG,QAE5BrwB,KAAK40E,cAAcvkD,EAAM,GAAI,QAC7BA,EAAKwkD,UAAU,GAAI,IAAI,GACvBxkD,EAAKykD,UAAU,GAAI,GAAG,GACtBzkD,EAAKykD,UAAU,GAAI,GAAG,GACtBzkD,EAAKwkD,UAAU,GAAI70E,KAAK6yE,aAAa,GACrCxiD,EAAKwkD,UAAU,GAAuB,EAAnB70E,KAAK6yE,aAAiB,GACzCxiD,EAAKykD,UAAU,GAAI,GAAG,GACtBzkD,EAAKykD,UAAU,GAAI,IAAI,GAEvB,IAAIC,EAA0C,EAArBN,EAAY7zF,OACrCof,KAAK40E,cAAcvkD,EAAM,GAAI,QAC7BA,EAAKwkD,UAAU,GAAIE,GAAoB,GAKvC,IAHA,IAAIC,EAAMP,EAAY7zF,OAClBkU,EAAQ,GAEH2/B,EAAI,EAAGA,EAAIugD,EAAKvgD,IACrBpE,EAAK4kD,SAASngF,EAAwB,MAAjB2/E,EAAYhgD,IAAwB,GACzD3/B,GAAS,EAEb,OAAO,IAAIq8C,KAAK,CAAC9gB,GAAO,CAAE/lC,KAAM,aACpC,EACAsoF,EAAYtyF,UAAUo0F,iBAAmB,SAAU3vE,EAAQmwE,GACvD,GAAIA,IAASl1E,KAAKqzE,oBACd,OAAOtuE,EAEX,GAAImwE,EAAOl1E,KAAKqzE,oBAEZ,OAAOtuE,EAOX,IALA,IAAIowE,EAAkBn1E,KAAKqzE,oBAAsB6B,EAC7CE,EAAY/6E,KAAK8pB,MAAMpf,EAAOnkB,OAASu0F,GACvC9/E,EAAS,IAAI6+E,aAAakB,GAC1BC,EAAe,EACfC,EAAe,EACZD,EAAehgF,EAAOzU,QAAQ,CAIjC,IAHA,IAAI20F,EAAmBl7E,KAAK8pB,OAAOkxD,EAAe,GAAKF,GACnDK,EAAQ,EACRl7D,EAAQ,EACH35B,EAAI20F,EAAc30F,EAAI40F,GAAoB50F,EAAIokB,EAAOnkB,OAAQD,IAClE60F,GAASzwE,EAAOpkB,GAChB25B,IAEJjlB,EAAOggF,GAAgBG,EAAQl7D,EAC/B+6D,IACAC,EAAeC,CACnB,CACA,OAAOlgF,CACX,EACAu9E,EAAYtyF,UAAUi0F,aAAe,SAAUkB,GAI3C,IAHA,IAAIpgF,EAAS,IAAI6+E,aAAal0E,KAAKkzE,iBAC/Bp9E,EAAS,EACTk/E,EAAMS,EAAqB70F,OACtBD,EAAI,EAAGA,EAAIq0F,IAAOr0F,EAAG,CAC1B,IAAIokB,EAAS0wE,EAAqB90F,GAClC0U,EAAO6D,IAAI6L,EAAQjP,GACnBA,GAAUiP,EAAOnkB,MACrB,CACA,OAAOyU,CACX,EACAu9E,EAAYtyF,UAAUs0F,cAAgB,SAAUvkD,EAAMv6B,EAAQjS,GAE1D,IADA,IAAImxF,EAAMnxF,EAAMjD,OACPD,EAAI,EAAGA,EAAIq0F,EAAKr0F,IACrB0vC,EAAKqlD,SAAS5/E,EAASnV,EAAGkD,EAAMg3B,WAAWl6B,GAEnD,EACOiyF,CACX,CA9IgC,GAkJ5B+C,GAAuD,WACvD,IAAInnB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd0D,GAoBvDsc,GAAwB,SAAU3b,GAElC,SAAS2b,EAAOp7B,EAAQkd,GACpB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAEnD,OADAqmD,EAAM+T,WAAW5f,GACV6L,CACX,CA+CA,OApDAsvB,GAAeC,EAAQ3b,GAMvB2b,EAAOt1F,UAAU85E,WAAa,SAAU5f,GACpC,IACIq7B,EADAxvB,EAAQrmD,KAEZA,KAAKwhC,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAE1F,GADAA,EAAMwP,kBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,qBAAtG,CAGA,IAAIkW,EAAgBjJ,EAAOA,EAAOK,aAAarZ,QAC/C,GAAKq0C,EAsBL,GAAIA,EAAc/C,YAAa,CAC3B+C,EAAczB,gBACd55B,EAAOmd,IAAIwK,OACX,IAAIF,EAAO,IAAI6T,KAAK,CAACD,EAAcxB,oBAAqB,SAAS1vD,QAAO,IAAKxqB,MAAQ+3B,UAAW,QAAS,CAAE5nC,KAAM,eACjH62E,GAAY3mB,EAAQ,CAACynB,IACrB5b,EAAM7kB,QAAQl+C,SAAS,GAAG4hD,UAAUne,OAAO,uBAC/C,MAEIyzB,EAAOmd,IAAIzQ,KAAK7kB,OAAOiJ,WAAWyqC,WAClCtyB,EAAc7c,aAAa,kBAAmB,SAC9CivC,EAAc1B,2BACd9tB,EAAM7kB,QAAQl+C,SAAS,GAAG4hD,UAAU/jC,IAAI,6BAhCxC89C,UAAU+2B,aAAaC,aAAa,CAAEC,OAAO,IAAQ/uC,MAAK,SAAUgvC,IAChEN,EAAgB,IAAIjD,GAAYuD,IAClBxC,SAASE,eAAiB,SAAU3zF,GAE9C,GAAK21F,EAAc/C,YAAnB,CAIA,IAAItsC,EAAOtmD,EAAEk2F,YAAYC,eAAe,GACpCjvB,EAAQlnE,EAAEk2F,YAAYC,eAAe,GACzCR,EAAc9B,iBAAiBvtC,EAAM4gB,EAJrC,CAKJ,EACAyuB,EAAc1B,2BACd35B,EAAOmd,IAAIzQ,KAAK7kB,OAAOiJ,WAAWyqC,WAClCtyB,EAAc7c,aAAa,kBAAmB,SAC9Cyf,EAAM7kB,QAAQl+C,SAAS,GAAG4hD,UAAU/jC,IAAI,uBAC5C,IAAG0wC,OAAM,WACL2I,EAAOmd,IAAIzQ,KAAK7kB,OAAOiJ,WAAW,cACtC,GArBJ,CAqCJ,GACJ,EACOsqC,CACX,CAtD2B,CAsDzBne,IAIE6e,GAAqD,WACrD,IAAI9nB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdwD,GAmBrDid,GAAsB,SAAUtc,GAEhC,SAASsc,EAAK/7B,EAAQkd,GAClB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KASnD,OARA4nD,EAAe,CAAEwX,KAAM/Y,EAAM7kB,SAAW,CAAC,SACzC6kB,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAGtGiN,EAAOmV,KAAKyP,KAAK5kB,EACrB,IACO6L,CACX,CACA,OAbAiwB,GAAaC,EAAMtc,GAaZsc,CACX,CAfyB,CAevB9e,IAIE+e,GAAqD,WACrD,IAAIhoB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAdwD,GAmBrDmd,GAAsB,SAAUxc,GAEhC,SAASwc,EAAKj8B,EAAQkd,GAClB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KASnD,OARA4nD,EAAe,CAAE+H,KAAMtJ,EAAM7kB,SAAW,CAAC,SACzC6kB,EAAM7kB,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC3FA,EAAMwP,iBACFwR,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,sBAGtGiN,EAAOmV,KAAKA,KAAKnV,EACrB,IACO6L,CACX,CACA,OAbAmwB,GAAaC,EAAMxc,GAaZwc,CACX,CAfyB,CAevBhf,IAIEif,GAAuD,WACvD,IAAIloB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAd0D,GAmBvDqd,GAA+B,SAAU1c,GAEzC,SAASgH,EAAOzmB,EAAQkd,GACpB,IAAIrR,EAAQ4T,EAAOz5E,KAAKwf,KAAMw6C,EAAQkd,IAAa13D,KAC/C42E,EAAY,qBAShB,OARIp8B,EAAO78B,QAAQojD,OAAOc,WACtB+U,GAAa,wBAEbp8B,EAAO78B,QAAQojD,OAAO2B,SACtBkU,GAAa,YAAajyD,OAAO61B,EAAO78B,QAAQojD,OAAO2B,OAAQ,MAEnErc,EAAM7kB,QAAQl+C,SAAS,GAAG6hD,UAAY,GAAGxgB,OAAQ+yC,EAASx5E,MAAQ,2DAA4DymC,OAAOiyD,EAAW,KAChJvwB,EAAM+T,WAAW5f,GACV6L,CACX,CAsBA,OAnCAqwB,GAAezV,EAAQhH,GAcvBgH,EAAO3gF,UAAU85E,WAAa,SAAU5f,GACpC,IAAI6L,EAAQrmD,KACZA,KAAKwhC,QAAQl+C,SAAS,GAAG0+C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAC1F,GAAIghB,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,qBAGlG,OAFAlI,EAAMz7C,uBACNy7C,EAAMwP,gBAGd,IACA70C,KAAKwhC,QAAQW,cAAc,SAASH,iBAAiB,UAAU,SAAUqD,GACrE,GAAIghB,EAAM7kB,QAAQ4Z,kBAAkBlW,UAAUI,SAAS9B,EAA6ChxC,EAAE+6C,qBAGlG,OAFAlI,EAAMz7C,uBACNy7C,EAAMwP,iBAGwB,IAA9BxP,EAAM9b,OAAO63C,MAAMxgF,QAGvBugF,GAAY3mB,EAAQnV,EAAM9b,OAAO63C,MAAO/7B,EAAM9b,OAClD,GACJ,EACO03C,CACX,CArCkC,CAqChCxJ,IAgCEof,GAAyB,WACzB,SAASA,EAAQr8B,GACb,IAAI6L,EAAQrmD,KACR2d,EAAU68B,EAAO78B,QACrB3d,KAAKkoD,SAAW,CAAC,EACjBloD,KAAKwhC,QAAUC,SAASI,cAAc,OACtC7hC,KAAKwhC,QAAQp/C,UAAY,iBACzBu7B,EAAQg+B,QAAQhjD,SAAQ,SAAU++D,EAAU/2E,GACxC,IAAI8mE,EAAcpB,EAAMywB,QAAQt8B,EAAQkd,EAAU/2E,GAElD,GADA0lE,EAAM7kB,QAAQwS,YAAYyT,GACtBiQ,EAAS/b,QAAS,CAClB,IAAIo7B,EAAiBt1C,SAASI,cAAc,OAC5Ck1C,EAAe30F,UAAY,kCAC3B20F,EAAe/0C,kBAAiB,EAAGslB,EAAgCoB,OAAO,SAAUrjB,GAChF0xC,EAAeh0F,MAAM9D,QAAU,MACnC,IACAy4E,EAAS/b,QAAQhjD,SAAQ,SAAU4mE,EAAayX,GAC5CzX,EAAY9W,MAAQ,EACpBsuB,EAAe/iC,YAAYqS,EAAMywB,QAAQt8B,EAAQ+kB,EAAa5+E,EAAIq2F,GACtE,IACAvvB,EAAYzT,YAAY+iC,GACxBzuB,EAAc9N,EAAQu8B,EAAgBtvB,EAAYnkE,SAAS,GAC/D,CACJ,IACIk3D,EAAO78B,QAAQ89B,cAAc0mB,MAC7BniE,KAAKwhC,QAAQ0D,UAAU/jC,IAAI,wBAE3Bq5C,EAAO78B,QAAQ89B,cAAcC,KAC7B17C,KAAKwhC,QAAQ0D,UAAU/jC,IAAI,uBAE3Bq5C,EAAO78B,QAAQ8xC,QAAQ7mB,SACvB4R,EAAOiV,QAAU,IAAI4f,GAAQ70B,GAC7Bx6C,KAAKwhC,QAAQwS,YAAYwG,EAAOiV,QAAQjuB,SAEhD,CAwHA,OAvHAq1C,EAAQv2F,UAAU22F,aAAe,SAAUz8B,EAAQ78B,GAC/C68B,EAAO78B,QAAQ89B,cAAgBp7D,OAAOiC,OAAO,CACzC6/E,MAAM,EACNzmB,KAAK,GACN/9B,GACC68B,EAAO78B,QAAQ89B,cAAc0mB,KAC7BniE,KAAKwhC,QAAQ0D,UAAU/jC,IAAI,wBAG3BnB,KAAKwhC,QAAQ0D,UAAUne,OAAO,wBAE9ByzB,EAAO78B,QAAQ89B,cAAcC,IAC7B17C,KAAKwhC,QAAQ0D,UAAU/jC,IAAI,uBAG3BnB,KAAKwhC,QAAQ0D,UAAUne,OAAO,sBAEtC,EACA8vD,EAAQv2F,UAAUw2F,QAAU,SAAUt8B,EAAQkd,EAAU5iE,GACpD,IAAIoiF,EACJ,OAAQxf,EAASxtD,MACb,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,OACL,IAAK,eACL,IAAK,QACL,IAAK,OACL,IAAK,cACL,IAAK,OACL,IAAK,QACDgtE,EAAc,IAAIzf,GAASjd,EAAQkd,GACnC,MACJ,IAAK,QACDwf,EAAc,IAAItH,GAAMp1B,EAAQkd,GAChC,MACJ,IAAK,WACDwf,EAAc,IAAI/F,GAAS32B,EAAQkd,GACnC,MACJ,IAAK,IACDwf,EAAc,IAAIxH,GAClB,MACJ,IAAK,KACDwH,EAAc,IAAIlI,GAClB,MACJ,IAAK,OACDkI,EAAc,IAAIT,GAAKj8B,EAAQkd,GAC/B,MACJ,IAAK,OACDwf,EAAc,IAAIX,GAAK/7B,EAAQkd,GAC/B,MACJ,IAAK,OACDwf,EAAc,IAAIvF,GAAKn3B,EAAQkd,GAC/B,MACJ,IAAK,OACDwf,EAAc,IAAInI,GAAKv0B,EAAQkd,GAC/B,MACJ,IAAK,UACDwf,EAAc,IAAIxE,GAAgBl4B,EAAQkd,GAC1C,MACJ,IAAK,aACDwf,EAAc,IAAIpG,GAAWt2B,EAAQkd,GACrC,MACJ,IAAK,SACDwf,EAAc,IAAIP,GAAcn8B,EAAQkd,GACxC,MACJ,IAAK,SACDwf,EAAc,IAAItB,GAAOp7B,EAAQkd,GACjC,MACJ,IAAK,OACDwf,EAAc,IAAInF,GAAKv3B,EAAQkd,GAC/B,MACJ,IAAK,YACDwf,EAAc,IAAIld,GAASxf,EAAQkd,GACnC,MACJ,IAAK,WACDwf,EAAc,IAAIzH,GAASj1B,EAAQkd,GACnC,MACJ,IAAK,UACDwf,EAAc,IAAI5E,GAAQ93B,EAAQkd,GAClC,MACJ,IAAK,SACDwf,EAAc,IAAIrF,GAAOr3B,EAAQkd,GACjC,MACJ,IAAK,UACDwf,EAAc,IAAI1E,GAAgBh4B,EAAQkd,GAC1C,MACJ,IAAK,eACDwf,EAAc,IAAIhF,GAAY13B,EAAQkd,GACtC,MACJ,IAAK,gBACDwf,EAAc,IAAI9E,GAAa53B,EAAQkd,GACvC,MACJ,IAAK,aACDwf,EAAc,IAAIhI,GAAU10B,EAAQkd,GACpC,MACJ,IAAK,gBACDwf,EAAc,IAAI9H,GAAa50B,EAAQkd,GACvC,MACJ,IAAK,SACDwf,EAAc,IAAI/G,GAAO31B,EAAQkd,GACjC,MACJ,QACIwf,EAAc,IAAI3H,GAAO/0B,EAAQkd,GAGzC,GAAKwf,EAAL,CAGA,IAAIzsF,EAAMitE,EAASxtD,KAKnB,MAJY,OAARzf,GAAwB,MAARA,IAChBA,GAAYqK,GAEhBkL,KAAKkoD,SAASz9D,GAAOysF,EAAY11C,QAC1B01C,EAAY11C,OANnB,CAOJ,EACOq1C,CACX,CA3J4B,GA+JxB9lD,GAAmB,EAAoB,IAWvComD,GAA2B,WAC3B,SAASV,IACLz2E,KAAKo3E,UAAY,GACjBp3E,KAAKq3E,aAELr3E,KAAKy3B,IAAM,IAAI1G,EACnB,CA0NA,OAzNA0lD,EAAKn2F,UAAUg3F,WAAa,SAAU98B,GAClCx6C,KAAKq3E,aACLr3E,KAAK85D,UAAUtf,EACnB,EACAi8B,EAAKn2F,UAAUw5E,UAAY,SAAUtf,GAC5BA,EAAOmB,UAGR37C,KAAKw6C,EAAOK,aAAa08B,UAAU32F,OAAS,EAC5C+mE,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,SAGxCN,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,SAEK,IAA9CloD,KAAKw6C,EAAOK,aAAa28B,UAAU52F,OACnC+mE,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,SAGxCN,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,SAEjD,EACAuuB,EAAKn2F,UAAUqvE,KAAO,SAAUnV,GAC5B,GAA2E,UAAvEA,EAAOA,EAAOK,aAAarZ,QAAQO,aAAa,sBAGhD/hC,KAAKw6C,EAAOK,aAAa08B,UAAU32F,OAAS,GAAhD,CAGA,IAAI62F,EAAQz3E,KAAKw6C,EAAOK,aAAa08B,UAAUhxE,MAC1CkxE,IAGLz3E,KAAKw6C,EAAOK,aAAa28B,UAAUz1E,KAAK01E,GACxCz3E,KAAK03E,WAAWD,EAAOj9B,GACvBx6C,KAAKw6C,EAAOK,aAAa88B,SAAU,EAEnC5vB,EAAUvN,EAAQ,CAAC,SATnB,CAUJ,EACAi8B,EAAKn2F,UAAU8+E,KAAO,SAAU5kB,GAC5B,GAA2E,UAAvEA,EAAOA,EAAOK,aAAarZ,QAAQO,aAAa,mBAApD,CAGA,IAAI01C,EAAQz3E,KAAKw6C,EAAOK,aAAa28B,UAAUjxE,MAC1CkxE,IAGLz3E,KAAKw6C,EAAOK,aAAa08B,UAAUx1E,KAAK01E,GACxCz3E,KAAK03E,WAAWD,EAAOj9B,GAAQ,GAN/B,CAOJ,EACAi8B,EAAKn2F,UAAUy7E,oBAAsB,SAAUvhB,EAAQnV,GACnD,GAAkC,IAA9BW,eAAeC,cAG+B,IAA9CjmC,KAAKw6C,EAAOK,aAAa08B,UAAU32F,QAAiE,IAAjDof,KAAKw6C,EAAOK,aAAa08B,UAAU,GAAG32F,QACzFof,KAAKw6C,EAAOK,aAAa28B,UAAU52F,OAAS,IAG5C,EAAG0mE,EAA6B0E,OAAuB,cAAd3mB,EAAM56C,MAI/C,EAAG68D,EAA4BswB,OAAnC,CAIA,IAAIlmD,EAAO1xB,KAAK63E,SAASr9B,GACrB9oB,EAAKj6B,QAAQ,QAAS,IAAIA,QAAQ,2BAA4B,MAC1DuI,KAAKw6C,EAAOK,aAAa08B,UAAU,GAAG,GAAG7kD,MAAM,GAAG,GAAGj7B,QAAQ,QAAS,MAI9EuI,KAAKw6C,EAAOK,aAAa08B,UAAU,GAAG,GAAG7kD,MAAM,GAAG,GAAKhB,EACvD1xB,KAAKw6C,EAAOK,aAAai9B,SAAWpmD,EARpC,CAUJ,EACA+kD,EAAKn2F,UAAUsvE,eAAiB,SAAUpV,GAEtC,IAAI9oB,EAAO1xB,KAAK63E,SAASr9B,GAAQ,GAC7Bu9B,EAAO/3E,KAAKy3B,IAAI9F,UAAUD,EAAM1xB,KAAKw6C,EAAOK,aAAai9B,UAAU,GACnEE,EAAYh4E,KAAKy3B,IAAI2G,WAAW1M,EAAM1xB,KAAKw6C,EAAOK,aAAai9B,SAAUC,GACpD,IAArBC,EAAUp3F,QAAgBof,KAAKw6C,EAAOK,aAAa08B,UAAU32F,OAAS,IAG1Eof,KAAKw6C,EAAOK,aAAai9B,SAAWpmD,EACpC1xB,KAAKw6C,EAAOK,aAAa08B,UAAUx1E,KAAKi2E,GACpCh4E,KAAKw6C,EAAOK,aAAa08B,UAAU32F,OAASof,KAAKo3E,WACjDp3E,KAAKw6C,EAAOK,aAAa08B,UAAUn3C,QAEnCpgC,KAAKw6C,EAAOK,aAAa88B,UACzB33E,KAAKw6C,EAAOK,aAAa28B,UAAY,GACrCx3E,KAAKw6C,EAAOK,aAAa88B,SAAU,EACnC/vB,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,UAEzCloD,KAAKw6C,EAAOK,aAAa08B,UAAU32F,OAAS,GAC5C+mE,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,SAEhD,EACAuuB,EAAKn2F,UAAUo3F,WAAa,SAAUD,EAAOj9B,EAAQy9B,GAEjD,IAAIvmD,EACJ,QAFe,IAAXumD,IAAqBA,GAAS,GAE9BA,EAAQ,CACR,IAAIC,EAAgBl4E,KAAKy3B,IAAIuH,eAAey4C,GAAOv5E,UACnDg6E,EAAcv/E,SAAQ,SAAUklC,GAC5BA,EAAMnL,MAAM/5B,SAAQ,SAAUo/E,GAC1BA,EAAK,IAAMA,EAAK,EACpB,GACJ,IACArmD,EAAO1xB,KAAKy3B,IAAI0H,YAAY+4C,EAAel4E,KAAKw6C,EAAOK,aAAai9B,UAAU,EAClF,MAEIpmD,EAAO1xB,KAAKy3B,IAAI0H,YAAYs4C,EAAOz3E,KAAKw6C,EAAOK,aAAai9B,UAAU,GAU1E,GARA93E,KAAKw6C,EAAOK,aAAai9B,SAAWpmD,EACpC8oB,EAAOA,EAAOK,aAAarZ,QAAQ2D,UAAYzT,EACpB,OAAvB8oB,EAAOK,aACPL,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,WAAW7d,OAAO61B,EAAOK,YAAa,+BACrFliD,SAAQ,SAAU2oD,GACnBuH,EAAkBvH,EAAc9G,EACpC,IAECA,EAAOA,EAAOK,aAAarZ,QAAQW,cAAc,QAOlD,EAAG0B,EAA6BsnB,IAAI3Q,EAAOA,EAAOK,aAAarZ,QAASgZ,EAAOA,EAAOK,aAAarZ,QAAQ2gB,cAAc/qC,eACzHu2C,GAAanT,OAR6C,CAE1D,IAAI/2B,EAAQuiB,eAAeE,WAAW,GACtCziB,EAAM4gC,aAAa7J,EAAOA,EAAOK,aAAarZ,SAC9C/d,EAAM4+B,UAAS,EACnB,CAKA4G,EAAUzO,GACV8O,GAAgB9O,EAAQ,CACpB6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEjBiL,GAAiBhc,GACjBA,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,WAAW7d,OAAO61B,EAAOK,YAAa,+BACrFliD,SAAQ,SAAU2rC,GACnBukB,EAAkBvkB,EAAMkW,EAC5B,IACIx6C,KAAKw6C,EAAOK,aAAa08B,UAAU32F,OAAS,EAC5C+mE,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,SAGxCN,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,SAEK,IAA9CloD,KAAKw6C,EAAOK,aAAa28B,UAAU52F,OACnC+mE,EAAcnN,EAAOmB,QAAQuM,SAAU,CAAC,SAGxCN,EAAepN,EAAOmB,QAAQuM,SAAU,CAAC,QAEjD,EACAuuB,EAAKn2F,UAAU+2F,WAAa,WACxBr3E,KAAKkmD,GAAK,CACNyxB,SAAS,EACTG,SAAU,GACVN,UAAW,GACXD,UAAW,IAEfv3E,KAAK8lD,GAAK,CACN6xB,SAAS,EACTG,SAAU,GACVN,UAAW,GACXD,UAAW,IAEfv3E,KAAKgmD,QAAU,CACX2xB,SAAS,EACTG,SAAU,GACVN,UAAW,GACXD,UAAW,GAEnB,EACAd,EAAKn2F,UAAUu3F,SAAW,SAAUr9B,EAAQ29B,GAExC,IAAIhyC,EACJ,QAFiB,IAAbgyC,IAAuBA,GAAW,GAEJ,IAA9BnyC,eAAeC,aAAqBuU,EAAOA,EAAOK,aAAarZ,QAAQW,cAAc,OAAQ,CAC7F,IAAI1e,EAAQuiB,eAAeE,WAAW,GACtC,GAAIsU,EAAOA,EAAOK,aAAarZ,QAAQ8D,SAAS7hB,EAAMy+B,gBAAiB,CACnE/b,EAAa1iB,EAAM0iB,aACnB,IAAIqe,EAAa/iB,SAASI,cAAc,QACxC2iB,EAAWpiE,UAAY,aACvBqhC,EAAMohC,WAAWL,EACrB,CACJ,CAEmBhK,EAAO0L,GAAG1kB,QAAQ4O,WAAU,GAClC5N,iBAAiB,WAAW7d,OAAO61B,EAAOK,YAAa,+BAC/DliD,SAAQ,SAAU2rC,GACdA,EAAK8W,oBAGN9W,EAAK8W,kBAAkBlW,UAAUI,SAAS,qBAC1ChB,EAAK8W,kBAAkBlW,UAAUI,SAAS,sBAC1ChB,EAAK8W,kBAAkBlW,UAAUI,SAAS,qBAC1ChB,EAAK8W,kBAAkB7Y,gBAAgB,sBACvC+B,EAAK8W,kBAAkB7Y,gBAAgB,kBACvC+B,EAAK8W,kBAAkBjW,UAAYb,EAAKmgB,uBAAuBrJ,kBAAkBjW,UACjFb,EAAKsC,aAAa,cAAe,MAE5BtC,EAAK8W,kBAAkBlW,UAAUI,SAAS,mBAC/ChB,EAAKsC,aAAa,cAAe,KACjCtC,EAAK8W,kBAAkBvM,YAAcvK,EAAK8W,kBAAkBrZ,aAAa,aACzEuC,EAAK8W,kBAAkB7Y,gBAAgB,cAE/C,IACA,IAAI7Q,EAAO8oB,EAAOA,EAAOK,aAAarZ,QAAQ2D,UAQ9C,OAPAqV,EAAOA,EAAOK,aAAarZ,QAAQgB,iBAAiB,eAAe7pC,SAAQ,SAAU2rC,GACjFA,EAAKvd,QAET,IACIoxD,GAAYhyC,IACZ,EAAGtC,EAAiCgC,IAAIM,GAErCzU,EAAKj6B,QAAQ,mCAAoC,QAC5D,EACOg/E,CACX,CAjO8B,GAqO1Bl1D,GAAQ,EAAoB,GAI5B62D,GAAyB,WACzB,SAASA,EAAQz6D,GACb3d,KAAKu0C,eAAiB,CAClB8jC,KAAK,EACL9zD,WAAOl7B,EACPwO,MAAO,CACH+wC,QAAQ,GAEZZ,IAAKxE,EAA6BhxC,EAAEy1C,IACpC8kC,QAAS,CACL9/B,QAAS,IAEbquB,QAAS,CACL1yB,QAAQ,GAEZ6mB,QAAS,CACL7mB,QAAQ,EACRt+C,KAAM,YAEV0+D,cAAe,GACf2B,UAAU,EACVsmB,WAAY,CACRn8E,MAAO,IAEX/O,OAAQ,OACRqiE,KAAM,CACFlpC,MAAO,IACPipC,MAAO,CACH,KAAM,KACN,KAAM,KACN,SAAY,KACZ,KAAQ,MACR,MAAS,KACT,OAAU,MACV,MAAS,KACT,KAAQ,OAEZhgB,UAAW,GAAGxjB,OAAO6e,EAA6BhxC,EAAEy1C,IAAK,sBACzDnf,OAAQ,GACR2mB,OAAO,GAEXvxD,KAAM,MACN6lD,KAAM,QACN2E,KAAM,KACNwgB,QAAS,CACLtgB,QAAQ,EACRniD,SAAU,QAEduS,YAAa,GACbi0C,QAAS,CACL17B,QAAS,CAAC,UAAW,SAAU,SAAU,YAAa,SACtD2N,MAAO,IACPkpB,KAAM5E,EAAsChxC,EAAE61C,aAC9CC,SAAU9E,EAA0ChxC,EAAE+1C,iBACtDC,KAAMhF,EAAsChxC,EAAEi2C,aAC9CslB,SAAU,IACVrlB,KAAM,OACNK,MAAOvF,EAAuChxC,EAAEw2C,cAChDH,OAAQ,CACJC,MAAO,CACHF,QAAQ,KAIpBwX,KAAM,CACFosB,QAAQ,GAEZhS,MAAO,CACHC,WAAW,GAEfpT,OAAQ,CACJze,QAAQ,EACRniD,SAAU,UAEdsiD,MAAO,UACP4S,QAAS,CACL,QACA,WACA,OACA,SACA,SACA,OACA,IACA,OACA,eACA,QACA,UACA,SACA,IACA,QACA,OACA,OACA,cACA,gBACA,eACA,IACA,SACA,SACA,QACA,IACA,OACA,OACA,IACA,aACA,YACA,CACIzxC,KAAM,OACNyxC,QAAS,CACL,OACA,aACA,gBACA,SACA,UACA,UACA,WACA,OACA,UAIZF,cAAe,CACX0mB,MAAM,EACNzmB,KAAK,GAETyS,gBAAgB,EAChB0B,UAAW,IACXkR,OAAQ,CACJY,UAAW,CAAC,EACZoB,UAAW,SACXN,SAAU,SAAUv4D,GAAQ,OAAOA,EAAKzS,QAAQ,MAAO,GAAK,EAC5DqxE,aAAc,GACdprE,IAAK,SACLmkE,UAAU,EACVnrB,IAAK,GACLssB,iBAAiB,GAErBn/E,MAAO,GACPk2D,MAAO,QAEX/5C,KAAK2d,QAAUA,CACnB,CAkSA,OAjSAy6D,EAAQ93F,UAAUihC,MAAQ,WACtB,IAAIp+B,EAAIC,EAAI6sD,EAAI4rB,EAAIC,EAAIwc,EAAIC,EAAIC,EAAIC,EAChCz4E,KAAK2d,UACD3d,KAAK2d,QAAQg+B,QACb37C,KAAK2d,QAAQg+B,QAAU37C,KAAK04E,aAAa14E,KAAK2d,QAAQg+B,SAGtD37C,KAAK2d,QAAQg+B,QAAU37C,KAAK04E,aAAa14E,KAAKu0C,eAAeoH,UAEwB,QAApFv4D,EAAqC,QAA/BD,EAAK6c,KAAK2d,QAAQsvB,eAA4B,IAAP9pD,OAAgB,EAASA,EAAG4lD,aAA0B,IAAP3lD,OAAgB,EAASA,EAAG2qD,QACzH/tC,KAAKu0C,eAAetH,QAAQlE,MAAMgF,KAAO/tC,KAAK2d,QAAQsvB,QAAQlE,MAAMgF,OAEuE,QAA1I+tB,EAA2F,QAArFD,EAAqC,QAA/B5rB,EAAKjwC,KAAK2d,QAAQsvB,eAA4B,IAAPgD,OAAgB,EAASA,EAAGpH,cAA2B,IAAPgzB,OAAgB,EAASA,EAAG/yB,aAA0B,IAAPgzB,OAAgB,EAASA,EAAGlzB,UAC/K5oC,KAAKu0C,eAAetH,QAAQpE,OAAOC,MAAMF,OAAS5oC,KAAK2d,QAAQsvB,QAAQpE,OAAOC,MAAMF,SAEvD,QAA5B0vC,EAAKt4E,KAAK2d,QAAQyqC,YAAyB,IAAPkwB,OAAgB,EAASA,EAAGnwB,SACjEnoD,KAAKu0C,eAAe6T,KAAKD,MAAQnoD,KAAK2d,QAAQyqC,KAAKD,OAEnDnoD,KAAK2d,QAAQ29C,UACbt7D,KAAKu0C,eAAe+mB,QAAUt7D,KAAK2d,QAAQ29C,SAE3Ct7D,KAAK2d,QAAQqqB,OAC8E,QAApFwwC,EAAqC,QAA/BD,EAAKv4E,KAAK2d,QAAQsvB,eAA4B,IAAPsrC,OAAgB,EAASA,EAAGxvC,aAA0B,IAAPyvC,OAAgB,EAASA,EAAG3wE,QAC3H7H,KAAKu0C,eAAetH,QAAQlE,MAAMlhC,KAAO,GAAG8c,OAAO3kB,KAAK2d,QAAQqqB,IAAK,6BAEtC,QAA5BywC,EAAKz4E,KAAK2d,QAAQyqC,YAAyB,IAAPqwB,OAAgB,EAASA,EAAGtwC,aACnEnoC,KAAKu0C,eAAe6T,KAAKjgB,UAAY,GAAGxjB,OAAO3kB,KAAK2d,QAAQqqB,IAAK,yBAI7E,IAAIoB,GAAgB,EAAG7nB,GAAiB0nB,GAAGjpC,KAAKu0C,eAAgBv0C,KAAK2d,SACrE,GAAIyrB,EAAcvxC,MAAM+wC,SAAWQ,EAAcvxC,MAAMqa,GACnD,MAAM,IAAI9X,MAAM,8EAEpB,OAAOgvC,CACX,EACAgvC,EAAQ93F,UAAUo4F,aAAe,SAAU/8B,GACvC,IAAI0K,EAAQrmD,KACR24E,EAAc,CACd,CACIz6F,KAAM,0DACNgsB,KAAM,SACN2tD,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,yDACNgsB,KAAM,QACN2tD,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,4DACNgsB,KAAM,WACN2tD,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN+kB,OAAQ,KACRgP,OAAQ,KACR45B,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,0DACNgsB,KAAM,SACN+kB,OAAQ,IACRgP,OAAQ,IACR45B,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,0DACNgsB,KAAM,SACN+kB,OAAQ,KACRgP,OAAQ,KACR45B,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN+kB,OAAQ,IACRgP,OAAQ,cACR45B,YAAa,KAEjB,CACI3tD,KAAM,KAEV,CACI01C,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN+kB,OAAQ,KACR4oC,YAAa,KAEjB,CACIjY,OAAQ,KACR1hE,KAAM,gEACNgsB,KAAM,eACN+kB,OAAQ,MACR4oC,YAAa,KAEjB,CACIjY,OAAQ,KACR1hE,KAAM,yDACNgsB,KAAM,QACN+kB,OAAQ,SACR4oC,YAAa,KAEjB,CACIjY,OAAQ,MACR1hE,KAAM,2DACNgsB,KAAM,UACN2tD,YAAa,KAEjB,CACIjY,OAAQ,MACR1hE,KAAM,0DACNgsB,KAAM,SACN2tD,YAAa,KAEjB,CACI3tD,KAAM,KAEV,CACI01C,OAAQ,KACR1hE,KAAM,yDACNgsB,KAAM,QACN+kB,OAAQ,KACR4oC,YAAa,KAEjB,CACIjY,OAAQ,MACR1hE,KAAM,wDACNgsB,KAAM,OACN+kB,OAAQ,MACR4oC,YAAa,KAEjB,CACIjY,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN+kB,OAAQ,MACRgP,OAAQ,QACR45B,YAAa,KAEjB,CACIjY,OAAQ,KACR1hE,KAAM,+DACNgsB,KAAM,cACN+kB,OAAQ,IACRgP,OAAQ,IACR45B,YAAa,KAEjB,CACIjY,OAAQ,MACR1hE,KAAM,0DACNgsB,KAAM,gBACN2tD,YAAa,KAEjB,CACIjY,OAAQ,MACR1hE,KAAM,yDACNgsB,KAAM,eACN2tD,YAAa,KAEjB,CACI3tD,KAAM,KAEV,CACIhsB,KAAM,0DACNgsB,KAAM,SACN2tD,YAAa,KAEjB,CACI35E,KAAM,0DACNgsB,KAAM,SACN2tD,YAAa,KAEjB,CACIjY,OAAQ,KACR1hE,KAAM,yDACNgsB,KAAM,QACN+kB,OAAQ,SACRgP,OAAQ,gEACR45B,YAAa,KAEjB,CACI3tD,KAAM,KAEV,CACI01C,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN2tD,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN2tD,YAAa,MAEjB,CACI3tD,KAAM,KAEV,CACIhsB,KAAM,wDACNgsB,KAAM,OACN2tD,YAAa,KAEjB,CACIjY,OAAQ,KACR1hE,KAAM,8DACNgsB,KAAM,aACN2tD,YAAa,MAEjB,CACI35E,KAAM,wDACNgsB,KAAM,YACN2tD,YAAa,MAEjB,CACIjY,OAAQ,KACR1hE,KAAM,wDACNgsB,KAAM,OACN2tD,YAAa,MAEjB,CACI35E,KAAM,2DACNgsB,KAAM,UACN2tD,YAAa,MAEjB,CACI35E,KAAM,gEACNgsB,KAAM,UACN2tD,YAAa,MAEjB,CACI35E,KAAM,yDACNgsB,KAAM,gBACN2tD,YAAa,MAEjB,CACI35E,KAAM,8DACNgsB,KAAM,aACN2tD,YAAa,MAEjB,CACI35E,KAAM,uDACNgsB,KAAM,WACN2tD,YAAa,MAEjB,CACI35E,KAAM,wDACNgsB,KAAM,OACN2tD,YAAa,MAEjB,CACI35E,KAAM,wDACNgsB,KAAM,OACN2tD,YAAa,MAEjB,CACI3tD,KAAM,OAGV0uE,EAAgB,GAkBpB,OAjBAj9B,EAAQhjD,SAAQ,SAAU++D,GACtB,IAAImhB,EAAkBnhB,EACtBihB,EAAYhgF,SAAQ,SAAUmgF,GACF,iBAAbphB,GACPohB,EAAgB5uE,OAASwtD,IACzBmhB,EAAkBC,GAEE,iBAAbphB,GACPohB,EAAgB5uE,OAASwtD,EAASxtD,OAClC2uE,EAAkBx4F,OAAOiC,OAAO,CAAC,EAAGw2F,EAAiBphB,GAE7D,IACIA,EAAS/b,UACTk9B,EAAgBl9B,QAAU0K,EAAMqyB,aAAahhB,EAAS/b,UAE1Di9B,EAAc72E,KAAK82E,EACvB,IACOD,CACX,EACOR,CACX,CA/a4B,GAkcxBW,GAAyB,WACzB,SAASA,EAAQv+B,GACb,IAAI6L,EAAQrmD,KACZA,KAAKwvD,eAAgB,EACrBxvD,KAAKg5E,WAAa,GAClB,IAAI1oC,EAAa7O,SAASI,cAAc,OACxCyO,EAAWluD,UAAY,iBACvBkuD,EAAWnL,UAAY,0CAA6CxgB,OAAO61B,EAAO78B,QAAQ3kB,YAAa,oMAAgN2rB,OAAO0d,OAAOiJ,WAAWgwB,QAAS,0JACzVt7D,KAAKwhC,QAAU8O,EAAW8K,kBAC1Bp7C,KAAKqoD,QAAU/X,EAAW8K,kBAAkBC,mBAC5Cr7C,KAAK46D,cAAgBtqB,EAAW8U,iBAChCplD,KAAKqsE,UAAU7xB,GACf8f,GAAW9f,EAAQx6C,KAAKwhC,SACxB+4B,GAAc/f,EAAQx6C,KAAKwhC,SAC3Bk5B,GAAUlgB,EAAQx6C,KAAKwhC,SACvBm6B,GAAYnhB,EAAQx6C,KAAKwhC,SACzBi+B,GAAYjlB,EAAQx6C,KAAKwhC,SACzBw5B,GAAUxgB,EAAQx6C,KAAKwhC,SACvB45B,GAAU5gB,EAAQx6C,KAAKwhC,QAASxhC,KAAKmS,MACrCkpD,GAAS7gB,EAAQx6C,KAAKwhC,QAASxhC,KAAKmS,MAChCqoC,EAAO78B,QAAQ29C,QAAQ1yB,SACvB5oC,KAAK46D,cAAcz4B,cAAc,UAAU2J,QAAU,WACjD,IAIImtC,EACAC,EALAhnE,EAAK+oC,KAAKk+B,YACV11D,EAAQuiB,eAAeE,WAAW,GAClCkzC,EAAa31D,EAAM0iB,aACnBkzC,EAAW51D,EAAMo5C,kBAGjByc,GAAc,EACdC,GAAY,EAChBF,EAASplC,WAAWt7C,SAAQ,SAAU2rC,EAAMxvC,GACxC,IAAI4zB,GAAO,EAUX,GATsB,IAAlB4b,EAAKvxC,SACL21B,GAAO,EAED4b,EAAKY,UAAUI,SAAS,kBAGzBhB,EAAKY,UAAUI,SAAS,mBAC7BhB,EAAKsC,aAAa,cAAetC,EAAKvC,aAAa,eAAiB,IAAM7vB,GAH1EwW,GAAO,EAKPA,EACA,GAAsB,IAAlB4b,EAAKvxC,UAAsD,MAApCuxC,EAAKvC,aAAa,eAC5B,IAAVjtC,GAAeskF,EAAWx2B,YAAc,EAC3Cte,EAAKa,UACD,6CAAgDxgB,OAAOzS,EAAI,MAAOyS,OAAO2f,EAAKa,UAAW,WAC7F8zC,EAAoB30C,OAEnB,GAAsB,IAAlBA,EAAKvxC,UAAsD,MAApCuxC,EAAKvC,aAAa,eAC3CjtC,IAAUukF,EAASplC,WAAWrzD,OAAS,GACvCw4F,EAAWp2B,UAAYo2B,EAAWr2B,aAAalU,YAAYjuD,OAC9D0jD,EAAKa,UACD,6CAAgDxgB,OAAOzS,EAAI,MAAOyS,OAAO2f,EAAKa,UAAW,WAC7F+zC,EAAkB50C,OAEjB,GAAsB,IAAlBA,EAAKvxC,UAAsD,MAApCuxC,EAAKvC,aAAa,cAChC,IAAVjtC,EACAwkF,GAAc,EAETxkF,IAAUukF,EAASplC,WAAWrzD,OAAS,IAC5C24F,GAAY,GAEhBj1C,EAAKa,UACD,6CAAgDxgB,OAAOzS,EAAI,MAAOyS,OAAO2f,EAAKa,UAAW,eAE5F,CACD,IAAI2rB,EAAiBrvB,SAASI,cAAc,QAC5CivB,EAAe5rB,UAAU/jC,IAAI,kBAC7B2vD,EAAelqB,aAAa,cAAe10B,GAC3CoyB,EAAKyP,WAAWoc,aAAaW,EAAgBxsB,GAC7CwsB,EAAe9c,YAAY1P,EAC/B,CAER,IACA,IAAIk1C,GAAe,EAAG71C,EAAgC0hB,IAAI+zB,EAAWl3B,gBACjEs3B,IACIP,GACAO,EAAa7oC,mBAAmB,YAAasoC,EAAkB9zC,WAC/D8zC,EAAkBlyD,UAEyE,KAAtFyyD,EAAa3qC,YAAYvgB,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAAcksC,GACjGE,EAAazyD,UAGrB,IAAI0yD,GAAa,EAAG91C,EAAgC0hB,IAAI+zB,EAAWr2B,cAC/D02B,IACIP,GACAO,EAAW9oC,mBAAmB,aAAcuoC,EAAgB/zC,WAC5D+zC,EAAgBnyD,UAEyE,KAApF0yD,EAAW5qC,YAAYvgB,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAAcmsC,GAC/FE,EAAW1yD,UAGnBtD,EAAMohC,WAAWw0B,GACjB7+B,EAAO78B,QAAQ29C,QAAQn6D,IAAI+Q,EAAIuR,EAAM5oB,WAAYwrD,EAAMkV,YAAY/gB,GAAQ,IAC3E8U,EAAiB9U,EAAQ,CACrB6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,IAEjBlF,EAAMyU,aACV,EAER,CAuYA,OAtYAie,EAAQz4F,UAAUi7E,YAAc,SAAU/gB,EAAQplC,GAC9C,IAAIixC,EAAQrmD,KAEZ,QADgB,IAAZoV,IAAsBA,GAAU,GACT,YAAvBolC,EAAOK,cAA6BL,EAAO78B,QAAQ29C,QAAQ1yB,OAmB3D,MAAO,GAlBP5oC,KAAKg5E,WAAa,GAClBh5E,KAAKwhC,QAAQgB,iBAAiB,mBAAmB7pC,SAAQ,SAAU2rC,GAC/D+hB,EAAM2yB,WACF3yB,EAAM2yB,WAAWr0D,OAAO2f,EAAKvC,aAAa,eAAeroC,MAAM,KACvE,IACAsG,KAAKg5E,WAAarjF,MAAMo6C,KAAK,IAAIzxC,IAAI0B,KAAKg5E,aAC1C,IAAIU,EAAa,GACjB,OAAItkE,GACApV,KAAKg5E,WAAWrgF,SAAQ,SAAUuZ,GAC9BwnE,EAAW33E,KAAK,CACZmQ,GAAIA,EACJo0B,IAAK+f,EAAM7kB,QAAQW,cAAc,gCAAiCxd,OAAOzS,EAAI,OAAQ85B,WAE7F,IACO0tC,QAPX,CAaR,EACAX,EAAQz4F,UAAUokF,qBAAuB,SAAUlqB,GAC/C,IAA2B7mB,EAAGwlC,EACtBl5E,EAGR,GAA2B,YAAvBu6D,EAAOK,aAA6BL,EAAO78B,QAAQ29C,QAAQ1yB,QAAU4R,EAAOwL,QAAQgzB,WAAWp4F,OAAS,EAAG,CAC3G,IAAI+4F,EAASnqC,KAAKC,MAAMD,KAAK65B,UAAUrpE,KAAKg5E,aAC5Ch5E,KAAKu7D,YAAY/gB,GACjB,IAAIo/B,GAPmBjmD,EAOKgmD,EAPFxgB,EAOUn5D,KAAKg5E,WANrC/4F,EAAI,IAAIqe,IAAI66D,GACTxlC,EAAEnO,QAAO,SAAUyP,GAAK,OAAQh1C,EAAE6X,IAAIm9B,EAAI,KAM7C2kD,EAAWh5F,OAAS,GACpB45D,EAAO78B,QAAQ29C,QAAQv0C,OAAO6yD,EAEtC,CACJ,EACAb,EAAQz4F,UAAUs/E,YAAc,WAC5B,IAAIn5E,GAAW,EAAGo9C,EAAiC63B,IAAI17D,KAAKwhC,SAC5DxhC,KAAK46D,cAAch0B,aAAa,QAAS,QAAQjiB,OAAOl+B,EAAS+/C,KAAM,yBAAyB7hB,OAAOtqB,KAAKqD,KAAK,EAAGjX,EAAS6/C,IAAM,IAAK,MAC5I,EACAyyC,EAAQz4F,UAAUw6E,YAAc,WAC5B96D,KAAK46D,cAAch0B,aAAa,QAAS,eAC7C,EACAmyC,EAAQz4F,UAAUu5F,eAAiB,WAC/Bx3C,OAAOksB,oBAAoB,SAAUvuD,KAAK85E,eAC9C,EACAf,EAAQz4F,UAAU6xB,KAAO,SAAUkzB,EAAOmV,GACtC,IAAI/2B,EAAQuiB,eAAeE,WAAW,GACtC,GAAyB,KAArBziB,EAAM5oB,WAAV,CAGAwqC,EAAMz7C,kBACNy7C,EAAMwP,iBACN,IAAI1E,GAAc,EAAGxM,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,QAChF63B,GAAiB,EAAGp2C,EAAqC2I,IAAI7oB,EAAMs/B,aAAc,QACrF,GAAI5S,GAAe4pC,GAAkBA,EAAer1B,WAAWvU,GAAc,CACzE,IAAID,EAAW,GASf,OAPIA,EADsC,QAAtCC,EAAY5K,cAAcoP,QACflxB,EAAM5oB,WAGN,IAAM4oB,EAAM5oB,WAAa,IAExCwqC,EAAM4P,cAAcp9B,QAAQ,aAAcq4B,QAC1C7K,EAAM4P,cAAcp9B,QAAQ,YAAa,GAE7C,CACA,IAAI4+B,GAAW,EAAG9S,EAAqC2I,IAAI7oB,EAAMy+B,eAAgB,KAC7E83B,GAAc,EAAGr2C,EAAqC2I,IAAI7oB,EAAMs/B,aAAc,KAClF,GAAItM,GAAYujC,GAAeA,EAAYt1B,WAAWjO,GAAW,CAC7D,IAAIwjC,EAASxjC,EAAS1U,aAAa,UAAY,GAM/C,OALIk4C,IACAA,EAAS,KAAMt1D,OAAOs1D,EAAQ,MAElC50C,EAAM4P,cAAcp9B,QAAQ,aAAc,IAAI8M,OAAOlB,EAAM5oB,WAAY,MAAM8pB,OAAO8xB,EAAS1U,aAAa,SAASpd,OAAOs1D,EAAQ,WAClI50C,EAAM4P,cAAcp9B,QAAQ,YAAa,GAE7C,CACA,IAAI8iC,EAAclZ,SAASI,cAAc,OACzC8Y,EAAY3G,YAAYvwB,EAAMmiD,iBAC9BvgC,EAAM4P,cAAcp9B,QAAQ,aAAc2iC,EAAOlR,KAAKyc,aAAapL,EAAYxV,WAAW7W,QAC1F+W,EAAM4P,cAAcp9B,QAAQ,YAAa,GA/BzC,CAgCJ,EACAkhE,EAAQz4F,UAAU+rF,UAAY,SAAU7xB,GACpC,IAAI6L,EAAQrmD,KACZA,KAAK65E,iBACLx3C,OAAOL,iBAAiB,SAAUhiC,KAAK85E,eAAiB,WAEpD,GADA/xB,EAAUvN,EAAQ,CAAC,SACiB,UAAhC6L,EAAMgC,QAAQtlE,MAAM9D,SAA6D,UAAtConE,EAAMuU,cAAc73E,MAAM9D,QAAzE,CAGA,IAAIqnD,EAAMh0C,SAAS+zD,EAAMgC,QAAQtmB,aAAa,YAAa,IAC3D,GAA8B,SAA1ByY,EAAO78B,QAAQ53B,QAYd,GAAKy0D,EAAO78B,QAAQ89B,cAAcC,IAAlC,CAGL,IAAIw+B,EAAc7/E,KAAKqD,IAAI4oC,EAAMjE,OAAOwZ,QAAUrB,EAAOhZ,QAAQwK,UAAY,GAAM,KAC/C,UAAhCqa,EAAMgC,QAAQtlE,MAAM9D,UACpBonE,EAAMgC,QAAQtlE,MAAMujD,IAAM4zC,GAEY,UAAtC7zB,EAAMuU,cAAc73E,MAAM9D,UAC1BonE,EAAMuU,cAAc73E,MAAMujD,IAAM4zC,EANpC,OAbI,GAAI1/B,EAAO78B,QAAQ89B,cAAcC,KAA8D,IAAvDlB,EAAOmB,QAAQna,QAAQ6E,wBAAwBC,IAAW,CAC9F,IAAI6zC,EAAa9/E,KAAKqD,IAAI2kC,OAAOwZ,QAAUrB,EAAOhZ,QAAQwK,UAAY,EAAG3xC,KAAKuD,IAAI0oC,EAAMkU,EAAOwL,QAAQxkB,QAAQ+E,UAAW8f,EAAM7kB,QAAQkc,aAAe,KAAO,KAC1H,UAAhC2I,EAAMgC,QAAQtlE,MAAM9D,UACpBonE,EAAMgC,QAAQtlE,MAAMujD,IAAM6zC,GAEY,UAAtC9zB,EAAMuU,cAAc73E,MAAM9D,UAC1BonE,EAAMuU,cAAc73E,MAAMujD,IAAM6zC,EAExC,CAXJ,CAwBJ,GACAn6E,KAAKwhC,QAAQQ,iBAAiB,UAAU,WAKpC,GAJA+lB,EAAUvN,EAAQ,CAAC,SACfA,EAAO78B,QAAQ29C,SAAW9gB,EAAO78B,QAAQ29C,QAAQ1yB,QAAU4R,EAAO78B,QAAQ29C,QAAQ8e,QAClF5/B,EAAO78B,QAAQ29C,QAAQ8e,OAAO5/B,EAAOwL,QAAQxkB,QAAQ+E,WAErB,UAAhC8f,EAAMgC,QAAQtlE,MAAM9D,QAAxB,CAGA,IAAIqnD,EAAMh0C,SAAS+zD,EAAMgC,QAAQtmB,aAAa,YAAa,IAAMyY,EAAOwL,QAAQxkB,QAAQ+E,UACpF7oC,GAAO,EACP88C,EAAO78B,QAAQ89B,cAAcC,KAA8D,IAAvDlB,EAAOmB,QAAQna,QAAQ6E,wBAAwBC,MACnF5oC,EAAM2kC,OAAOwZ,QAAUrB,EAAOhZ,QAAQwK,UAAYtuC,GAEtD,IAAI28E,EAAQhgF,KAAKqD,IAAIA,EAAKrD,KAAKuD,IAAI0oC,EAAK+f,EAAM7kB,QAAQkc,aAAe,KAAO,KAC5E2I,EAAMgC,QAAQtlE,MAAMujD,IAAM+zC,EAC1Bh0B,EAAMuU,cAAc73E,MAAMujD,IAAM+zC,CARhC,CASJ,IACAr6E,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C61B,GAAM1gB,EAAQnV,EAAO,CACjB81B,UAAW,SAAUlqB,GACjB,IAAIxtB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAC7C1E,EAAOrU,SAASI,cAAc,YAClCiU,EAAK3Q,UAAY8L,EACjBxtB,EAAMohC,WAAW/O,EAAK5yD,QAAQktD,WAAU,IACxC,IAAIkR,GAAe,EAAG3d,EAAsC0mB,IAAI5mC,EAAMy+B,eAAgB,aAAc,KAChGZ,EACAA,EAAa1P,UAAY4I,EAAOlR,KAAK0R,cAAcsG,EAAa1P,WAGhE4I,EAAOwL,QAAQxkB,QAAQ2D,UAAYqV,EAAOlR,KAAK0R,cAAcR,EAAOwL,QAAQxkB,QAAQ2D,YAExF,EAAGtB,EAA6BsnB,IAAI3Q,EAAOwL,QAAQxkB,QAAS/d,EAChE,GAER,IAEAzjB,KAAKwhC,QAAQQ,iBAAiB,oBAAoB,WAC9CqkB,EAAMmJ,eAAgB,CAC1B,IACAxvD,KAAKwhC,QAAQQ,iBAAiB,kBAAkB,SAAUqD,GACtD,IAAImH,GAAiB,EAAGmV,EAA+CnI,GAAGxT,eAAeE,WAAW,GAAGgc,gBACnG1V,GAAiD,KAA/BA,EAAeqC,YAEjCoa,EAAUzO,KAGT,EAAG8M,EAA6B0E,OACjCkY,GAAY1pB,EAAQxU,eAAeE,WAAW,GAAGC,aAAcd,GAEnEghB,EAAMmJ,eAAgB,EAC1B,IACAxvD,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,GAAwB,iBAApBA,EAAMqlB,WAAoD,mBAApBrlB,EAAMqlB,UAAhD,CAIA,GAAIrE,EAAMnB,aAGN,OAFAmB,EAAMnB,cAAe,OACrBoK,EAAiB9U,GAGrB,GAAI6L,EAAMmJ,eAAgC,MAAfnqB,EAAMhkC,MAA+B,MAAfgkC,EAAMhkC,MAA+B,MAAfgkC,EAAMhkC,KACzEiuD,EAAiB9U,OADrB,CAIA,IAAI/2B,EAAQuiB,eAAeE,WAAW,GAClCob,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,gBAMhE,GALKZ,IAED0O,GAAUxV,EAAQ/2B,GAClB69B,GAAe,EAAG3d,EAAgC0hB,IAAI5hC,EAAMy+B,iBAE3DZ,EAAL,CAOA,IAHA,IAAIsB,GAAc,EAAG/e,EAAiCwlB,IAAI/H,EAAc9G,EAAOwL,QAAQxkB,QAAS/d,GAAOzU,MAEnG86C,GAAa,EACRnpE,EAAIiiE,EAAc,EAAGjiE,EAAI2gE,EAAazS,YAAY9C,OAAO,EAAG6W,GAAa13B,YAAY,MAAOvqC,IACjG,GAA2C,MAAvC2gE,EAAazS,YAAYrmD,OAAO7H,IAEO,OAAvC2gE,EAAazS,YAAYrmD,OAAO7H,GAAa,CAC7CmpE,GAAa,EACb,KACJ,CAEgB,IAAhBlH,IACAkH,GAAa,GAGjB,IAAIC,GAAW,EACf,IAASppE,EAAIiiE,EAAc,EAAGjiE,EAAI2gE,EAAazS,YAAYjuD,OAAQD,IAC/D,GAA2C,MAAvC2gE,EAAazS,YAAYrmD,OAAO7H,IAAqD,OAAvC2gE,EAAazS,YAAYrmD,OAAO7H,GAAa,CAC3FopE,GAAW,EACX,KACJ,CAEJ,IAAIvd,GAAiB,EAAGmV,EAA+CnI,GAAGxT,eAAeE,WAAW,GAAGgc,gBACnG1V,GAAiD,KAA/BA,EAAeqC,cAEjCoa,EAAUzO,GACVhO,EAAezlB,UAEd+iC,GAAyD,eAA3CxI,EAAavf,aAAa,cACtCgoB,GAAYF,GAAYvI,EAAanc,YACvCykB,GAAOtI,EAAanc,YAAcmc,EAAamD,uBACZ,mBAAzBjK,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,KAKjB,oBAApBnV,EAAMqlB,WAA+D,2BAA5BrE,EAAM7kB,QAAQ2D,WACvDmc,EAAamD,uBAAuB19B,SAExCm9C,GAAY1pB,EAAQ/2B,EAAO4hB,GA1C3B,CAVA,CATA,CA8DJ,IACArlC,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,GAA6B,UAAzBA,EAAM9b,OAAOorB,QAAqB,CAClC,IAAI2lC,EAAej1C,EAAM9b,OASzB,OARI+wD,EAAajzF,QACbizF,EAAa1zC,aAAa,UAAW,WAGrC0zC,EAAa/3C,gBAAgB,WAEjC8jB,EAAMnB,cAAe,OACrBoK,EAAiB9U,EAErB,CACA,GAA6B,QAAzBnV,EAAM9b,OAAOorB,SAEZtP,EAAM9b,OAAOgc,cAAcL,UAAUI,SAAS,2BAFnD,CAYA,IAAI3R,GAAI,EAAGgQ,EAAqC2I,IAAIjH,EAAM9b,OAAQ,KAClE,GAAIoK,EAQA,OAPI6mB,EAAO78B,QAAQyiC,KAAKqQ,MACpBjW,EAAO78B,QAAQyiC,KAAKqQ,MAAM98B,GAErB6mB,EAAO78B,QAAQyiC,KAAKosB,QACzBnqC,OAAO3+C,KAAKiwC,EAAEoO,aAAa,cAE/BsD,EAAMwP,iBAGV,IAAIpxB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GACjD,GAAInV,EAAM9b,OAAO+xB,YAAY+K,EAAM7kB,UAAY6kB,EAAM7kB,QAAQ4jB,kBAAoB3hC,EAAM4oC,UAAW,CAC9F,IAAIkgB,EAAWlmB,EAAM7kB,QAAQ4jB,iBAAiB/e,wBAC1ChB,EAAMnP,EAAIq2C,EAASjmC,IAAMimC,EAASxmF,SACa,MAA3CsgE,EAAM7kB,QAAQ4jB,iBAAiBzQ,SACyE,KAAxG0R,EAAM7kB,QAAQ4jB,iBAAiBvW,YAAYvgB,OAAO72B,QAAQ+rC,EAA8BhxC,EAAE46C,KAAM,KAChG3pB,EAAMkgC,mBAAmB0C,EAAM7kB,QAAQ4jB,kBACvC3hC,EAAM4+B,UAAS,KAGfgE,EAAM7kB,QAAQmP,mBAAmB,YAAa,qBAAuBhsB,OAAO6e,EAA8BhxC,EAAE46C,KAAM,eAClH,EAAGvJ,EAA6BsnB,IAAI9E,EAAM7kB,QAAS/d,IAG/D,CACAitC,GAAwBlW,GAExB,IAAIxP,GAAiB,EAAGrH,EAAsC4I,IAAIlH,EAAM9b,OAAQ,2BAC3EyhB,IACDA,GACI,EAAGrH,EAAsC4I,KAAI,EAAG1I,EAA8BsrB,IAAI3U,GAAQ0H,eAAgB,4BAE9GlX,GACAslB,GAAStlB,EAAgBwP,GAE7B2O,EAAS9jB,EAAOmV,EAtChB,KAPmD,aAA3CnV,EAAM9b,OAAOwY,aAAa,aAC1BqyB,GAAkB5Z,EAAQnV,EAAM9b,QAz8N9B,SAAU8b,EAAOmV,GACnC,IAAI/X,EAAa4C,EAAM9b,OACvBixB,EAAOwL,QAAQqC,QAAQljB,UAAY,GACnC,IAAIo1C,EAAY,WACZ93C,EAAWmE,aAAa,MAAOm3B,EAAal6E,OAC5C4+C,EAAWmE,aAAa,MAAO4zC,EAAI32F,OACnC4+C,EAAWmE,aAAa,QAAS1lD,EAAM2C,OACH,mBAAzB22D,EAAO78B,QAAQ3Z,OACtBw2C,EAAO78B,QAAQ3Z,MAAM6hD,EAAYrL,GAEzC,EACIoZ,EAAYnyB,SAASI,cAAc,QACvC+xB,EAAUhtB,aAAa,aAAcvE,OAAOiJ,WAAWmvC,UACvD7mB,EAAUxxE,UAAY,yCACtB,IAAI27E,EAAet8B,SAASI,cAAc,SAC1C+xB,EAAU5f,YAAY+pB,GACtBA,EAAa37E,UAAY,eACzB27E,EAAan3B,aAAa,cAAevE,OAAOiJ,WAAWmvC,UAC3D1c,EAAal6E,MAAQ4+C,EAAWV,aAAa,QAAU,GACvDg8B,EAAalK,QAAU,WACnB0mB,GACJ,EACAxc,EAAajK,UAAY,SAAU4mB,GAC/BlqB,GAAmBhW,EAAQkgC,EAC/B,EACA,IAAIC,EAAUl5C,SAASI,cAAc,QACrC84C,EAAQ/zC,aAAa,aAAcvE,OAAOiJ,WAAWsvC,eACrDD,EAAQv4F,UAAY,yCACpB,IAAIo4F,EAAM/4C,SAASI,cAAc,SACjC84C,EAAQ3mC,YAAYwmC,GACpBA,EAAIp4F,UAAY,eAChBo4F,EAAI5zC,aAAa,cAAevE,OAAOiJ,WAAWsvC,eAClDJ,EAAIz3F,MAAMg3D,MAAQ,OAClBygC,EAAI32F,MAAQ4+C,EAAWV,aAAa,QAAU,GAC9Cy4C,EAAI3mB,QAAU,WACV0mB,GACJ,EACAC,EAAI1mB,UAAY,SAAU4mB,GACtBlqB,GAAmBhW,EAAQkgC,EAC/B,EACA,IAAIG,EAAYp5C,SAASI,cAAc,QACvCg5C,EAAUj0C,aAAa,aAAcvE,OAAOiJ,WAAWpqD,OACvD25F,EAAUz4F,UAAY,yCACtB,IAAIlB,EAAQugD,SAASI,cAAc,SACnCg5C,EAAU7mC,YAAY9yD,GACtBA,EAAMkB,UAAY,eAClBlB,EAAM0lD,aAAa,cAAevE,OAAOiJ,WAAWpqD,OACpDA,EAAM2C,MAAQ4+C,EAAWV,aAAa,UAAY,GAClD7gD,EAAM2yE,QAAU,WACZ0mB,GACJ,EACAr5F,EAAM4yE,UAAY,SAAU4mB,GACxBlqB,GAAmBhW,EAAQkgC,EAC/B,EACA9pB,GAASnuB,EAAY+X,GACrBA,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAagvB,GAC1DpZ,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAa+1C,GAC1DngC,EAAOwL,QAAQqC,QAAQzjB,sBAAsB,YAAai2C,GAC1DhqB,GAAmBrW,EAAQ/X,EAC/B,CAi5NoBq4C,CAAgBz1C,EAAOmV,EA0CnC,IACAx6C,KAAKwhC,QAAQQ,iBAAiB,SAAS,SAAUqD,GAC7C,IAAIA,EAAM0uB,eAAe,EAAGzM,EAA0BoE,IAAIrmB,GAA1D,CAKkB,UAAdA,EAAM56C,KACNkjE,GAAanT,GAEE,cAAdnV,EAAM56C,KAAqC,WAAd46C,EAAM56C,KACC,KAArC+vD,EAAOwL,QAAQxkB,QAAQ2D,WAAiE,IAA7CqV,EAAOwL,QAAQxkB,QAAQyS,WAAWrzD,SAC7E45D,EAAOwL,QAAQxkB,QAAQ4Z,mBAA0E,MAArDZ,EAAOwL,QAAQxkB,QAAQ4Z,kBAAkBzG,SACnB,IAA/D6F,EAAOwL,QAAQxkB,QAAQ4Z,kBAAkBmqB,mBACD,KAAvC/qB,EAAOwL,QAAQxkB,QAAQqN,aAA6D,OAAvC2L,EAAOwL,QAAQxkB,QAAQqN,cAExE2L,EAAOwL,QAAQxkB,QAAQ2D,UAAY,IAEvC,IAAI1hB,GAAQ,EAAGogB,EAA8BsrB,IAAI3U,GAUjD,GATkB,cAAdnV,EAAM56C,MAEF,EAAG68D,EAA6B0E,OAA8C,OAArCvoC,EAAMy+B,eAAerT,aAA8C,IAAtBprB,EAAMm/B,cAC5Fn/B,EAAMy+B,eAAerT,YAAc,IAI3CmhB,GAAUxV,EAAQ/2B,GAClBitC,GAAwBlW,GACN,cAAdnV,EAAM56C,KAAqC,eAAd46C,EAAM56C,KAAsC,cAAd46C,EAAM56C,KAChD,cAAd46C,EAAM56C,KAAqC,YAAd46C,EAAM56C,IAD1C,CAIkB,cAAd46C,EAAM56C,KAAqC,eAAd46C,EAAM56C,KACnC+vD,EAAO4N,KAAKvf,OAAO2R,GAGvB,IAAIxP,GAAiB,EAAGrH,EAAsC4I,IAAI9oB,EAAMy+B,eAAgB,2BAQxF,IAPKlX,GAAoD,IAAlCvnB,EAAMy+B,eAAenvD,UAAkB0wB,EAAMm/B,YAAc,IAE1E4R,EAAqB/wC,EAAMy+B,gBACRhd,UAAUI,SAAS,2BACtC0F,EAAiBwpB,EAAmBpP,kBAGvCpa,EAIL,GAAsC,SADhBA,EAAeyZ,uBACjB1hE,MAAM9D,QAA1B,CASA,IAAIkxD,EAAcnF,EAAeyZ,uBAIjC,GAH4B,QAAxBtU,EAAYwE,UACZxE,EAAcA,EAAYiL,mBAEZ,cAAd/V,EAAM56C,KAAqC,eAAd46C,EAAM56C,IAAsB,CACzD,IAAI+pE,EACAlI,EAn8QW,SAAUyuB,GAErC,IADA,IAAIzuB,EAAWyuB,EACRzuB,IAAaA,EAASpI,aACzBoI,EAAWA,EAAS/mB,cAExB,OAAO+mB,EAASpI,WACpB,CA67Q+B82B,CADXxmB,EAAqBxpB,EAAezF,eAExC,GAAI+mB,GAAkC,IAAtBA,EAASv5D,SAAgB,CAErC,IAAIkoF,EAAoB3uB,EAASnqB,cAAc,4BAC/C,GAAI84C,EAEA,YADA3qB,GAAS2qB,EAAmBzgC,EAGpC,CAEA,GAA0B,IAAtB8R,EAASv5D,SAAgB,CAEzB,KAAuC,IAAhCu5D,EAASzd,YAAYjuD,QAAgB0rE,EAASpI,aAEjDoI,EAAWA,EAASpI,YAExBzgC,EAAM2+B,SAASkK,EAAU,EAC7B,MAGI7oC,EAAM2+B,SAASkK,EAASnZ,WAAY,EAE5C,MAEI1vB,EAAMkgC,mBAAmBxT,GACzB1sB,EAAM4+B,UAAS,EAhCnB,KAPsB,cAAdhd,EAAM56C,KAAqC,eAAd46C,EAAM56C,IACnC6lE,GAAStlB,EAAgBwP,GAGzB8V,GAAStlB,EAAgBwP,GAAQ,EAtBzC,CA3BA,CAsFJ,GACJ,EACOu+B,CACX,CAhf4B,GAofxBmC,GAAoD,WACpD,IAAI1sB,EAAgB,SAAUh5B,EAAG2jC,GAI7B,OAHA3K,EAAgBnuE,OAAO+4E,gBAClB,CAAEC,UAAW,cAAgB1jE,OAAS,SAAU6/B,EAAG2jC,GAAK3jC,EAAE6jC,UAAYF,CAAG,GAC1E,SAAU3jC,EAAG2jC,GAAK,IAAK,IAAI/4E,KAAK+4E,EAAO94E,OAAOC,UAAUC,eAAeC,KAAK24E,EAAG/4E,KAAIo1C,EAAEp1C,GAAK+4E,EAAE/4E,GAAI,EAC7FouE,EAAch5B,EAAG2jC,EAC5B,EACA,OAAO,SAAU3jC,EAAG2jC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI5+D,UAAU,uBAAyBD,OAAO6+D,GAAK,iCAE7D,SAASG,IAAOt5D,KAAK+D,YAAcyxB,CAAG,CADtCg5B,EAAch5B,EAAG2jC,GAEjB3jC,EAAEl1C,UAAkB,OAAN64E,EAAa94E,OAAOyb,OAAOq9D,IAAMG,EAAGh5E,UAAY64E,EAAE74E,UAAW,IAAIg5E,EACnF,CACH,CAduD,GAif3B,MAAMx3B,GA7bP,SAAUm4B,GAMlC,SAASptB,EAAO36B,EAAIyL,GAChB,IAAI0oC,EAAQ4T,EAAOz5E,KAAKwf,OAASA,KAEjC,GADAqmD,EAAM80B,QAAU33C,EAA8BiI,EAC5B,iBAAPv5B,EAAiB,CAcxB,GAbKyL,EAOKA,EAAQ9lB,MAGR8lB,EAAQ9lB,MAAMqa,KACpByL,EAAQ9lB,MAAMqa,GAAK,SAASyS,OAAOzS,IAHnCyL,EAAQ9lB,MAAQ,CAAEqa,GAAI,SAASyS,OAAOzS,IAPtCyL,EAAU,CACN9lB,MAAO,CACHqa,GAAI,SAASyS,OAAOzS,MAU3BuvB,SAASiD,eAAexyB,GAEzB,OADAm0C,EAAM+0B,aAAa,gCAAgCz2D,OAAOzS,IACnDm0C,EAEXn0C,EAAKuvB,SAASiD,eAAexyB,EACjC,CACA,IACIk3B,EADa,IAAIgvC,GAAQz6D,GACE4D,QAE/B,GAAK6nB,EAAc+B,KAoBf9I,OAAOiJ,WAAalC,EAAc+B,KAClCkb,EAAM1W,KAAKz9B,EAAIk3B,OArBM,CACrB,IAAK,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAASpjC,SAASojC,EAAcrF,MAC1G,MAAM,IAAI3pC,MAAM,2EAGhB,IAAI6wC,EAAmB,mBACnBC,EAAiBD,EAAmB7B,EAAcrF,KACtDtC,SAASe,iBAAiB,oBAAqB7d,OAAOsmB,EAAkB,OAAQtyC,SAAQ,SAAUyyC,GAC1FA,EAAGl5B,KAAOg5B,GACVzJ,SAASnmB,KAAK+vB,YAAYD,EAElC,KACA,EAAG1H,EAAyB2F,GAAG,GAAG1kB,OAAOykB,EAAcpB,IAAK,kBAAkBrjB,OAAOykB,EAAcrF,KAAM,OAAQmH,GAAgB/D,MAAK,WAClIkf,EAAM1W,KAAKz9B,EAAIk3B,EACnB,IAAGyI,OAAM,SAAUhC,GACfwW,EAAM+0B,aAAa,OAAOz2D,OAAOykB,EAAcpB,IAAK,kBAAkBrjB,OAAOykB,EAAcrF,KAAM,wCACrG,GAER,CAKA,OAAOsiB,CACX,CAmYA,OA1bA60B,GAAYruC,EAAQotB,GAwDpBptB,EAAOvsD,UAAU86F,aAAe,SAAUvrC,GACtC,IAAI8nB,EAAM,IAAIiX,GACdntC,SAAS4F,KAAK2M,YAAY2jB,EAAIn2B,SAC9Bm2B,EAAIzQ,KAAKrX,EAAO,EACpB,EACAhD,EAAOvsD,UAAU+6F,oBAAsB,SAAU19D,GAC7C3d,KAAKw6C,OAAOmB,QAAQs7B,aAAaj3E,KAAKw6C,OAAQ78B,EAClD,EAEAkvB,EAAOvsD,UAAUstE,SAAW,SAAU7kB,EAAOgV,EAAcF,EAAWy9B,GAClEt7E,KAAKw6C,OAAO78B,QAAQorB,MAAQA,EAC5B6kB,EAAS5tD,KAAKw6C,QACVuD,IACA/9C,KAAKw6C,OAAO78B,QAAQsvB,QAAQlE,MAAM5xC,QAAU4mD,GAC5C,EAAGta,EAAqC8H,GAAGwS,EAAcu9B,GAAoBt7E,KAAKw6C,OAAO78B,QAAQsvB,QAAQlE,MAAMlhC,OAE/Gg2C,IACA79C,KAAKw6C,OAAO78B,QAAQsvB,QAAQ7E,KAAKrlD,MAAQ86D,GACzC,EAAGjR,GAA+Bf,GAAGgS,EAAW79C,KAAKw6C,OAAO78B,QAAQqqB,KAE5E,EAEA6E,EAAOvsD,UAAU+4B,SAAW,WACxB,OAAOwsC,EAAY7lD,KAAKw6C,OAC5B,EAEA3N,EAAOvsD,UAAUi7F,eAAiB,WAC9B,OAAOv7E,KAAKw6C,OAAOK,WACvB,EAEAhO,EAAOvsD,UAAUylD,MAAQ,WACW,OAA5B/lC,KAAKw6C,OAAOK,YACZ76C,KAAKw6C,OAAOsL,GAAGtkB,QAAQuE,QAEU,YAA5B/lC,KAAKw6C,OAAOK,YACjB76C,KAAKw6C,OAAOwL,QAAQxkB,QAAQuE,QAEK,OAA5B/lC,KAAKw6C,OAAOK,aACjB76C,KAAKw6C,OAAO0L,GAAG1kB,QAAQuE,OAE/B,EAEA8G,EAAOvsD,UAAUy6E,KAAO,WACY,OAA5B/6D,KAAKw6C,OAAOK,YACZ76C,KAAKw6C,OAAOsL,GAAGtkB,QAAQu5B,OAEU,YAA5B/6D,KAAKw6C,OAAOK,YACjB76C,KAAKw6C,OAAOwL,QAAQxkB,QAAQu5B,OAEK,OAA5B/6D,KAAKw6C,OAAOK,aACjB76C,KAAKw6C,OAAO0L,GAAG1kB,QAAQu5B,MAE/B,EAEAluB,EAAOvsD,UAAU+D,SAAW,WACxB0jE,EAAU/nD,KAAKw6C,OAAQ,CAAC,aAAc,OAAQ,YAC9CoN,EAAe5nD,KAAKw6C,OAAOmB,QAAQuM,SAAU1kB,EAA8ChxC,EAAEg7C,cAAc7oB,OAAO,CAAC,OAAQ,OAAQ,aAAc,eACjJ3kB,KAAKw6C,OAAOx6C,KAAKw6C,OAAOK,aAAarZ,QAAQoF,aAAa,kBAAmB,QACjF,EAEAiG,EAAOvsD,UAAUsoD,OAAS,WACtB+e,EAAc3nD,KAAKw6C,OAAOmB,QAAQuM,SAAU1kB,EAA8ChxC,EAAEg7C,cAAc7oB,OAAO,CAAC,OAAQ,OAAQ,aAAc,eAChJ3kB,KAAKw6C,OAAOmV,KAAKmK,UAAU95D,KAAKw6C,QAChCx6C,KAAKw6C,OAAOx6C,KAAKw6C,OAAOK,aAAarZ,QAAQoF,aAAa,kBAAmB,OACjF,EAEAiG,EAAOvsD,UAAU0lD,aAAe,WAC5B,MAAgC,YAA5BhmC,KAAKw6C,OAAOK,YACLwf,GAAcr6D,KAAKw6C,OAAOwL,QAAQxkB,SAER,OAA5BxhC,KAAKw6C,OAAOK,YACVwf,GAAcr6D,KAAKw6C,OAAOsL,GAAGtkB,SAEH,OAA5BxhC,KAAKw6C,OAAOK,YACVwf,GAAcr6D,KAAKw6C,OAAO0L,GAAG1kB,cADnC,CAGT,EAEAqL,EAAOvsD,UAAUk7F,cAAgB,SAAU33F,GACvCmc,KAAKw6C,OAAOvN,QAAQpE,OAAO7oC,KAAKw6C,OAAQ32D,EAC5C,EAEAgpD,EAAOvsD,UAAUgiE,kBAAoB,WACjC,OAAO,EAAGze,EAAiC63B,IAAI17D,KAAKw6C,OAAOx6C,KAAKw6C,OAAOK,aAAarZ,QACxF,EAEAqL,EAAOvsD,UAAU4gF,YAAc,WAC3B,OAAOlhE,KAAKw6C,OAAOumB,OAAOG,WAC9B,EAEAr0B,EAAOvsD,UAAUm7F,WAAa,WAC1Bp8B,aAAaq8B,WAAW17E,KAAKw6C,OAAO78B,QAAQ9lB,MAAMqa,GACtD,EAEA26B,EAAOvsD,UAAUq7F,cAAgB,WAC7B37E,KAAKw6C,OAAO78B,QAAQ9lB,MAAM+wC,QAAS,CACvC,EAEAiE,EAAOvsD,UAAUs7F,YAAc,WAC3B,IAAK57E,KAAKw6C,OAAO78B,QAAQ9lB,MAAMqa,GAC3B,MAAM,IAAI9X,MAAM,8EAEpB4F,KAAKw6C,OAAO78B,QAAQ9lB,MAAM+wC,QAAS,CACvC,EAEAiE,EAAOvsD,UAAUu7F,QAAU,SAAUh4F,GACjC,OAAOmc,KAAKw6C,OAAOlR,KAAKylB,QAAQlrE,EACpC,EAEAgpD,EAAOvsD,UAAUw7F,WAAa,SAAUj4F,GACpC,OAAOmc,KAAKw6C,OAAOlR,KAAKyyC,WAAWl4F,EACvC,EAEAgpD,EAAOvsD,UAAUmsF,QAAU,WACvB,OAAOA,GAAQzsE,KAAKw6C,OACxB,EAEA3N,EAAOvsD,UAAUq3E,IAAM,SAAUjmC,EAAMrT,GACnCre,KAAKw6C,OAAOmd,IAAIzQ,KAAKx1B,EAAMrT,EAC/B,EAEAwuB,EAAOvsD,UAAUuuF,eAAiB,SAAUnmC,GACxCmmC,GAAenmC,EAAM1oC,KAAKw6C,OAC9B,EAEA3N,EAAOvsD,UAAU07F,YAAc,WACvB35C,OAAO2D,eAAei2C,aAG1Bx6C,SAAS0jB,YAAY,UAAU,EACnC,EAEAtY,EAAOvsD,UAAU47F,YAAc,SAAUr4F,GACrC49C,SAAS0jB,YAAY,cAAc,EAAOthE,EAC9C,EAEAgpD,EAAOvsD,UAAU67F,YAAc,SAAUt4F,EAAOglD,QAC7B,IAAXA,IAAqBA,GAAS,GAClC,IAAIplB,GAAQ,EAAGogB,EAA8BsrB,IAAInvD,KAAKw6C,QACtD/2B,EAAM4+B,UAAS,GACf,IAAI+5B,EAAa36C,SAASI,cAAc,YACxCu6C,EAAWj3C,UAAYthD,EACvB4/B,EAAMohC,WAAWu3B,EAAWl5F,QAAQktD,WAAU,IAC9C3sB,EAAM4+B,UAAS,GACiB,OAA5BriD,KAAKw6C,OAAOK,aACZ76C,KAAKw6C,OAAOsL,GAAGZ,cAAe,EAC1Brc,GACAmkB,EAAWhtD,KAAKw6C,SAGa,YAA5Bx6C,KAAKw6C,OAAOK,YAEbhS,GACAq7B,GAAYlkE,KAAKw6C,OAAQxU,eAAeE,WAAW,IAGtB,OAA5BlmC,KAAKw6C,OAAOK,cACjB76C,KAAKw6C,OAAO0L,GAAGhB,cAAe,EAC1Brc,GACA7kC,EAAMhE,KAAKw6C,OAAQxU,eAAeE,WAAW,IAAI,GAG7D,EAEA2G,EAAOvsD,UAAU+7F,SAAW,SAAU/zC,EAAUgvC,GAC5C,IAAIjxB,EAAQrmD,UACO,IAAfs3E,IAAyBA,GAAa,GACV,OAA5Bt3E,KAAKw6C,OAAOK,aACZ76C,KAAKw6C,OAAOsL,GAAGtkB,QAAQ2D,UAAY,uBAAuBxgB,OAAO3kB,KAAKw6C,OAAOlR,KAAKy2B,gBAAgBz3B,GAAW,UAC7G2kB,GAAmBjtD,KAAKw6C,OAAQ,CAC5B6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,KAGgB,YAA5BvrD,KAAKw6C,OAAOK,YACjB4b,GAAcz2D,KAAKw6C,OAAQlS,EAAU,CACjC+iB,oBAAoB,EACpBC,YAAY,EACZC,aAAa,KAIjBvrD,KAAKw6C,OAAO0L,GAAG1kB,QAAQ2D,UAAYnlC,KAAKw6C,OAAOlR,KAAKswB,eAAetxB,GACnEtoC,KAAKw6C,OAAO0L,GAAG1kB,QACVgB,iBAAiB,wCACjB7pC,SAAQ,SAAU2rC,GACnBukB,EAAkBvkB,EAAM+hB,EAAM7L,OAClC,IACA4Q,GAA2BprD,KAAKw6C,OAAQ,CACpC6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,KAGrBvrD,KAAKw6C,OAAO0O,QAAQrgB,OAAO7oC,KAAKw6C,QAC3BlS,IACDyf,EAAU/nD,KAAKw6C,OAAQ,CAAC,QAAS,WAAY,UAAW,SACpDx6C,KAAKw6C,OAAOwL,QAAQqC,UACpBroD,KAAKw6C,OAAOwL,QAAQqC,QAAQtlE,MAAM9D,QAAU,QAEhD+gB,KAAKy7E,cAELnE,GACAt3E,KAAKs3E,YAEb,EAEAzqC,EAAOvsD,UAAUg3F,WAAa,WAC1Bt3E,KAAKw6C,OAAOmV,KAAK2nB,WAAWt3E,KAAKw6C,QACjCx6C,KAAKw6C,OAAOmV,KAAKC,eAAe5vD,KAAKw6C,OACzC,EAEA3N,EAAOvsD,UAAUg8F,QAAU,WACvBt8E,KAAKw6C,OAAOhZ,QAAQ2D,UAAYnlC,KAAKw6C,OAAOsU,kBAC5C9uD,KAAKw6C,OAAOhZ,QAAQ0D,UAAUne,OAAO,UACrC/mB,KAAKw6C,OAAOhZ,QAAQe,gBAAgB,SACpC,IAAIg6C,EAAa96C,SAASiD,eAAe,oBACrC63C,GACAA,EAAWx1D,SAEf/mB,KAAKy7E,aACLntB,IACAtuD,KAAKw6C,OAAOwL,QAAQ6zB,gBACxB,EAEAhtC,EAAOvsD,UAAUk8F,cAAgB,WAC7B,MAAgC,YAA5Bx8E,KAAKw6C,OAAOK,YACL,GAEJ76C,KAAKw6C,OAAOwL,QAAQuV,YAAYv7D,KAAKw6C,QAAQ,EACxD,EAEA3N,EAAOvsD,UAAUm8F,aAAe,SAAU/hC,GACtC,GAAgC,YAA5B16C,KAAKw6C,OAAOK,YAAhB,CAGA,IAAI6hC,EAAS,SAAUp4C,GACnBA,EAAKY,UAAUne,OAAO,yBACtB2zB,EAAI/hD,SAAQ,SAAUuZ,GACdoyB,EAAKvC,aAAa,eAAethD,QAAQyxB,IAAO,GAChDoyB,EAAKY,UAAU/jC,IAAI,wBAE3B,GACJ,EACAnB,KAAKw6C,OAAOwL,QAAQxkB,QACfgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACnBo4C,EAAOp4C,EACX,IACkD,SAA9CtkC,KAAKw6C,OAAOvN,QAAQzL,QAAQz+C,MAAM9D,SAClC+gB,KAAKw6C,OAAOvN,QAAQzL,QACfgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACnBo4C,EAAOp4C,EACX,GAnBJ,CAqBJ,EAEAuI,EAAOvsD,UAAUq8F,eAAiB,SAAUjiC,GACxC,GAAgC,YAA5B16C,KAAKw6C,OAAOK,YAAhB,CAGA,IAAI+hC,EAAW,SAAUt4C,GACrBoW,EAAI/hD,SAAQ,SAAUuZ,GACdoyB,EAAKvC,aAAa,eAAethD,QAAQyxB,IAAO,GAChDoyB,EAAKY,UAAUne,OAAO,wBAE9B,GACJ,EACA/mB,KAAKw6C,OAAOwL,QAAQxkB,QACfgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACnBs4C,EAASt4C,EACb,IACkD,SAA9CtkC,KAAKw6C,OAAOvN,QAAQzL,QAAQz+C,MAAM9D,SAClC+gB,KAAKw6C,OAAOvN,QAAQzL,QACfgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACnBs4C,EAASt4C,EACb,GAlBJ,CAoBJ,EAEAuI,EAAOvsD,UAAUu8F,iBAAmB,SAAUC,GAC1C,IAAIz2B,EAAQrmD,KACZ,GAAgC,YAA5BA,KAAKw6C,OAAOK,YAAhB,CAGA,IAAI6gC,EAAa,SAAUp3C,EAAMy4C,GAC7B,IAAIriC,EAAMpW,EAAKvC,aAAa,eAAeroC,MAAM,KACjDghD,EAAI59B,MAAK,SAAU5K,EAAIpd,GACnB,GAAIod,IAAO6qE,EAEP,OADAriC,EAAI3+C,OAAOjH,EAAO,IACX,CAEf,IACmB,IAAf4lD,EAAI95D,QACJ0jD,EAAKsN,UAAYtN,EAAKa,WACtB,EAAGtB,EAA8BsrB,IAAI9I,EAAM7L,QAAQ6H,UAAS,IAG5D/d,EAAKsC,aAAa,cAAe8T,EAAIrpD,KAAK,KAElD,EACAyrF,EAAUnkF,SAAQ,SAAUokF,GACxB12B,EAAM7L,OAAOwL,QAAQxkB,QAChBgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACnBo3C,EAAWp3C,EAAMy4C,EACrB,IACmD,SAA/C12B,EAAM7L,OAAOvN,QAAQzL,QAAQz+C,MAAM9D,SACnConE,EAAM7L,OAAOvN,QAAQzL,QAChBgB,iBAAiB,mBACjB7pC,SAAQ,SAAU2rC,GACnBo3C,EAAWp3C,EAAMy4C,EACrB,GAER,IACAztB,EAAiBtvD,KAAKw6C,OAAQ,CAC1B6Q,oBAAoB,EACpBC,YAAY,EACZC,aAAa,GAlCjB,CAoCJ,EACA1e,EAAOvsD,UAAUqvD,KAAO,SAAUz9B,EAAIk3B,GAClC,IAAIid,EAAQrmD,KACZA,KAAKw6C,OAAS,CACVK,YAAazR,EAAcV,KAC3BlH,QAAStvB,EACTk2C,KAAM,IAAIwiB,GAAKxhC,EAAcgf,KAAKt/B,QAClCwgB,UAAMjgD,EACNs0B,QAASyrB,EACT0lB,kBAAmB58C,EAAGizB,UACtB+jB,QAAS,IAAI0jB,GAAQvqC,OAAOiJ,WAAW4d,SACvCyO,IAAK,IAAIiX,IAEb5uE,KAAKw6C,OAAOsL,GAAK,IAAI0oB,GAAOxuE,KAAKw6C,QACjCx6C,KAAKw6C,OAAOmV,KAAO,IAAIwnB,GACvBn3E,KAAKw6C,OAAOwL,QAAU,IAAI+yB,GAAQ/4E,KAAKw6C,QACvCx6C,KAAKw6C,OAAO0L,GAAK,IAAIkmB,GAAGpsE,KAAKw6C,QAC7Bx6C,KAAKw6C,OAAOmB,QAAU,IAAIk7B,GAAQ72E,KAAKw6C,QACnCpR,EAAcie,OAAOze,SACrB5oC,KAAKw6C,OAAO6M,OAAS,IAAIymB,GAAO9tE,KAAKw6C,SAErCx6C,KAAKw6C,OAAOmB,QAAQuM,SAAS5B,WAC7BtmD,KAAKw6C,OAAO8L,SAAW,IAAIH,IAE3B/c,EAAc23B,OAAOrqB,KAAOtN,EAAc23B,OAAOiB,WACjDhiE,KAAKw6C,OAAOumB,OAAS,IAAIE,KAE7B,EAAGv9B,EAAyB2F,GAAGD,EAAc4zC,WACzC,GAAGr4D,OAAOykB,EAAcpB,IAAK,6BAA8B,oBAAoBb,MAAK,WACpFkf,EAAM7L,OAAOlR,MAAO,EAAG1F,GAAqB2F,GAAG,CAC3CC,UAAW6c,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASkB,UACjDC,YAAa4c,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASmB,YACnDC,iBAAkB2c,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAC1CoB,iBACLC,UAAW0c,EAAM7L,OAAO78B,QAAQyqC,KAAKjgB,UACrCyB,OAAQyc,EAAM7L,OAAO78B,QAAQyqC,KAAKD,MAClCte,YAAawc,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASuB,YACnDC,UAAWuc,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASwB,UACjDC,eAAe,EACfC,gBAAiBqc,EAAM7L,OAAO78B,QAAQsvB,QAAQzE,KAAKyB,YACnDE,SAAUkc,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAAS6B,SAChDC,WAAYic,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAAS8B,WAClDC,UAAWgc,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAAS+B,UACjDC,KAAM+b,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASgC,KAC5CC,iBAAkB8b,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAC1CiC,iBACLC,wBAAyB6b,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SACjDkC,wBACLC,SAAU4b,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASmC,SAChDC,IAAK2b,EAAM7L,OAAO78B,QAAQsvB,QAAQ3E,SAASoC,MAE/C2b,EAAM7L,OAAOvN,QAAU,IAAI6/B,GAAQzmB,EAAM7L,QAnxSxC,SAAUA,GACnBA,EAAOhZ,QAAQ2D,UAAY,GAC3BqV,EAAOhZ,QAAQ0D,UAAU/jC,IAAI,UAEzBq5C,EAAO78B,QAAQ06D,KACf79B,EAAOhZ,QAAQoF,aAAa,MAAO,OAEvCgnB,EAASpT,IACT,EAAG/W,EAAqC8H,GAAGiP,EAAO78B,QAAQsvB,QAAQlE,MAAM5xC,QAASqjD,EAAO78B,QAAQsvB,QAAQlE,MAAMlhC,MACzE,iBAA1B2yC,EAAO78B,QAAQ53B,OACtBy0D,EAAOhZ,QAAQz+C,MAAMgD,OAASy0D,EAAO78B,QAAQ53B,OAAS,KAGtDy0D,EAAOhZ,QAAQz+C,MAAMgD,OAASy0D,EAAO78B,QAAQ53B,OAET,iBAA7By0D,EAAO78B,QAAQywC,YACtB5T,EAAOhZ,QAAQz+C,MAAMqrE,UAAY5T,EAAO78B,QAAQywC,UAAY,MAE5B,iBAAzB5T,EAAO78B,QAAQo8B,MACtBS,EAAOhZ,QAAQz+C,MAAMg3D,MAAQS,EAAO78B,QAAQo8B,MAAQ,KAGpDS,EAAOhZ,QAAQz+C,MAAMg3D,MAAQS,EAAO78B,QAAQo8B,MAEhDS,EAAOhZ,QAAQwS,YAAYwG,EAAOmB,QAAQna,SAC1C,IAAI8Y,EAAiB7Y,SAASI,cAAc,OAkC5C,GAjCAyY,EAAel4D,UAAY,iBACa,SAApCo4D,EAAO78B,QAAQurC,QAAQziE,UACvB6zD,EAAetG,YAAYwG,EAAO0O,QAAQ1nB,SAE9C8Y,EAAetG,YAAYwG,EAAOwL,QAAQxkB,QAAQ+D,eAClD+U,EAAetG,YAAYwG,EAAOsL,GAAGtkB,SACrC8Y,EAAetG,YAAYwG,EAAO0L,GAAG1kB,QAAQ+D,eAC7C+U,EAAetG,YAAYwG,EAAOvN,QAAQzL,SACtCgZ,EAAOmB,QAAQuM,SAAS5B,UACxBhM,EAAetG,YAAYwG,EAAO8L,SAAS9kB,SAEP,UAApCgZ,EAAO78B,QAAQurC,QAAQziE,WACvB+zD,EAAO0O,QAAQ1nB,QAAQ0D,UAAU/jC,IAAI,yBACrCm5C,EAAetG,YAAYwG,EAAO0O,QAAQ1nB,UAE1CgZ,EAAOumB,QACPzmB,EAAetG,YAAYwG,EAAOumB,OAAOv/B,SAEzCgZ,EAAO78B,QAAQ0pC,OAAOze,QACtB0R,EAAetG,YAAYwG,EAAO6M,OAAO7lB,SAE7C8Y,EAAetG,YAAYwG,EAAO4N,KAAK5mB,SACvC8Y,EAAetG,YAAYwG,EAAOmd,IAAIn2B,SACtCgZ,EAAOhZ,QAAQwS,YAAYsG,GAC3BA,EAAetY,iBAAiB,SAAS,WACrC+lB,EAAUvN,EAAQ,CAAC,cACvB,IACIA,EAAOmB,QAAQuM,SAAS+0B,QAExBziC,EAAOhZ,QAAQmP,mBAAmB,YAAa,qFAEnD4oB,GAAY/e,EAAQA,EAAO78B,QAAQ+qB,KAAMgmB,EAAYlU,IACrD/Y,SAAS0jB,YAAY,6BAA6B,EAAO,KACrDlG,UAAUC,UAAUz+D,QAAQ,WAAa,QAAsC,IAA1B4hD,OAAO66C,eAAgC,CAE5F,IAAIC,GAAkB,EAClBC,EAAkB,SAAU/3C,GACxB83C,IAGJA,GAAkB,EAClBE,uBAAsB,WAClBF,GAAkB,EAClB,IAAIG,EAAiB9iC,EAAOmB,QAAQna,QACpC87C,EAAev6F,MAAM8V,UAAY,OAC7BykF,EAAej3C,wBAAwBC,IAAM,IAC7Cg3C,EAAev6F,MAAM8V,UAAY,gBAAgB8rB,QAAQ24D,EAAej3C,wBAAwBC,IAAK,OAE7G,IACJ,EACAjE,OAAO66C,eAAel7C,iBAAiB,SAAUo7C,GACjD/6C,OAAO66C,eAAel7C,iBAAiB,SAAUo7C,EACrD,CACJ,CAqsSYG,CAAOl3B,EAAM7L,QACTpR,EAAc7kB,OACd6kB,EAAc7kB,QAEd6kB,EAAclrD,OAEd,EAAGwlD,EAA6B+R,GAAG,GAAG9wB,OAAOykB,EAAcpB,IAAK,mBAAmBrjB,OAAOykB,EAAclrD,KAAM,OAAQ,mBAE9H,GACJ,EACO2uD,CACX,CA5b2B,CA4bzB3pB,EAAgB,QAGjB,EAzrVD,GA2rVA,EAAsB,EAA6B,OAEzC,EAjxeM,GARdjwB,EAAOH,QAAU+9B","sources":["webpack://hexo-pro/./node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","webpack://hexo-pro/./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","webpack://hexo-pro/./node_modules/@ant-design/icons-svg/es/asn/SettingOutlined.js","webpack://hexo-pro/./node_modules/@ant-design/icons/es/icons/SettingOutlined.js","webpack://hexo-pro/./node_modules/antd/es/col/index.js","webpack://hexo-pro/./node_modules/antd/es/popconfirm/style/index.js","webpack://hexo-pro/./node_modules/antd/es/popconfirm/PurePanel.js","webpack://hexo-pro/./node_modules/antd/es/popconfirm/index.js","webpack://hexo-pro/./node_modules/antd/es/row/index.js","webpack://hexo-pro/./node_modules/antd/es/tag/style/index.js","webpack://hexo-pro/./node_modules/antd/es/tag/CheckableTag.js","webpack://hexo-pro/./node_modules/antd/es/tag/style/presetCmp.js","webpack://hexo-pro/./node_modules/antd/es/tag/style/statusCmp.js","webpack://hexo-pro/./node_modules/antd/es/_util/capitalize.js","webpack://hexo-pro/./node_modules/antd/es/tag/index.js","webpack://hexo-pro/./node_modules/lodash/lodash.js","webpack://hexo-pro/./node_modules/vditor/dist/index.js"],"sourcesContent":["// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\n/**![delete](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTM2MCAxODRoLThjNC40IDAgOC0zLjYgOC04djhoMzA0di04YzAgNC40IDMuNiA4IDggOGgtOHY3Mmg3MnYtODBjMC0zNS4zLTI4LjctNjQtNjQtNjRIMzUyYy0zNS4zIDAtNjQgMjguNy02NCA2NHY4MGg3MnYtNzJ6bTUwNCA3MkgxNjBjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjMyYzAgNC40IDMuNiA4IDggOGg2MC40bDI0LjcgNTIzYzEuNiAzNC4xIDI5LjggNjEgNjMuOSA2MWg0NTRjMzQuMiAwIDYyLjMtMjYuOCA2My45LTYxbDI0LjctNTIzSDg4OGM0LjQgMCA4LTMuNiA4LTh2LTMyYzAtMTcuNy0xNC4zLTMyLTMyLTMyek03MzEuMyA4NDBIMjkyLjdsLTI0LjItNTEyaDQ4N2wtMjQuMiA1MTJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(DeleteOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DeleteOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar SettingOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z\" } }] }, \"name\": \"setting\", \"theme\": \"outlined\" };\nexport default SettingOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport SettingOutlinedSvg from \"@ant-design/icons-svg/es/asn/SettingOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar SettingOutlined = function SettingOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: SettingOutlinedSvg\n  }));\n};\n\n/**![setting](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyNC44IDYyNS43bC02NS41LTU2YzMuMS0xOSA0LjctMzguNCA0LjctNTcuOHMtMS42LTM4LjgtNC43LTU3LjhsNjUuNS01NmEzMi4wMyAzMi4wMyAwIDAwOS4zLTM1LjJsLS45LTIuNmE0NDMuNzQgNDQzLjc0IDAgMDAtNzkuNy0xMzcuOWwtMS44LTIuMWEzMi4xMiAzMi4xMiAwIDAwLTM1LjEtOS41bC04MS4zIDI4LjljLTMwLTI0LjYtNjMuNS00NC05OS43LTU3LjZsLTE1LjctODVhMzIuMDUgMzIuMDUgMCAwMC0yNS44LTI1LjdsLTIuNy0uNWMtNTIuMS05LjQtMTA2LjktOS40LTE1OSAwbC0yLjcuNWEzMi4wNSAzMi4wNSAwIDAwLTI1LjggMjUuN2wtMTUuOCA4NS40YTM1MS44NiAzNTEuODYgMCAwMC05OSA1Ny40bC04MS45LTI5LjFhMzIgMzIgMCAwMC0zNS4xIDkuNWwtMS44IDIuMWE0NDYuMDIgNDQ2LjAyIDAgMDAtNzkuNyAxMzcuOWwtLjkgMi42Yy00LjUgMTIuNS0uOCAyNi41IDkuMyAzNS4ybDY2LjMgNTYuNmMtMy4xIDE4LjgtNC42IDM4LTQuNiA1Ny4xIDAgMTkuMiAxLjUgMzguNCA0LjYgNTcuMUw5OSA2MjUuNWEzMi4wMyAzMi4wMyAwIDAwLTkuMyAzNS4ybC45IDIuNmMxOC4xIDUwLjQgNDQuOSA5Ni45IDc5LjcgMTM3LjlsMS44IDIuMWEzMi4xMiAzMi4xMiAwIDAwMzUuMSA5LjVsODEuOS0yOS4xYzI5LjggMjQuNSA2My4xIDQzLjkgOTkgNTcuNGwxNS44IDg1LjRhMzIuMDUgMzIuMDUgMCAwMDI1LjggMjUuN2wyLjcuNWE0NDkuNCA0NDkuNCAwIDAwMTU5IDBsMi43LS41YTMyLjA1IDMyLjA1IDAgMDAyNS44LTI1LjdsMTUuNy04NWEzNTAgMzUwIDAgMDA5OS43LTU3LjZsODEuMyAyOC45YTMyIDMyIDAgMDAzNS4xLTkuNWwxLjgtMi4xYzM0LjgtNDEuMSA2MS42LTg3LjUgNzkuNy0xMzcuOWwuOS0yLjZjNC41LTEyLjMuOC0yNi4zLTkuMy0zNXpNNzg4LjMgNDY1LjljMi41IDE1LjEgMy44IDMwLjYgMy44IDQ2LjFzLTEuMyAzMS0zLjggNDYuMWwtNi42IDQwLjEgNzQuNyA2My45YTM3MC4wMyAzNzAuMDMgMCAwMS00Mi42IDczLjZMNzIxIDcwMi44bC0zMS40IDI1LjhjLTIzLjkgMTkuNi01MC41IDM1LTc5LjMgNDUuOGwtMzguMSAxNC4zLTE3LjkgOTdhMzc3LjUgMzc3LjUgMCAwMS04NSAwbC0xNy45LTk3LjItMzcuOC0xNC41Yy0yOC41LTEwLjgtNTUtMjYuMi03OC43LTQ1LjdsLTMxLjQtMjUuOS05My40IDMzLjJjLTE3LTIyLjktMzEuMi00Ny42LTQyLjYtNzMuNmw3NS41LTY0LjUtNi41LTQwYy0yLjQtMTQuOS0zLjctMzAuMy0zLjctNDUuNSAwLTE1LjMgMS4yLTMwLjYgMy43LTQ1LjVsNi41LTQwLTc1LjUtNjQuNWMxMS4zLTI2LjEgMjUuNi01MC43IDQyLjYtNzMuNmw5My40IDMzLjIgMzEuNC0yNS45YzIzLjctMTkuNSA1MC4yLTM0LjkgNzguNy00NS43bDM3LjktMTQuMyAxNy45LTk3LjJjMjguMS0zLjIgNTYuOC0zLjIgODUgMGwxNy45IDk3IDM4LjEgMTQuM2MyOC43IDEwLjggNTUuNCAyNi4yIDc5LjMgNDUuOGwzMS40IDI1LjggOTIuOC0zMi45YzE3IDIyLjkgMzEuMiA0Ny42IDQyLjYgNzMuNkw3ODEuOCA0MjZsNi41IDM5Ljl6TTUxMiAzMjZjLTk3LjIgMC0xNzYgNzguOC0xNzYgMTc2czc4LjggMTc2IDE3NiAxNzYgMTc2LTc4LjggMTc2LTE3Ni03OC44LTE3Ni0xNzYtMTc2em03OS4yIDI1NS4yQTExMS42IDExMS42IDAgMDE1MTIgNjE0Yy0yOS45IDAtNTgtMTEuNy03OS4yLTMyLjhBMTExLjYgMTExLjYgMCAwMTQwMCA1MDJjMC0yOS45IDExLjctNTggMzIuOC03OS4yQzQ1NCA0MDEuNiA0ODIuMSAzOTAgNTEyIDM5MGMyOS45IDAgNTggMTEuNiA3OS4yIDMyLjhBMTExLjYgMTExLjYgMCAwMTYyNCA1MDJjMCAyOS45LTExLjcgNTgtMzIuOCA3OS4yeiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(SettingOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'SettingOutlined';\n}\nexport default RefIcon;","\"use client\";\n\nimport { Col } from '../grid';\nexport default Col;","import { genStyleHooks } from '../../theme/internal';\n// =============================== Base ===============================\nconst genBaseStyle = token => {\n  const {\n    componentCls,\n    iconCls,\n    antCls,\n    zIndexPopup,\n    colorText,\n    colorWarning,\n    marginXXS,\n    marginXS,\n    fontSize,\n    fontWeightStrong,\n    colorTextHeading\n  } = token;\n  return {\n    [componentCls]: {\n      zIndex: zIndexPopup,\n      [`&${antCls}-popover`]: {\n        fontSize\n      },\n      [`${componentCls}-message`]: {\n        marginBottom: marginXS,\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'start',\n        [`> ${componentCls}-message-icon ${iconCls}`]: {\n          color: colorWarning,\n          fontSize,\n          lineHeight: 1,\n          marginInlineEnd: marginXS\n        },\n        [`${componentCls}-title`]: {\n          fontWeight: fontWeightStrong,\n          color: colorTextHeading,\n          '&:only-child': {\n            fontWeight: 'normal'\n          }\n        },\n        [`${componentCls}-description`]: {\n          marginTop: marginXXS,\n          color: colorText\n        }\n      },\n      [`${componentCls}-buttons`]: {\n        textAlign: 'end',\n        whiteSpace: 'nowrap',\n        button: {\n          marginInlineStart: marginXS\n        }\n      }\n    }\n  };\n};\n// ============================== Export ==============================\nexport const prepareComponentToken = token => {\n  const {\n    zIndexPopupBase\n  } = token;\n  return {\n    zIndexPopup: zIndexPopupBase + 60\n  };\n};\nexport default genStyleHooks('Popconfirm', token => genBaseStyle(token), prepareComponentToken, {\n  resetStyle: false\n});","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport classNames from 'classnames';\nimport ActionButton from '../_util/ActionButton';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonHelpers';\nimport { ConfigContext } from '../config-provider';\nimport { useLocale } from '../locale';\nimport defaultLocale from '../locale/en_US';\nimport PopoverPurePanel from '../popover/PurePanel';\nimport useStyle from './style';\nexport const Overlay = props => {\n  const {\n    prefixCls,\n    okButtonProps,\n    cancelButtonProps,\n    title,\n    description,\n    cancelText,\n    okText,\n    okType = 'primary',\n    icon = /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n    showCancel = true,\n    close,\n    onConfirm,\n    onCancel,\n    onPopupClick\n  } = props;\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const [contextLocale] = useLocale('Popconfirm', defaultLocale.Popconfirm);\n  const titleNode = getRenderPropValue(title);\n  const descriptionNode = getRenderPropValue(description);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-inner-content`,\n    onClick: onPopupClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-message`\n  }, icon && /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-message-icon`\n  }, icon), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-message-text`\n  }, titleNode && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-title`\n  }, titleNode), descriptionNode && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-description`\n  }, descriptionNode))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-buttons`\n  }, showCancel && ( /*#__PURE__*/React.createElement(Button, Object.assign({\n    onClick: onCancel,\n    size: \"small\"\n  }, cancelButtonProps), cancelText || (contextLocale === null || contextLocale === void 0 ? void 0 : contextLocale.cancelText))), /*#__PURE__*/React.createElement(ActionButton, {\n    buttonProps: Object.assign(Object.assign({\n      size: 'small'\n    }, convertLegacyProps(okType)), okButtonProps),\n    actionFn: onConfirm,\n    close: close,\n    prefixCls: getPrefixCls('btn'),\n    quitOnNullishReturnValue: true,\n    emitEvent: true\n  }, okText || (contextLocale === null || contextLocale === void 0 ? void 0 : contextLocale.okText))));\n};\nconst PurePanel = props => {\n  const {\n      prefixCls: customizePrefixCls,\n      placement,\n      className,\n      style\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"placement\", \"className\", \"style\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('popconfirm', customizePrefixCls);\n  const [wrapCSSVar] = useStyle(prefixCls);\n  return wrapCSSVar( /*#__PURE__*/React.createElement(PopoverPurePanel, {\n    placement: placement,\n    className: classNames(prefixCls, className),\n    style: style,\n    content: /*#__PURE__*/React.createElement(Overlay, Object.assign({\n      prefixCls: prefixCls\n    }, restProps))\n  }));\n};\nexport default PurePanel;","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport omit from \"rc-util/es/omit\";\nimport { ConfigContext } from '../config-provider';\nimport Popover from '../popover';\nimport PurePanel, { Overlay } from './PurePanel';\nimport useStyle from './style';\nconst InternalPopconfirm = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var _a, _b;\n  const {\n      prefixCls: customizePrefixCls,\n      placement = 'top',\n      trigger = 'click',\n      okType = 'primary',\n      icon = /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n      children,\n      overlayClassName,\n      onOpenChange,\n      onVisibleChange\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"placement\", \"trigger\", \"okType\", \"icon\", \"children\", \"overlayClassName\", \"onOpenChange\", \"onVisibleChange\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const [open, setOpen] = useMergedState(false, {\n    value: (_a = props.open) !== null && _a !== void 0 ? _a : props.visible,\n    defaultValue: (_b = props.defaultOpen) !== null && _b !== void 0 ? _b : props.defaultVisible\n  });\n  const settingOpen = (value, e) => {\n    setOpen(value, true);\n    onVisibleChange === null || onVisibleChange === void 0 ? void 0 : onVisibleChange(value);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(value, e);\n  };\n  const close = e => {\n    settingOpen(false, e);\n  };\n  const onConfirm = e => {\n    var _a;\n    return (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  };\n  const onCancel = e => {\n    var _a;\n    settingOpen(false, e);\n    (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  };\n  const onInternalOpenChange = (value, e) => {\n    const {\n      disabled = false\n    } = props;\n    if (disabled) {\n      return;\n    }\n    settingOpen(value, e);\n  };\n  const prefixCls = getPrefixCls('popconfirm', customizePrefixCls);\n  const overlayClassNames = classNames(prefixCls, overlayClassName);\n  const [wrapCSSVar] = useStyle(prefixCls);\n  return wrapCSSVar( /*#__PURE__*/React.createElement(Popover, Object.assign({}, omit(restProps, ['title']), {\n    trigger: trigger,\n    placement: placement,\n    onOpenChange: onInternalOpenChange,\n    open: open,\n    ref: ref,\n    overlayClassName: overlayClassNames,\n    content: /*#__PURE__*/React.createElement(Overlay, Object.assign({\n      okType: okType,\n      icon: icon\n    }, props, {\n      prefixCls: prefixCls,\n      close: close,\n      onConfirm: onConfirm,\n      onCancel: onCancel\n    })),\n    \"data-popover-inject\": true\n  }), children));\n});\nconst Popconfirm = InternalPopconfirm;\n// We don't care debug panel\n/* istanbul ignore next */\nPopconfirm._InternalPanelDoNotUseOrYouWillBeFired = PurePanel;\nif (process.env.NODE_ENV !== 'production') {\n  Popconfirm.displayName = 'Popconfirm';\n}\nexport default Popconfirm;","\"use client\";\n\nimport { Row } from '../grid';\nexport default Row;","import { unit } from '@ant-design/cssinjs';\nimport { TinyColor } from '@ctrl/tinycolor';\nimport { resetComponent } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\n// ============================== Styles ==============================\nconst genBaseStyle = token => {\n  const {\n    paddingXXS,\n    lineWidth,\n    tagPaddingHorizontal,\n    componentCls,\n    calc\n  } = token;\n  const paddingInline = calc(tagPaddingHorizontal).sub(lineWidth).equal();\n  const iconMarginInline = calc(paddingXXS).sub(lineWidth).equal();\n  return {\n    // Result\n    [componentCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      display: 'inline-block',\n      height: 'auto',\n      // https://github.com/ant-design/ant-design/pull/47504\n      marginInlineEnd: token.marginXS,\n      paddingInline,\n      fontSize: token.tagFontSize,\n      lineHeight: token.tagLineHeight,\n      whiteSpace: 'nowrap',\n      background: token.defaultBg,\n      border: `${unit(token.lineWidth)} ${token.lineType} ${token.colorBorder}`,\n      borderRadius: token.borderRadiusSM,\n      opacity: 1,\n      transition: `all ${token.motionDurationMid}`,\n      textAlign: 'start',\n      position: 'relative',\n      // RTL\n      [`&${componentCls}-rtl`]: {\n        direction: 'rtl'\n      },\n      '&, a, a:hover': {\n        color: token.defaultColor\n      },\n      [`${componentCls}-close-icon`]: {\n        marginInlineStart: iconMarginInline,\n        fontSize: token.tagIconSize,\n        color: token.colorTextDescription,\n        cursor: 'pointer',\n        transition: `all ${token.motionDurationMid}`,\n        '&:hover': {\n          color: token.colorTextHeading\n        }\n      },\n      [`&${componentCls}-has-color`]: {\n        borderColor: 'transparent',\n        [`&, a, a:hover, ${token.iconCls}-close, ${token.iconCls}-close:hover`]: {\n          color: token.colorTextLightSolid\n        }\n      },\n      '&-checkable': {\n        backgroundColor: 'transparent',\n        borderColor: 'transparent',\n        cursor: 'pointer',\n        [`&:not(${componentCls}-checkable-checked):hover`]: {\n          color: token.colorPrimary,\n          backgroundColor: token.colorFillSecondary\n        },\n        '&:active, &-checked': {\n          color: token.colorTextLightSolid\n        },\n        '&-checked': {\n          backgroundColor: token.colorPrimary,\n          '&:hover': {\n            backgroundColor: token.colorPrimaryHover\n          }\n        },\n        '&:active': {\n          backgroundColor: token.colorPrimaryActive\n        }\n      },\n      '&-hidden': {\n        display: 'none'\n      },\n      // To ensure that a space will be placed between character and `Icon`.\n      [`> ${token.iconCls} + span, > span + ${token.iconCls}`]: {\n        marginInlineStart: paddingInline\n      }\n    }),\n    [`${componentCls}-borderless`]: {\n      borderColor: 'transparent',\n      background: token.tagBorderlessBg\n    }\n  };\n};\n// ============================== Export ==============================\nexport const prepareToken = token => {\n  const {\n    lineWidth,\n    fontSizeIcon,\n    calc\n  } = token;\n  const tagFontSize = token.fontSizeSM;\n  const tagToken = mergeToken(token, {\n    tagFontSize,\n    tagLineHeight: unit(calc(token.lineHeightSM).mul(tagFontSize).equal()),\n    tagIconSize: calc(fontSizeIcon).sub(calc(lineWidth).mul(2)).equal(),\n    // Tag icon is much smaller\n    tagPaddingHorizontal: 8,\n    // Fixed padding.\n    tagBorderlessBg: token.defaultBg\n  });\n  return tagToken;\n};\nexport const prepareComponentToken = token => ({\n  defaultBg: new TinyColor(token.colorFillQuaternary).onBackground(token.colorBgContainer).toHexString(),\n  defaultColor: token.colorText\n});\nexport default genStyleHooks('Tag', token => {\n  const tagToken = prepareToken(token);\n  return genBaseStyle(tagToken);\n}, prepareComponentToken);","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport useStyle from './style';\nconst CheckableTag = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      prefixCls: customizePrefixCls,\n      style,\n      className,\n      checked,\n      onChange,\n      onClick\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"style\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n  const {\n    getPrefixCls,\n    tag\n  } = React.useContext(ConfigContext);\n  const handleClick = e => {\n    onChange === null || onChange === void 0 ? void 0 : onChange(!checked);\n    onClick === null || onClick === void 0 ? void 0 : onClick(e);\n  };\n  const prefixCls = getPrefixCls('tag', customizePrefixCls);\n  // Style\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  const cls = classNames(prefixCls, `${prefixCls}-checkable`, {\n    [`${prefixCls}-checkable-checked`]: checked\n  }, tag === null || tag === void 0 ? void 0 : tag.className, className, hashId, cssVarCls);\n  return wrapCSSVar( /*#__PURE__*/React.createElement(\"span\", Object.assign({}, restProps, {\n    ref: ref,\n    style: Object.assign(Object.assign({}, style), tag === null || tag === void 0 ? void 0 : tag.style),\n    className: cls,\n    onClick: handleClick\n  })));\n});\nexport default CheckableTag;","// Style as status component\nimport { prepareComponentToken, prepareToken } from '.';\nimport { genPresetColor, genSubStyleComponent } from '../../theme/internal';\n// ============================== Preset ==============================\nconst genPresetStyle = token => genPresetColor(token, (colorKey, _ref) => {\n  let {\n    textColor,\n    lightBorderColor,\n    lightColor,\n    darkColor\n  } = _ref;\n  return {\n    [`${token.componentCls}${token.componentCls}-${colorKey}`]: {\n      color: textColor,\n      background: lightColor,\n      borderColor: lightBorderColor,\n      // Inverse color\n      '&-inverse': {\n        color: token.colorTextLightSolid,\n        background: darkColor,\n        borderColor: darkColor\n      },\n      [`&${token.componentCls}-borderless`]: {\n        borderColor: 'transparent'\n      }\n    }\n  };\n});\n// ============================== Export ==============================\nexport default genSubStyleComponent(['Tag', 'preset'], token => {\n  const tagToken = prepareToken(token);\n  return genPresetStyle(tagToken);\n}, prepareComponentToken);","import { prepareComponentToken, prepareToken } from '.';\nimport capitalize from '../../_util/capitalize';\nimport { genSubStyleComponent } from '../../theme/internal';\nconst genTagStatusStyle = (token, status, cssVariableType) => {\n  const capitalizedCssVariableType = capitalize(cssVariableType);\n  return {\n    [`${token.componentCls}${token.componentCls}-${status}`]: {\n      color: token[`color${cssVariableType}`],\n      background: token[`color${capitalizedCssVariableType}Bg`],\n      borderColor: token[`color${capitalizedCssVariableType}Border`],\n      [`&${token.componentCls}-borderless`]: {\n        borderColor: 'transparent'\n      }\n    }\n  };\n};\n// ============================== Export ==============================\nexport default genSubStyleComponent(['Tag', 'status'], token => {\n  const tagToken = prepareToken(token);\n  return [genTagStatusStyle(tagToken, 'success', 'Success'), genTagStatusStyle(tagToken, 'processing', 'Info'), genTagStatusStyle(tagToken, 'error', 'Error'), genTagStatusStyle(tagToken, 'warning', 'Warning')];\n}, prepareComponentToken);","export default function capitalize(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n  const ret = str.charAt(0).toUpperCase() + str.slice(1);\n  return ret;\n}","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport { isPresetColor, isPresetStatusColor } from '../_util/colors';\nimport useClosable, { pickClosable } from '../_util/hooks/useClosable';\nimport { replaceElement } from '../_util/reactNode';\nimport { devUseWarning } from '../_util/warning';\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport CheckableTag from './CheckableTag';\nimport useStyle from './style';\nimport PresetCmp from './style/presetCmp';\nimport StatusCmp from './style/statusCmp';\nconst InternalTag = /*#__PURE__*/React.forwardRef((tagProps, ref) => {\n  const {\n      prefixCls: customizePrefixCls,\n      className,\n      rootClassName,\n      style,\n      children,\n      icon,\n      color,\n      onClose,\n      bordered = true,\n      visible: deprecatedVisible\n    } = tagProps,\n    props = __rest(tagProps, [\"prefixCls\", \"className\", \"rootClassName\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"bordered\", \"visible\"]);\n  const {\n    getPrefixCls,\n    direction,\n    tag: tagContext\n  } = React.useContext(ConfigContext);\n  const [visible, setVisible] = React.useState(true);\n  const domProps = omit(props, ['closeIcon', 'closable']);\n  // Warning for deprecated usage\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Tag');\n    warning.deprecated(!('visible' in tagProps), 'visible', 'visible && <Tag />');\n  }\n  React.useEffect(() => {\n    if (deprecatedVisible !== undefined) {\n      setVisible(deprecatedVisible);\n    }\n  }, [deprecatedVisible]);\n  const isPreset = isPresetColor(color);\n  const isStatus = isPresetStatusColor(color);\n  const isInternalColor = isPreset || isStatus;\n  const tagStyle = Object.assign(Object.assign({\n    backgroundColor: color && !isInternalColor ? color : undefined\n  }, tagContext === null || tagContext === void 0 ? void 0 : tagContext.style), style);\n  const prefixCls = getPrefixCls('tag', customizePrefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  // Style\n  const tagClassName = classNames(prefixCls, tagContext === null || tagContext === void 0 ? void 0 : tagContext.className, {\n    [`${prefixCls}-${color}`]: isInternalColor,\n    [`${prefixCls}-has-color`]: color && !isInternalColor,\n    [`${prefixCls}-hidden`]: !visible,\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-borderless`]: !bordered\n  }, className, rootClassName, hashId, cssVarCls);\n  const handleCloseClick = e => {\n    e.stopPropagation();\n    onClose === null || onClose === void 0 ? void 0 : onClose(e);\n    if (e.defaultPrevented) {\n      return;\n    }\n    setVisible(false);\n  };\n  const [, mergedCloseIcon] = useClosable(pickClosable(tagProps), pickClosable(tagContext), {\n    closable: false,\n    closeIconRender: iconNode => {\n      const replacement = /*#__PURE__*/React.createElement(\"span\", {\n        className: `${prefixCls}-close-icon`,\n        onClick: handleCloseClick\n      }, iconNode);\n      return replaceElement(iconNode, replacement, originProps => ({\n        onClick: e => {\n          var _a;\n          (_a = originProps === null || originProps === void 0 ? void 0 : originProps.onClick) === null || _a === void 0 ? void 0 : _a.call(originProps, e);\n          handleCloseClick(e);\n        },\n        className: classNames(originProps === null || originProps === void 0 ? void 0 : originProps.className, `${prefixCls}-close-icon`)\n      }));\n    }\n  });\n  const isNeedWave = typeof props.onClick === 'function' || children && children.type === 'a';\n  const iconNode = icon || null;\n  const kids = iconNode ? ( /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, children && /*#__PURE__*/React.createElement(\"span\", null, children))) : children;\n  const tagNode = /*#__PURE__*/React.createElement(\"span\", Object.assign({}, domProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, mergedCloseIcon, isPreset && /*#__PURE__*/React.createElement(PresetCmp, {\n    key: \"preset\",\n    prefixCls: prefixCls\n  }), isStatus && /*#__PURE__*/React.createElement(StatusCmp, {\n    key: \"status\",\n    prefixCls: prefixCls\n  }));\n  return wrapCSSVar(isNeedWave ? /*#__PURE__*/React.createElement(Wave, {\n    component: \"Tag\"\n  }, tagNode) : tagNode);\n});\nconst Tag = InternalTag;\nif (process.env.NODE_ENV !== 'production') {\n  Tag.displayName = 'Tag';\n}\nTag.CheckableTag = CheckableTag;\nexport default Tag;","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","/*!\n * Vditor v3.10.5 - A markdown editor written in TypeScript.\n *\n * MIT License\n *\n * Copyright (c) 2018-present B3log 开源, b3log.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vditor\"] = factory();\n\telse\n\t\troot[\"Vditor\"] = factory();\n})(this, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 85:\n/***/ ((module) => {\n\n/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function () {\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n//  DIFF FUNCTIONS\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function (op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function (text1, text2, opt_checklines, opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = new Date().getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function (text1, text2, checklines, deadline) {\n  var diffs;\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)), new diff_match_patch.Diff(DIFF_EQUAL, shorttext), new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);\n  }\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function (text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff = this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop(); // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function (text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = delta % 2 != 0;\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if (new Date().getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function (text1, text2, x, y, deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n  return diffs.concat(diffsb);\n};\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function (text1, text2) {\n  var lineArray = []; // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {}; // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {\n    chars1: chars1,\n    chars2: chars2,\n    lineArray: lineArray\n  };\n};\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function (diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function (text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function (text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function (diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--; // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--; // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function (diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop(); // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function (diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {\n      // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function (diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0]; // Operation (insert, delete, equal)\n    var data = diffs[x][1]; // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;').replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function (diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function (text1, delta) {\n  var diffs = [];\n  var diffsLength = 0; // Keeping our own length var is faster in JS.\n  var pointer = 0; // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n      // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' + tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer + ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n//  MATCH FUNCTIONS\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function (text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function (text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + proximity / dmp.Match_Distance;\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << pattern.length - 1;\n  best_loc = -1;\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((last_rd[j + 1] | last_rd[j]) << 1 | 1) | last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function (pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n  return s;\n};\n\n//  PATCH FUNCTIONS\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function (patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1, patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function (a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' && typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */a;\n    diffs = this.diff_main(text1, /** @type {string} */opt_b, true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' && typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */a;\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' && typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */a;\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */opt_b;\n  } else if (typeof a == 'string' && typeof opt_b == 'string' && opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */a;\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */opt_c;\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n  if (diffs.length === 0) {\n    return []; // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0; // Keeping our own length var is faster in JS.\n  var char_count1 = 0; // Number of characters into the text1 string.\n  var char_count2 = 0; // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n  return patches;\n};\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function (patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] = new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function (patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) + this.diff_text2(patches[x].diffs) + text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function (patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength; // Should be 0.\n    patch.start2 -= paddingLength; // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n  return nullPadding;\n};\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function (patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 && patch.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0, patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext = precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function (patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function (textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function () {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function () {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = this.start1 + 1 + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = this.start2 + 1 + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports.diff_match_patch = diff_match_patch;\nmodule.exports.DIFF_DELETE = DIFF_DELETE;\nmodule.exports.DIFF_INSERT = DIFF_INSERT;\nmodule.exports.DIFF_EQUAL = DIFF_EQUAL;\n\n/***/ }),\n\n/***/ 664:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ method)\n});\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(386);\n// EXTERNAL MODULE: ./src/ts/markdown/adapterRender.ts\nvar adapterRender = __webpack_require__(781);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(379);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(895);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(169);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(572);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(702);\n;// CONCATENATED MODULE: ./src/ts/markdown/lazyLoadImageRender.ts\nvar lazyLoadImageRender = function (element) {\n    if (element === void 0) { element = document; }\n    var loadImg = function (it) {\n        var testImage = document.createElement(\"img\");\n        testImage.src = it.getAttribute(\"data-src\");\n        testImage.addEventListener(\"load\", function () {\n            if (!it.getAttribute(\"style\") && !it.getAttribute(\"class\") &&\n                !it.getAttribute(\"width\") && !it.getAttribute(\"height\")) {\n                if (testImage.naturalHeight > testImage.naturalWidth &&\n                    testImage.naturalWidth / testImage.naturalHeight <\n                        document.querySelector(\".vditor-reset\").clientWidth / (window.innerHeight - 40) &&\n                    testImage.naturalHeight > (window.innerHeight - 40)) {\n                    it.style.height = (window.innerHeight - 40) + \"px\";\n                }\n            }\n            it.src = testImage.src;\n        });\n        it.removeAttribute(\"data-src\");\n    };\n    if (!(\"IntersectionObserver\" in window)) {\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            if (imgElement.getAttribute(\"data-src\")) {\n                loadImg(imgElement);\n            }\n        });\n        return false;\n    }\n    if (window.vditorImageIntersectionObserver) {\n        window.vditorImageIntersectionObserver.disconnect();\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n    else {\n        window.vditorImageIntersectionObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entrie) {\n                if ((typeof entrie.isIntersecting === \"undefined\"\n                    ? entrie.intersectionRatio !== 0\n                    : entrie.isIntersecting)\n                    && entrie.target.getAttribute(\"data-src\")) {\n                    loadImg(entrie.target);\n                }\n            });\n        });\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(982);\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(431);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(570);\n// EXTERNAL MODULE: ./src/ts/markdown/markmapRender.ts\nvar markmapRender = __webpack_require__(593);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(558);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(182);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(931);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(793);\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(652);\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(998);\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(118);\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(2);\n;// CONCATENATED MODULE: ./src/ts/markdown/anchorRender.ts\nvar anchorRender = function (type) {\n    document.querySelectorAll(\".vditor-anchor\").forEach(function (anchor) {\n        if (type === 1) {\n            anchor.classList.add(\"vditor-anchor--left\");\n        }\n        anchor.onclick = function () {\n            var id = anchor.getAttribute(\"href\").substr(1);\n            var top = document.getElementById(\"vditorAnchor-\" + id).offsetTop;\n            document.querySelector(\"html\").scrollTop = top;\n        };\n    });\n    window.onhashchange = function () {\n        var element = document.getElementById(\"vditorAnchor-\" + decodeURIComponent(window.location.hash.substr(1)));\n        if (element) {\n            document.querySelector(\"html\").scrollTop = element.offsetTop;\n        }\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(65);\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(307);\n;// CONCATENATED MODULE: ./src/ts/markdown/speechRender.ts\n\nvar speechRender = function (element, lang) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (typeof speechSynthesis === \"undefined\" || typeof SpeechSynthesisUtterance === \"undefined\") {\n        return;\n    }\n    var getVoice = function () {\n        var voices = speechSynthesis.getVoices();\n        var currentVoice;\n        var defaultVoice;\n        voices.forEach(function (item) {\n            if (item.lang === lang.replace(\"_\", \"-\")) {\n                currentVoice = item;\n            }\n            if (item.default) {\n                defaultVoice = item;\n            }\n        });\n        if (!currentVoice) {\n            currentVoice = defaultVoice;\n        }\n        return currentVoice;\n    };\n    var playSVG = '<svg><use xlink:href=\"#vditor-icon-play\"></use></svg>';\n    var pauseSVG = '<svg><use xlink:href=\"#vditor-icon-pause\"></use></svg>';\n    if (!document.getElementById(\"vditorIconScript\")) {\n        playSVG = '<svg viewBox=\"0 0 32 32\"><path d=\"M3.436 0l25.128 16-25.128 16v-32z\"></path></svg>';\n        pauseSVG = '<svg viewBox=\"0 0 32 32\"><path d=\"M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z\"></path></svg>';\n    }\n    var speechDom = document.querySelector(\".vditor-speech\");\n    if (!speechDom) {\n        speechDom = document.createElement(\"button\");\n        speechDom.className = \"vditor-speech\";\n        element.insertAdjacentElement(\"beforeend\", speechDom);\n        if (speechSynthesis.onvoiceschanged !== undefined) {\n            speechSynthesis.onvoiceschanged = getVoice;\n        }\n    }\n    var voice = getVoice();\n    var utterThis = new SpeechSynthesisUtterance();\n    utterThis.voice = voice;\n    utterThis.onend = utterThis.onerror = function () {\n        speechDom.style.display = \"none\";\n        speechSynthesis.cancel();\n        speechDom.classList.remove(\"vditor-speech--current\");\n        speechDom.innerHTML = playSVG;\n    };\n    element.addEventListener(window.ontouchstart !== undefined ? \"touchend\" : \"click\", function (event) {\n        var target = event.target;\n        if (target.classList.contains(\"vditor-speech\") || target.parentElement.classList.contains(\"vditor-speech\")) {\n            if (!speechDom.classList.contains(\"vditor-speech--current\")) {\n                utterThis.text = speechDom.getAttribute(\"data-text\");\n                speechSynthesis.speak(utterThis);\n                speechDom.classList.add(\"vditor-speech--current\");\n                speechDom.innerHTML = pauseSVG;\n            }\n            else {\n                if (speechSynthesis.speaking) {\n                    if (speechSynthesis.paused) {\n                        speechSynthesis.resume();\n                        speechDom.innerHTML = pauseSVG;\n                    }\n                    else {\n                        speechSynthesis.pause();\n                        speechDom.innerHTML = playSVG;\n                    }\n                }\n            }\n            (0,selection/* setSelectionFocus */.Hc)(window.vditorSpeechRange);\n            element.focus();\n            return;\n        }\n        speechDom.style.display = \"none\";\n        speechSynthesis.cancel();\n        speechDom.classList.remove(\"vditor-speech--current\");\n        speechDom.innerHTML = playSVG;\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        var range = getSelection().getRangeAt(0);\n        var text = range.toString().trim();\n        if (!text) {\n            return;\n        }\n        window.vditorSpeechRange = range.cloneRange();\n        var rect = range.getBoundingClientRect();\n        speechDom.innerHTML = playSVG;\n        speechDom.style.display = \"block\";\n        speechDom.style.top = (rect.top + rect.height + document.querySelector(\"html\").scrollTop - 20) + \"px\";\n        if (window.ontouchstart !== undefined) {\n            speechDom.style.left = (event.changedTouches[event.changedTouches.length - 1].pageX + 2) + \"px\";\n        }\n        else {\n            speechDom.style.left = (event.clientX + 2) + \"px\";\n        }\n        speechDom.setAttribute(\"data-text\", text);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/markdown/previewRender.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mergeOptions = function (options) {\n    var _a;\n    var defaultOption = {\n        anchor: 0,\n        cdn: constants/* Constants.CDN */.g.CDN,\n        customEmoji: {},\n        emojiPath: \"\".concat(constants/* Constants.CDN */.g.CDN, \"/dist/images/emoji\"),\n        hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n        icon: \"ant\",\n        lang: \"zh_CN\",\n        markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n        math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n        mode: \"light\",\n        speech: {\n            enable: false,\n        },\n        render: {\n            media: {\n                enable: true,\n            }\n        },\n        theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n    };\n    if (options.cdn) {\n        if (!((_a = options.theme) === null || _a === void 0 ? void 0 : _a.path)) {\n            defaultOption.theme.path = \"\".concat(options.cdn, \"/dist/css/content-theme\");\n        }\n        if (!options.emojiPath) {\n            defaultOption.emojiPath = \"\".concat(options.cdn, \"/dist/images/emoji\");\n        }\n    }\n    return (0,merge/* merge */.T)(defaultOption, options);\n};\nvar md2html = function (mdText, options) {\n    var mergedOptions = mergeOptions(options);\n    return (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/lute/lute.min.js\"), \"vditorLuteScript\").then(function () {\n        var lute = (0,setLute/* setLute */.X)({\n            autoSpace: mergedOptions.markdown.autoSpace,\n            gfmAutoLink: mergedOptions.markdown.gfmAutoLink,\n            codeBlockPreview: mergedOptions.markdown.codeBlockPreview,\n            emojiSite: mergedOptions.emojiPath,\n            emojis: mergedOptions.customEmoji,\n            fixTermTypo: mergedOptions.markdown.fixTermTypo,\n            footnotes: mergedOptions.markdown.footnotes,\n            headingAnchor: mergedOptions.anchor !== 0,\n            inlineMathDigit: mergedOptions.math.inlineDigit,\n            lazyLoadImage: mergedOptions.lazyLoadImage,\n            linkBase: mergedOptions.markdown.linkBase,\n            linkPrefix: mergedOptions.markdown.linkPrefix,\n            listStyle: mergedOptions.markdown.listStyle,\n            mark: mergedOptions.markdown.mark,\n            mathBlockPreview: mergedOptions.markdown.mathBlockPreview,\n            paragraphBeginningSpace: mergedOptions.markdown.paragraphBeginningSpace,\n            sanitize: mergedOptions.markdown.sanitize,\n            toc: mergedOptions.markdown.toc,\n        });\n        if (options === null || options === void 0 ? void 0 : options.renderers) {\n            lute.SetJSRenderers({\n                renderers: {\n                    Md2HTML: options.renderers,\n                },\n            });\n        }\n        lute.SetHeadingID(true);\n        return lute.Md2HTML(mdText);\n    });\n};\nvar previewRender = function (previewElement, markdown, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var mergedOptions, html, i18nScriptPrefix, i18nScriptID_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                mergedOptions = mergeOptions(options);\n                return [4 /*yield*/, md2html(markdown, mergedOptions)];\n            case 1:\n                html = _a.sent();\n                if (mergedOptions.transform) {\n                    html = mergedOptions.transform(html);\n                }\n                previewElement.innerHTML = html;\n                previewElement.classList.add(\"vditor-reset\");\n                if (!!mergedOptions.i18n) return [3 /*break*/, 5];\n                if (!![\"en_US\", \"fr_FR\", \"pt_BR\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"sv_SE\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) return [3 /*break*/, 2];\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            case 2:\n                i18nScriptPrefix = \"vditorI18nScript\";\n                i18nScriptID_1 = i18nScriptPrefix + mergedOptions.lang;\n                document.querySelectorAll(\"head script[id^=\\\"\".concat(i18nScriptPrefix, \"\\\"]\")).forEach(function (el) {\n                    if (el.id !== i18nScriptID_1) {\n                        document.head.removeChild(el);\n                    }\n                });\n                return [4 /*yield*/, (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js\"), i18nScriptID_1)];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [3 /*break*/, 6];\n            case 5:\n                window.VditorI18n = mergedOptions.i18n;\n                _a.label = 6;\n            case 6:\n                if (!mergedOptions.icon) return [3 /*break*/, 8];\n                return [4 /*yield*/, (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/icons/\").concat(mergedOptions.icon, \".js\"), \"vditorIconScript\")];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8:\n                (0,setContentTheme/* setContentTheme */.Z)(mergedOptions.theme.current, mergedOptions.theme.path);\n                if (mergedOptions.anchor === 1) {\n                    previewElement.classList.add(\"vditor-reset--anchor\");\n                }\n                (0,codeRender/* codeRender */.O)(previewElement, mergedOptions.hljs);\n                (0,highlightRender/* highlightRender */.s)(mergedOptions.hljs, previewElement, mergedOptions.cdn);\n                (0,mathRender/* mathRender */.H)(previewElement, {\n                    cdn: mergedOptions.cdn,\n                    math: mergedOptions.math,\n                });\n                (0,mermaidRender/* mermaidRender */.i)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,markmapRender/* markmapRender */.K)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,flowchartRender/* flowchartRender */.P)(previewElement, mergedOptions.cdn);\n                (0,graphvizRender/* graphvizRender */.v)(previewElement, mergedOptions.cdn);\n                (0,chartRender/* chartRender */.p)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,mindmapRender/* mindmapRender */.P)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,plantumlRender/* plantumlRender */.B)(previewElement, mergedOptions.cdn);\n                (0,abcRender/* abcRender */.Q)(previewElement, mergedOptions.cdn);\n                if (mergedOptions.render.media.enable) {\n                    (0,mediaRender/* mediaRender */.Y)(previewElement);\n                }\n                if (mergedOptions.speech.enable) {\n                    speechRender(previewElement);\n                }\n                if (mergedOptions.anchor !== 0) {\n                    anchorRender(mergedOptions.anchor);\n                }\n                if (mergedOptions.after) {\n                    mergedOptions.after();\n                }\n                if (mergedOptions.lazyLoadImage) {\n                    lazyLoadImageRender(previewElement);\n                }\n                previewElement.addEventListener(\"click\", function (event) {\n                    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n                    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                        var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                        if (headingElement) {\n                            window.scrollTo(window.scrollX, headingElement.offsetTop);\n                        }\n                        return;\n                    }\n                });\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(971);\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(34);\n;// CONCATENATED MODULE: ./src/method.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function () {\n    function Vditor() {\n    }\n    /** 点击图片放大 */\n    Vditor.adapterRender = adapterRender;\n    /** 点击图片放大 */\n    Vditor.previewImage = preview_image/* previewImage */.E;\n    /** 为 element 中的代码块添加复制按钮 */\n    Vditor.codeRender = codeRender/* codeRender */.O;\n    /** 对 graphviz 进行渲染 */\n    Vditor.graphvizRender = graphvizRender/* graphvizRender */.v;\n    /** 为 element 中的代码块进行高亮渲染 */\n    Vditor.highlightRender = highlightRender/* highlightRender */.s;\n    /** 对数学公式进行渲染 */\n    Vditor.mathRender = mathRender/* mathRender */.H;\n    /** 流程图/时序图/甘特图渲染 */\n    Vditor.mermaidRender = mermaidRender/* mermaidRender */.i;\n    /** 支持markdown的思维导图 */\n    Vditor.markmapRender = markmapRender/* markmapRender */.K;\n    /** flowchart.js 渲染 */\n    Vditor.flowchartRender = flowchartRender/* flowchartRender */.P;\n    /** 图表渲染 */\n    Vditor.chartRender = chartRender/* chartRender */.p;\n    /** 五线谱渲染 */\n    Vditor.abcRender = abcRender/* abcRender */.Q;\n    /** 脑图渲染 */\n    Vditor.mindmapRender = mindmapRender/* mindmapRender */.P;\n    /** plantuml渲染 */\n    Vditor.plantumlRender = plantumlRender/* plantumlRender */.B;\n    /** 大纲渲染 */\n    Vditor.outlineRender = outlineRender/* outlineRender */.k;\n    /** 为[特定链接](https://github.com/Vanessa219/vditor/issues/7)分别渲染为视频、音频、嵌入的 iframe */\n    Vditor.mediaRender = mediaRender/* mediaRender */.Y;\n    /** 对选中的文字进行阅读 */\n    Vditor.speechRender = speechRender;\n    /** 对图片进行懒加载 */\n    Vditor.lazyLoadImageRender = lazyLoadImageRender;\n    /** Markdown 文本转换为 HTML，该方法需使用[异步编程](https://ld246.com/article/1546828434083?r=Vaness) */\n    Vditor.md2html = md2html;\n    /** 页面 Markdown 文章渲染 */\n    Vditor.preview = previewRender;\n    /** 设置代码主题 */\n    Vditor.setCodeTheme = setCodeTheme/* setCodeTheme */.Y;\n    /** 设置内容主题 */\n    Vditor.setContentTheme = setContentTheme/* setContentTheme */.Z;\n    return Vditor;\n}());\n/* harmony default export */ const method = (Vditor);\n\n\n/***/ }),\n\n/***/ 793:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ _VDITOR_VERSION),\n/* harmony export */   \"g\": () => (/* binding */ Constants)\n/* harmony export */ });\nvar _VDITOR_VERSION = \"3.10.5\";\n\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.ZWSP = \"\\u200b\";\n    Constants.DROP_EDITOR = \"application/editor\";\n    Constants.MOBILE_WIDTH = 520;\n    Constants.CLASS_MENU_DISABLED = \"vditor-menu--disabled\";\n    Constants.EDIT_TOOLBARS = [\"emoji\", \"headings\", \"bold\", \"italic\", \"strike\", \"link\", \"list\",\n        \"ordered-list\", \"outdent\", \"indent\", \"check\", \"line\", \"quote\", \"code\", \"inline-code\", \"insert-after\",\n        \"insert-before\", \"upload\", \"record\", \"table\"];\n    Constants.CODE_THEME = [\"abap\", \"algol\", \"algol_nu\", \"arduino\", \"autumn\", \"borland\", \"bw\",\n        \"colorful\", \"dracula\", \"emacs\", \"friendly\", \"fruity\", \"github\", \"igor\", \"lovelace\", \"manni\", \"monokai\",\n        \"monokailight\", \"murphy\", \"native\", \"paraiso-dark\", \"paraiso-light\", \"pastie\", \"perldoc\", \"pygments\",\n        \"rainbow_dash\", \"rrt\", \"solarized-dark\", \"solarized-dark256\", \"solarized-light\", \"swapoff\", \"tango\", \"trac\",\n        \"vim\", \"vs\", \"xcode\", \"ant-design\"];\n    Constants.CODE_LANGUAGES = [\"mermaid\", \"echarts\", \"mindmap\", \"plantuml\", \"abc\", \"graphviz\", \"flowchart\", \"apache\",\n        \"js\", \"ts\", \"html\", \"markmap\",\n        // common\n        \"properties\", \"apache\", \"bash\", \"c\", \"csharp\", \"cpp\", \"css\", \"coffeescript\", \"diff\", \"go\", \"xml\", \"http\",\n        \"json\", \"java\", \"javascript\", \"kotlin\", \"less\", \"lua\", \"makefile\", \"markdown\", \"nginx\", \"objectivec\", \"php\",\n        \"php-template\", \"perl\", \"plaintext\", \"python\", \"python-repl\", \"r\", \"ruby\", \"rust\", \"scss\", \"sql\", \"shell\",\n        \"swift\", \"ini\", \"typescript\", \"vbnet\", \"yaml\",\n        \"ada\", \"clojure\", \"dart\", \"erb\", \"fortran\", \"gradle\", \"haskell\", \"julia\", \"julia-repl\", \"lisp\", \"matlab\",\n        \"pgsql\", \"powershell\", \"sql_more\", \"stata\", \"cmake\", \"mathematica\",\n        // ext\n        \"solidity\", \"yul\"\n    ];\n    Constants.CDN = \"https://unpkg.com/vditor@\".concat(\"3.10.5\");\n    Constants.MARKDOWN_OPTIONS = {\n        autoSpace: false,\n        gfmAutoLink: true,\n        codeBlockPreview: true,\n        fixTermTypo: false,\n        footnotes: true,\n        linkBase: \"\",\n        linkPrefix: \"\",\n        listStyle: false,\n        mark: false,\n        mathBlockPreview: true,\n        paragraphBeginningSpace: false,\n        sanitize: true,\n        toc: false,\n    };\n    Constants.HLJS_OPTIONS = {\n        enable: true,\n        lineNumber: false,\n        defaultLang: \"\",\n        style: \"github\",\n    };\n    Constants.MATH_OPTIONS = {\n        engine: \"KaTeX\",\n        inlineDigit: false,\n        macros: {},\n    };\n    Constants.THEME_OPTIONS = {\n        current: \"light\",\n        list: {\n            \"ant-design\": \"Ant Design\",\n            \"dark\": \"Dark\",\n            \"light\": \"Light\",\n            \"wechat\": \"WeChat\",\n        },\n        path: \"\".concat(Constants.CDN, \"/dist/css/content-theme\"),\n    };\n    return Constants;\n}());\n\n\n\n/***/ }),\n\n/***/ 386:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Q\": () => (/* binding */ abcRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar abcRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var abcElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getElements(element);\n    if (abcElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/abcjs/abcjs_basic.min.js\"), \"vditorAbcjsScript\").then(function () {\n            abcElements.forEach(function (item) {\n                if (item.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    item.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (item.getAttribute(\"data-processed\") === \"true\") {\n                    return;\n                }\n                ABCJS.renderAbc(item, _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getCode(item).trim());\n                item.style.overflowX = \"auto\";\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 781:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"abcRenderAdapter\": () => (/* binding */ abcRenderAdapter),\n/* harmony export */   \"chartRenderAdapter\": () => (/* binding */ chartRenderAdapter),\n/* harmony export */   \"flowchartRenderAdapter\": () => (/* binding */ flowchartRenderAdapter),\n/* harmony export */   \"graphvizRenderAdapter\": () => (/* binding */ graphvizRenderAdapter),\n/* harmony export */   \"markmapRenderAdapter\": () => (/* binding */ markmapRenderAdapter),\n/* harmony export */   \"mathRenderAdapter\": () => (/* binding */ mathRenderAdapter),\n/* harmony export */   \"mermaidRenderAdapter\": () => (/* binding */ mermaidRenderAdapter),\n/* harmony export */   \"mindmapRenderAdapter\": () => (/* binding */ mindmapRenderAdapter),\n/* harmony export */   \"plantumlRenderAdapter\": () => (/* binding */ plantumlRenderAdapter)\n/* harmony export */ });\nvar mathRenderAdapter = {\n    getCode: function (mathElement) { return mathElement.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-math\"); },\n};\nvar mermaidRenderAdapter = {\n    /** 不仅要返回code，并且需要将 code 设置为 el 的 innerHTML */\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-mermaid\"); },\n};\nvar markmapRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-markmap\"); },\n};\nvar mindmapRenderAdapter = {\n    getCode: function (el) { return el.getAttribute(\"data-code\"); },\n    getElements: function (el) { return el.querySelectorAll(\".language-mindmap\"); },\n};\nvar chartRenderAdapter = {\n    getCode: function (el) { return el.innerText; },\n    getElements: function (el) { return el.querySelectorAll(\".language-echarts\"); },\n};\nvar abcRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-abc\"); },\n};\nvar graphvizRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-graphviz\"); },\n};\nvar flowchartRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-flowchart\"); },\n};\nvar plantumlRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-plantuml\"); },\n};\n\n\n/***/ }),\n\n/***/ 379:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"p\": () => (/* binding */ chartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar chartRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var echartsElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getElements(element);\n    if (echartsElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/echarts/echarts.min.js\"), \"vditorEchartsScript\").then(function () {\n            echartsElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getCode(e).trim();\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    var option = JSON.parse(text);\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption(option);\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"echarts render error: <br>\".concat(error);\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 895:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"O\": () => (/* binding */ codeRender)\n/* harmony export */ });\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(528);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n\n\nvar codeRender = function (element, option) {\n    Array.from(element.querySelectorAll(\"pre > code\")).filter(function (e, index) {\n        if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n            e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n            return false;\n        }\n        if (e.classList.contains(\"language-mermaid\") || e.classList.contains(\"language-flowchart\") ||\n            e.classList.contains(\"language-echarts\") || e.classList.contains(\"language-mindmap\") ||\n            e.classList.contains(\"language-plantuml\") || e.classList.contains(\"language-markmap\") ||\n            e.classList.contains(\"language-abc\") || e.classList.contains(\"language-graphviz\") ||\n            e.classList.contains(\"language-math\")) {\n            return false;\n        }\n        if (e.style.maxHeight.indexOf(\"px\") > -1) {\n            return false;\n        }\n        // 避免预览区在渲染后由于代码块过多产生性能问题 https://github.com/b3log/vditor/issues/67\n        if (element.classList.contains(\"vditor-preview\") && index > 5) {\n            return false;\n        }\n        return true;\n    }).forEach(function (e) {\n        var _a, _b, _c;\n        var codeText = e.innerText;\n        if (e.classList.contains(\"highlight-chroma\")) {\n            var codeElement = e.cloneNode(true);\n            codeElement.querySelectorAll(\".highlight-ln\").forEach(function (item) {\n                item.remove();\n            });\n            codeText = codeElement.innerText;\n        }\n        else if (codeText.endsWith(\"\\n\")) {\n            codeText = codeText.substr(0, codeText.length - 1);\n        }\n        var iconHTML = '<svg><use xlink:href=\"#vditor-icon-copy\"></use></svg>';\n        if (!document.getElementById(\"vditorIconScript\")) {\n            iconHTML = '<svg viewBox=\"0 0 32 32\"><path d=\"M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z\"></path></svg>';\n        }\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-copy\";\n        divElement.innerHTML = \"<span aria-label=\\\"\".concat(((_a = window.VditorI18n) === null || _a === void 0 ? void 0 : _a.copy) || \"复制\", \"\\\"\\nonmouseover=\\\"this.setAttribute('aria-label', '\").concat(((_b = window.VditorI18n) === null || _b === void 0 ? void 0 : _b.copy) || \"复制\", \"')\\\"\\nclass=\\\"vditor-tooltipped vditor-tooltipped__w\\\"\\nonclick=\\\"this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '\").concat(((_c = window.VditorI18n) === null || _c === void 0 ? void 0 : _c.copied) || \"已复制\", \"');this.previousElementSibling.blur()\\\">\").concat(iconHTML, \"</span>\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_1__/* .code160to32 */ .X)(codeText);\n        divElement.insertAdjacentElement(\"afterbegin\", textarea);\n        if (option && option.renderMenu) {\n            option.renderMenu(e, divElement);\n        }\n        e.before(divElement);\n        e.style.maxHeight = (window.outerHeight - 40) + \"px\";\n        // https://github.com/Vanessa219/vditor/issues/1356\n        e.insertAdjacentHTML(\"afterend\", \"<span style=\\\"position: absolute\\\">\".concat(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP, \"</span>\"));\n    });\n};\n\n\n/***/ }),\n\n/***/ 169:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ flowchartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar flowchartRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var flowchartElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getElements(element);\n    if (flowchartElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/flowchart.js/flowchart.min.js\"), \"vditorFlowchartScript\").then(function () {\n        flowchartElements.forEach(function (item) {\n            if (item.getAttribute(\"data-processed\") === \"true\") {\n                return;\n            }\n            var flowchartObj = flowchart.parse(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getCode(item));\n            item.innerHTML = \"\";\n            flowchartObj.drawSVG(item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 572:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v\": () => (/* binding */ graphvizRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar graphvizRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var graphvizElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getElements(element);\n    if (graphvizElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/graphviz/viz.js\"), \"vditorGraphVizScript\").then(function () {\n        graphvizElements.forEach(function (e) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getCode(e);\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            if (e.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            try {\n                var blob = new Blob([\"importScripts('\".concat(document.getElementById(\"vditorGraphVizScript\").src.replace(\"viz.js\", \"full.render.js\"), \"');\")], { type: \"application/javascript\" });\n                var url = window.URL || window.webkitURL;\n                var blobUrl = url.createObjectURL(blob);\n                var worker = new Worker(blobUrl);\n                new Viz({ worker: worker })\n                    .renderSVGElement(code).then(function (result) {\n                    e.innerHTML = result.outerHTML;\n                }).catch(function (error) {\n                    e.innerHTML = \"graphviz render error: <br>\".concat(error);\n                    e.className = \"vditor-reset--error\";\n                });\n            }\n            catch (e) {\n                console.error(\"graphviz error\", e);\n            }\n            e.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 702:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"s\": () => (/* binding */ highlightRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(296);\n\n\n\nvar highlightRender = function (hljsOption, element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var style = hljsOption.style;\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(style)) {\n        style = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = \"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(style, \".css\");\n    if (vditorHljsStyle && vditorHljsStyle.getAttribute('href') !== href) {\n        vditorHljsStyle.remove();\n    }\n    (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(\"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(style, \".css\"), \"vditorHljsStyle\");\n    if (hljsOption.enable === false) {\n        return;\n    }\n    var codes = element.querySelectorAll(\"pre > code\");\n    if (codes.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/highlight.pack.js\"), \"vditorHljsScript\").then(function () {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/solidity.min.js\"), \"vditorHljsSolidityScript\").then(function () {\n            (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/yul.min.js\"), \"vditorHljsYulScript\").then(function () {\n                element.querySelectorAll(\"pre > code\").forEach(function (block) {\n                    // ir & wysiwyg 区域不渲染\n                    if (block.parentElement.classList.contains(\"vditor-ir__marker--pre\") ||\n                        block.parentElement.classList.contains(\"vditor-wysiwyg__pre\")) {\n                        return;\n                    }\n                    if (block.classList.contains(\"language-mermaid\") || block.classList.contains(\"language-flowchart\") ||\n                        block.classList.contains(\"language-echarts\") || block.classList.contains(\"language-mindmap\") ||\n                        block.classList.contains(\"language-plantuml\") ||\n                        block.classList.contains(\"language-abc\") || block.classList.contains(\"language-graphviz\") ||\n                        block.classList.contains(\"language-math\")) {\n                        return;\n                    }\n                    if (hljsOption.defaultLang !== \"\" && block.className.indexOf(\"language-\") === -1) {\n                        block.classList.add(\"language-\" + hljsOption.defaultLang);\n                    }\n                    hljs.highlightElement(block);\n                    if (!hljsOption.lineNumber) {\n                        return;\n                    }\n                    block.classList.add(\"vditor-linenumber\");\n                    var linenNumberTemp = block.querySelector(\".vditor-linenumber__temp\");\n                    if (!linenNumberTemp) {\n                        linenNumberTemp = document.createElement(\"div\");\n                        linenNumberTemp.className = \"vditor-linenumber__temp\";\n                        block.insertAdjacentElement(\"beforeend\", linenNumberTemp);\n                    }\n                    var whiteSpace = getComputedStyle(block).whiteSpace;\n                    var isSoftWrap = false;\n                    if (whiteSpace === \"pre-wrap\" || whiteSpace === \"pre-line\") {\n                        isSoftWrap = true;\n                    }\n                    var lineNumberHTML = \"\";\n                    var lineList = block.textContent.split(/\\r\\n|\\r|\\n/g);\n                    lineList.pop();\n                    lineList.map(function (line) {\n                        var lineHeight = \"\";\n                        if (isSoftWrap) {\n                            linenNumberTemp.textContent = line || \"\\n\";\n                            lineHeight = \" style=\\\"height:\".concat(linenNumberTemp.getBoundingClientRect().height, \"px\\\"\");\n                        }\n                        lineNumberHTML += \"<span\".concat(lineHeight, \"></span>\");\n                    });\n                    linenNumberTemp.style.display = \"none\";\n                    lineNumberHTML = \"<span class=\\\"vditor-linenumber__rows\\\">\".concat(lineNumberHTML, \"</span>\");\n                    block.insertAdjacentHTML(\"beforeend\", lineNumberHTML);\n                });\n            });\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 593:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"K\": () => (/* binding */ markmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar enabled = {};\nvar transform = function (transformer, content) {\n    var result = transformer.transform(content);\n    var keys = Object.keys(result.features).filter(function (key) { return !enabled[key]; });\n    keys.forEach(function (key) {\n        enabled[key] = true;\n    });\n    var _a = transformer.getAssets(keys), styles = _a.styles, scripts = _a.scripts;\n    var markmap = window.markmap;\n    if (styles)\n        markmap.loadCSS(styles);\n    if (scripts)\n        markmap.loadJS(scripts);\n    return result;\n};\nvar init = function (el, code) {\n    var _a = window.markmap, Transformer = _a.Transformer, Markmap = _a.Markmap, deriveOptions = _a.deriveOptions, globalCSS = _a.globalCSS;\n    var transformer = new Transformer();\n    el.innerHTML = '<svg style=\"width:100%\"></svg>';\n    var svg = el.firstChild;\n    var mm = Markmap.create(svg, null);\n    var _b = transform(transformer, code), root = _b.root, frontmatter = _b.frontmatter;\n    var markmapOptions = frontmatter === null || frontmatter === void 0 ? void 0 : frontmatter.markmap;\n    var frontmatterOptions = deriveOptions(markmapOptions);\n    mm.setData(root, frontmatterOptions);\n    mm.fit();\n};\nvar markmapRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var markmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.markmapRenderAdapter.getElements(element);\n    if (markmapElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/markmap/markmap.min.js\"), \"vditorMermaidScript\").then(function () {\n        markmapElements.forEach(function (item) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.markmapRenderAdapter.getCode(item);\n            if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            var render = document.createElement(\"div\");\n            render.className = \"language-markmap\";\n            item.parentNode.appendChild(render);\n            init(render, code);\n            if (item.parentNode.childNodes[0].nodeName == \"CODE\") {\n                item.parentNode.removeChild(item.parentNode.childNodes[0]);\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 982:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ mathRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(998);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(296);\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(528);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\n\n\nvar mathRender = function (element, options) {\n    var mathElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getElements(element);\n    if (mathElements.length === 0) {\n        return;\n    }\n    var defaultOptions = {\n        cdn: _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN,\n        math: {\n            engine: \"KaTeX\",\n            inlineDigit: false,\n            macros: {},\n        },\n    };\n    if (options && options.math) {\n        options.math =\n            Object.assign({}, defaultOptions.math, options.math);\n    }\n    options = Object.assign({}, defaultOptions, options);\n    if (options.math.engine === \"KaTeX\") {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_2__/* .addStyle */ .c)(\"\".concat(options.cdn, \"/dist/js/katex/katex.min.css?v=0.16.9\"), \"vditorKatexStyle\");\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(\"\".concat(options.cdn, \"/dist/js/katex/katex.min.js?v=0.16.9\"), \"vditorKatexScript\").then(function () {\n            (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(\"\".concat(options.cdn, \"/dist/js/katex/mhchem.min.js?v=0.16.9\"), \"vditorKatexChemScript\").then(function () {\n                mathElements.forEach(function (mathElement) {\n                    if (mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                        mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                        return;\n                    }\n                    if (mathElement.getAttribute(\"data-math\")) {\n                        return;\n                    }\n                    var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getCode(mathElement));\n                    mathElement.setAttribute(\"data-math\", math);\n                    try {\n                        mathElement.innerHTML = katex.renderToString(math, {\n                            displayMode: mathElement.tagName === \"DIV\",\n                            output: \"html\",\n                            macros: options.math.macros,\n                        });\n                    }\n                    catch (e) {\n                        mathElement.innerHTML = e.message;\n                        mathElement.className = \"language-math vditor-reset--error\";\n                    }\n                    mathElement.addEventListener(\"copy\", function (event) {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        var vditorMathElement = event.currentTarget.closest(\".language-math\");\n                        event.clipboardData.setData(\"text/html\", vditorMathElement.innerHTML);\n                        event.clipboardData.setData(\"text/plain\", vditorMathElement.getAttribute(\"data-math\"));\n                    });\n                });\n            });\n        });\n    }\n    else if (options.math.engine === \"MathJax\") {\n        var chainAsync_1 = function (fns) {\n            if (fns.length === 0) {\n                return;\n            }\n            var curr = 0;\n            var last = fns[fns.length - 1];\n            var next = function () {\n                var fn = fns[curr++];\n                fn === last ? fn() : fn(next);\n            };\n            next();\n        };\n        if (!window.MathJax) {\n            window.MathJax = {\n                loader: {\n                    paths: { mathjax: \"\".concat(options.cdn, \"/dist/js/mathjax\") },\n                },\n                startup: {\n                    typeset: false,\n                },\n                tex: {\n                    macros: options.math.macros,\n                },\n            };\n            // https://github.com/Vanessa219/vditor/issues/1453\n            Object.assign(window.MathJax, options.math.mathJaxOptions);\n        }\n        // 循环加载会抛异常\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScriptSync */ .J)(\"\".concat(options.cdn, \"/dist/js/mathjax/tex-svg-full.js\"), \"protyleMathJaxScript\");\n        var renderMath_1 = function (mathElement, next) {\n            var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim();\n            var mathOptions = window.MathJax.getMetricsFor(mathElement);\n            mathOptions.display = mathElement.tagName === \"DIV\";\n            window.MathJax.tex2svgPromise(math, mathOptions).then(function (node) {\n                mathElement.innerHTML = \"\";\n                mathElement.setAttribute(\"data-math\", math);\n                mathElement.append(node);\n                window.MathJax.startup.document.clear();\n                window.MathJax.startup.document.updateDocument();\n                var errorTextElement = node.querySelector('[data-mml-node=\"merror\"]');\n                if (errorTextElement && errorTextElement.textContent.trim() !== \"\") {\n                    mathElement.innerHTML = errorTextElement.textContent.trim();\n                    mathElement.className = \"vditor-reset--error\";\n                }\n                if (next) {\n                    next();\n                }\n            });\n        };\n        window.MathJax.startup.promise.then(function () {\n            var chains = [];\n            var _loop_1 = function (i) {\n                var mathElement = mathElements[i];\n                if (!mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") &&\n                    !mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\") &&\n                    !mathElement.getAttribute(\"data-math\") && (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim()) {\n                    chains.push(function (next) {\n                        if (i === mathElements.length - 1) {\n                            renderMath_1(mathElement);\n                        }\n                        else {\n                            renderMath_1(mathElement, next);\n                        }\n                    });\n                }\n            };\n            for (var i = 0; i < mathElements.length; i++) {\n                _loop_1(i);\n            }\n            chainAsync_1(chains);\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 431:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ mediaRender)\n/* harmony export */ });\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(446);\n\nvar videoRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<video controls=\\\"controls\\\" src=\\\"\".concat(url, \"\\\"></video>\"));\n    element.remove();\n};\nvar audioRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<audio controls=\\\"controls\\\" src=\\\"\".concat(url, \"\\\"></audio>\"));\n    element.remove();\n};\nvar iframeRender = function (element, url) {\n    var youtubeMatch = url.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?/);\n    var youkuMatch = url.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/);\n    var qqMatch = url.match(/\\/\\/v\\.qq\\.com\\/x\\/cover\\/.*\\/([^\\/]+)\\.html\\??.*/);\n    var coubMatch = url.match(/(?:www\\.|\\/\\/)coub\\.com\\/view\\/(\\w+)/);\n    var facebookMatch = url.match(/(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/);\n    var dailymotionMatch = url.match(/.+dailymotion.com\\/(video|hub)\\/(\\w+)\\?/);\n    var bilibiliMatch = url.match(/(?:www\\.|\\/\\/)bilibili\\.com\\/video\\/(\\w+)/);\n    var tedMatch = url.match(/(?:www\\.|\\/\\/)ted\\.com\\/talks\\/(\\w+)/);\n    if (youtubeMatch && youtubeMatch[1].length === 11) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//www.youtube.com/embed/\".concat(youtubeMatch[1] +\n            (youtubeMatch[2] ? \"?start=\" + youtubeMatch[2] : \"\"), \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (youkuMatch && youkuMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//player.youku.com/embed/\".concat(youkuMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (qqMatch && qqMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"https://v.qq.com/txp/iframe/player.html?vid=\".concat(qqMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (coubMatch && coubMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//coub.com/embed/\".concat(coubMatch[1], \"?muted=false&autostart=false&originalSize=true&startWithHD=true\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (facebookMatch && facebookMatch[0]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.facebook.com/plugins/video.php?href=\".concat(encodeURIComponent(facebookMatch[0]), \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (dailymotionMatch && dailymotionMatch[2]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.dailymotion.com/embed/video/\".concat(dailymotionMatch[2], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (url.indexOf(\"bilibili.com\") > -1 && (url.indexOf(\"bvid=\") > -1 || (bilibiliMatch && bilibiliMatch[1]))) {\n        var params_1 = {\n            bvid: (0,_util_function__WEBPACK_IMPORTED_MODULE_0__/* .getSearch */ .o)(\"bvid\", url) || (bilibiliMatch && bilibiliMatch[1]),\n            page: \"1\",\n            high_quality: \"1\",\n            as_wide: \"1\",\n            allowfullscreen: \"true\",\n            autoplay: \"0\"\n        };\n        new URL(url.startsWith(\"http\") ? url : \"https:\" + url).search.split(\"&\").forEach(function (item, index) {\n            if (!item) {\n                return;\n            }\n            if (index === 0) {\n                item = item.substr(1);\n            }\n            var keyValue = item.split(\"=\");\n            params_1[keyValue[0]] = keyValue[1];\n        });\n        var src_1 = \"https://player.bilibili.com/player.html?\";\n        var keys_1 = Object.keys(params_1);\n        keys_1.forEach(function (key, index) {\n            src_1 += \"\".concat(key, \"=\").concat(params_1[key]);\n            if (index < keys_1.length - 1) {\n                src_1 += \"&\";\n            }\n        });\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"\".concat(src_1, \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (tedMatch && tedMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//embed.ted.com/talks/\".concat(tedMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n};\nvar mediaRender = function (element) {\n    if (!element) {\n        return;\n    }\n    element.querySelectorAll(\"a\").forEach(function (aElement) {\n        var url = aElement.getAttribute(\"href\");\n        if (!url) {\n            return;\n        }\n        if (url.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)) {\n            videoRender(aElement, url);\n        }\n        else if (url.match(/^.+.(mp3|wav|flac)$/)) {\n            audioRender(aElement, url);\n        }\n        else {\n            iframeRender(aElement, url);\n        }\n    });\n};\n\n\n/***/ }),\n\n/***/ 570:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ mermaidRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(446);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar mermaidRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mermaidElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getElements(element);\n    if (mermaidElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/mermaid/mermaid.min.js\"), \"vditorMermaidScript\").then(function () {\n        var config = {\n            securityLevel: \"loose\",\n            altFontFamily: \"sans-serif\",\n            fontFamily: \"sans-serif\",\n            startOnLoad: false,\n            flowchart: {\n                htmlLabels: true,\n                useMaxWidth: !0\n            },\n            sequence: {\n                useMaxWidth: true,\n                diagramMarginX: 8,\n                diagramMarginY: 8,\n                boxMargin: 8,\n                showSequenceNumbers: true // Mermaid 时序图增加序号 https://github.com/siyuan-note/siyuan/pull/6992 https://mermaid.js.org/syntax/sequenceDiagram.html#sequencenumbers\n            },\n            gantt: {\n                leftPadding: 75,\n                rightPadding: 20\n            }\n        };\n        if (theme === \"dark\") {\n            config.theme = \"dark\";\n        }\n        mermaid.initialize(config);\n        mermaidElements.forEach(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n            var code, id, mermaidData, e_1, errorElement;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getCode(item);\n                        if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                            return [2 /*return*/];\n                        }\n                        id = \"mermaid\" + (0,_util_function__WEBPACK_IMPORTED_MODULE_3__/* .genUUID */ .W)();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, mermaid.render(id, item.textContent)];\n                    case 2:\n                        mermaidData = _a.sent();\n                        item.innerHTML = mermaidData.svg;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        errorElement = document.querySelector(\"#\" + id);\n                        item.innerHTML = \"\".concat(errorElement.outerHTML, \"<br>\\n<div style=\\\"text-align: left\\\"><small>\").concat(e_1.message.replace(/\\n/, \"<br>\"), \"</small></div>\");\n                        errorElement.parentElement.remove();\n                        return [3 /*break*/, 4];\n                    case 4:\n                        item.setAttribute(\"data-processed\", \"true\");\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    });\n};\n\n\n/***/ }),\n\n/***/ 558:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ mindmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar mindmapRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mindmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getElements(element);\n    if (mindmapElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/echarts/echarts.min.js\"), \"vditorEchartsScript\").then(function () {\n            mindmapElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getCode(e);\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption({\n                        series: [\n                            {\n                                data: [JSON.parse(decodeURIComponent(text))],\n                                initialTreeDepth: -1,\n                                itemStyle: {\n                                    borderWidth: 0,\n                                    color: \"#4285f4\",\n                                },\n                                label: {\n                                    backgroundColor: \"#f6f8fa\",\n                                    borderColor: \"#d1d5da\",\n                                    borderRadius: 5,\n                                    borderWidth: 0.5,\n                                    color: \"#586069\",\n                                    lineHeight: 20,\n                                    offset: [-5, 0],\n                                    padding: [0, 5],\n                                    position: \"insideRight\",\n                                },\n                                lineStyle: {\n                                    color: \"#d1d5da\",\n                                    width: 1,\n                                },\n                                roam: true,\n                                symbol: function (value, params) {\n                                    var _a;\n                                    if ((_a = params === null || params === void 0 ? void 0 : params.data) === null || _a === void 0 ? void 0 : _a.children) {\n                                        return \"circle\";\n                                    }\n                                    else {\n                                        return \"path://\";\n                                    }\n                                },\n                                type: \"tree\",\n                            },\n                        ],\n                        tooltip: {\n                            trigger: \"item\",\n                            triggerOn: \"mousemove\",\n                        },\n                    });\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"mindmap render error: <br>\".concat(error);\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 182:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"k\": () => (/* binding */ outlineRender)\n/* harmony export */ });\n/* harmony import */ var _util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n/* harmony import */ var _mathRender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(982);\n\n\nvar outlineRender = function (contentElement, targetElement, vditor) {\n    var tocHTML = \"\";\n    var ids = [];\n    Array.from(contentElement.children).forEach(function (item, index) {\n        if ((0,_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByHeadings */ .W)(item)) {\n            if (vditor) {\n                var lastIndex = item.id.lastIndexOf(\"_\");\n                item.id = item.id.substring(0, lastIndex === -1 ? undefined : lastIndex) + \"_\" + index;\n            }\n            ids.push(item.id);\n            tocHTML += item.outerHTML.replace(\"<wbr>\", \"\");\n        }\n    });\n    if (tocHTML === \"\") {\n        targetElement.innerHTML = \"\";\n        return \"\";\n    }\n    var tempElement = document.createElement(\"div\");\n    if (vditor) {\n        vditor.lute.SetToC(true);\n        if (vditor.currentMode === \"wysiwyg\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else if (vditor.currentMode === \"ir\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else {\n            tempElement.innerHTML = vditor.lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        vditor.lute.SetToC(vditor.options.preview.markdown.toc);\n    }\n    else {\n        targetElement.classList.add(\"vditor-outline\");\n        var lute = Lute.New();\n        lute.SetToC(true);\n        tempElement.innerHTML = lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n    }\n    var headingsElement = tempElement.firstElementChild.querySelectorAll(\"li > span[data-target-id]\");\n    headingsElement.forEach(function (item, index) {\n        if (item.nextElementSibling && item.nextElementSibling.tagName === \"UL\") {\n            var iconHTML = \"<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>\";\n            if (!document.getElementById(\"vditorIconScript\")) {\n                iconHTML = '<svg class=\"vditor-outline__action\" viewBox=\"0 0 32 32\"><path d=\"M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z\"></path></svg>';\n            }\n            item.innerHTML = \"\".concat(iconHTML, \"<span>\").concat(item.innerHTML, \"</span>\");\n        }\n        else {\n            item.innerHTML = \"<svg></svg><span>\".concat(item.innerHTML, \"</span>\");\n        }\n        item.setAttribute(\"data-target-id\", ids[index]);\n    });\n    tocHTML = tempElement.firstElementChild.innerHTML;\n    if (headingsElement.length === 0) {\n        targetElement.innerHTML = \"\";\n        return tocHTML;\n    }\n    targetElement.innerHTML = tocHTML;\n    if (vditor) {\n        (0,_mathRender__WEBPACK_IMPORTED_MODULE_0__/* .mathRender */ .H)(targetElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    }\n    targetElement.firstElementChild.addEventListener(\"click\", function (event) {\n        var target = event.target;\n        while (target && !target.isEqualNode(targetElement)) {\n            if (target.classList.contains(\"vditor-outline__action\")) {\n                if (target.classList.contains(\"vditor-outline__action--close\")) {\n                    target.classList.remove(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:block\");\n                }\n                else {\n                    target.classList.add(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            }\n            else if (target.getAttribute(\"data-target-id\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                var idElement = document.getElementById(target.getAttribute(\"data-target-id\"));\n                if (!idElement) {\n                    return;\n                }\n                if (vditor) {\n                    if (vditor.options.height === \"auto\") {\n                        var windowScrollY = idElement.offsetTop + vditor.element.offsetTop;\n                        if (!vditor.options.toolbarConfig.pin) {\n                            windowScrollY += vditor.toolbar.element.offsetHeight;\n                        }\n                        window.scrollTo(window.scrollX, windowScrollY);\n                    }\n                    else {\n                        if (vditor.element.offsetTop < window.scrollY) {\n                            window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                        }\n                        if (vditor.preview.element.contains(contentElement)) {\n                            contentElement.parentElement.scrollTop = idElement.offsetTop;\n                        }\n                        else {\n                            contentElement.scrollTop = idElement.offsetTop;\n                        }\n                    }\n                }\n                else {\n                    window.scrollTo(window.scrollX, idElement.offsetTop);\n                }\n                break;\n            }\n            target = target.parentElement;\n        }\n    });\n    return tocHTML;\n};\n\n\n/***/ }),\n\n/***/ 931:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": () => (/* binding */ plantumlRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar plantumlRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var plantumlElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getElements(element);\n    if (plantumlElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/plantuml/plantuml-encoder.min.js\"), \"vditorPlantumlScript\").then(function () {\n        plantumlElements.forEach(function (e) {\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getCode(e).trim();\n            if (!text) {\n                return;\n            }\n            try {\n                e.innerHTML = \"<object type=\\\"image/svg+xml\\\" data=\\\"https://www.plantuml.com/plantuml/svg/~1\".concat(plantumlEncoder.encode(text), \"\\\"/>\");\n            }\n            catch (error) {\n                e.className = \"vditor-reset--error\";\n                e.innerHTML = \"plantuml render error: <br>\".concat(error);\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 65:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ setLute)\n/* harmony export */ });\nvar setLute = function (options) {\n    var lute = Lute.New();\n    lute.PutEmojis(options.emojis);\n    lute.SetEmojiSite(options.emojiSite);\n    lute.SetHeadingAnchor(options.headingAnchor);\n    lute.SetInlineMathAllowDigitAfterOpenMarker(options.inlineMathDigit);\n    lute.SetAutoSpace(options.autoSpace);\n    lute.SetToC(options.toc);\n    lute.SetFootnotes(options.footnotes);\n    lute.SetFixTermTypo(options.fixTermTypo);\n    lute.SetVditorCodeBlockPreview(options.codeBlockPreview);\n    lute.SetVditorMathBlockPreview(options.mathBlockPreview);\n    lute.SetSanitize(options.sanitize);\n    lute.SetChineseParagraphBeginningSpace(options.paragraphBeginningSpace);\n    lute.SetRenderListStyle(options.listStyle);\n    lute.SetLinkBase(options.linkBase);\n    lute.SetLinkPrefix(options.linkPrefix);\n    lute.SetMark(options.mark);\n    lute.SetGFMAutoLink(options.gfmAutoLink);\n    if (options.lazyLoadImage) {\n        lute.SetImageLazyLoading(options.lazyLoadImage);\n    }\n    return lute;\n};\n\n\n/***/ }),\n\n/***/ 971:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"E\": () => (/* binding */ previewImage)\n/* harmony export */ });\nvar previewImage = function (oldImgElement, lang, theme) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (theme === void 0) { theme = \"classic\"; }\n    var oldImgRect = oldImgElement.getBoundingClientRect();\n    var height = 36;\n    document.body.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"vditor vditor-img\".concat(theme === \"dark\" ? \" vditor--dark\" : \"\", \"\\\">\\n    <div class=\\\"vditor-img__bar\\\">\\n      <span class=\\\"vditor-img__btn\\\" data-deg=\\\"0\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-redo\\\"></use></svg>\\n        \").concat(window.VditorI18n.spin, \"\\n      </span>\\n      <span class=\\\"vditor-img__btn\\\"  onclick=\\\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n        X &nbsp;\").concat(window.VditorI18n.close, \"\\n      </span>\\n    </div>\\n    <div class=\\\"vditor-img__img\\\" onclick=\\\"this.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n      <img style=\\\"width: \").concat(oldImgElement.width, \"px;height:\").concat(oldImgElement.height, \"px;transform: translate3d(\").concat(oldImgRect.left, \"px, \").concat(oldImgRect.top - height, \"px, 0)\\\" src=\\\"\").concat(oldImgElement.getAttribute(\"src\"), \"\\\">\\n    </div>\\n</div>\"));\n    document.body.style.overflow = \"hidden\";\n    // 图片从原始位置移动到预览正中间的动画效果\n    var imgElement = document.querySelector(\".vditor-img img\");\n    var translate3d = \"translate3d(\".concat(Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2, \"px, \").concat(Math.max(0, window.innerHeight - height - oldImgElement.naturalHeight) / 2, \"px, 0)\");\n    setTimeout(function () {\n        imgElement.setAttribute(\"style\", \"transition: transform .3s ease-in-out;transform: \".concat(translate3d));\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n    // 旋转\n    var btnElement = document.querySelector(\".vditor-img__btn\");\n    btnElement.addEventListener(\"click\", function () {\n        var deg = parseInt(btnElement.getAttribute(\"data-deg\"), 10) + 90;\n        if ((deg / 90) % 2 === 1 && oldImgElement.naturalWidth > imgElement.parentElement.clientHeight) {\n            imgElement.style.transform = \"translate3d(\".concat(Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2, \"px, \").concat(oldImgElement.naturalWidth / 2 - oldImgElement.naturalHeight / 2, \"px, 0) rotateZ(\").concat(deg, \"deg)\");\n        }\n        else {\n            imgElement.style.transform = \"\".concat(translate3d, \" rotateZ(\").concat(deg, \"deg)\");\n        }\n        btnElement.setAttribute(\"data-deg\", deg.toString());\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n};\n\n\n/***/ }),\n\n/***/ 34:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ setCodeTheme)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(296);\n\n\nvar setCodeTheme = function (codeTheme, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(codeTheme)) {\n        codeTheme = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = \"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(codeTheme, \".css\");\n    if (!vditorHljsStyle) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n    else if (vditorHljsStyle.getAttribute('href') !== href) {\n        vditorHljsStyle.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 652:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (/* binding */ setContentTheme)\n/* harmony export */ });\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(296);\n\nvar setContentTheme = function (contentTheme, path) {\n    if (!contentTheme || !path) {\n        return;\n    }\n    var vditorContentTheme = document.getElementById(\"vditorContentTheme\");\n    var cssPath = \"\".concat(path, \"/\").concat(contentTheme, \".css\");\n    if (!vditorContentTheme) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n    else if (vditorContentTheme.getAttribute(\"href\") !== cssPath) {\n        vditorContentTheme.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 998:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G\": () => (/* binding */ addScript),\n/* harmony export */   \"J\": () => (/* binding */ addScriptSync)\n/* harmony export */ });\nvar addScriptSync = function (path, id) {\n    if (document.getElementById(id)) {\n        return false;\n    }\n    var xhrObj = new XMLHttpRequest();\n    xhrObj.open(\"GET\", path, false);\n    xhrObj.setRequestHeader(\"Accept\", \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\");\n    xhrObj.send(\"\");\n    var scriptElement = document.createElement(\"script\");\n    scriptElement.type = \"text/javascript\";\n    scriptElement.text = xhrObj.responseText;\n    scriptElement.id = id;\n    document.head.appendChild(scriptElement);\n};\nvar addScript = function (path, id) {\n    return new Promise(function (resolve, reject) {\n        if (document.getElementById(id)) {\n            // 脚本加载后再次调用直接返回\n            resolve(true);\n            return false;\n        }\n        var scriptElement = document.createElement(\"script\");\n        scriptElement.src = path;\n        scriptElement.async = true;\n        // 循环调用时 Chrome 不会重复请求 js\n        document.head.appendChild(scriptElement);\n        scriptElement.onerror = function (event) {\n            reject(event);\n        };\n        scriptElement.onload = function () {\n            if (document.getElementById(id)) {\n                // 循环调用需清除 DOM 中的 script 标签\n                scriptElement.remove();\n                resolve(true);\n                return false;\n            }\n            scriptElement.id = id;\n            resolve(true);\n        };\n    });\n};\n\n\n/***/ }),\n\n/***/ 296:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"c\": () => (/* binding */ addStyle)\n/* harmony export */ });\nvar addStyle = function (url, id) {\n    if (!document.getElementById(id)) {\n        var styleElement = document.createElement(\"link\");\n        styleElement.id = id;\n        styleElement.rel = \"stylesheet\";\n        styleElement.type = \"text/css\";\n        styleElement.href = url;\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n};\n\n\n/***/ }),\n\n/***/ 528:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ code160to32)\n/* harmony export */ });\nvar code160to32 = function (text) {\n    // 非打断空格转换为空格\n    return text.replace(/\\u00a0/g, \" \");\n};\n\n\n/***/ }),\n\n/***/ 796:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G6\": () => (/* binding */ isSafari),\n/* harmony export */   \"Le\": () => (/* binding */ getEventName),\n/* harmony export */   \"i7\": () => (/* binding */ isChrome),\n/* harmony export */   \"ns\": () => (/* binding */ updateHotkeyTip),\n/* harmony export */   \"pK\": () => (/* binding */ accessLocalStorage),\n/* harmony export */   \"vU\": () => (/* binding */ isFirefox),\n/* harmony export */   \"yl\": () => (/* binding */ isCtrl)\n/* harmony export */ });\nvar isSafari = function () {\n    return navigator.userAgent.indexOf(\"Safari\") > -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n};\nvar isFirefox = function () {\n    return navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n};\nvar accessLocalStorage = function () {\n    try {\n        return typeof localStorage !== \"undefined\";\n    }\n    catch (e) {\n        return false;\n    }\n};\n// 用户 iPhone 点击延迟/需要双击的处理\nvar getEventName = function () {\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1) {\n        return \"touchstart\";\n    }\n    else {\n        return \"click\";\n    }\n};\n// 区别 mac 上的 ctrl 和 meta\nvar isCtrl = function (event) {\n    if (navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0) {\n        // mac\n        if (event.metaKey && !event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        if (!event.metaKey && event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n};\n// Mac，Windows 快捷键展示\nvar updateHotkeyTip = function (hotkey) {\n    if (/Mac/.test(navigator.platform) || navigator.platform === \"iPhone\") {\n        if (hotkey.indexOf(\"⇧\") > -1 && isFirefox()) {\n            // Mac Firefox 按下 shift 后，key 同 windows 系统\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    else {\n        if (hotkey.startsWith(\"⌘\")) {\n            hotkey = hotkey.replace(\"⌘\", \"⌘+\");\n        }\n        else if (hotkey.startsWith(\"⌥\") && hotkey.substr(1, 1) !== \"⌘\") {\n            hotkey = hotkey.replace(\"⌥\", \"⌥+\");\n        }\n        else {\n            hotkey = hotkey.replace(\"⇧⌘\", \"⌘+⇧+\").replace(\"⌥⌘\", \"⌥+⌘+\");\n        }\n        hotkey = hotkey.replace(\"⌘\", \"Ctrl\").replace(\"⇧\", \"Shift\")\n            .replace(\"⌥\", \"Alt\");\n        if (hotkey.indexOf(\"Shift\") > -1) {\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    return hotkey;\n};\nvar isChrome = function () {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n};\n\n\n/***/ }),\n\n/***/ 446:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"W\": () => (/* binding */ genUUID),\n/* harmony export */   \"o\": () => (/* binding */ getSearch)\n/* harmony export */ });\nvar genUUID = function () { return ([1e7].toString() + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n    return (parseInt(c, 10) ^ (window.crypto.getRandomValues(new Uint32Array(1))[0] & (15 >> (parseInt(c, 10) / 4)))).toString(16);\n}); };\nvar getSearch = function (key, link) {\n    if (link === void 0) { link = window.location.search; }\n    var params = link.substring(link.indexOf(\"?\"));\n    var hashIndex = params.indexOf(\"#\");\n    // REF https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams\n    var urlSearchParams = new URLSearchParams(params.substring(0, hashIndex >= 0 ? hashIndex : undefined));\n    return urlSearchParams.get(key);\n};\n\n\n/***/ }),\n\n/***/ 118:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DX\": () => (/* binding */ getLastNode),\n/* harmony export */   \"E2\": () => (/* binding */ hasTopClosestByTag),\n/* harmony export */   \"F9\": () => (/* binding */ hasClosestBlock),\n/* harmony export */   \"JQ\": () => (/* binding */ hasTopClosestByClassName),\n/* harmony export */   \"O9\": () => (/* binding */ getTopList),\n/* harmony export */   \"a1\": () => (/* binding */ hasClosestByAttribute),\n/* harmony export */   \"fb\": () => (/* binding */ hasClosestByClassName),\n/* harmony export */   \"lG\": () => (/* binding */ hasClosestByMatchTag)\n/* harmony export */ });\n/* unused harmony export hasTopClosestByAttribute */\n/* harmony import */ var _hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(946);\n\nvar hasTopClosestByClassName = function (element, className) {\n    var closest = hasClosestByClassName(element, className);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByClassName(closest.parentElement, className);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByAttribute = function (element, attr, value) {\n    var closest = hasClosestByAttribute(element, attr, value);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByAttribute(closest.parentElement, attr, value);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByTag = function (element, nodeName) {\n    var closest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(element, nodeName);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(closest.parentElement, nodeName);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar getTopList = function (element) {\n    var topUlElement = hasTopClosestByTag(element, \"UL\");\n    var topOlElement = hasTopClosestByTag(element, \"OL\");\n    var topListElement = topUlElement;\n    if (topOlElement && (!topUlElement || (topUlElement && topOlElement.contains(topUlElement)))) {\n        topListElement = topOlElement;\n    }\n    return topListElement;\n};\nvar hasClosestByAttribute = function (element, attr, value) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.getAttribute(attr) === value) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestBlock = function (element) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    var blockElement = hasClosestByAttribute(element, \"data-block\", \"0\");\n    if (blockElement) {\n        return blockElement;\n    }\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.tagName === \"H1\" ||\n            e.tagName === \"H2\" ||\n            e.tagName === \"H3\" ||\n            e.tagName === \"H4\" ||\n            e.tagName === \"H5\" ||\n            e.tagName === \"H6\" ||\n            e.tagName === \"P\" ||\n            e.tagName === \"BLOCKQUOTE\" ||\n            e.tagName === \"OL\" ||\n            e.tagName === \"UL\") {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByMatchTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName === nodeName) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByClassName = function (element, className) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.classList.contains(className)) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar getLastNode = function (node) {\n    while (node && node.lastChild) {\n        node = node.lastChild;\n    }\n    return node;\n};\n\n\n/***/ }),\n\n/***/ 946:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"S\": () => (/* binding */ hasClosestByTag),\n/* harmony export */   \"W\": () => (/* binding */ hasClosestByHeadings)\n/* harmony export */ });\n// NOTE: 减少 method.ts 打包，故从 hasClosest.ts 中拆分\nvar hasClosestByTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName.indexOf(nodeName) === 0) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByHeadings = function (element) {\n    var headingElement = hasClosestByTag(element, \"H\");\n    if (headingElement && headingElement.tagName.length === 2 && headingElement.tagName !== \"HR\") {\n        return headingElement;\n    }\n    return false;\n};\n\n\n/***/ }),\n\n/***/ 2:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ merge)\n/* harmony export */ });\nvar merge = function () {\n    var options = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        options[_i] = arguments[_i];\n    }\n    var target = {};\n    var merger = function (obj) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                if (Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\n                    target[prop] = merge(target[prop], obj[prop]);\n                }\n                else {\n                    target[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (var i = 0; i < options.length; i++) {\n        merger(options[i]);\n    }\n    return target;\n};\n\n\n/***/ }),\n\n/***/ 307:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"$j\": () => (/* binding */ setSelectionByPosition),\n/* harmony export */   \"Gb\": () => (/* binding */ selectIsEditor),\n/* harmony export */   \"Hc\": () => (/* binding */ setSelectionFocus),\n/* harmony export */   \"Ny\": () => (/* binding */ getCursorPosition),\n/* harmony export */   \"ib\": () => (/* binding */ setRangeByWbr),\n/* harmony export */   \"im\": () => (/* binding */ getSelectPosition),\n/* harmony export */   \"oC\": () => (/* binding */ insertHTML),\n/* harmony export */   \"zh\": () => (/* binding */ getEditorRange)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _compatibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(796);\n/* harmony import */ var _hasClosest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(118);\n\n\n\nvar getEditorRange = function (vditor) {\n    var range;\n    var element = vditor[vditor.currentMode].element;\n    if (getSelection().rangeCount > 0) {\n        range = getSelection().getRangeAt(0);\n        if (element.isEqualNode(range.startContainer) || element.contains(range.startContainer)) {\n            return range;\n        }\n    }\n    if (vditor[vditor.currentMode].range) {\n        return vditor[vditor.currentMode].range;\n    }\n    element.focus();\n    range = element.ownerDocument.createRange();\n    range.setStart(element, 0);\n    range.collapse(true);\n    return range;\n};\nvar getCursorPosition = function (editor) {\n    var range = window.getSelection().getRangeAt(0);\n    if (!editor.contains(range.startContainer) && !(0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByClassName */ .fb)(range.startContainer, \"vditor-panel--none\")) {\n        return {\n            left: 0,\n            top: 0,\n        };\n    }\n    var parentRect = editor.parentElement.getBoundingClientRect();\n    var cursorRect;\n    if (range.getClientRects().length === 0) {\n        if (range.startContainer.nodeType === 3) {\n            // 空行时，会出现没有 br 的情况，需要根据父元素 <p> 获取位置信息\n            var parent_1 = range.startContainer.parentElement;\n            if (parent_1 && parent_1.getClientRects().length > 0) {\n                cursorRect = parent_1.getClientRects()[0];\n            }\n            else {\n                return {\n                    left: 0,\n                    top: 0,\n                };\n            }\n        }\n        else {\n            var children = range.startContainer.children;\n            if (children[range.startOffset] &&\n                children[range.startOffset].getClientRects().length > 0) {\n                // markdown 模式回车\n                cursorRect = children[range.startOffset].getClientRects()[0];\n            }\n            else if (range.startContainer.childNodes.length > 0) {\n                // in table or code block\n                var cloneRange = range.cloneRange();\n                range.selectNode(range.startContainer.childNodes[Math.max(0, range.startOffset - 1)]);\n                cursorRect = range.getClientRects()[0];\n                range.setEnd(cloneRange.endContainer, cloneRange.endOffset);\n                range.setStart(cloneRange.startContainer, cloneRange.startOffset);\n            }\n            else {\n                cursorRect = range.startContainer.getClientRects()[0];\n            }\n            if (!cursorRect) {\n                var parentElement = range.startContainer.childNodes[range.startOffset];\n                while (!parentElement.getClientRects ||\n                    (parentElement.getClientRects && parentElement.getClientRects().length === 0)) {\n                    parentElement = parentElement.parentElement;\n                }\n                cursorRect = parentElement.getClientRects()[0];\n            }\n        }\n    }\n    else {\n        cursorRect = range.getClientRects()[0];\n    }\n    return {\n        left: cursorRect.left - parentRect.left,\n        top: cursorRect.top - parentRect.top,\n    };\n};\nvar selectIsEditor = function (editor, range) {\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return false;\n        }\n        else {\n            range = getSelection().getRangeAt(0);\n        }\n    }\n    var container = range.commonAncestorContainer;\n    return editor.isEqualNode(container) || editor.contains(container);\n};\nvar setSelectionFocus = function (range) {\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n};\nvar getSelectPosition = function (selectElement, editorElement, range) {\n    var position = {\n        end: 0,\n        start: 0,\n    };\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return position;\n        }\n        range = window.getSelection().getRangeAt(0);\n    }\n    if (selectIsEditor(editorElement, range)) {\n        var preSelectionRange = range.cloneRange();\n        if (selectElement.childNodes[0] && selectElement.childNodes[0].childNodes[0]) {\n            preSelectionRange.setStart(selectElement.childNodes[0].childNodes[0], 0);\n        }\n        else {\n            preSelectionRange.selectNodeContents(selectElement);\n        }\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        position.start = preSelectionRange.toString().length;\n        position.end = position.start + range.toString().length;\n    }\n    return position;\n};\nvar setSelectionByPosition = function (start, end, editor) {\n    var charIndex = 0;\n    var line = 0;\n    var pNode = editor.childNodes[line];\n    var foundStart = false;\n    var stop = false;\n    start = Math.max(0, start);\n    end = Math.max(0, end);\n    var range = editor.ownerDocument.createRange();\n    range.setStart(pNode || editor, 0);\n    range.collapse(true);\n    while (!stop && pNode) {\n        var nextCharIndex = charIndex + pNode.textContent.length;\n        if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n            if (start === 0) {\n                range.setStart(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setStart(pNode.childNodes[0], start - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setStartBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setStartAfter(pNode);\n                }\n            }\n            foundStart = true;\n            if (start === end) {\n                stop = true;\n                break;\n            }\n        }\n        if (foundStart && end >= charIndex && end <= nextCharIndex) {\n            if (end === 0) {\n                range.setEnd(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setEnd(pNode.childNodes[0], end - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setEndBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setEndAfter(pNode);\n                }\n            }\n            stop = true;\n        }\n        charIndex = nextCharIndex;\n        pNode = editor.childNodes[++line];\n    }\n    if (!stop && editor.childNodes[line - 1]) {\n        range.setStartBefore(editor.childNodes[line - 1]);\n    }\n    setSelectionFocus(range);\n    return range;\n};\nvar setRangeByWbr = function (element, range) {\n    var wbrElement = element.querySelector(\"wbr\");\n    if (!wbrElement) {\n        return;\n    }\n    if (!wbrElement.previousElementSibling) {\n        if (wbrElement.previousSibling) {\n            // text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n        else if (wbrElement.nextSibling) {\n            if (wbrElement.nextSibling.nodeType === 3) {\n                // <wbr>text\n                range.setStart(wbrElement.nextSibling, 0);\n            }\n            else {\n                // <wbr><br> https://github.com/Vanessa219/vditor/issues/400\n                range.setStartBefore(wbrElement.nextSibling);\n            }\n        }\n        else {\n            // 内容为空\n            range.setStart(wbrElement.parentElement, 0);\n        }\n    }\n    else {\n        if (wbrElement.previousElementSibling.isSameNode(wbrElement.previousSibling)) {\n            if (wbrElement.previousElementSibling.lastChild) {\n                // <em>text</em><wbr>\n                range.setStartBefore(wbrElement);\n                range.collapse(true);\n                setSelectionFocus(range);\n                // fix Chrome set range bug: **c**\n                if ((0,_compatibility__WEBPACK_IMPORTED_MODULE_2__/* .isChrome */ .i7)() && (wbrElement.previousElementSibling.tagName === \"EM\" ||\n                    wbrElement.previousElementSibling.tagName === \"STRONG\" ||\n                    wbrElement.previousElementSibling.tagName === \"S\")) {\n                    range.insertNode(document.createTextNode(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP));\n                    range.collapse(false);\n                }\n                wbrElement.remove();\n                return;\n            }\n            else {\n                // <br><wbr>\n                range.setStartAfter(wbrElement.previousElementSibling);\n            }\n        }\n        else {\n            // <em>text</em>text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n    }\n    range.collapse(true);\n    wbrElement.remove();\n    setSelectionFocus(range);\n};\nvar insertHTML = function (html, vditor) {\n    // 使用 lute 方法会添加 p 元素，只有一个 p 元素的时候进行删除\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var tempBlockElement = tempElement.querySelectorAll(\"p\");\n    if (tempBlockElement.length === 1 && !tempBlockElement[0].previousSibling && !tempBlockElement[0].nextSibling &&\n        vditor[vditor.currentMode].element.children.length > 0 && tempElement.firstElementChild.tagName === \"P\") {\n        html = tempBlockElement[0].innerHTML.trim();\n    }\n    var pasteElement = document.createElement(\"div\");\n    pasteElement.innerHTML = html;\n    var range = getEditorRange(vditor);\n    if (range.toString() !== \"\") {\n        vditor[vditor.currentMode].preventInput = true;\n        document.execCommand(\"delete\", false, \"\");\n    }\n    if (pasteElement.firstElementChild &&\n        pasteElement.firstElementChild.getAttribute(\"data-block\") === \"0\") {\n        // 粘贴内容为块元素时，应在下一段落中插入\n        pasteElement.lastElementChild.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        var blockElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestBlock */ .F9)(range.startContainer);\n        if (!blockElement) {\n            vditor[vditor.currentMode].element.insertAdjacentHTML(\"beforeend\", pasteElement.innerHTML);\n        }\n        else {\n            blockElement.insertAdjacentHTML(\"afterend\", pasteElement.innerHTML);\n        }\n        setRangeByWbr(vditor[vditor.currentMode].element, range);\n    }\n    else {\n        var pasteTemplate = document.createElement(\"template\");\n        pasteTemplate.innerHTML = html;\n        range.insertNode(pasteTemplate.content.cloneNode(true));\n        range.collapse(false);\n        setSelectionFocus(range);\n    }\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ src)\n});\n\n// EXTERNAL MODULE: ./src/method.ts + 4 modules\nvar method = __webpack_require__(664);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(793);\n// EXTERNAL MODULE: ./src/ts/util/code160to32.ts\nvar code160to32 = __webpack_require__(528);\n;// CONCATENATED MODULE: ./src/ts/markdown/getMarkdown.ts\n\nvar getMarkdown = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return (0,code160to32/* code160to32 */.X)(\"\".concat(vditor.sv.element.textContent, \"\\n\").replace(/\\n\\n$/, \"\\n\"));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2Md(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2Md(vditor.ir.element.innerHTML);\n    }\n    return \"\";\n};\n\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(998);\n;// CONCATENATED MODULE: ./src/ts/devtools/index.ts\n\n\nvar DevTools = /** @class */ (function () {\n    function DevTools() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-devtools\";\n        this.element.innerHTML = '<div class=\"vditor-reset--error\"></div><div style=\"height: 100%;\"></div>';\n    }\n    DevTools.prototype.renderEchart = function (vditor) {\n        var _this = this;\n        if (vditor.devtools.element.style.display !== \"block\") {\n            return;\n        }\n        (0,addScript/* addScript */.G)(\"\".concat(vditor.options.cdn, \"/dist/js/echarts/echarts.min.js\"), \"vditorEchartsScript\").then(function () {\n            if (!_this.ASTChart) {\n                _this.ASTChart = echarts.init(vditor.devtools.element.lastElementChild);\n            }\n            try {\n                _this.element.lastElementChild.style.display = \"block\";\n                _this.element.firstElementChild.innerHTML = \"\";\n                _this.ASTChart.setOption({\n                    series: [\n                        {\n                            data: JSON.parse(vditor.lute.RenderEChartsJSON(getMarkdown(vditor))),\n                            initialTreeDepth: -1,\n                            label: {\n                                align: \"left\",\n                                backgroundColor: \"rgba(68, 77, 86, .68)\",\n                                borderRadius: 3,\n                                color: \"#d1d5da\",\n                                fontSize: 12,\n                                lineHeight: 12,\n                                offset: [9, 12],\n                                padding: [2, 4, 2, 4],\n                                position: \"top\",\n                                verticalAlign: \"middle\",\n                            },\n                            lineStyle: {\n                                color: \"#4285f4\",\n                                type: \"curve\",\n                                width: 1,\n                            },\n                            orient: \"vertical\",\n                            roam: true,\n                            type: \"tree\",\n                        },\n                    ],\n                    toolbox: {\n                        bottom: 25,\n                        emphasis: {\n                            iconStyle: {\n                                color: \"#4285f4\",\n                            },\n                        },\n                        feature: {\n                            restore: {\n                                show: true,\n                            },\n                            saveAsImage: {\n                                show: true,\n                            },\n                        },\n                        right: 15,\n                        show: true,\n                    },\n                });\n                _this.ASTChart.resize();\n            }\n            catch (e) {\n                _this.element.lastElementChild.style.display = \"none\";\n                _this.element.firstElementChild.innerHTML = e;\n            }\n        });\n    };\n    return DevTools;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/compatibility.ts\nvar compatibility = __webpack_require__(796);\n;// CONCATENATED MODULE: ./src/ts/toolbar/setToolbar.ts\n\n\nvar removeCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.remove(\"vditor-menu--current\");\n        }\n    });\n};\nvar setCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.add(\"vditor-menu--current\");\n        }\n    });\n};\nvar enableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.remove(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar disableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.add(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar hideToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"none\";\n        }\n    });\n};\nvar showToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"block\";\n        }\n    });\n};\n// \"subToolbar\", \"hint\", \"popover\"\nvar hidePanel = function (vditor, panels, exceptElement) {\n    if (panels.includes(\"subToolbar\")) {\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint\").forEach(function (item) {\n            if (exceptElement && item.isEqualNode(exceptElement)) {\n                return;\n            }\n            item.style.display = \"none\";\n        });\n        if (vditor.toolbar.elements.emoji) {\n            vditor.toolbar.elements.emoji.lastElementChild.style.display = \"none\";\n        }\n    }\n    if (panels.includes(\"hint\")) {\n        vditor.hint.element.style.display = \"none\";\n    }\n    if (vditor.wysiwyg.popover && panels.includes(\"popover\")) {\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n};\nvar toggleSubMenu = function (vditor, panelElement, actionBtn, level) {\n    actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            return;\n        }\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint--current\").forEach(function (item) {\n            item.classList.remove(\"vditor-hint--current\");\n        });\n        if (panelElement.style.display === \"block\") {\n            panelElement.style.display = \"none\";\n        }\n        else {\n            hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"], actionBtn.parentElement.parentElement);\n            if (!actionBtn.classList.contains(\"vditor-tooltipped\")) {\n                actionBtn.classList.add(\"vditor-hint--current\");\n            }\n            panelElement.style.display = \"block\";\n            if (vditor.toolbar.element.getBoundingClientRect().right - actionBtn.getBoundingClientRect().right < 250) {\n                panelElement.classList.add(\"vditor-panel--left\");\n            }\n            else {\n                panelElement.classList.remove(\"vditor-panel--left\");\n            }\n        }\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(118);\n// EXTERNAL MODULE: ./src/ts/util/hasClosestByHeadings.ts\nvar hasClosestByHeadings = __webpack_require__(946);\n;// CONCATENATED MODULE: ./src/ts/util/log.ts\nvar log = function (method, content, type, print) {\n    if (print) {\n        // @ts-ignore\n        console.log(\"\".concat(method, \" - \").concat(type, \": \").concat(content));\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(386);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(379);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(895);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(169);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(572);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(702);\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(982);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(570);\n// EXTERNAL MODULE: ./src/ts/markdown/markmapRender.ts\nvar markmapRender = __webpack_require__(593);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(558);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(931);\n;// CONCATENATED MODULE: ./src/ts/util/processCode.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processPasteCode = function (html, text, type) {\n    if (type === void 0) { type = \"sv\"; }\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var isCode = false;\n    if (tempElement.childElementCount === 1 &&\n        tempElement.lastElementChild.style.fontFamily.indexOf(\"monospace\") > -1) {\n        // VS Code\n        isCode = true;\n    }\n    var pres = tempElement.querySelectorAll(\"pre\");\n    if (tempElement.childElementCount === 1 && pres.length === 1\n        && pres[0].className !== \"vditor-wysiwyg\"\n        && pres[0].className !== \"vditor-sv\") {\n        // IDE\n        isCode = true;\n    }\n    if (html.indexOf('\\n<p class=\"p1\">') === 0) {\n        // Xcode\n        isCode = true;\n    }\n    if (tempElement.childElementCount === 1 && tempElement.firstElementChild.tagName === \"TABLE\" &&\n        tempElement.querySelector(\".line-number\") && tempElement.querySelector(\".line-content\")) {\n        // 网页源码\n        isCode = true;\n    }\n    if (isCode) {\n        var code = text || html;\n        if (/\\n/.test(code) || pres.length === 1) {\n            if (type === \"wysiwyg\") {\n                return \"<div class=\\\"vditor-wysiwyg__block\\\" data-block=\\\"0\\\" data-type=\\\"code-block\\\"><pre><code>\".concat(code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"), \"<wbr></code></pre></div>\");\n            }\n            return \"\\n```\\n\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"\\n```\";\n        }\n        else {\n            if (type === \"wysiwyg\") {\n                return \"<code>\".concat(code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"), \"</code><wbr>\");\n            }\n            return \"`\".concat(code, \"`\");\n        }\n    }\n    return false;\n};\nvar processCodeRender = function (previewPanel, vditor) {\n    if (!previewPanel) {\n        return;\n    }\n    if (previewPanel.parentElement.getAttribute(\"data-type\") === \"html-block\") {\n        previewPanel.setAttribute(\"data-render\", \"1\");\n        return;\n    }\n    var language = previewPanel.firstElementChild.className.replace(\"language-\", \"\");\n    if (language === \"abc\") {\n        (0,abcRender/* abcRender */.Q)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"mermaid\") {\n        (0,mermaidRender/* mermaidRender */.i)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"markmap\") {\n        (0,markmapRender/* markmapRender */.K)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"flowchart\") {\n        (0,flowchartRender/* flowchartRender */.P)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"echarts\") {\n        (0,chartRender/* chartRender */.p)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"mindmap\") {\n        (0,mindmapRender/* mindmapRender */.P)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"plantuml\") {\n        (0,plantumlRender/* plantumlRender */.B)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"graphviz\") {\n        (0,graphvizRender/* graphvizRender */.v)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"math\") {\n        (0,mathRender/* mathRender */.H)(previewPanel, { cdn: vditor.options.cdn, math: vditor.options.preview.math });\n    }\n    else {\n        var cRender = vditor.options.customRenders.find(function (item) {\n            if (item.language === language) {\n                item.render(previewPanel, vditor);\n                return true;\n            }\n        });\n        if (!cRender) {\n            (0,highlightRender/* highlightRender */.s)(Object.assign({}, vditor.options.preview.hljs), previewPanel, vditor.options.cdn);\n            (0,codeRender/* codeRender */.O)(previewPanel, vditor.options.preview.hljs);\n        }\n    }\n    previewPanel.setAttribute(\"data-render\", \"1\");\n};\n\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(307);\n;// CONCATENATED MODULE: ./src/ts/util/toc.ts\n\n\n\n\nvar renderToc = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var tocHTML = vditor.outline.render(vditor);\n    if (tocHTML === \"\") {\n        tocHTML = \"[ToC]\";\n    }\n    editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n        item.innerHTML = tocHTML;\n        (0,mathRender/* mathRender */.H)(item, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    });\n};\nvar clickToc = function (event, vditor) {\n    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n        var headingElement = vditor[vditor.currentMode].element.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n        if (headingElement) {\n            if (vditor.options.height === \"auto\") {\n                var windowScrollY = headingElement.offsetTop + vditor.element.offsetTop;\n                if (!vditor.options.toolbarConfig.pin) {\n                    windowScrollY += vditor.toolbar.element.offsetHeight;\n                }\n                window.scrollTo(window.scrollX, windowScrollY);\n            }\n            else {\n                if (vditor.element.offsetTop < window.scrollY) {\n                    window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                }\n                vditor[vditor.currentMode].element.scrollTop = headingElement.offsetTop;\n            }\n        }\n        return;\n    }\n};\nvar keydownToc = function (blockElement, vditor, event, range) {\n    // toc 前无元素，插入空块\n    if (blockElement.previousElementSibling &&\n        blockElement.previousElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Backspace\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start === 0) {\n            blockElement.previousElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockElement, blockElement.previousElementSibling)) {\n            return true;\n        }\n    }\n    // toc 后无元素，插入空块\n    if (blockElement.nextElementSibling &&\n        blockElement.nextElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Delete\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start\n                >= blockElement.textContent.trimRight().length) {\n            blockElement.nextElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockElement, blockElement.nextElementSibling)) {\n            return true;\n        }\n    }\n    // toc 删除\n    if (event.key === \"Backspace\" || event.key === \"Delete\") {\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-toc\");\n        if (tocElement) {\n            tocElement.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/input.ts\n\n\n\n\n\n\n\n\n\n\nvar input = function (vditor, range, ignoreSpace, event) {\n    if (ignoreSpace === void 0) { ignoreSpace = false; }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    // 前后可以输入空格\n    if (blockElement && !ignoreSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\") {\n        if ((isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling) ||\n            isHeadingMD(blockElement.innerHTML)) {\n            return;\n        }\n        // 前后空格处理\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n        // 开始可以输入空格\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        // 结尾可以输入空格\n        var endSpace = true;\n        for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n            if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                endSpace = false;\n                break;\n            }\n        }\n        if (startSpace) {\n            if (typeof vditor.options.input === \"function\") {\n                vditor.options.input(getMarkdown(vditor));\n            }\n            return;\n        }\n        if (endSpace) {\n            var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker\");\n            if (markerElement) {\n                // inline marker space https://github.com/Vanessa219/vditor/issues/239\n            }\n            else {\n                var previousNode = range.startContainer.previousSibling;\n                if (previousNode && previousNode.nodeType !== 3 && previousNode.classList.contains(\"vditor-ir__node--expand\")) {\n                    // FireFox https://github.com/Vanessa219/vditor/issues/239\n                    previousNode.classList.remove(\"vditor-ir__node--expand\");\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n                return;\n            }\n        }\n    }\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.ir.element;\n    }\n    // document.exeComment insertHTML 会插入 wbr\n    if (!blockElement.querySelector(\"wbr\")) {\n        var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n        if (previewRenderElement) {\n            previewRenderElement.previousElementSibling.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        }\n        else {\n            range.insertNode(document.createElement(\"wbr\"));\n        }\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.ir.element;\n    }\n    var isIRElement = blockElement.isEqualNode(vditor.ir.element);\n    var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n    var html = \"\";\n    if (!isIRElement) {\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n        // 列表需要到最顶层\n        var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (topListElement) {\n            blockElement = topListElement;\n        }\n        // 应到引用层，否则 > --- 会解析为 front-matter；列表中有 blockquote 则解析 blockquote；blockquote 中有列表则解析列表\n        if (blockquoteElement && (!topListElement || (topListElement && !blockquoteElement.contains(topListElement)))) {\n            blockElement = blockquoteElement;\n        }\n        // 修改脚注\n        if (footnoteElement) {\n            blockElement = footnoteElement;\n        }\n        html = blockElement.outerHTML;\n        if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n            // 如果为列表的话，需要把上下的列表都重绘\n            var listPrevElement = blockElement.previousElementSibling;\n            var listNextElement = blockElement.nextElementSibling;\n            if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                html = listPrevElement.outerHTML + html;\n                listPrevElement.remove();\n            }\n            if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                html = html + listNextElement.outerHTML;\n                listNextElement.remove();\n            }\n            // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n            html = html.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n        }\n        else if (blockElement.previousElementSibling &&\n            blockElement.previousElementSibling.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") !== \"\" &&\n            event && event.inputType === \"insertParagraph\") {\n            // 换行时需要处理上一段落\n            html = blockElement.previousElementSibling.outerHTML + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (!blockElement.innerText.startsWith(\"```\")) {\n            // 添加链接引用\n            vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html += item.outerHTML;\n                    item.remove();\n                }\n            });\n            // 添加脚注\n            vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html += item.outerHTML;\n                    item.remove();\n                }\n            });\n        }\n    }\n    else {\n        html = blockElement.innerHTML;\n    }\n    log(\"SpinVditorIRDOM\", html, \"argument\", vditor.options.debugger);\n    html = vditor.lute.SpinVditorIRDOM(html);\n    log(\"SpinVditorIRDOM\", html, \"result\", vditor.options.debugger);\n    if (isIRElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n        // 更新正文中的 tip\n        if (footnoteElement) {\n            var footnoteItemElement = (0,hasClosest/* hasClosestByAttribute */.a1)(vditor.ir.element.querySelector(\"wbr\"), \"data-type\", \"footnotes-def\");\n            if (footnoteItemElement) {\n                var footnoteItemText = footnoteItemElement.textContent;\n                var marker = footnoteItemText.substring(1, footnoteItemText.indexOf(\"]:\"));\n                var footnoteRefElement = vditor.ir.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\".concat(marker, \"\\\"]\"));\n                if (footnoteRefElement) {\n                    footnoteRefElement.setAttribute(\"aria-label\", footnoteItemText.substr(marker.length + 3).trim().substr(0, 24));\n                }\n            }\n        }\n    }\n    //  linkref 合并及添加\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item;\n        }\n        else {\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n    }\n    // 脚注合并后添加的末尾\n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item;\n        }\n        else {\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n    });\n    renderToc(vditor);\n    process_processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/hotKey.ts\n\n// 是否匹配 ⇧⌘[] / ⌘[] / ⌥[] / ⌥⌘[] / ⇧Tab / []\nvar matchHotKey = function (hotKey, event) {\n    if (hotKey === \"\") {\n        return false;\n    }\n    // []\n    if (hotKey.indexOf(\"⇧\") === -1 && hotKey.indexOf(\"⌘\") === -1 && hotKey.indexOf(\"⌥\") === -1) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.code === hotKey) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧Tab\n    if (hotKey === \"⇧Tab\") {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.shiftKey && event.code === \"Tab\") {\n            return true;\n        }\n        return false;\n    }\n    var hotKeys = hotKey.split(\"\");\n    if (hotKey.startsWith(\"⌥\")) {\n        // 是否匹配 ⌥[] / ⌥⌘[]\n        var keyCode = hotKeys.length === 3 ? hotKeys[2] : hotKeys[1];\n        if ((hotKeys.length === 3 ? (0,compatibility/* isCtrl */.yl)(event) : !(0,compatibility/* isCtrl */.yl)(event)) && event.altKey && !event.shiftKey &&\n            event.code === (/^[0-9]$/.test(keyCode) ? \"Digit\" : \"Key\") + keyCode) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧⌘[] / ⌘[]\n    if (hotKey === \"⌘Enter\") {\n        hotKeys = [\"⌘\", \"Enter\"];\n    }\n    var hasShift = hotKeys.length > 2 && (hotKeys[0] === \"⇧\");\n    var key = (hasShift ? hotKeys[2] : hotKeys[1]);\n    if (hasShift && ((0,compatibility/* isFirefox */.vU)() || !/Mac/.test(navigator.platform))) {\n        if (key === \"-\") {\n            key = \"_\";\n        }\n        else if (key === \"=\") {\n            key = \"+\";\n        }\n    }\n    if ((0,compatibility/* isCtrl */.yl)(event) && event.key.toLowerCase() === key.toLowerCase() && !event.altKey\n        && ((!hasShift && !event.shiftKey) || (hasShift && event.shiftKey))) {\n        return true;\n    }\n    return false;\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/expandMarker.ts\n\n\nvar nextIsNode = function (range) {\n    var startContainer = range.startContainer;\n    if (startContainer.nodeType === 3 && startContainer.nodeValue.length !== range.startOffset) {\n        return false;\n    }\n    var nextNode = startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (!nextNode) {\n        // *em*|**string**\n        var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker\");\n        if (markerElement && !markerElement.nextSibling) {\n            var parentNextNode = startContainer.parentElement.parentElement.nextSibling;\n            if (parentNextNode && parentNextNode.nodeType !== 3 &&\n                parentNextNode.classList.contains(\"vditor-ir__node\")) {\n                return parentNextNode;\n            }\n        }\n        return false;\n    }\n    else if (nextNode && nextNode.nodeType !== 3 && nextNode.classList.contains(\"vditor-ir__node\") &&\n        !nextNode.getAttribute(\"data-block\")) {\n        // test|*em*\n        return nextNode;\n    }\n    return false;\n};\nvar previousIsNode = function (range) {\n    var startContainer = range.startContainer;\n    var previousNode = startContainer.previousSibling;\n    if (startContainer.nodeType === 3 && range.startOffset === 0 && previousNode && previousNode.nodeType !== 3 &&\n        // *em*|text\n        previousNode.classList.contains(\"vditor-ir__node\") && !previousNode.getAttribute(\"data-block\")) {\n        return previousNode;\n    }\n    return false;\n};\nvar expandMarker = function (range, vditor) {\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    var nodeElement = (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.startContainer, \"vditor-ir__node\");\n    var nodeElementEnd = !range.collapsed && (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.endContainer, \"vditor-ir__node\");\n    // 选中文本为同一个 nodeElement 内时，需要展开\n    if (!range.collapsed && (!nodeElement || nodeElement !== nodeElementEnd)) {\n        return;\n    }\n    if (nodeElement) {\n        nodeElement.classList.add(\"vditor-ir__node--expand\");\n        nodeElement.classList.remove(\"vditor-ir__node--hidden\");\n        // https://github.com/Vanessa219/vditor/issues/615 safari中光标位置跳动\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    var nextNode = nextIsNode(range);\n    if (nextNode) {\n        nextNode.classList.add(\"vditor-ir__node--expand\");\n        nextNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n    var previousNode = previousIsNode(range);\n    if (previousNode) {\n        previousNode.classList.add(\"vditor-ir__node--expand\");\n        previousNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processKeydown = function (vditor, event) {\n    vditor.ir.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    // 斜体、粗体、内联代码块中换行\n    var newlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-newline\", \"1\");\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.key === \"Enter\" && newlineElement\n        && range.startOffset < newlineElement.textContent.length) {\n        var beforeMarkerElement = newlineElement.previousElementSibling;\n        if (beforeMarkerElement) {\n            range.insertNode(document.createTextNode(beforeMarkerElement.textContent));\n            range.collapse(false);\n        }\n        var afterMarkerElement = newlineElement.nextSibling;\n        if (afterMarkerElement) {\n            range.insertNode(document.createTextNode(afterMarkerElement.textContent));\n            range.collapse(true);\n        }\n    }\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 代码块\n    var preRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker--pre\");\n    if (preRenderElement && preRenderElement.tagName === \"PRE\") {\n        var codeRenderElement = preRenderElement.firstChild;\n        if (fixCodeBlock(vditor, event, preRenderElement, range)) {\n            return true;\n        }\n        // 数学公式上无元素，按上或左将添加新块\n        if ((codeRenderElement.getAttribute(\"data-type\") === \"math-block\"\n            || codeRenderElement.getAttribute(\"data-type\") === \"html-block\") &&\n            insertBeforeBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n        // 代码块下无元素或者为代码块/table 元素，添加空块\n        if (insertAfterBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n    }\n    // 代码块语言\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (event.key === \"Enter\" || event.key === \"Tab\") {\n            range.selectNodeContents(preBeforeElement.nextElementSibling.firstChild);\n            range.collapse(true);\n            event.preventDefault();\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n        if (event.key === \"Backspace\") {\n            var start = (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start;\n            if (start === 1) { // 删除零宽空格\n                range.setStart(startContainer, 0);\n            }\n            if (start === 2) { // 删除时清空自动补全语言\n                vditor.hint.recentLanguage = \"\";\n            }\n        }\n        if (insertBeforeBlock(vditor, event, range, preBeforeElement, preBeforeElement.parentElement)) {\n            // 上无元素，按上或左将添加新块\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n    }\n    // table\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (event.key.indexOf(\"Arrow\") > -1 && cellElement) {\n        var tableElement = isFirstCell(cellElement);\n        if (tableElement && insertBeforeBlock(vditor, event, range, cellElement, tableElement)) {\n            return true;\n        }\n        var table2Element = isLastCell(cellElement);\n        if (table2Element && insertAfterBlock(vditor, event, range, cellElement, table2Element)) {\n            return true;\n        }\n    }\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length > 1) {\n                process_processHeading(vditor, headingMarkerElement.textContent.substr(1));\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length < 6) {\n                process_processHeading(vditor, headingMarkerElement.textContent.trim() + \"# \");\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement && blockElement.previousElementSibling\n            && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\"\n            && (blockElement.previousElementSibling.getAttribute(\"data-type\") === \"code-block\" ||\n                blockElement.previousElementSibling.getAttribute(\"data-type\") === \"math-block\")) {\n            var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n            if (rangeStart === 0 || (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                range.selectNodeContents(blockElement.previousElementSibling.querySelector(\".vditor-ir__marker--pre code\"));\n                range.collapse(false);\n                expandMarker(range, vditor);\n                if (blockElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    // 当前块为空且不是最后一个时，需要删除\n                    blockElement.remove();\n                    process_processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n        // 光标位于标题前，marker 后\n        if (headingElement) {\n            var headingLength = headingElement.firstElementChild.textContent.length;\n            if ((0,selection/* getSelectPosition */.im)(headingElement, vditor.ir.element).start === headingLength) {\n                range.setStart(headingElement.firstElementChild.firstChild, headingLength - 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n    }\n    if ((event.key === \"ArrowUp\" || event.key === \"ArrowDown\") && blockElement) {\n        // https://github.com/Vanessa219/vditor/issues/358\n        blockElement.querySelectorAll(\".vditor-ir__node\").forEach(function (item) {\n            if (!item.contains(startContainer)) {\n                item.classList.add(\"vditor-ir__node--hidden\");\n            }\n        });\n        if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n            return true;\n        }\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(971);\n;// CONCATENATED MODULE: ./src/ts/sv/combineFootnote.ts\n/**\n * 合并脚注\n * @param elements vditor.sv.element\n * @param afterCombine 每个脚注块合并完成后的回调, param: root为合并后的脚注块\n */\nvar combineFootnote = function (elements, afterCombine) {\n    elements.querySelectorAll(\"[data-type=footnotes-link]\").forEach(function (el) {\n        var root = el.parentElement;\n        var footnote = root.nextSibling;\n        // 寻找所有该脚注的块\n        while (footnote) {\n            if (footnote.textContent.startsWith(\"    \")) {\n                // 解析到四个空格，加入到root并继续解析\n                var thisNode = footnote;\n                thisNode.childNodes.forEach(function (node) {\n                    root.append(node.cloneNode(true));\n                });\n                footnote = footnote.nextSibling;\n                thisNode.remove();\n            }\n            else {\n                // 非空格停止解析\n                break;\n            }\n        }\n        afterCombine && afterCombine(root);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/inputEvent.ts\n\n\n\n\n\nvar inputEvent = function (vditor, event) {\n    var _a;\n    var range = getSelection().getRangeAt(0).cloneRange();\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    // 不调用 lute 解析\n    if (blockElement && event && (event.inputType === \"deleteContentBackward\" || event.data === \" \")) {\n        // 开始可以输入空格\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start;\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        if (startSpace) {\n            processAfterRender(vditor);\n            return;\n        }\n        if (event.inputType === \"deleteContentBackward\") {\n            // https://github.com/Vanessa219/vditor/issues/584 代码块 marker 删除\n            var codeBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-open-marker\") ||\n                (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-close-marker\");\n            if (codeBlockMarkerElement) {\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-close-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-open-marker\");\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-open-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-close-marker\", false);\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/877 数学公式输入删除生成节点\n            var mathBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"math-block-open-marker\");\n            if (mathBlockMarkerElement) {\n                var mathBlockCloseElement = mathBlockMarkerElement.nextElementSibling.nextElementSibling;\n                if (mathBlockCloseElement && mathBlockCloseElement.getAttribute(\"data-type\") === \"math-block-close-marker\") {\n                    mathBlockCloseElement.remove();\n                    processAfterRender(vditor);\n                }\n                return;\n            }\n            blockElement.querySelectorAll('[data-type=\"code-block-open-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            blockElement.querySelectorAll('[data-type=\"code-block-close-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            // 标题删除\n            var headingElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"heading-marker\");\n            if (headingElement && headingElement.textContent.indexOf(\"#\") === -1) {\n                processAfterRender(vditor);\n                return;\n            }\n        }\n        // 删除或空格不解析，否则会 format 回去\n        if ((event.data === \" \" || event.inputType === \"deleteContentBackward\") &&\n            ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"padding\") // 场景：b 前进行删除 [> 1. a\\n>   b]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\") // 场景：删除最后一个字符 [* 1\\n* ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\") // 场景：删除最后一个字符 [* [ ] ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\") // 场景：删除最后一个字符 [> ]\n            )) {\n            processAfterRender(vditor);\n            return;\n        }\n    }\n    if (blockElement && blockElement.textContent.trimRight() === \"$$\") {\n        // 内联数学公式\n        processAfterRender(vditor);\n        return;\n    }\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    if (((_a = blockElement.firstElementChild) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.sv.element;\n    }\n    if ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-link\")) {\n        // 修改脚注角标\n        blockElement = vditor.sv.element;\n    }\n    // 添加光标位置\n    if (blockElement.textContent.indexOf(Lute.Caret) === -1) {\n        // 点击工具栏会插入 Caret\n        range.insertNode(document.createTextNode(Lute.Caret));\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    blockElement.querySelectorAll(\"font\").forEach(function (item) {\n        item.outerHTML = item.innerHTML;\n    });\n    var html = blockElement.textContent;\n    var isSVElement = blockElement.isEqualNode(vditor.sv.element);\n    if (isSVElement) {\n        html = blockElement.textContent;\n    }\n    else {\n        // 添加前一个块元素\n        if (blockElement.previousElementSibling) {\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (blockElement.previousElementSibling && html.indexOf(\"---\\n\") === 0) {\n            // 确认 yaml-front 是否为首行\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // 添加链接引用\n        var footnotes_1 = \"\";\n        vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item, index) {\n            if (item && !blockElement.isEqualNode(item.parentElement)) {\n                footnotes_1 += item.parentElement.textContent + \"\\n\";\n                item.parentElement.remove();\n            }\n        });\n        // 添加脚注到文章头，便于lute处理\n        vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\").forEach(function (item, index) {\n            if (item && !blockElement.isEqualNode(item.parentElement)) {\n                footnotes_1 += item.parentElement.textContent + \"\\n\";\n                item.parentElement.remove();\n            }\n        });\n        html = footnotes_1 + html;\n    }\n    html = processSpinVditorSVDOM(html, vditor);\n    if (isSVElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", item.parentElement);\n    });\n    // 合并脚注\n    combineFootnote(vditor.sv.element, function (root) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", root);\n    });\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n    processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/processKeydown.ts\n\n\n\n\n\n\n\nvar processKeydown_processKeydown = function (vditor, event) {\n    var _a, _b, _c, _d, _e;\n    vditor.sv.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\") {\n        return false;\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var textElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"text\");\n    // blockquote\n    var blockquoteMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\");\n    if (!blockquoteMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        textElement.previousElementSibling.getAttribute(\"data-type\") === \"blockquote-marker\") {\n        blockquoteMarkerElement = textElement.previousElementSibling;\n    }\n    // 回车逐个删除 blockquote marker 标记\n    if (blockquoteMarkerElement) {\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey &&\n            blockquoteMarkerElement.nextElementSibling.textContent.trim() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(blockquoteMarkerElement, vditor.sv.element, range).start ===\n                blockquoteMarkerElement.textContent.length) {\n            if (((_a = blockquoteMarkerElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"padding\") {\n                // 列表中存在多行 BQ 时，标记回车需跳出列表\n                blockquoteMarkerElement.previousElementSibling.setAttribute(\"data-action\", \"enter-remove\");\n            }\n            blockquoteMarkerElement.remove();\n            processAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // list item\n    var listMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\");\n    var taskMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\");\n    var listLastMarkerElement = listMarkerElement;\n    if (!listLastMarkerElement) {\n        if (taskMarkerElement && taskMarkerElement.nextElementSibling.getAttribute(\"data-type\") !== \"task-marker\") {\n            listLastMarkerElement = taskMarkerElement;\n        }\n    }\n    if (!listLastMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        (textElement.previousElementSibling.getAttribute(\"data-type\") === \"li-marker\" ||\n            textElement.previousElementSibling.getAttribute(\"data-type\") === \"task-marker\")) {\n        listLastMarkerElement = textElement.previousElementSibling;\n    }\n    if (listLastMarkerElement) {\n        var startIndex = (0,selection/* getSelectPosition */.im)(listLastMarkerElement, vditor.sv.element, range).start;\n        var isTask = listLastMarkerElement.getAttribute(\"data-type\") === \"task-marker\";\n        var listFirstMarkerElement = listLastMarkerElement;\n        if (isTask) {\n            listFirstMarkerElement = listLastMarkerElement.previousElementSibling.previousElementSibling\n                .previousElementSibling;\n        }\n        if (startIndex === listLastMarkerElement.textContent.length) {\n            // 回车清空列表标记符\n            if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n                listLastMarkerElement.nextElementSibling.textContent.trim() === \"\") {\n                if (((_b = listFirstMarkerElement.previousElementSibling) === null || _b === void 0 ? void 0 : _b.getAttribute(\"data-type\")) === \"padding\") {\n                    listFirstMarkerElement.previousElementSibling.remove();\n                    inputEvent(vditor);\n                }\n                else {\n                    if (isTask) {\n                        listFirstMarkerElement.remove();\n                        listLastMarkerElement.previousElementSibling.previousElementSibling.remove();\n                        listLastMarkerElement.previousElementSibling.remove();\n                    }\n                    listLastMarkerElement.nextElementSibling.remove();\n                    listLastMarkerElement.remove();\n                    processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n            // 第一个 marker 后 tab 进行缩进\n            if (event.key === \"Tab\") {\n                if (event.shiftKey) {\n                    if (listFirstMarkerElement.previousElementSibling.getAttribute(\"data-type\") === \"padding\") {\n                        listFirstMarkerElement.previousElementSibling.remove();\n                    }\n                }\n                else {\n                    listFirstMarkerElement.insertAdjacentHTML(\"beforebegin\", \"<span data-type=\\\"padding\\\">\".concat(listFirstMarkerElement.textContent.replace(/\\S/g, \" \"), \"</span>\"));\n                }\n                if (/^\\d/.test(listFirstMarkerElement.textContent)) {\n                    listFirstMarkerElement.textContent = listFirstMarkerElement.textContent.replace(/^\\d{1,}/, \"1\");\n                    range.selectNodeContents(listLastMarkerElement.firstChild);\n                    range.collapse(false);\n                }\n                inputEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(startContainer, \"SPAN\");\n    // 回车\n    if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && blockElement) {\n        var isFirst = false;\n        var newLineMatch = blockElement.textContent.match(/^\\n+/);\n        if ((0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element).start <= (newLineMatch ? newLineMatch[0].length : 0)) {\n            // 允许段落开始换行\n            isFirst = true;\n        }\n        var newLineText = \"\\n\";\n        if (spanElement) {\n            if (((_c = spanElement.previousElementSibling) === null || _c === void 0 ? void 0 : _c.getAttribute(\"data-action\")) === \"enter-remove\") {\n                // https://github.com/Vanessa219/vditor/issues/596\n                spanElement.previousElementSibling.remove();\n                processAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                newLineText += processPreviousMarkers(spanElement);\n            }\n        }\n        range.insertNode(document.createTextNode(newLineText));\n        range.collapse(false);\n        if (blockElement && blockElement.textContent.trim() !== \"\" && !isFirst) {\n            inputEvent(vditor);\n        }\n        else {\n            processAfterRender(vditor);\n        }\n        event.preventDefault();\n        return true;\n    }\n    // 删除后光标前有 newline 的处理\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey) {\n        if (spanElement && ((_d = spanElement.previousElementSibling) === null || _d === void 0 ? void 0 : _d.getAttribute(\"data-type\")) === \"newline\" &&\n            (0,selection/* getSelectPosition */.im)(spanElement, vditor.sv.element, range).start === 1 &&\n            // 飘号的处理需在 inputEvent 中，否则上下飘号对不齐\n            spanElement.getAttribute(\"data-type\").indexOf(\"code-block-\") === -1) {\n            // 光标在每一行的第一个字符后\n            range.setStart(spanElement, 0);\n            range.extractContents();\n            if (spanElement.textContent.trim() !== \"\") {\n                inputEvent(vditor);\n            }\n            else {\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 每一段第一个字符前\n        if (blockElement && (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start === 0 &&\n            blockElement.previousElementSibling) {\n            range.extractContents();\n            var previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            if (previousLastElement.getAttribute(\"data-type\") === \"newline\") {\n                previousLastElement.remove();\n                previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            }\n            // 场景：末尾无法删除 [```\\ntext\\n```\\n\\n]\n            if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                previousLastElement.insertAdjacentHTML(\"afterend\", blockElement.innerHTML);\n                blockElement.remove();\n            }\n            if (blockElement.textContent.trim() !== \"\" && !((_e = blockElement.previousElementSibling) === null || _e === void 0 ? void 0 : _e.querySelector('[data-type=\"code-block-open-marker\"]'))) {\n                inputEvent(vditor);\n            }\n            else {\n                if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                    // https://github.com/Vanessa219/vditor/issues/597\n                    range.selectNodeContents(previousLastElement.lastChild);\n                    range.collapse(false);\n                }\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(652);\n;// CONCATENATED MODULE: ./src/ts/ui/setTheme.ts\nvar setTheme = function (vditor) {\n    if (vditor.options.theme === \"dark\") {\n        vditor.element.classList.add(\"vditor--dark\");\n    }\n    else {\n        vditor.element.classList.remove(\"vditor--dark\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ui/initUI.ts\n\n\n\n\n\n\nvar initUI = function (vditor) {\n    vditor.element.innerHTML = \"\";\n    vditor.element.classList.add(\"vditor\");\n    // 支持 RTL\n    if (vditor.options.rtl) {\n        vditor.element.setAttribute(\"dir\", \"rtl\");\n    }\n    setTheme(vditor);\n    (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n    if (typeof vditor.options.height === \"number\") {\n        vditor.element.style.height = vditor.options.height + \"px\";\n    }\n    else {\n        vditor.element.style.height = vditor.options.height;\n    }\n    if (typeof vditor.options.minHeight === \"number\") {\n        vditor.element.style.minHeight = vditor.options.minHeight + \"px\";\n    }\n    if (typeof vditor.options.width === \"number\") {\n        vditor.element.style.width = vditor.options.width + \"px\";\n    }\n    else {\n        vditor.element.style.width = vditor.options.width;\n    }\n    vditor.element.appendChild(vditor.toolbar.element);\n    var contentElement = document.createElement(\"div\");\n    contentElement.className = \"vditor-content\";\n    if (vditor.options.outline.position === \"left\") {\n        contentElement.appendChild(vditor.outline.element);\n    }\n    contentElement.appendChild(vditor.wysiwyg.element.parentElement);\n    contentElement.appendChild(vditor.sv.element);\n    contentElement.appendChild(vditor.ir.element.parentElement);\n    contentElement.appendChild(vditor.preview.element);\n    if (vditor.toolbar.elements.devtools) {\n        contentElement.appendChild(vditor.devtools.element);\n    }\n    if (vditor.options.outline.position === \"right\") {\n        vditor.outline.element.classList.add(\"vditor-outline--right\");\n        contentElement.appendChild(vditor.outline.element);\n    }\n    if (vditor.upload) {\n        contentElement.appendChild(vditor.upload.element);\n    }\n    if (vditor.options.resize.enable) {\n        contentElement.appendChild(vditor.resize.element);\n    }\n    contentElement.appendChild(vditor.hint.element);\n    contentElement.appendChild(vditor.tip.element);\n    vditor.element.appendChild(contentElement);\n    contentElement.addEventListener(\"click\", function () {\n        hidePanel(vditor, [\"subToolbar\"]);\n    });\n    if (vditor.toolbar.elements.export) {\n        // for export pdf\n        vditor.element.insertAdjacentHTML(\"beforeend\", '<iframe id=\"vditorExportIframe\" style=\"width: 100%;height: 0;border: 0\"></iframe>');\n    }\n    setEditMode(vditor, vditor.options.mode, afterRender(vditor));\n    document.execCommand(\"DefaultParagraphSeparator\", false, \"p\");\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1 && typeof window.visualViewport !== \"undefined\") {\n        // https://github.com/Vanessa219/vditor/issues/379\n        var pendingUpdate_1 = false;\n        var viewportHandler = function (event) {\n            if (pendingUpdate_1) {\n                return;\n            }\n            pendingUpdate_1 = true;\n            requestAnimationFrame(function () {\n                pendingUpdate_1 = false;\n                var layoutViewport = vditor.toolbar.element;\n                layoutViewport.style.transform = \"none\";\n                if (layoutViewport.getBoundingClientRect().top < 0) {\n                    layoutViewport.style.transform = \"translate(0, \".concat(-layoutViewport.getBoundingClientRect().top, \"px)\");\n                }\n            });\n        };\n        window.visualViewport.addEventListener(\"scroll\", viewportHandler);\n        window.visualViewport.addEventListener(\"resize\", viewportHandler);\n    }\n};\nvar setPadding = function (vditor) {\n    var minPadding = window.innerWidth <= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH ? 10 : 35;\n    if (vditor.wysiwyg.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.wysiwyg.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.wysiwyg.element.style.padding = \"10px \".concat(Math.max(minPadding, padding), \"px\");\n    }\n    if (vditor.ir.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.ir.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.ir.element.style.padding = \"10px \".concat(Math.max(minPadding, padding), \"px\");\n    }\n    if (vditor.preview.element.style.display !== \"block\") {\n        vditor.toolbar.element.style.paddingLeft = Math.max(5, parseInt(vditor[vditor.currentMode].element.style.paddingLeft || \"0\", 10) +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n    else {\n        vditor.toolbar.element.style.paddingLeft = (5 +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n};\nvar setTypewriterPosition = function (vditor) {\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var height = window.innerHeight;\n    if (typeof vditor.options.height === \"number\") {\n        height = vditor.options.height;\n        if (typeof vditor.options.minHeight === \"number\") {\n            height = Math.max(height, vditor.options.minHeight);\n        }\n        height = Math.min(window.innerHeight, height);\n    }\n    else {\n        height = vditor.element.clientHeight;\n    }\n    if (vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        height = window.innerHeight;\n    }\n    // 由于 Firefox padding-bottom bug，只能使用 :after\n    vditor[vditor.currentMode].element.style.setProperty(\"--editor-bottom\", ((height - vditor.toolbar.element.offsetHeight) / 2) + \"px\");\n};\nvar resizeCb;\nfunction UIUnbindListener() {\n    window.removeEventListener(\"resize\", resizeCb);\n}\nvar afterRender = function (vditor) {\n    setTypewriterPosition(vditor);\n    UIUnbindListener();\n    window.addEventListener(\"resize\", resizeCb = function () {\n        setPadding(vditor);\n        setTypewriterPosition(vditor);\n    });\n    // set default value\n    var initValue = (0,compatibility/* accessLocalStorage */.pK)() && localStorage.getItem(vditor.options.cache.id);\n    if (!vditor.options.cache.enable || !initValue) {\n        if (vditor.options.value) {\n            initValue = vditor.options.value;\n        }\n        else if (vditor.originalInnerHTML) {\n            initValue = vditor.lute.HTML2Md(vditor.originalInnerHTML);\n        }\n        else if (!vditor.options.cache.enable) {\n            initValue = \"\";\n        }\n    }\n    return initValue || \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/highlightToolbarIR.ts\n\n\n\n\n\nvar highlightToolbarIR = function (vditor) {\n    clearTimeout(vditor[vditor.currentMode].hlToolbarTimeoutId);\n    vditor[vditor.currentMode].hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor[vditor.currentMode].element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        if (typeElement.classList.contains(\"vditor-reset\")) {\n            typeElement = typeElement.childNodes[range.startOffset];\n        }\n        var headingElement = vditor.currentMode === \"sv\" ?\n            (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"heading\") : (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if (headingElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        var quoteElement = vditor.currentMode === \"sv\" ? (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"blockquote\") :\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n        if (quoteElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        var strongElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"strong\");\n        if (strongElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        var emElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"em\");\n        if (emElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        var sElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"s\");\n        if (sElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"a\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        var codeBlockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code-block\");\n        if (codeBlockElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"inline-code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n        }\n        var codeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code\");\n        if (codeElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"table\");\n        if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"list\", \"ordered-list\", \"check\", \"line\",\n                \"quote\", \"code\", \"table\"]);\n        }\n    }, 200);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/afterRenderEvent.ts\n\n\nvar afterRenderEvent = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n    vditor.wysiwyg.afterRenderTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/inlineTag.ts\n\n\nvar previoueIsEmptyA = function (node) {\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType !== 3 && previousNode.tagName === \"A\" && !previousNode.previousSibling\n            && previousNode.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && previousNode.nextSibling) {\n            return previousNode;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return false;\n};\nvar nextIsCode = function (range) {\n    var nextNode = range.startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (nextNode && nextNode.nodeType !== 3 && (nextNode.tagName === \"CODE\" ||\n        nextNode.getAttribute(\"data-type\") === \"math-inline\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-entity\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-inline\")) {\n        return true;\n    }\n    return false;\n};\nvar getNextHTML = function (node) {\n    var html = \"\";\n    var nextNode = node.nextSibling;\n    while (nextNode) {\n        if (nextNode.nodeType === 3) {\n            html += nextNode.textContent;\n        }\n        else {\n            html += nextNode.outerHTML;\n        }\n        nextNode = nextNode.nextSibling;\n    }\n    return html;\n};\nvar getPreviousHTML = function (node) {\n    var html = \"\";\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType === 3) {\n            html = previousNode.textContent + html;\n        }\n        else {\n            html = previousNode.outerHTML + html;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return html;\n};\nvar getRenderElementNextNode = function (blockCodeElement) {\n    var nextNode = blockCodeElement;\n    while (nextNode && !nextNode.nextSibling) {\n        nextNode = nextNode.parentElement;\n    }\n    return nextNode.nextSibling;\n};\nvar splitElement = function (range) {\n    var previousHTML = getPreviousHTML(range.startContainer);\n    var nextHTML = getNextHTML(range.startContainer);\n    var text = range.startContainer.textContent;\n    var offset = range.startOffset;\n    var beforeHTML = \"\";\n    var afterHTML = \"\";\n    if (text.substr(0, offset) !== \"\" && text.substr(0, offset) !== constants/* Constants.ZWSP */.g.ZWSP || previousHTML) {\n        beforeHTML = \"\".concat(previousHTML).concat(text.substr(0, offset));\n    }\n    if (text.substr(offset) !== \"\" && text.substr(offset) !== constants/* Constants.ZWSP */.g.ZWSP || nextHTML) {\n        afterHTML = \"\".concat(text.substr(offset)).concat(nextHTML);\n    }\n    return {\n        afterHTML: afterHTML,\n        beforeHTML: beforeHTML,\n    };\n};\nvar modifyPre = function (vditor, range) {\n    // 没有被块元素包裹\n    Array.from(vditor.wysiwyg.element.childNodes).find(function (node) {\n        if (node.nodeType === 3) {\n            var pElement = document.createElement(\"p\");\n            pElement.setAttribute(\"data-block\", \"0\");\n            pElement.textContent = node.textContent;\n            // 为空按下 tab 且 tab = '    ' 时，range.startContainer 不为 node\n            var cloneRangeOffset = range.startContainer.nodeType === 3 ? range.startOffset : node.textContent.length;\n            node.parentNode.insertBefore(pElement, node);\n            node.remove();\n            range.setStart(pElement.firstChild, Math.min(pElement.firstChild.textContent.length, cloneRangeOffset));\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        else if (!node.getAttribute(\"data-block\")) {\n            if (node.tagName === \"P\") {\n                node.remove();\n            }\n            else {\n                if (node.tagName === \"DIV\") {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    // firefox 列表换行产生 div\n                    node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.innerHTML, \"</p>\");\n                }\n                else {\n                    if (node.tagName === \"BR\") {\n                        // firefox 空换行产生 BR\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.outerHTML, \"<wbr></p>\");\n                    }\n                    else {\n                        range.insertNode(document.createElement(\"wbr\"));\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.outerHTML, \"</p>\");\n                    }\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                range = getSelection().getRangeAt(0);\n            }\n            return true;\n        }\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/setHeading.ts\n\n\n\nvar setHeading = function (vditor, tagName) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (!blockElement && vditor.wysiwyg.element.children.length === 0) {\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (blockElement && !blockElement.classList.contains(\"vditor-wysiwyg__block\")) {\n        range.insertNode(document.createElement(\"wbr\"));\n        // Firefox 需要 trim https://github.com/Vanessa219/vditor/issues/207\n        if (blockElement.innerHTML.trim() === \"<wbr>\") {\n            // Firefox 光标对不齐 https://github.com/Vanessa219/vditor/issues/199 1\n            blockElement.innerHTML = \"<wbr><br>\";\n        }\n        if (blockElement.tagName === \"BLOCKQUOTE\" || blockElement.classList.contains(\"vditor-reset\")) {\n            blockElement.innerHTML = \"<\".concat(tagName, \" data-block=\\\"0\\\">\").concat(blockElement.innerHTML.trim(), \"</\").concat(tagName, \">\");\n        }\n        else {\n            blockElement.outerHTML = \"<\".concat(tagName, \" data-block=\\\"0\\\">\").concat(blockElement.innerHTML.trim(), \"</\").concat(tagName, \">\");\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        renderToc(vditor);\n    }\n};\nvar removeHeading = function (vditor) {\n    var range = getSelection().getRangeAt(0);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (blockElement) {\n        range.insertNode(document.createElement(\"wbr\"));\n        blockElement.outerHTML = \"<p data-block=\\\"0\\\">\".concat(blockElement.innerHTML, \"</p>\");\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n    }\n    vditor.wysiwyg.popover.style.display = \"none\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/showCode.ts\n\n\nvar showCode = function (previewElement, vditor, first) {\n    if (first === void 0) { first = true; }\n    var previousElement = previewElement.previousElementSibling;\n    var range = previousElement.ownerDocument.createRange();\n    if (previousElement.tagName === \"CODE\") {\n        previousElement.style.display = \"inline-block\";\n        if (first) {\n            range.setStart(previousElement.firstChild, 1);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n        }\n    }\n    else {\n        previousElement.style.display = \"block\";\n        if (!previousElement.firstChild.firstChild) {\n            previousElement.firstChild.appendChild(document.createTextNode(\"\"));\n        }\n        range.selectNodeContents(previousElement.firstChild);\n    }\n    if (first) {\n        range.collapse(true);\n    }\n    else {\n        range.collapse(false);\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    if (previewElement.firstElementChild.classList.contains(\"language-mindmap\")) {\n        return;\n    }\n    scrollCenter(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar wysiwyg_processKeydown_processKeydown = function (vditor, event) {\n    // Chrome firefox 触发 compositionend 机制不一致 https://github.com/Vanessa219/vditor/issues/188\n    vditor.wysiwyg.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // table\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // code render\n    var codeRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-wysiwyg__block\");\n    if (codeRenderElement) {\n        // esc: 退出编辑，仅展示渲染\n        if (event.key === \"Escape\" && codeRenderElement.children.length === 2) {\n            vditor.wysiwyg.popover.style.display = \"none\";\n            codeRenderElement.firstElementChild.style.display = \"none\";\n            vditor.wysiwyg.element.blur();\n            event.preventDefault();\n            return true;\n        }\n        // alt+enter: 代码块切换到语言 https://github.com/Vanessa219/vditor/issues/54\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.altKey && event.key === \"Enter\" &&\n            codeRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n            var inputElemment = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElemment.focus();\n            inputElemment.select();\n            event.preventDefault();\n            return true;\n        }\n        if (codeRenderElement.getAttribute(\"data-block\") === \"0\") {\n            if (fixCodeBlock(vditor, event, codeRenderElement.firstElementChild, range)) {\n                return true;\n            }\n            if (insertAfterBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n            if (codeRenderElement.getAttribute(\"data-type\") !== \"yaml-front-matter\" &&\n                insertBeforeBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n        }\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 顶层 blockquote\n    var topBQElement = (0,hasClosest/* hasTopClosestByTag */.E2)(startContainer, \"BLOCKQUOTE\");\n    if (topBQElement) {\n        if (!event.shiftKey && event.altKey && event.key === \"Enter\") {\n            if (!(0,compatibility/* isCtrl */.yl)(event)) {\n                // alt+enter: 跳出多层 blockquote 嵌套之后 https://github.com/Vanessa219/vditor/issues/51\n                range.setStartAfter(topBQElement);\n            }\n            else {\n                // ctrl+alt+enter: 跳出多层 blockquote 嵌套之前\n                range.setStartBefore(topBQElement);\n            }\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            var node = document.createElement(\"p\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.innerHTML = \"\\n\";\n            range.insertNode(node);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // h1-h6\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        if (headingElement.tagName === \"H6\" && startContainer.textContent.length === range.startOffset &&\n            !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\") {\n            // enter: H6 回车解析问题 https://github.com/Vanessa219/vditor/issues/48\n            var pTempElement = document.createElement(\"p\");\n            pTempElement.textContent = \"\\n\";\n            pTempElement.setAttribute(\"data-block\", \"0\");\n            startContainer.parentElement.insertAdjacentElement(\"afterend\", pTempElement);\n            range.setStart(pTempElement, 0);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) - 1;\n            if (index > 0) {\n                setHeading(vditor, \"h\".concat(index));\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) + 1;\n            if (index < 7) {\n                setHeading(vditor, \"h\".concat(index));\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && headingElement.textContent.length === 1) {\n            // 删除后变为空\n            removeHeading(vditor);\n        }\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // alt+enter\n    if (event.altKey && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey) {\n        // 切换到链接、链接引用、脚注引用弹出的输入框中\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"A\");\n        var linRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"link-ref\");\n        var footnoteRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-ref\");\n        if (aElement || linRefElement || footnoteRefElement ||\n            (headingElement && headingElement.tagName.length === 2)) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n            inputElement.focus();\n            inputElement.select();\n        }\n    }\n    // 删除有子工具栏的块\n    if (removeBlockElement(vditor, event)) {\n        return true;\n    }\n    // 对有子工具栏的块上移\n    if (matchHotKey(\"⇧⌘U\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"up\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 对有子工具栏的块下移\n    if (matchHotKey(\"⇧⌘D\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"down\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    // shift+enter：软换行，但 table/hr/heading 处理、cell 内换行、block render 换行处理单独写在上面，li & p 使用浏览器默认\n    if (!(0,compatibility/* isCtrl */.yl)(event) && event.shiftKey && !event.altKey && event.key === \"Enter\" &&\n        startContainer.parentElement.tagName !== \"LI\" && startContainer.parentElement.tagName !== \"P\") {\n        if ([\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n            // 行内元素软换行需继续 https://github.com/Vanessa219/vditor/issues/170\n            range.insertNode(document.createTextNode(\"\\n\" + constants/* Constants.ZWSP */.g.ZWSP));\n        }\n        else {\n            range.insertNode(document.createTextNode(\"\\n\"));\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        afterRenderEvent(vditor);\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // 删除\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement) {\n            if (blockElement.previousElementSibling\n                && blockElement.previousElementSibling.classList.contains(\"vditor-wysiwyg__block\")\n                && blockElement.previousElementSibling.getAttribute(\"data-block\") === \"0\"\n                // https://github.com/Vanessa219/vditor/issues/946\n                && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\") {\n                var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n                if ((rangeStart === 0 && range.startOffset === 0) || // https://github.com/Vanessa219/vditor/issues/894\n                    (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                    // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                    showCode(blockElement.previousElementSibling.lastElementChild, vditor, false);\n                    if (blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        // 当前块为空且不是最后一个时，需要删除\n                        blockElement.remove();\n                        afterRenderEvent(vditor);\n                    }\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            var rangeStartOffset = range.startOffset;\n            if (range.toString() === \"\" && startContainer.nodeType === 3 &&\n                startContainer.textContent.charAt(rangeStartOffset - 2) === \"\\n\" &&\n                startContainer.textContent.charAt(rangeStartOffset - 1) !== constants/* Constants.ZWSP */.g.ZWSP\n                && [\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n                // 保持行内元素软换行需继续的一致性\n                startContainer.textContent = startContainer.textContent.substring(0, rangeStartOffset - 1) +\n                    constants/* Constants.ZWSP */.g.ZWSP;\n                range.setStart(startContainer, rangeStartOffset);\n                range.collapse(true);\n                afterRenderEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n            // inline code、math、html 行前零宽字符后进行删除\n            if (startContainer.textContent === constants/* Constants.ZWSP */.g.ZWSP && range.startOffset === 1\n                && !startContainer.previousSibling && nextIsCode(range)) {\n                startContainer.textContent = \"\";\n                // 不能返回，其前面为代码渲染块时需进行以下处理：修正光标位于 inline math/html 前，按下删除按钮 code 中内容会被删除\n            }\n            // 修正光标位于 inline math/html, html-entity 前，按下删除按钮 code 中内容会被删除, 不能返回，还需要进行后续处理\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='math-inline']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='html-entity']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n        }\n    }\n    if ((0,compatibility/* isFirefox */.vU)() && range.startOffset === 1 && startContainer.textContent.indexOf(constants/* Constants.ZWSP */.g.ZWSP) > -1 &&\n        startContainer.previousSibling && startContainer.previousSibling.nodeType !== 3 &&\n        startContainer.previousSibling.tagName === \"CODE\" &&\n        (event.key === \"Backspace\" || event.key === \"ArrowLeft\")) {\n        // https://github.com/Vanessa219/vditor/issues/410\n        range.selectNodeContents(startContainer.previousSibling);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n        event.preventDefault();\n        return true;\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (event.key === \"ArrowDown\") {\n        // 光标位于内联数学公式前，按下键无作用\n        var nextElement = startContainer.nextSibling;\n        if (nextElement && nextElement.nodeType !== 3 && nextElement.getAttribute(\"data-type\") === \"math-inline\") {\n            range.setStartAfter(nextElement);\n        }\n    }\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar removeBlockElement = function (vditor, event) {\n    // 删除有子工具栏的块\n    if (matchHotKey(\"⇧⌘X\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"remove\"]');\n        if (itemElement) {\n            itemElement.click();\n        }\n        event.preventDefault();\n        return true;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/highlightToolbarWYSIWYG.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar highlightToolbarWYSIWYG = function (vditor) {\n    clearTimeout(vditor.wysiwyg.hlToolbarTimeoutId);\n    vditor.wysiwyg.hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor.wysiwyg.element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = getSelection().getRangeAt(0);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        else {\n            typeElement = typeElement.childNodes[range.startOffset >= typeElement.childNodes.length\n                ? typeElement.childNodes.length - 1\n                : range.startOffset];\n        }\n        var footnotesElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-block\");\n        if (footnotesElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(footnotesElement, vditor);\n            setPopoverPosition(vditor, footnotesElement);\n            return;\n        }\n        // 工具栏高亮和禁用\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"B\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRONG\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"I\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"EM\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRIKE\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"S\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        // comments\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment--focus\")\n            .forEach(function (item) {\n            item.classList.remove(\"vditor-comment--focus\");\n        });\n        var commentElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-comment\");\n        if (commentElement) {\n            var ids_1 = commentElement.getAttribute(\"data-cmtids\").split(\" \");\n            if (ids_1.length > 1 && commentElement.nextSibling.isSameNode(commentElement.nextElementSibling)) {\n                var nextIds_1 = commentElement.nextElementSibling\n                    .getAttribute(\"data-cmtids\")\n                    .split(\" \");\n                ids_1.find(function (id) {\n                    if (nextIds_1.includes(id)) {\n                        ids_1 = [id];\n                        return true;\n                    }\n                });\n            }\n            vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(ids_1[0]) > -1) {\n                    item.classList.add(\"vditor-comment--focus\");\n                }\n            });\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"A\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TABLE\");\n        var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"CODE\")) {\n            if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"PRE\")) {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"inline-code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n            }\n        }\n        else if (headingElement) {\n            disableToolbar(vditor.toolbar.elements, [\"bold\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        else if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"table\"]);\n        }\n        // toc popover\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-toc\");\n        if (tocElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(tocElement, vditor);\n            setPopoverPosition(vditor, tocElement);\n            return;\n        }\n        // quote popover\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(typeElement, \"BLOCKQUOTE\");\n        if (blockquoteElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockquoteElement, vditor);\n            genDown(range, blockquoteElement, vditor);\n            genClose(blockquoteElement, vditor);\n            setPopoverPosition(vditor, blockquoteElement);\n        }\n        // list item popover\n        if (liElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, liElement, vditor);\n            genDown(range, liElement, vditor);\n            genClose(liElement, vditor);\n            setPopoverPosition(vditor, liElement);\n        }\n        // table popover\n        if (tableElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var updateTable_1 = function () {\n                var oldRow = tableElement.rows.length;\n                var oldColumn = tableElement.rows[0].cells.length;\n                var row = parseInt(input_1.value, 10) || oldRow;\n                var column = parseInt(input2_1.value, 10) || oldColumn;\n                if (row === oldRow && oldColumn === column) {\n                    return;\n                }\n                if (oldColumn !== column) {\n                    var columnDiff = column - oldColumn;\n                    for (var i = 0; i < tableElement.rows.length; i++) {\n                        if (columnDiff > 0) {\n                            for (var j = 0; j < columnDiff; j++) {\n                                if (i === 0) {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<th> </th>\");\n                                }\n                                else {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<td> </td>\");\n                                }\n                            }\n                        }\n                        else {\n                            for (var k = oldColumn - 1; k >= column; k--) {\n                                tableElement.rows[i].cells[k].remove();\n                            }\n                        }\n                    }\n                }\n                if (oldRow !== row) {\n                    var rowDiff = row - oldRow;\n                    if (rowDiff > 0) {\n                        var rowHTML = \"<tr>\";\n                        for (var m = 0; m < column; m++) {\n                            rowHTML += \"<td> </td>\";\n                        }\n                        for (var l = 0; l < rowDiff; l++) {\n                            if (tableElement.querySelector(\"tbody\")) {\n                                tableElement\n                                    .querySelector(\"tbody\")\n                                    .insertAdjacentHTML(\"beforeend\", rowHTML);\n                            }\n                            else {\n                                tableElement\n                                    .querySelector(\"thead\")\n                                    .insertAdjacentHTML(\"afterend\", rowHTML + \"</tr>\");\n                            }\n                        }\n                    }\n                    else {\n                        for (var m = oldRow - 1; m >= row; m--) {\n                            tableElement.rows[m].remove();\n                            if (tableElement.rows.length === 1) {\n                                tableElement.querySelector(\"tbody\").remove();\n                            }\n                        }\n                    }\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            var setAlign_1 = function (type) {\n                setTableAlign(tableElement, type);\n                if (type === \"right\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.add(\"vditor-icon--current\");\n                }\n                else if (type === \"center\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.add(\"vditor-icon--current\");\n                }\n                else {\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    left_1.classList.add(\"vditor-icon--current\");\n                }\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                afterRenderEvent(vditor);\n            };\n            var td = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TD\");\n            var th = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TH\");\n            var alignType = \"left\";\n            if (td) {\n                alignType = td.getAttribute(\"align\") || \"left\";\n            }\n            else if (th) {\n                alignType = th.getAttribute(\"align\") || \"center\";\n            }\n            var left_1 = document.createElement(\"button\");\n            left_1.setAttribute(\"type\", \"button\");\n            left_1.setAttribute(\"aria-label\", window.VditorI18n.alignLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘L\") + \">\");\n            left_1.setAttribute(\"data-type\", \"left\");\n            left_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-left\"></use></svg>';\n            left_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"left\" ? \" vditor-icon--current\" : \"\");\n            left_1.onclick = function () {\n                setAlign_1(\"left\");\n            };\n            var center_1 = document.createElement(\"button\");\n            center_1.setAttribute(\"type\", \"button\");\n            center_1.setAttribute(\"aria-label\", window.VditorI18n.alignCenter + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘C\") + \">\");\n            center_1.setAttribute(\"data-type\", \"center\");\n            center_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>';\n            center_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"center\" ? \" vditor-icon--current\" : \"\");\n            center_1.onclick = function () {\n                setAlign_1(\"center\");\n            };\n            var right_1 = document.createElement(\"button\");\n            right_1.setAttribute(\"type\", \"button\");\n            right_1.setAttribute(\"aria-label\", window.VditorI18n.alignRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘R\") + \">\");\n            right_1.setAttribute(\"data-type\", \"right\");\n            right_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-right\"></use></svg>';\n            right_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"right\" ? \" vditor-icon--current\" : \"\");\n            right_1.onclick = function () {\n                setAlign_1(\"right\");\n            };\n            var insertRowElement = document.createElement(\"button\");\n            insertRowElement.setAttribute(\"type\", \"button\");\n            insertRowElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowBelow + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘=\") + \">\");\n            insertRowElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-row\"></use></svg>';\n            insertRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRow(vditor, range, cellElement);\n                }\n            };\n            var insertRowBElement = document.createElement(\"button\");\n            insertRowBElement.setAttribute(\"type\", \"button\");\n            insertRowBElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowAbove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘F\") + \">\");\n            insertRowBElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-rowb\"></use></svg>';\n            insertRowBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRowAbove(vditor, range, cellElement);\n                }\n            };\n            var insertColumnElement = document.createElement(\"button\");\n            insertColumnElement.setAttribute(\"type\", \"button\");\n            insertColumnElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘=\") + \">\");\n            insertColumnElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-column\"></use></svg>';\n            insertColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement);\n                }\n            };\n            var insertColumnBElement = document.createElement(\"button\");\n            insertColumnBElement.setAttribute(\"type\", \"button\");\n            insertColumnBElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘G\") + \">\");\n            insertColumnBElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-columnb\"></use></svg>';\n            insertColumnBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n                }\n            };\n            var deleteRowElement = document.createElement(\"button\");\n            deleteRowElement.setAttribute(\"type\", \"button\");\n            deleteRowElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-row\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘-\") + \">\");\n            deleteRowElement.setAttribute(\"data-type\", \"deleteRow\");\n            deleteRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-row\"></use></svg>';\n            deleteRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteRow(vditor, range, cellElement);\n                }\n            };\n            var deleteColumnElement = document.createElement(\"button\");\n            deleteColumnElement.setAttribute(\"type\", \"button\");\n            deleteColumnElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-column\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘-\") + \">\");\n            deleteColumnElement.setAttribute(\"data-type\", \"deleteColumn\");\n            deleteColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-column\"></use></svg>';\n            deleteColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteColumn(vditor, range, tableElement, cellElement);\n                }\n            };\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.row);\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_1 = document.createElement(\"input\");\n            inputWrap.appendChild(input_1);\n            input_1.type = \"number\";\n            input_1.min = \"1\";\n            input_1.className = \"vditor-input\";\n            input_1.style.width = \"42px\";\n            input_1.style.textAlign = \"center\";\n            input_1.setAttribute(\"placeholder\", window.VditorI18n.row);\n            input_1.value = tableElement.rows.length.toString();\n            input_1.oninput = function () {\n                updateTable_1();\n            };\n            input_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input2_1.focus();\n                    input2_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            var input2Wrap = document.createElement(\"span\");\n            input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.column);\n            input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input2_1 = document.createElement(\"input\");\n            input2Wrap.appendChild(input2_1);\n            input2_1.type = \"number\";\n            input2_1.min = \"1\";\n            input2_1.className = \"vditor-input\";\n            input2_1.style.width = \"42px\";\n            input2_1.style.textAlign = \"center\";\n            input2_1.setAttribute(\"placeholder\", window.VditorI18n.column);\n            input2_1.value = tableElement.rows[0].cells.length.toString();\n            input2_1.oninput = function () {\n                updateTable_1();\n            };\n            input2_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input_1.focus();\n                    input_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genUp(range, tableElement, vditor);\n            genDown(range, tableElement, vditor);\n            genClose(tableElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", left_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", center_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", right_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            vditor.wysiwyg.popover.insertAdjacentHTML(\"beforeend\", \" x \");\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n            setPopoverPosition(vditor, tableElement);\n        }\n        // link ref popover\n        var linkRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"link-ref\");\n        if (linkRefElement) {\n            genLinkRefPopover(vditor, linkRefElement, range);\n        }\n        // footnote popover\n        var footnotesRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-ref\");\n        if (footnotesRefElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_2 = document.createElement(\"input\");\n            inputWrap.appendChild(input_2);\n            input_2.className = \"vditor-input\";\n            input_2.setAttribute(\"placeholder\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_2.style.width = \"120px\";\n            input_2.value = footnotesRefElement.getAttribute(\"data-footnotes-label\");\n            input_2.oninput = function () {\n                if (input_2.value.trim() !== \"\") {\n                    footnotesRefElement.setAttribute(\"data-footnotes-label\", input_2.value);\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            input_2.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genClose(footnotesRefElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, footnotesRefElement);\n        }\n        // block popover: math-inline, math-block, html-block, html-inline, code-block, html-entity\n        var blockRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-wysiwyg__block\");\n        var isBlock = blockRenderElement ? blockRenderElement.getAttribute(\"data-type\").indexOf(\"block\") > -1 : false;\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-wysiwyg__preview\")\n            .forEach(function (itemElement) {\n            if (!blockRenderElement || (blockRenderElement && isBlock && !blockRenderElement.contains(itemElement))) {\n                var previousElement = itemElement.previousElementSibling;\n                previousElement.style.display = \"none\";\n            }\n        });\n        if (blockRenderElement && isBlock) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockRenderElement, vditor);\n            genDown(range, blockRenderElement, vditor);\n            genClose(blockRenderElement, vditor);\n            if (blockRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n                var languageWrap = document.createElement(\"span\");\n                languageWrap.setAttribute(\"aria-label\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                languageWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n                var language_1 = document.createElement(\"input\");\n                languageWrap.appendChild(language_1);\n                var codeElement_1 = blockRenderElement.firstElementChild.firstElementChild;\n                language_1.className = \"vditor-input\";\n                language_1.setAttribute(\"placeholder\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                language_1.value =\n                    codeElement_1.className.indexOf(\"language-\") > -1\n                        ? codeElement_1.className.split(\"-\")[1].split(\" \")[0]\n                        : \"\";\n                language_1.oninput = function (e) {\n                    if (language_1.value.trim() !== \"\") {\n                        codeElement_1.className = \"language-\".concat(language_1.value);\n                    }\n                    else {\n                        codeElement_1.className = \"\";\n                        vditor.hint.recentLanguage = \"\";\n                    }\n                    if (blockRenderElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                        blockRenderElement.lastElementChild.innerHTML =\n                            blockRenderElement.firstElementChild.innerHTML;\n                        processCodeRender(blockRenderElement.lastElementChild, vditor);\n                    }\n                    afterRenderEvent(vditor);\n                    // 当鼠标点选语言时，触发自定义input事件\n                    if (e.detail === 1) {\n                        // 选择语言后，输入焦点切换到代码输入框\n                        range.setStart(codeElement_1.firstChild, 0);\n                        range.collapse(true);\n                        (0,selection/* setSelectionFocus */.Hc)(range);\n                    }\n                };\n                language_1.onkeydown = function (event) {\n                    if (event.isComposing) {\n                        return;\n                    }\n                    if (removeBlockElement(vditor, event)) {\n                        return;\n                    }\n                    if (event.key === \"Escape\" &&\n                        vditor.hint.element.style.display === \"block\") {\n                        vditor.hint.element.style.display = \"none\";\n                        event.preventDefault();\n                        return;\n                    }\n                    vditor.hint.select(event, vditor);\n                    focusToElement(event, range);\n                };\n                language_1.onkeyup = function (event) {\n                    if (event.isComposing ||\n                        event.key === \"Enter\" ||\n                        event.key === \"ArrowUp\" ||\n                        event.key === \"Escape\" ||\n                        event.key === \"ArrowDown\") {\n                        return;\n                    }\n                    var matchLangData = [];\n                    var key = language_1.value.substring(0, language_1.selectionStart);\n                    (vditor.options.preview.hljs.langs || constants/* Constants.CODE_LANGUAGES */.g.CODE_LANGUAGES).forEach(function (keyName) {\n                        if (keyName.indexOf(key.toLowerCase()) > -1) {\n                            matchLangData.push({\n                                html: keyName,\n                                value: keyName,\n                            });\n                        }\n                    });\n                    vditor.hint.genHTML(matchLangData, key, vditor);\n                    event.preventDefault();\n                };\n                vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", languageWrap);\n            }\n            setPopoverPosition(vditor, blockRenderElement);\n        }\n        else {\n            blockRenderElement = undefined;\n        }\n        if (headingElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_3 = document.createElement(\"input\");\n            inputWrap.appendChild(input_3);\n            input_3.className = \"vditor-input\";\n            input_3.setAttribute(\"placeholder\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_3.style.width = \"120px\";\n            input_3.value = headingElement.getAttribute(\"data-id\") || \"\";\n            input_3.oninput = function () {\n                headingElement.setAttribute(\"data-id\", input_3.value);\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            input_3.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genUp(range, headingElement, vditor);\n            genDown(range, headingElement, vditor);\n            genClose(headingElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, headingElement);\n        }\n        // a popover\n        if (aElement) {\n            genAPopover(vditor, aElement, range);\n        }\n        if (!blockquoteElement &&\n            !liElement &&\n            !tableElement &&\n            !blockRenderElement &&\n            !aElement &&\n            !linkRefElement &&\n            !footnotesRefElement &&\n            !headingElement &&\n            !tocElement) {\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-block\", \"0\");\n            if (blockElement &&\n                blockElement.parentElement.isEqualNode(vditor.wysiwyg.element)) {\n                vditor.wysiwyg.popover.innerHTML = \"\";\n                genUp(range, blockElement, vditor);\n                genDown(range, blockElement, vditor);\n                genClose(blockElement, vditor);\n                setPopoverPosition(vditor, blockElement);\n            }\n            else {\n                vditor.wysiwyg.popover.style.display = \"none\";\n            }\n        }\n        // 反斜杠特殊处理\n        vditor.wysiwyg.element\n            .querySelectorAll('span[data-type=\"backslash\"] > span')\n            .forEach(function (item) {\n            item.style.display = \"none\";\n        });\n        var backslashElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"backslash\");\n        if (backslashElement) {\n            backslashElement.querySelector(\"span\").style.display = \"inline\";\n        }\n    }, 200);\n};\nvar setPopoverPosition = function (vditor, element) {\n    var targetElement = element;\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(element, \"TABLE\");\n    if (tableElement) {\n        targetElement = tableElement;\n    }\n    vditor.wysiwyg.popover.style.left = \"0\";\n    vditor.wysiwyg.popover.style.display = \"block\";\n    vditor.wysiwyg.popover.style.top =\n        Math.max(-8, targetElement.offsetTop - 21 - vditor.wysiwyg.element.scrollTop) + \"px\";\n    vditor.wysiwyg.popover.style.left =\n        Math.min(targetElement.offsetLeft, vditor.wysiwyg.element.clientWidth - vditor.wysiwyg.popover.clientWidth) + \"px\";\n    vditor.wysiwyg.popover.setAttribute(\"data-top\", (targetElement.offsetTop - 21).toString());\n};\nvar genLinkRefPopover = function (vditor, linkRefElement, range) {\n    if (range === void 0) { range = getSelection().getRangeAt(0); }\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateLinkRef = function () {\n        if (input.value.trim() !== \"\") {\n            if (linkRefElement.tagName === \"IMG\") {\n                linkRefElement.setAttribute(\"alt\", input.value);\n            }\n            else {\n                linkRefElement.textContent = input.value;\n            }\n        }\n        // data-link-label\n        if (input1.value.trim() !== \"\") {\n            linkRefElement.setAttribute(\"data-link-label\", input1.value);\n        }\n        if (typeof vditor.options.input === \"function\") {\n            vditor.options.input(getMarkdown(vditor));\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value =\n        linkRefElement.getAttribute(\"alt\") || linkRefElement.textContent;\n    input.oninput = function () {\n        updateLinkRef();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.linkRef);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.linkRef);\n    input1.value = linkRefElement.getAttribute(\"data-link-label\");\n    input1.oninput = function () {\n        updateLinkRef();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input);\n    };\n    genClose(linkRefElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    setPopoverPosition(vditor, linkRefElement);\n};\nvar genUp = function (range, element, vditor) {\n    var previousElement = element.previousElementSibling;\n    if (!previousElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var upElement = document.createElement(\"button\");\n    upElement.setAttribute(\"type\", \"button\");\n    upElement.setAttribute(\"data-type\", \"up\");\n    upElement.setAttribute(\"aria-label\", window.VditorI18n.up + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘U\") + \">\");\n    upElement.innerHTML = '<svg><use xlink:href=\"#vditor-icon-up\"></use></svg>';\n    upElement.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    upElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        previousElement.insertAdjacentElement(\"beforebegin\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", upElement);\n};\nvar genDown = function (range, element, vditor) {\n    var nextElement = element.nextElementSibling;\n    if (!nextElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var downElement = document.createElement(\"button\");\n    downElement.setAttribute(\"type\", \"button\");\n    downElement.setAttribute(\"data-type\", \"down\");\n    downElement.setAttribute(\"aria-label\", window.VditorI18n.down + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘D\") + \">\");\n    downElement.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-down\"></use></svg>';\n    downElement.className =\n        \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    downElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        nextElement.insertAdjacentElement(\"afterend\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", downElement);\n};\nvar genClose = function (element, vditor) {\n    var close = document.createElement(\"button\");\n    close.setAttribute(\"type\", \"button\");\n    close.setAttribute(\"data-type\", \"remove\");\n    close.setAttribute(\"aria-label\", window.VditorI18n.remove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘X\") + \">\");\n    close.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-trashcan\"></use></svg>';\n    close.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    close.onclick = function () {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        range.setStartAfter(element);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        element.remove();\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        if ([\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"].includes(element.tagName)) {\n            renderToc(vditor);\n        }\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", close);\n};\nvar linkHotkey = function (vditor, element, event, nextInputElement) {\n    if (event.isComposing) {\n        return;\n    }\n    if (event.key === \"Tab\") {\n        nextInputElement.focus();\n        nextInputElement.select();\n        event.preventDefault();\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n        !event.shiftKey &&\n        event.altKey &&\n        event.key === \"Enter\") {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        // firefox 不会打断 link https://github.com/Vanessa219/vditor/issues/193\n        element.insertAdjacentHTML(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n        range.setStartAfter(element.nextSibling);\n        range.collapse(true);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        event.preventDefault();\n    }\n};\nvar genAPopover = function (vditor, aElement, range) {\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateA = function () {\n        if (input.value.trim() !== \"\") {\n            aElement.innerHTML = input.value;\n        }\n        aElement.setAttribute(\"href\", input1.value);\n        aElement.setAttribute(\"title\", input2.value);\n        afterRenderEvent(vditor);\n    };\n    aElement.querySelectorAll(\"[data-marker]\").forEach(function (item) {\n        item.removeAttribute(\"data-marker\");\n    });\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value = aElement.innerHTML || \"\";\n    input.oninput = function () {\n        updateA();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.link);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.link);\n    input1.value = aElement.getAttribute(\"href\") || \"\";\n    input1.oninput = function () {\n        updateA();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input2);\n    };\n    var input2Wrap = document.createElement(\"span\");\n    input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.tooltipText);\n    input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input2 = document.createElement(\"input\");\n    input2Wrap.appendChild(input2);\n    input2.className = \"vditor-input\";\n    input2.setAttribute(\"placeholder\", window.VditorI18n.tooltipText);\n    input2.style.width = \"60px\";\n    input2.value = aElement.getAttribute(\"title\") || \"\";\n    input2.oninput = function () {\n        updateA();\n    };\n    input2.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input);\n    };\n    genClose(aElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n    setPopoverPosition(vditor, aElement);\n};\nvar genImagePopover = function (event, vditor) {\n    var imgElement = event.target;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateImg = function () {\n        imgElement.setAttribute(\"src\", inputElement.value);\n        imgElement.setAttribute(\"alt\", alt.value);\n        imgElement.setAttribute(\"title\", title.value);\n        if (typeof vditor.options.input === \"function\") {\n            vditor.options.input(getMarkdown(vditor));\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.imageURL);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var inputElement = document.createElement(\"input\");\n    inputWrap.appendChild(inputElement);\n    inputElement.className = \"vditor-input\";\n    inputElement.setAttribute(\"placeholder\", window.VditorI18n.imageURL);\n    inputElement.value = imgElement.getAttribute(\"src\") || \"\";\n    inputElement.oninput = function () {\n        updateImg();\n    };\n    inputElement.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var altWrap = document.createElement(\"span\");\n    altWrap.setAttribute(\"aria-label\", window.VditorI18n.alternateText);\n    altWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var alt = document.createElement(\"input\");\n    altWrap.appendChild(alt);\n    alt.className = \"vditor-input\";\n    alt.setAttribute(\"placeholder\", window.VditorI18n.alternateText);\n    alt.style.width = \"52px\";\n    alt.value = imgElement.getAttribute(\"alt\") || \"\";\n    alt.oninput = function () {\n        updateImg();\n    };\n    alt.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var titleWrap = document.createElement(\"span\");\n    titleWrap.setAttribute(\"aria-label\", window.VditorI18n.title);\n    titleWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var title = document.createElement(\"input\");\n    titleWrap.appendChild(title);\n    title.className = \"vditor-input\";\n    title.setAttribute(\"placeholder\", window.VditorI18n.title);\n    title.value = imgElement.getAttribute(\"title\") || \"\";\n    title.oninput = function () {\n        updateImg();\n    };\n    title.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    genClose(imgElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", altWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", titleWrap);\n    setPopoverPosition(vditor, imgElement);\n};\nvar focusToElement = function (event, range) {\n    if ((!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.key === \"Enter\") || event.key === \"Escape\") {\n        if (range) {\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        return true;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/highlightToolbar.ts\n\n\nvar highlightToolbar = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\") {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/renderDomByMd.ts\n\n\nvar renderDomByMd = function (vditor, md, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    var editorElement = vditor.wysiwyg.element;\n    editorElement.innerHTML = vditor.lute.Md2VditorDOM(md);\n    editorElement.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n        item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n    });\n    afterRenderEvent(vditor, options);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/toolbarEvent.ts\n\n\n\n\n\n\n\n\n\nvar cancelBES = function (range, vditor, commandName) {\n    var element = range.startContainer.parentElement;\n    var jump = false;\n    var lastTagName = \"\";\n    var lastEndTagName = \"\";\n    var splitHTML = splitElement(range);\n    var lastBeforeHTML = splitHTML.beforeHTML;\n    var lastAfterHTML = splitHTML.afterHTML;\n    while (element && !jump) {\n        var tagName = element.tagName;\n        if (tagName === \"STRIKE\") {\n            tagName = \"S\";\n        }\n        if (tagName === \"I\") {\n            tagName = \"EM\";\n        }\n        if (tagName === \"B\") {\n            tagName = \"STRONG\";\n        }\n        if (tagName === \"S\" || tagName === \"STRONG\" || tagName === \"EM\") {\n            var insertHTML = \"\";\n            var previousHTML = \"\";\n            var nextHTML = \"\";\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                previousHTML = getPreviousHTML(element);\n                nextHTML = getNextHTML(element);\n            }\n            if (lastBeforeHTML || previousHTML) {\n                insertHTML = \"\".concat(previousHTML, \"<\").concat(tagName, \">\").concat(lastBeforeHTML, \"</\").concat(tagName, \">\");\n                lastBeforeHTML = insertHTML;\n            }\n            if ((commandName === \"bold\" && tagName === \"STRONG\") ||\n                (commandName === \"italic\" && tagName === \"EM\") ||\n                (commandName === \"strikeThrough\" && tagName === \"S\")) {\n                // 取消\n                insertHTML += \"\".concat(lastTagName).concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\").concat(lastEndTagName);\n                jump = true;\n            }\n            if (lastAfterHTML || nextHTML) {\n                lastAfterHTML = \"<\".concat(tagName, \">\").concat(lastAfterHTML, \"</\").concat(tagName, \">\").concat(nextHTML);\n                insertHTML += lastAfterHTML;\n            }\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                element = element.parentElement;\n                element.innerHTML = insertHTML;\n            }\n            else {\n                element.outerHTML = insertHTML;\n                element = element.parentElement;\n            }\n            lastTagName = \"<\".concat(tagName, \">\") + lastTagName;\n            lastEndTagName = \"</\".concat(tagName, \">\") + lastEndTagName;\n        }\n        else {\n            jump = true;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n};\nvar toolbarEvent = function (vditor, actionBtn, event) {\n    if (vditor.wysiwyg.composingLock // Mac Chrome 中韩文结束会出发此事件，导致重复末尾字符 https://github.com/Vanessa219/vditor/issues/188\n        && event instanceof CustomEvent // 点击按钮应忽略输入法 https://github.com/Vanessa219/vditor/issues/473\n    ) {\n        return;\n    }\n    var useHighlight = true;\n    var useRender = true;\n    if (vditor.wysiwyg.element.querySelector(\"wbr\")) {\n        vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"strike\") {\n            commandName = \"strikeThrough\";\n        }\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"BLOCKQUOTE\");\n            if (!quoteElement) {\n                quoteElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (quoteElement) {\n                useHighlight = false;\n                actionBtn.classList.remove(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\".concat(quoteElement.innerHTML, \"</p>\") : quoteElement.innerHTML;\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"inline-code\") {\n            var inlineCodeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n            if (!inlineCodeElement) {\n                inlineCodeElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (inlineCodeElement) {\n                inlineCodeElement.outerHTML = inlineCodeElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") + \"<wbr>\";\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"link\") {\n            if (!range.collapsed) {\n                document.execCommand(\"unlink\", false, \"\");\n            }\n            else {\n                range.selectNode(range.startContainer.parentElement);\n                document.execCommand(\"unlink\", false, \"\");\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n            if (range.toString() === \"\") {\n                cancelBES(range, vditor, commandName);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    else {\n        // 添加\n        if (vditor.wysiwyg.element.childNodes.length === 0) {\n            vditor.wysiwyg.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"quote\") {\n            if (!blockElement) {\n                blockElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (blockElement) {\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n                // li 中软换行\n                if (liElement && blockElement.contains(liElement)) {\n                    liElement.innerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(liElement.innerHTML, \"</blockquote>\");\n                }\n                else {\n                    blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"inline-code\") {\n            if (range.toString() === \"\") {\n                var node = document.createElement(\"code\");\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else if (range.startContainer.nodeType === 3) {\n                var node = document.createElement(\"code\");\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"code\") {\n            var node = document.createElement(\"div\");\n            node.className = \"vditor-wysiwyg__block\";\n            node.setAttribute(\"data-type\", \"code-block\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.setAttribute(\"data-marker\", \"```\");\n            if (range.toString() === \"\") {\n                node.innerHTML = \"<pre><code><wbr>\\n</code></pre>\";\n            }\n            else {\n                node.innerHTML = \"<pre><code>\".concat(range.toString(), \"<wbr></code></pre>\");\n                range.deleteContents();\n            }\n            range.insertNode(node);\n            if (blockElement) {\n                blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n                processCodeRender(item, vditor);\n            });\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"link\") {\n            if (range.toString() === \"\") {\n                var aElement = document.createElement(\"a\");\n                aElement.innerText = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(aElement);\n                range.setStart(aElement.firstChild, 1);\n                range.collapse(true);\n                genAPopover(vditor, aElement, range);\n                var textInputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n                textInputElement.value = \"\";\n                textInputElement.focus();\n                useRender = false;\n            }\n            else {\n                var node = document.createElement(\"a\");\n                node.setAttribute(\"href\", \"\");\n                node.innerHTML = range.toString();\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                genAPopover(vditor, node, range);\n                var textInputElements = vditor.wysiwyg.popover.querySelectorAll(\"input\");\n                textInputElements[0].value = node.innerText;\n                textInputElements[1].focus();\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"table\") {\n            var tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>\";\n            if (range.toString().trim() === \"\") {\n                if (blockElement && blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    blockElement.outerHTML = tableHTML_1;\n                }\n                else {\n                    document.execCommand(\"insertHTML\", false, tableHTML_1);\n                }\n                range.selectNode(vditor.wysiwyg.element.querySelector(\"wbr\").previousSibling);\n                vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr>\";\n                var tableText = range.toString().split(\"\\n\");\n                var delimiter_1 = tableText[0].split(\",\").length > tableText[0].split(\"\\t\").length ? \",\" : \"\\t\";\n                tableText.forEach(function (rows, index) {\n                    if (index === 0) {\n                        rows.split(delimiter_1).forEach(function (header, subIndex) {\n                            if (subIndex === 0) {\n                                tableHTML_1 += \"<th>\".concat(header, \"<wbr></th>\");\n                            }\n                            else {\n                                tableHTML_1 += \"<th>\".concat(header, \"</th>\");\n                            }\n                        });\n                        tableHTML_1 += \"</tr></thead>\";\n                    }\n                    else {\n                        if (index === 1) {\n                            tableHTML_1 += \"<tbody><tr>\";\n                        }\n                        else {\n                            tableHTML_1 += \"<tr>\";\n                        }\n                        rows.split(delimiter_1).forEach(function (cell) {\n                            tableHTML_1 += \"<td>\".concat(cell, \"</td>\");\n                        });\n                        tableHTML_1 += \"</tr>\";\n                    }\n                });\n                tableHTML_1 += \"</tbody></table>\";\n                document.execCommand(\"insertHTML\", false, tableHTML_1);\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n            if (commandName === \"strike\") {\n                commandName = \"strikeThrough\";\n            }\n            if (range.toString() === \"\" && (commandName === \"bold\" || commandName === \"italic\" || commandName === \"strikeThrough\")) {\n                var tagName = \"strong\";\n                if (commandName === \"italic\") {\n                    tagName = \"em\";\n                }\n                else if (commandName === \"strikeThrough\") {\n                    tagName = \"s\";\n                }\n                var node = document.createElement(tagName);\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                if (node.previousSibling && node.previousSibling.textContent === constants/* Constants.ZWSP */.g.ZWSP) {\n                    // 移除多层嵌套中的 zwsp\n                    node.previousSibling.textContent = \"\";\n                }\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    if (useHighlight) {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    if (useRender) {\n        afterRenderEvent(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/MenuItem.ts\n\n\n\n\n\n\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(vditor, menuItem) {\n        var _a;\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        if (menuItem.className) {\n            (_a = this.element.classList).add.apply(_a, menuItem.className.split(\" \"));\n        }\n        var hotkey = menuItem.hotkey ? \" <\".concat((0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey), \">\") : \"\";\n        if (menuItem.level === 2) {\n            hotkey = menuItem.hotkey ? \" &lt;\".concat((0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey), \"&gt;\") : \"\";\n        }\n        var tip = menuItem.tip ? menuItem.tip + hotkey : \"\".concat(window.VditorI18n[menuItem.name]).concat(hotkey);\n        var tagName = menuItem.name === \"upload\" ? \"div\" : \"button\";\n        if (menuItem.level === 2) {\n            this.element.innerHTML = \"<\".concat(tagName, \" data-type=\\\"\").concat(menuItem.name, \"\\\">\").concat(tip, \"</\").concat(tagName, \">\");\n        }\n        else {\n            this.element.classList.add(\"vditor-toolbar__item\");\n            var iconElement = document.createElement(tagName);\n            iconElement.setAttribute(\"data-type\", menuItem.name);\n            iconElement.className = \"vditor-tooltipped vditor-tooltipped__\".concat(menuItem.tipPosition);\n            iconElement.setAttribute(\"aria-label\", tip);\n            iconElement.innerHTML = menuItem.icon;\n            this.element.appendChild(iconElement);\n        }\n        if (!menuItem.prefix) {\n            return;\n        }\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            if (vditor.currentMode === \"wysiwyg\") {\n                toolbarEvent(vditor, _this.element.children[0], event);\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n            else {\n                processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n        });\n    }\n    return MenuItem;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/EditMode.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar setEditMode = function (vditor, type, event) {\n    var markdownText;\n    if (typeof event !== \"string\") {\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n        event.preventDefault();\n        markdownText = getMarkdown(vditor);\n    }\n    else {\n        markdownText = event;\n    }\n    if (vditor.currentMode === type && typeof event !== \"string\") {\n        return;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    if (vditor.options.preview.mode === \"both\" && type === \"sv\") {\n        vditor.preview.element.style.display = \"block\";\n    }\n    else {\n        vditor.preview.element.style.display = \"none\";\n    }\n    enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n    if (type === \"ir\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"block\";\n        vditor.lute.SetVditorIR(true);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"ir\";\n        vditor.ir.element.innerHTML = vditor.lute.Md2VditorIRDOM(markdownText);\n        process_processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n        vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        vditor.ir.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n    }\n    else if (type === \"wysiwyg\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"block\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(true);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"wysiwyg\";\n        setPadding(vditor);\n        renderDomByMd(vditor, markdownText, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n    else if (type === \"sv\") {\n        showToolbar(vditor.toolbar.elements, [\"both\"]);\n        hideToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        if (vditor.options.preview.mode === \"both\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        else if (vditor.options.preview.mode === \"editor\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(true);\n        vditor.currentMode = \"sv\";\n        var svHTML = processSpinVditorSVDOM(markdownText, vditor);\n        if (svHTML === \"<div data-block='0'></div>\") {\n            // https://github.com/Vanessa219/vditor/issues/654 SV 模式 Placeholder 显示问题\n            svHTML = \"\";\n        }\n        vditor.sv.element.innerHTML = svHTML;\n        combineFootnote(vditor.sv.element);\n        processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n    }\n    vditor.undo.resetIcon(vditor);\n    if (typeof event !== \"string\") {\n        // 初始化不 focus\n        vditor[vditor.currentMode].element.focus();\n        highlightToolbar(vditor);\n    }\n    renderToc(vditor);\n    setTypewriterPosition(vditor);\n    if (vditor.toolbar.elements[\"edit-mode\"]) {\n        vditor.toolbar.elements[\"edit-mode\"].querySelectorAll(\"button\").forEach(function (item) {\n            item.classList.remove(\"vditor-menu--current\");\n        });\n        vditor.toolbar.elements[\"edit-mode\"].querySelector(\"button[data-mode=\\\"\".concat(vditor.currentMode, \"\\\"]\")).classList.add(\"vditor-menu--current\");\n    }\n    vditor.outline.toggle(vditor, vditor.currentMode !== \"sv\" && vditor.options.outline.enable, typeof event !== \"string\");\n};\nvar EditMode = /** @class */ (function (_super) {\n    __extends(EditMode, _super);\n    function EditMode(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-mode=\\\"wysiwyg\\\">\".concat(window.VditorI18n.wysiwyg, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘7\"), \"></button>\\n<button data-mode=\\\"ir\\\">\").concat(window.VditorI18n.instantRendering, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘8\"), \"></button>\\n<button data-mode=\\\"sv\\\">\").concat(window.VditorI18n.splitView, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘9\"), \"></button>\");\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement, menuItem);\n        return _this;\n    }\n    EditMode.prototype._bindEvent = function (vditor, panelElement, menuItem) {\n        var actionBtn = this.element.children[0];\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        panelElement.children.item(0).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // wysiwyg\n            setEditMode(vditor, \"wysiwyg\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(1).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // ir\n            setEditMode(vditor, \"ir\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(2).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // markdown\n            setEditMode(vditor, \"sv\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    return EditMode;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/getSelectText.ts\n\nvar getSelectText = function (editor, range) {\n    if ((0,selection/* selectIsEditor */.Gb)(editor, range)) {\n        return getSelection().toString();\n    }\n    return \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/editorCommonEvent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar focusEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"focus\", function () {\n        if (vditor.options.focus) {\n            vditor.options.focus(getMarkdown(vditor));\n        }\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n    });\n};\nvar dblclickEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dblclick\", function (event) {\n        if (event.target.tagName === \"IMG\") {\n            if (vditor.options.image.preview) {\n                vditor.options.image.preview(event.target);\n            }\n            else if (vditor.options.image.isPreview) {\n                (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n            }\n        }\n    });\n};\nvar blurEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"blur\", function (event) {\n        if (vditor.currentMode === \"ir\") {\n            var expandElement = vditor.ir.element.querySelector(\".vditor-ir__node--expand\");\n            if (expandElement) {\n                expandElement.classList.remove(\"vditor-ir__node--expand\");\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\" &&\n            !vditor.wysiwyg.selectPopover.contains(event.relatedTarget)) {\n            vditor.wysiwyg.hideComment();\n        }\n        vditor[vditor.currentMode].range = (0,selection/* getEditorRange */.zh)(vditor);\n        if (vditor.options.blur) {\n            vditor.options.blur(getMarkdown(vditor));\n        }\n    });\n};\nvar dropEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dragstart\", function (event) {\n        // 选中编辑器中的文字进行拖拽\n        event.dataTransfer.setData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR, constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR);\n    });\n    editorElement.addEventListener(\"drop\", function (event) {\n        if (event.dataTransfer.getData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR)) {\n            // 编辑器内选中文字拖拽\n            execAfterRender(vditor);\n        }\n        else if (event.dataTransfer.types.includes(\"Files\") || event.dataTransfer.types.includes(\"text/html\")) {\n            // 外部文件拖入编辑器中或者编辑器内选中文字拖拽\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        }\n    });\n};\nvar copyEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"copy\", function (event) { return copy(event, vditor); });\n};\nvar cutEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"cut\", function (event) {\n        copy(event, vditor);\n        // 获取 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\") {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        document.execCommand(\"delete\");\n    });\n};\nvar scrollCenter = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n        vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n    }\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var cursorTop = (0,selection/* getCursorPosition */.Ny)(editorElement).top;\n    if (vditor.options.height === \"auto\" && !vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        window.scrollTo(window.scrollX, cursorTop + vditor.element.offsetTop + vditor.toolbar.element.offsetHeight - window.innerHeight / 2 + 10);\n    }\n    if (vditor.options.height !== \"auto\" || vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        editorElement.scrollTop = cursorTop + editorElement.scrollTop - editorElement.clientHeight / 2 + 10;\n    }\n};\nvar hotkeyEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"keydown\", function (event) {\n        if (!event.isComposing && vditor.options.keydown) {\n            vditor.options.keydown(event);\n        }\n        // hint: 上下选择\n        if ((vditor.options.hint.extend.length > 1 || vditor.toolbar.elements.emoji) &&\n            vditor.hint.select(event, vditor)) {\n            return;\n        }\n        // 重置 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\" &&\n            (event.key === \"Backspace\" || matchHotKey(\"⌘X\", event))) {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        if (vditor.currentMode === \"sv\") {\n            if (processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\") {\n            if (wysiwyg_processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"ir\") {\n            if (processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        if (vditor.options.ctrlEnter && matchHotKey(\"⌘Enter\", event)) {\n            vditor.options.ctrlEnter(getMarkdown(vditor));\n            event.preventDefault();\n            return;\n        }\n        // undo\n        if (matchHotKey(\"⌘Z\", event) && !vditor.toolbar.elements.undo) {\n            vditor.undo.undo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // redo\n        if (matchHotKey(\"⌘Y\", event) && !vditor.toolbar.elements.redo) {\n            vditor.undo.redo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // esc\n        if (event.key === \"Escape\") {\n            if (vditor.hint.element.style.display === \"block\") {\n                vditor.hint.element.style.display = \"none\";\n            }\n            else if (vditor.options.esc && !event.isComposing) {\n                vditor.options.esc(getMarkdown(vditor));\n            }\n            event.preventDefault();\n            return;\n        }\n        // h1 - h6 hotkey\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[1-6]$/.test(event.code)) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                var tagName = event.code.replace(\"Digit\", \"H\");\n                if ((0,hasClosest/* hasClosestByMatchTag */.lG)(getSelection().getRangeAt(0).startContainer, tagName)) {\n                    removeHeading(vditor);\n                }\n                else {\n                    setHeading(vditor, tagName);\n                }\n                afterRenderEvent(vditor);\n            }\n            else if (vditor.currentMode === \"sv\") {\n                processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            event.preventDefault();\n            return true;\n        }\n        // toggle edit mode\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[7-9]$/.test(event.code)) {\n            if (event.code === \"Digit7\") {\n                setEditMode(vditor, \"wysiwyg\", event);\n            }\n            else if (event.code === \"Digit8\") {\n                setEditMode(vditor, \"ir\", event);\n            }\n            else if (event.code === \"Digit9\") {\n                setEditMode(vditor, \"sv\", event);\n            }\n            return true;\n        }\n        // toolbar action\n        vditor.options.toolbar.find(function (menuItem) {\n            if (!menuItem.hotkey || menuItem.toolbar) {\n                if (menuItem.toolbar) {\n                    var sub = menuItem.toolbar.find(function (subMenuItem) {\n                        if (!subMenuItem.hotkey) {\n                            return false;\n                        }\n                        if (matchHotKey(subMenuItem.hotkey, event)) {\n                            vditor.toolbar.elements[subMenuItem.name].children[0]\n                                .dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                            event.preventDefault();\n                            return true;\n                        }\n                    });\n                    return sub ? true : false;\n                }\n                return false;\n            }\n            if (matchHotKey(menuItem.hotkey, event)) {\n                vditor.toolbar.elements[menuItem.name].children[0].dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                event.preventDefault();\n                return true;\n            }\n        });\n    });\n};\nvar selectEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"selectstart\", function (event) {\n        editorElement.onmouseup = function () {\n            setTimeout(function () {\n                var selectText = getSelectText(vditor[vditor.currentMode].element);\n                if (selectText.trim()) {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        if (!(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"footnotes-block\") &&\n                            !(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"link-ref-defs-block\")) {\n                            vditor.wysiwyg.showComment();\n                        }\n                        else {\n                            vditor.wysiwyg.hideComment();\n                        }\n                    }\n                    if (vditor.options.select) {\n                        vditor.options.select(selectText);\n                    }\n                }\n                else {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        vditor.wysiwyg.hideComment();\n                    }\n                }\n            });\n        };\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/process.ts\n\n\n\n\n\n\n\n\n\nvar processPaste = function (vditor, text) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    range.extractContents();\n    range.insertNode(document.createTextNode(Lute.Caret));\n    range.insertNode(document.createTextNode(text));\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    var spinHTML = vditor.lute.SpinVditorSVDOM(blockElement.textContent);\n    spinHTML = \"<div data-block='0'>\" +\n        spinHTML.replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    if (blockElement.isEqualNode(vditor.sv.element)) {\n        blockElement.innerHTML = spinHTML;\n    }\n    else {\n        blockElement.outerHTML = spinHTML;\n    }\n    combineFootnote(vditor.sv.element);\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n};\nvar getSideByType = function (spanNode, type, isPrevious) {\n    if (isPrevious === void 0) { isPrevious = true; }\n    var sideElement = spanNode;\n    if (sideElement.nodeType === 3) {\n        sideElement = sideElement.parentElement;\n    }\n    while (sideElement) {\n        if (sideElement.getAttribute(\"data-type\") === type) {\n            return sideElement;\n        }\n        if (isPrevious) {\n            sideElement = sideElement.previousElementSibling;\n        }\n        else {\n            sideElement = sideElement.nextElementSibling;\n        }\n    }\n    return false;\n};\nvar processSpinVditorSVDOM = function (html, vditor) {\n    log(\"SpinVditorSVDOM\", html, \"argument\", vditor.options.debugger);\n    var spinHTML = vditor.lute.SpinVditorSVDOM(html);\n    html = \"<div data-block='0'>\" +\n        spinHTML.replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    log(\"SpinVditorSVDOM\", html, \"result\", vditor.options.debugger);\n    return html;\n};\nvar processPreviousMarkers = function (spanElement) {\n    var spanType = spanElement.getAttribute(\"data-type\");\n    var previousElement = spanElement.previousElementSibling;\n    // 有内容的子列表/标题，在其 marker 后换行\n    var markerText = (spanType && spanType !== \"text\" && spanType !== \"table\" && spanType !== \"heading-marker\" &&\n        spanType !== \"newline\" && spanType !== \"yaml-front-matter-open-marker\" && spanType !== \"yaml-front-matter-close-marker\"\n        && spanType !== \"code-block-info\" && spanType !== \"code-block-close-marker\" && spanType !== \"code-block-open-marker\") ?\n        spanElement.textContent : \"\";\n    var hasNL = false;\n    if (spanType === \"newline\") {\n        hasNL = true;\n    }\n    while (previousElement && !hasNL) {\n        var previousType = previousElement.getAttribute(\"data-type\");\n        if (previousType === \"li-marker\" || previousType === \"blockquote-marker\" || previousType === \"task-marker\" ||\n            previousType === \"padding\") {\n            var previousText = previousElement.textContent;\n            if (previousType === \"li-marker\" &&\n                (spanType === \"code-block-open-marker\" || spanType === \"code-block-info\")) {\n                // https://github.com/Vanessa219/vditor/issues/586\n                markerText = previousText.replace(/\\S/g, \" \") + markerText;\n            }\n            else if (spanType === \"code-block-close-marker\" &&\n                previousElement.nextElementSibling.isSameNode(spanElement)) {\n                // https://github.com/Vanessa219/vditor/issues/594\n                var openMarker = getSideByType(spanElement, \"code-block-open-marker\");\n                if (openMarker && openMarker.previousElementSibling) {\n                    previousElement = openMarker.previousElementSibling;\n                    markerText = previousText + markerText;\n                }\n            }\n            else {\n                markerText = previousText + markerText;\n            }\n        }\n        else if (previousType === \"newline\") {\n            hasNL = true;\n        }\n        previousElement = previousElement.previousElementSibling;\n    }\n    return markerText;\n};\nvar processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    vditor.preview.render(vditor);\n    var text = getMarkdown(vditor);\n    if (typeof vditor.options.input === \"function\" && options.enableInput) {\n        vditor.options.input(text);\n    }\n    if (vditor.options.counter.enable) {\n        vditor.counter.render(vditor, text);\n    }\n    if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n        localStorage.setItem(vditor.options.cache.id, text);\n        if (vditor.options.cache.after) {\n            vditor.options.cache.after(text);\n        }\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    clearTimeout(vditor.sv.processTimeoutId);\n    vditor.sv.processTimeoutId = window.setTimeout(function () {\n        if (options.enableAddUndoStack && !vditor.sv.composingLock) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (headingElement && headingElement.textContent.trim() !== \"\") {\n        value = \"\\n\" + value;\n    }\n    range.collapse(true);\n    document.execCommand(\"insertHTML\", false, value);\n};\nvar processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 添加\n    if (vditor.sv.element.childNodes.length === 0) {\n        vditor.sv.element.innerHTML = \"<span data-type=\\\"p\\\" data-block=\\\"0\\\"><span data-type=\\\"text\\\"><wbr></span></span><span data-type=\\\"newline\\\"><br><span style=\\\"display: none\\\">\\n</span></span>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (!blockElement) {\n        return;\n    }\n    if (commandName === \"link\") {\n        var html = void 0;\n        if (range.toString() === \"\") {\n            html = \"\".concat(prefix).concat(Lute.Caret).concat(suffix);\n        }\n        else {\n            html = \"\".concat(prefix).concat(range.toString()).concat(suffix.replace(\")\", Lute.Caret + \")\"));\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\" ||\n        commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\" || commandName === \"line\") {\n        var html = void 0;\n        // https://github.com/Vanessa219/vditor/issues/563 代码块不需要后面的 ```\n        if (range.toString() === \"\") {\n            html = \"\".concat(prefix).concat(Lute.Caret).concat(commandName === \"code\" ? \"\" : suffix);\n        }\n        else {\n            html = \"\".concat(prefix).concat(range.toString()).concat(Lute.Caret).concat(commandName === \"code\" ? \"\" : suffix);\n        }\n        if (commandName === \"table\" || (commandName === \"code\" && spanElement && spanElement.textContent !== \"\")) {\n            html = \"\\n\\n\" + html;\n        }\n        else if (commandName === \"line\") {\n            html = \"\\n\\n\".concat(prefix, \"\\n\").concat(Lute.Caret);\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\" ||\n        commandName === \"quote\") {\n        if (spanElement) {\n            var marker = \"* \";\n            if (commandName === \"check\") {\n                marker = \"* [ ] \";\n            }\n            else if (commandName === \"ordered-list\") {\n                marker = \"1. \";\n            }\n            else if (commandName === \"quote\") {\n                marker = \"> \";\n            }\n            var newLine = getSideByType(spanElement, \"newline\");\n            if (newLine) {\n                newLine.insertAdjacentText(\"afterend\", marker);\n            }\n            else {\n                blockElement.insertAdjacentText(\"afterbegin\", marker);\n            }\n            inputEvent(vditor);\n            return;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    processAfterRender(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/getElement.ts\nvar getElement = function (vditor) {\n    switch (vditor.currentMode) {\n        case \"ir\":\n            return vditor.ir.element;\n        case \"wysiwyg\":\n            return vditor.wysiwyg.element;\n        case \"sv\":\n            return vditor.sv.element;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/setHeaders.ts\nvar setHeaders = function (vditor, xhr) {\n    if (vditor.options.upload.setHeaders) {\n        vditor.options.upload.headers = vditor.options.upload.setHeaders();\n    }\n    if (vditor.options.upload.headers) {\n        Object.keys(vditor.options.upload.headers).forEach(function (key) {\n            xhr.setRequestHeader(key, vditor.options.upload.headers[key]);\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/index.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Upload = /** @class */ (function () {\n    function Upload() {\n        this.isUploading = false;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-upload\";\n    }\n    return Upload;\n}());\nvar validateFile = function (vditor, files) {\n    vditor.tip.hide();\n    var uploadFileList = [];\n    var errorTip = \"\";\n    var uploadingStr = \"\";\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    var _loop_1 = function (iMax, i) {\n        var file = files[i];\n        var validate = true;\n        if (!file.name) {\n            errorTip += \"<li>\".concat(window.VditorI18n.nameEmpty, \"</li>\");\n            validate = false;\n        }\n        if (file.size > vditor.options.upload.max) {\n            errorTip += \"<li>\".concat(file.name, \" \").concat(window.VditorI18n.over, \" \").concat(vditor.options.upload.max / 1024 / 1024, \"M</li>\");\n            validate = false;\n        }\n        var lastIndex = file.name.lastIndexOf(\".\");\n        var fileExt = file.name.substr(lastIndex);\n        var filename = vditor.options.upload.filename(file.name.substr(0, lastIndex)) + fileExt;\n        if (vditor.options.upload.accept) {\n            var isAccept = vditor.options.upload.accept.split(\",\").some(function (item) {\n                var type = item.trim();\n                if (type.indexOf(\".\") === 0) {\n                    if (fileExt.toLowerCase() === type.toLowerCase()) {\n                        return true;\n                    }\n                }\n                else {\n                    if (file.type.split(\"/\")[0] === type.split(\"/\")[0]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (!isAccept) {\n                errorTip += \"<li>\".concat(file.name, \" \").concat(window.VditorI18n.fileTypeError, \"</li>\");\n                validate = false;\n            }\n        }\n        if (validate) {\n            uploadFileList.push(file);\n            uploadingStr += \"<li>\".concat(filename, \" \").concat(window.VditorI18n.uploading, \"</li>\");\n        }\n    };\n    for (var iMax = files.length, i = 0; i < iMax; i++) {\n        _loop_1(iMax, i);\n    }\n    vditor.tip.show(\"<ul>\".concat(errorTip).concat(uploadingStr, \"</ul>\"));\n    return uploadFileList;\n};\nvar genUploadedLabel = function (responseText, vditor) {\n    var editorElement = getElement(vditor);\n    editorElement.focus();\n    var response = JSON.parse(responseText);\n    var errorTip = \"\";\n    if (response.code === 1) {\n        errorTip = \"\".concat(response.msg);\n    }\n    if (response.data.errFiles && response.data.errFiles.length > 0) {\n        errorTip = \"<ul><li>\".concat(errorTip, \"</li>\");\n        response.data.errFiles.forEach(function (data) {\n            var lastIndex = data.lastIndexOf(\".\");\n            var filename = vditor.options.upload.filename(data.substr(0, lastIndex)) + data.substr(lastIndex);\n            errorTip += \"<li>\".concat(filename, \" \").concat(window.VditorI18n.uploadError, \"</li>\");\n        });\n        errorTip += \"</ul>\";\n    }\n    if (errorTip) {\n        vditor.tip.show(errorTip);\n    }\n    else {\n        vditor.tip.hide();\n    }\n    var succFileText = \"\";\n    Object.keys(response.data.succMap).forEach(function (key) {\n        var path = response.data.succMap[key];\n        var lastIndex = key.lastIndexOf(\".\");\n        var type = key.substr(lastIndex);\n        var filename = vditor.options.upload.filename(key.substr(0, lastIndex)) + type;\n        type = type.toLowerCase();\n        if (type.indexOf(\".wav\") === 0 || type.indexOf(\".mp3\") === 0 || type.indexOf(\".ogg\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<div class=\\\"vditor-wysiwyg__block\\\" data-type=\\\"html-block\\\"\\n data-block=\\\"0\\\"><pre><code>&lt;audio controls=\\\"controls\\\" src=\\\"\".concat(path, \"\\\"&gt;&lt;/audio&gt;</code></pre><pre class=\\\"vditor-wysiwyg__preview\\\" data-render=\\\"1\\\"><audio controls=\\\"controls\\\" src=\\\"\").concat(path, \"\\\"></audio></pre></div>\\n\");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                succFileText += \"<audio controls=\\\"controls\\\" src=\\\"\".concat(path, \"\\\"></audio>\\n\");\n            }\n            else {\n                succFileText += \"[\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n        else if (type.indexOf(\".apng\") === 0\n            || type.indexOf(\".bmp\") === 0\n            || type.indexOf(\".gif\") === 0\n            || type.indexOf(\".ico\") === 0 || type.indexOf(\".cur\") === 0\n            || type.indexOf(\".jpg\") === 0 || type.indexOf(\".jpeg\") === 0 || type.indexOf(\".jfif\") === 0 || type.indexOf(\".pjp\") === 0 || type.indexOf(\".pjpeg\") === 0\n            || type.indexOf(\".png\") === 0\n            || type.indexOf(\".svg\") === 0\n            || type.indexOf(\".webp\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<img alt=\\\"\".concat(filename, \"\\\" src=\\\"\").concat(path, \"\\\">\\n\");\n            }\n            else {\n                succFileText += \"![\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n        else {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<a href=\\\"\".concat(path, \"\\\">\").concat(filename, \"</a>\\n\");\n            }\n            else {\n                succFileText += \"[\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n    });\n    (0,selection/* setSelectionFocus */.Hc)(vditor.upload.range);\n    document.execCommand(\"insertHTML\", false, succFileText);\n    vditor.upload.range = getSelection().getRangeAt(0).cloneRange();\n};\nvar uploadFiles = function (vditor, files, element) { return __awaiter(void 0, void 0, void 0, function () {\n    var fileList, filesMax, i, fileItem, isValidate, isValidate, editorElement, validateResult, formData, extraData, _i, _a, key, i, iMax, xhr;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                fileList = [];\n                filesMax = vditor.options.upload.multiple === true ? files.length : 1;\n                for (i = 0; i < filesMax; i++) {\n                    fileItem = files[i];\n                    if (fileItem instanceof DataTransferItem) {\n                        fileItem = fileItem.getAsFile();\n                    }\n                    fileList.push(fileItem);\n                }\n                if (!vditor.options.upload.handler) return [3 /*break*/, 2];\n                return [4 /*yield*/, vditor.options.upload.handler(fileList)];\n            case 1:\n                isValidate = _b.sent();\n                if (element) {\n                    element.value = \"\";\n                }\n                if (typeof isValidate === \"string\") {\n                    vditor.tip.show(isValidate);\n                    return [2 /*return*/];\n                }\n                return [2 /*return*/];\n            case 2:\n                if (!vditor.options.upload.url || !vditor.upload) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    vditor.tip.show(\"please config: options.upload.url\");\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.file) return [3 /*break*/, 4];\n                return [4 /*yield*/, vditor.options.upload.file(fileList)];\n            case 3:\n                fileList = _b.sent();\n                _b.label = 4;\n            case 4:\n                if (vditor.options.upload.validate) {\n                    isValidate = vditor.options.upload.validate(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                }\n                editorElement = getElement(vditor);\n                vditor.upload.range = (0,selection/* getEditorRange */.zh)(vditor);\n                validateResult = validateFile(vditor, fileList);\n                if (validateResult.length === 0) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    return [2 /*return*/];\n                }\n                formData = new FormData();\n                extraData = vditor.options.upload.extraData;\n                for (_i = 0, _a = Object.keys(extraData); _i < _a.length; _i++) {\n                    key = _a[_i];\n                    formData.append(key, extraData[key]);\n                }\n                for (i = 0, iMax = validateResult.length; i < iMax; i++) {\n                    formData.append(vditor.options.upload.fieldName, validateResult[i]);\n                }\n                xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", vditor.options.upload.url);\n                if (vditor.options.upload.token) {\n                    xhr.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                }\n                if (vditor.options.upload.withCredentials) {\n                    xhr.withCredentials = true;\n                }\n                setHeaders(vditor, xhr);\n                vditor.upload.isUploading = true;\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === XMLHttpRequest.DONE) {\n                        vditor.upload.isUploading = false;\n                        editorElement.setAttribute(\"contenteditable\", \"true\");\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (vditor.options.upload.success) {\n                                vditor.options.upload.success(editorElement, xhr.responseText);\n                            }\n                            else {\n                                var responseText = xhr.responseText;\n                                if (vditor.options.upload.format) {\n                                    responseText = vditor.options.upload.format(files, xhr.responseText);\n                                }\n                                genUploadedLabel(responseText, vditor);\n                            }\n                        }\n                        else {\n                            if (vditor.options.upload.error) {\n                                vditor.options.upload.error(xhr.responseText);\n                            }\n                            else {\n                                vditor.tip.show(xhr.responseText);\n                            }\n                        }\n                        if (element) {\n                            element.value = \"\";\n                        }\n                        vditor.upload.element.style.display = \"none\";\n                    }\n                };\n                xhr.upload.onprogress = function (event) {\n                    if (!event.lengthComputable) {\n                        return;\n                    }\n                    var progress = event.loaded / event.total * 100;\n                    vditor.upload.element.style.display = \"block\";\n                    var progressBar = vditor.upload.element;\n                    progressBar.style.width = progress + \"%\";\n                };\n                xhr.send(formData);\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/input.ts\n\n\n\n\n\n\n\n\nvar input_input = function (vditor, range, event) {\n    var _a;\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (event && event.inputType !== \"formatItalic\"\n        && event.inputType !== \"deleteByDrag\"\n        && event.inputType !== \"insertFromDrop\"\n        && event.inputType !== \"formatBold\"\n        && event.inputType !== \"formatRemove\"\n        && event.inputType !== \"formatStrikeThrough\"\n        && event.inputType !== \"insertUnorderedList\"\n        && event.inputType !== \"insertOrderedList\"\n        && event.inputType !== \"formatOutdent\"\n        && event.inputType !== \"formatIndent\"\n        && event.inputType !== \"\" // document.execCommand('unlink', false)\n        || !event) {\n        var previousAEmptyElement = previoueIsEmptyA(range.startContainer);\n        if (previousAEmptyElement) {\n            // 链接结尾回车不应该复制到下一行 https://github.com/Vanessa219/vditor/issues/163\n            previousAEmptyElement.remove();\n        }\n        // 保存光标\n        vditor.wysiwyg.element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        // 在行首进行删除，后面的元素会带有样式，需清除\n        blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n            item.removeAttribute(\"style\");\n        });\n        // 移除空评论\n        blockElement.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        //  在有评论的行首换行后，该行的前一段会带有评论标识\n        (_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        var html_1 = \"\";\n        if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n            // 修改链接引用\n            blockElement = vditor.wysiwyg.element;\n        }\n        var isWYSIWYGElement = blockElement.isEqualNode(vditor.wysiwyg.element);\n        var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n        if (!isWYSIWYGElement) {\n            // 列表需要到最顶层\n            var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n            if (topListElement && !footnoteElement) {\n                var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n                if (blockquoteElement) {\n                    // li 中有 blockquote 就只渲染 blockquote\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || blockElement;\n                }\n                else {\n                    blockElement = topListElement;\n                }\n            }\n            // 修改脚注\n            if (footnoteElement) {\n                blockElement = footnoteElement;\n            }\n            html_1 = blockElement.outerHTML;\n            if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n                // 如果为列表的话，需要把上下的列表都重绘\n                var listPrevElement = blockElement.previousElementSibling;\n                var listNextElement = blockElement.nextElementSibling;\n                if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                    html_1 = listPrevElement.outerHTML + html_1;\n                    listPrevElement.remove();\n                }\n                if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                    html_1 = html_1 + listNextElement.outerHTML;\n                    listNextElement.remove();\n                }\n                // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n                html_1 = html_1.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n            }\n            if (!blockElement.innerText.startsWith(\"```\")) {\n                // 添加链接引用\n                vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                    if (item && !blockElement.isEqualNode(item)) {\n                        html_1 += item.outerHTML;\n                        item.remove();\n                    }\n                });\n                // 添加脚注\n                vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                    if (item && !blockElement.isEqualNode(item)) {\n                        html_1 += item.outerHTML;\n                        item.remove();\n                    }\n                });\n            }\n        }\n        else {\n            html_1 = blockElement.innerHTML;\n        }\n        // 合并多个 em， strong，s。以防止多个相同元素在一起时不满足 commonmark 规范，出现标记符\n        html_1 = html_1.replace(/<\\/(strong|b)><strong data-marker=\"\\W{2}\">/g, \"\")\n            .replace(/<\\/(em|i)><em data-marker=\"\\W{1}\">/g, \"\")\n            .replace(/<\\/(s|strike)><s data-marker=\"~{1,2}\">/g, \"\");\n        if (html_1 === '<p data-block=\"0\">```<wbr></p>' && vditor.hint.recentLanguage) {\n            html_1 = '<p data-block=\"0\">```<wbr></p>'.replace(\"```\", \"```\" + vditor.hint.recentLanguage);\n        }\n        log(\"SpinVditorDOM\", html_1, \"argument\", vditor.options.debugger);\n        html_1 = vditor.lute.SpinVditorDOM(html_1);\n        log(\"SpinVditorDOM\", html_1, \"result\", vditor.options.debugger);\n        if (isWYSIWYGElement) {\n            blockElement.innerHTML = html_1;\n        }\n        else {\n            blockElement.outerHTML = html_1;\n            if (footnoteElement) {\n                // 更新正文中的 tip\n                var footnoteItemElement = (0,hasClosest/* hasTopClosestByTag */.E2)(vditor.wysiwyg.element.querySelector(\"wbr\"), \"LI\");\n                if (footnoteItemElement) {\n                    var footnoteRefElement = vditor.wysiwyg.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\".concat(footnoteItemElement.getAttribute(\"data-marker\"), \"\\\"]\"));\n                    if (footnoteRefElement) {\n                        footnoteRefElement.setAttribute(\"aria-label\", footnoteItemElement.textContent.trim().substr(0, 24));\n                    }\n                }\n            }\n        }\n        var firstLinkRefDefElement_1;\n        var allLinkRefDefsElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n        allLinkRefDefsElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstLinkRefDefElement_1 = item;\n            }\n            else {\n                firstLinkRefDefElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allLinkRefDefsElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n        }\n        // 脚注合并后添加的末尾\n        var firstFootnoteElement_1;\n        var allFootnoteElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\");\n        allFootnoteElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstFootnoteElement_1 = item;\n            }\n            else {\n                firstFootnoteElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allFootnoteElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n        }\n        // 设置光标\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (event && (event.inputType === \"deleteContentBackward\" || event.inputType === \"deleteContentForward\") &&\n            vditor.options.comment.enable) {\n            vditor.wysiwyg.triggerRemoveComment(vditor);\n            vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n        }\n    }\n    renderToc(vditor);\n    afterRenderEvent(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/fixBrowserBehavior.ts\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar fixBrowserBehavior_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar fixBrowserBehavior_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://github.com/Vanessa219/vditor/issues/508 软键盘无法删除空块\nvar fixGSKeyBackspace = function (event, vditor, startContainer) {\n    if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\" && vditor.currentMode !== \"sv\") {\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        // 移动端的标点符号都显示为 299，因此需限定为空删除的条件\n        if (blockElement && blockElement.textContent.trim() === \"\") {\n            vditor[vditor.currentMode].composingLock = true;\n            return false;\n        }\n    }\n    return true;\n};\n// https://github.com/Vanessa219/vditor/issues/361 代码块后输入中文\nvar fixCJKPosition = function (range, vditor, event) {\n    if (event.key === \"Enter\" || event.key === \"Tab\" || event.key === \"Backspace\" || event.key.indexOf(\"Arrow\") > -1\n        || (0,compatibility/* isCtrl */.yl)(event) || event.key === \"Escape\" || event.shiftKey || event.altKey) {\n        return;\n    }\n    var pLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"P\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    if (pLiElement && (0,selection/* getSelectPosition */.im)(pLiElement, vditor[vditor.currentMode].element, range).start === 0) {\n        // https://github.com/Vanessa219/vditor/issues/1289 WKWebView切换输入法产生六分之一空格，造成光标错位\n        if (pLiElement.nodeValue) {\n            pLiElement.nodeValue = pLiElement.nodeValue.replace(/\\u2006/g, '');\n        }\n        var zwspNode = document.createTextNode(constants/* Constants.ZWSP */.g.ZWSP);\n        range.insertNode(zwspNode);\n        range.setStartAfter(zwspNode);\n    }\n};\n// https://github.com/Vanessa219/vditor/issues/381 光标在内联数学公式中无法向下移动\nvar fixCursorDownInlineMath = function (range, key) {\n    if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n        var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"math-inline\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-entity\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-inline\");\n        if (inlineElement) {\n            if (key === \"ArrowDown\") {\n                range.setStartAfter(inlineElement.parentElement);\n            }\n            if (key === \"ArrowUp\") {\n                range.setStartBefore(inlineElement.parentElement);\n            }\n        }\n    }\n};\nvar insertEmptyBlock = function (vditor, position) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (blockElement) {\n        blockElement.insertAdjacentHTML(position, \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\\n</p>\"));\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        highlightToolbar(vditor);\n        execAfterRender(vditor);\n    }\n};\nvar isFirstCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.rows[0].cells[0].isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\nvar isLastCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.lastElementChild.lastElementChild.lastElementChild.isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\n// 光标设置到前一个表格中\nvar goPreviousCell = function (cellElement, range, isSelected) {\n    if (isSelected === void 0) { isSelected = true; }\n    var previousElement = cellElement.previousElementSibling;\n    if (!previousElement) {\n        if (cellElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement.previousElementSibling.lastElementChild;\n        }\n        else if (cellElement.parentElement.parentElement.tagName === \"TBODY\" &&\n            cellElement.parentElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement\n                .parentElement.previousElementSibling.lastElementChild.lastElementChild;\n        }\n        else {\n            previousElement = null;\n        }\n    }\n    if (previousElement) {\n        range.selectNodeContents(previousElement);\n        if (!isSelected) {\n            range.collapse(false);\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    return previousElement;\n};\nvar insertAfterBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowDown\" && element.textContent.trimRight().substr(position.start).indexOf(\"\\n\") === -1) ||\n        (event.key === \"ArrowRight\" && position.start >= element.textContent.trimRight().length)) {\n        var nextElement = blockElement.nextElementSibling;\n        if (!nextElement ||\n            (nextElement && (nextElement.tagName === \"TABLE\" || nextElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(nextElement);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar insertBeforeBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowUp\" && element.textContent.substr(0, position.start).indexOf(\"\\n\") === -1) ||\n        ((event.key === \"ArrowLeft\" || (event.key === \"Backspace\" && range.toString() === \"\")) &&\n            position.start === 0)) {\n        var previousElement = blockElement.previousElementSibling;\n        // table || code\n        if (!previousElement ||\n            (previousElement && (previousElement.tagName === \"TABLE\" || previousElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar listToggle = function (vditor, range, type, cancel) {\n    if (cancel === void 0) { cancel = true; }\n    var itemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n        wbr.remove();\n    });\n    range.insertNode(document.createElement(\"wbr\"));\n    if (cancel && itemElement) {\n        // 取消\n        var pHTML = \"\";\n        for (var i = 0; i < itemElement.parentElement.childElementCount; i++) {\n            var inputElement = itemElement.parentElement.children[i].querySelector(\"input\");\n            if (inputElement) {\n                inputElement.remove();\n            }\n            pHTML += \"<p data-block=\\\"0\\\">\".concat(itemElement.parentElement.children[i].innerHTML.trimLeft(), \"</p>\");\n        }\n        itemElement.parentElement.insertAdjacentHTML(\"beforebegin\", pHTML);\n        itemElement.parentElement.remove();\n    }\n    else {\n        if (!itemElement) {\n            // 添加\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n            if (!blockElement) {\n                vditor[vditor.currentMode].element.querySelector(\"wbr\").remove();\n                blockElement = vditor[vditor.currentMode].element.querySelector(\"p\");\n                blockElement.innerHTML = \"<wbr>\";\n            }\n            if (type === \"check\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li class=\\\"vditor-task\\\"><input type=\\\"checkbox\\\" /> \".concat(blockElement.innerHTML, \"</li></ul>\"));\n                blockElement.remove();\n            }\n            else if (type === \"list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li>\".concat(blockElement.innerHTML, \"</li></ul>\"));\n                blockElement.remove();\n            }\n            else if (type === \"ordered-list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ol data-block=\\\"0\\\"><li>\".concat(blockElement.innerHTML, \"</li></ol>\"));\n                blockElement.remove();\n            }\n        }\n        else {\n            // 切换\n            if (type === \"check\") {\n                itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                    item.insertAdjacentHTML(\"afterbegin\", \"<input type=\\\"checkbox\\\" />\".concat(item.textContent.indexOf(\" \") === 0 ? \"\" : \" \"));\n                    item.classList.add(\"vditor-task\");\n                });\n            }\n            else {\n                if (itemElement.querySelector(\"input\")) {\n                    itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                        item.querySelector(\"input\").remove();\n                        item.classList.remove(\"vditor-task\");\n                    });\n                }\n                var element = void 0;\n                if (type === \"list\") {\n                    element = document.createElement(\"ul\");\n                    element.setAttribute(\"data-marker\", \"*\");\n                }\n                else {\n                    element = document.createElement(\"ol\");\n                    element.setAttribute(\"data-marker\", \"1.\");\n                }\n                element.setAttribute(\"data-block\", \"0\");\n                element.setAttribute(\"data-tight\", itemElement.parentElement.getAttribute(\"data-tight\"));\n                element.innerHTML = itemElement.parentElement.innerHTML;\n                itemElement.parentElement.parentNode.replaceChild(element, itemElement.parentElement);\n            }\n        }\n    }\n};\nvar listIndent = function (vditor, liElement, range) {\n    var previousElement = liElement.previousElementSibling;\n    if (liElement && previousElement) {\n        var liElements_1 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\"\n                && liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_1.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = previousElement.parentElement;\n        var liHTML_1 = \"\";\n        liElements_1.forEach(function (item) {\n            var marker = item.getAttribute(\"data-marker\");\n            if (marker.length !== 1) {\n                marker = \"1\".concat(marker.slice(-1));\n            }\n            liHTML_1 += \"<li data-node-id=\\\"\".concat(item.getAttribute(\"data-node-id\"), \"\\\" data-marker=\\\"\").concat(marker, \"\\\">\").concat(item.innerHTML, \"</li>\");\n            item.remove();\n        });\n        previousElement.insertAdjacentHTML(\"beforeend\", \"<\".concat(liParentElement.tagName, \" data-block=\\\"0\\\">\").concat(liHTML_1, \"</\").concat(liParentElement.tagName, \">\"));\n        if (vditor.currentMode === \"wysiwyg\") {\n            liParentElement.outerHTML = vditor.lute.SpinVditorDOM(liParentElement.outerHTML);\n        }\n        else {\n            liParentElement.outerHTML = vditor.lute.SpinVditorIRDOM(liParentElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar listOutdent = function (vditor, liElement, range, topListElement) {\n    var liParentLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(liElement.parentElement, \"LI\");\n    if (liParentLiElement) {\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = liElement.parentElement;\n        var liParentAfterElement = liParentElement.cloneNode();\n        var liElements_2 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\" &&\n                liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_2.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        var isMatch_1 = false;\n        var afterHTML_1 = \"\";\n        liParentElement.querySelectorAll(\"li\").forEach(function (item) {\n            if (isMatch_1) {\n                afterHTML_1 += item.outerHTML;\n                if (!item.nextElementSibling && !item.previousElementSibling) {\n                    item.parentElement.remove();\n                }\n                else {\n                    item.remove();\n                }\n            }\n            if (item.isSameNode(liElements_2[liElements_2.length - 1])) {\n                isMatch_1 = true;\n            }\n        });\n        liElements_2.reverse().forEach(function (item) {\n            liParentLiElement.insertAdjacentElement(\"afterend\", item);\n        });\n        if (afterHTML_1) {\n            liParentAfterElement.innerHTML = afterHTML_1;\n            liElements_2[0].insertAdjacentElement(\"beforeend\", liParentAfterElement);\n        }\n        if (vditor.currentMode === \"wysiwyg\") {\n            topListElement.outerHTML = vditor.lute.SpinVditorDOM(topListElement.outerHTML);\n        }\n        else {\n            topListElement.outerHTML = vditor.lute.SpinVditorIRDOM(topListElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar setTableAlign = function (tableElement, type) {\n    var cell = getSelection().getRangeAt(0).startContainer.parentElement;\n    var columnCnt = tableElement.rows[0].cells.length;\n    var rowCnt = tableElement.rows.length;\n    var currentColumn = 0;\n    for (var i = 0; i < rowCnt; i++) {\n        for (var j = 0; j < columnCnt; j++) {\n            if (tableElement.rows[i].cells[j].isSameNode(cell)) {\n                currentColumn = j;\n                break;\n            }\n        }\n    }\n    for (var k = 0; k < rowCnt; k++) {\n        tableElement.rows[k].cells[currentColumn].setAttribute(\"align\", type);\n    }\n};\nvar isHrMD = function (text) {\n    // - _ *\n    var marker = text.trimRight().split(\"\\n\").pop();\n    if (marker === \"\") {\n        return false;\n    }\n    if (marker.replace(/ |-/g, \"\") === \"\"\n        || marker.replace(/ |_/g, \"\") === \"\"\n        || marker.replace(/ |\\*/g, \"\") === \"\") {\n        if (marker.replace(/ /g, \"\").length > 2) {\n            if (marker.indexOf(\"-\") > -1 && marker.trimLeft().indexOf(\" \") === -1\n                && text.trimRight().split(\"\\n\").length > 1) {\n                // 满足 heading\n                return false;\n            }\n            if (marker.indexOf(\"    \") === 0 || marker.indexOf(\"\\t\") === 0) {\n                // 代码块\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\nvar isHeadingMD = function (text) {\n    // - =\n    var textArray = text.trimRight().split(\"\\n\");\n    text = textArray.pop();\n    if (text.indexOf(\"    \") === 0 || text.indexOf(\"\\t\") === 0) {\n        return false;\n    }\n    text = text.trimLeft();\n    if (text === \"\" || textArray.length === 0) {\n        return false;\n    }\n    if (text.replace(/-/g, \"\") === \"\"\n        || text.replace(/=/g, \"\") === \"\") {\n        return true;\n    }\n    return false;\n};\nvar execAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (vditor.currentMode === \"wysiwyg\") {\n        afterRenderEvent(vditor, options);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        process_processAfterRender(vditor, options);\n    }\n    else if (vditor.currentMode === \"sv\") {\n        processAfterRender(vditor, options);\n    }\n};\nvar fixList = function (range, vditor, pElement, event) {\n    var _a;\n    var startContainer = range.startContainer;\n    var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (liElement) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\" &&\n            // fix li 中有多个 P 时，在第一个 P 中换行会在下方生成新的 li\n            (!event.shiftKey && pElement && liElement.contains(pElement) && pElement.nextElementSibling)) {\n            if (liElement && !liElement.textContent.endsWith(\"\\n\")) {\n                // li 结尾需 \\n\n                liElement.insertAdjacentText(\"beforeend\", \"\\n\");\n            }\n            range.insertNode(document.createTextNode(\"\\n\\n\"));\n            range.collapse(false);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            !liElement.previousElementSibling && range.toString() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(liElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // 光标位于点和第一个字符中间时，无法删除 li 元素\n            if (liElement.nextElementSibling) {\n                liElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\".concat(liElement.innerHTML, \"</p>\"));\n                liElement.remove();\n            }\n            else {\n                liElement.parentElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\".concat(liElement.innerHTML, \"</p>\");\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // 空列表删除后与上一级段落对齐\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            liElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" &&\n            range.toString() === \"\" && ((_a = liElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"LI\") {\n            liElement.previousElementSibling.insertAdjacentText(\"beforeend\", \"\\n\\n\");\n            range.selectNodeContents(liElement.previousElementSibling);\n            range.collapse(false);\n            liElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Tab\") {\n            // 光标位于第一/零字符时，tab 用于列表的缩进\n            var isFirst = false;\n            if (range.startOffset === 0\n                && ((startContainer.nodeType === 3 && !startContainer.previousSibling)\n                    || (startContainer.nodeType !== 3 && startContainer.nodeName === \"LI\"))) {\n                // 有序/无序列表\n                isFirst = true;\n            }\n            else if (liElement.classList.contains(\"vditor-task\") && range.startOffset === 1\n                && startContainer.previousSibling.nodeType !== 3\n                && startContainer.previousSibling.tagName === \"INPUT\") {\n                // 任务列表\n                isFirst = true;\n            }\n            if (isFirst || range.toString() !== \"\") {\n                if (event.shiftKey) {\n                    listOutdent(vditor, liElement, range, liElement.parentElement);\n                }\n                else {\n                    listIndent(vditor, liElement, range);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    return false;\n};\n// tab 处理: block code render, table, 列表第一个字符中的 tab 处理单独写在上面\nvar fixTab = function (vditor, range, event) {\n    if (vditor.options.tab && event.key === \"Tab\") {\n        if (event.shiftKey) {\n            // TODO shift+tab\n        }\n        else {\n            if (range.toString() === \"\") {\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n            else {\n                range.extractContents();\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n};\nvar fixMarkdown = function (event, vditor, pElement, range) {\n    if (!pElement) {\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        var pText = String.raw(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), pElement.textContent).replace(/\\\\\\|/g, \"\").trim();\n        var pTextList = pText.split(\"|\");\n        if (pText.startsWith(\"|\") && pText.endsWith(\"|\") && pTextList.length > 3) {\n            // table 自动完成\n            var tableHeaderMD = pTextList.map(function () { return \"---\"; }).join(\"|\");\n            tableHeaderMD =\n                pElement.textContent + \"\\n\" + tableHeaderMD.substring(3, tableHeaderMD.length - 3) + \"\\n|<wbr>\";\n            pElement.outerHTML = vditor.lute.SpinVditorDOM(tableHeaderMD);\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // hr 渲染\n        if (isHrMD(pElement.innerHTML) && pElement.previousElementSibling) {\n            // 软换行后 hr 前有内容\n            var pInnerHTML = \"\";\n            var innerHTMLList = pElement.innerHTML.trimRight().split(\"\\n\");\n            if (innerHTMLList.length > 1) {\n                innerHTMLList.pop();\n                pInnerHTML = \"<p data-block=\\\"0\\\">\".concat(innerHTMLList.join(\"\\n\"), \"</p>\");\n            }\n            pElement.insertAdjacentHTML(\"afterend\", \"\".concat(pInnerHTML, \"<hr data-block=\\\"0\\\"><p data-block=\\\"0\\\"><wbr>\\n</p>\"));\n            pElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (isHeadingMD(pElement.innerHTML)) {\n            // heading 渲染\n            if (vditor.currentMode === \"wysiwyg\") {\n                pElement.outerHTML = vditor.lute.SpinVditorDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            else {\n                pElement.outerHTML = vditor.lute.SpinVditorIRDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 软换行会被切割 https://github.com/Vanessa219/vditor/issues/220\n    if (range.collapsed && pElement.previousElementSibling && event.key === \"Backspace\" &&\n        !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n        pElement.textContent.trimRight().split(\"\\n\").length > 1 &&\n        (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var lastElement = (0,hasClosest/* getLastNode */.DX)(pElement.previousElementSibling);\n        if (!lastElement.textContent.endsWith(\"\\n\")) {\n            lastElement.textContent = lastElement.textContent + \"\\n\";\n        }\n        lastElement.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\".concat(pElement.innerHTML));\n        pElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        return false;\n    }\n    return false;\n};\nvar insertRow = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        rowHTML += \"<td align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </td>\");\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tbody><tr>\".concat(rowHTML, \"</tr></tbody>\"));\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tr>\".concat(rowHTML, \"</tr>\"));\n    }\n    execAfterRender(vditor);\n};\nvar insertRowAbove = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        if (cellElement.tagName === \"TH\") {\n            rowHTML += \"<th align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </th>\");\n        }\n        else {\n            rowHTML += \"<td align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </td>\");\n        }\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<thead><tr>\".concat(rowHTML, \"</tr></thead>\"));\n        range.insertNode(document.createElement(\"wbr\"));\n        var theadHTML = cellElement.parentElement.innerHTML.replace(/<th>/g, \"<td>\").replace(/<\\/th>/g, \"</td>\");\n        cellElement.parentElement.parentElement.nextElementSibling.insertAdjacentHTML(\"afterbegin\", theadHTML);\n        cellElement.parentElement.parentElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<tr>\".concat(rowHTML, \"</tr>\"));\n    }\n    execAfterRender(vditor);\n};\nvar insertColumn = function (vditor, tableElement, cellElement, type) {\n    if (type === void 0) { type = \"afterend\"; }\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        if (i === 0) {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<th> </th>\");\n        }\n        else {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<td> </td>\");\n        }\n    }\n    execAfterRender(vditor);\n};\nvar deleteRow = function (vditor, range, cellElement) {\n    if (cellElement.tagName === \"TD\") {\n        var tbodyElement = cellElement.parentElement.parentElement;\n        if (cellElement.parentElement.previousElementSibling) {\n            range.selectNodeContents(cellElement.parentElement.previousElementSibling.lastElementChild);\n        }\n        else {\n            range.selectNodeContents(tbodyElement.previousElementSibling.lastElementChild.lastElementChild);\n        }\n        if (tbodyElement.childElementCount === 1) {\n            tbodyElement.remove();\n        }\n        else {\n            cellElement.parentElement.remove();\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n    }\n};\nvar deleteColumn = function (vditor, range, tableElement, cellElement) {\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    if (cellElement.previousElementSibling || cellElement.nextElementSibling) {\n        range.selectNodeContents(cellElement.previousElementSibling || cellElement.nextElementSibling);\n        range.collapse(true);\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        var cells = tableElement.rows[i].cells;\n        if (cells.length === 1) {\n            tableElement.remove();\n            highlightToolbar(vditor);\n            break;\n        }\n        cells[index].remove();\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    execAfterRender(vditor);\n};\nvar fixTable = function (vditor, event, range) {\n    var startContainer = range.startContainer;\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (cellElement) {\n        // 换行或软换行：在 cell 中添加 br\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n            if (!cellElement.lastElementChild ||\n                (cellElement.lastElementChild && (!cellElement.lastElementChild.isSameNode(cellElement.lastChild) ||\n                    cellElement.lastElementChild.tagName !== \"BR\"))) {\n                cellElement.insertAdjacentHTML(\"beforeend\", \"<br>\");\n            }\n            var brElement = document.createElement(\"br\");\n            range.insertNode(brElement);\n            range.setStartAfter(brElement);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // tab：光标移向下一个 cell\n        if (event.key === \"Tab\") {\n            if (event.shiftKey) {\n                // shift + tab 光标移动到前一个 cell\n                goPreviousCell(cellElement, range);\n                event.preventDefault();\n                return true;\n            }\n            var nextElement = cellElement.nextElementSibling;\n            if (!nextElement) {\n                if (cellElement.parentElement.nextElementSibling) {\n                    nextElement = cellElement.parentElement.nextElementSibling.firstElementChild;\n                }\n                else if (cellElement.parentElement.parentElement.tagName === \"THEAD\" &&\n                    cellElement.parentElement.parentElement.nextElementSibling) {\n                    nextElement =\n                        cellElement.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild;\n                }\n                else {\n                    nextElement = null;\n                }\n            }\n            if (nextElement) {\n                range.selectNodeContents(nextElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            event.preventDefault();\n            return true;\n        }\n        var tableElement = cellElement.parentElement.parentElement.parentElement;\n        if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (cellElement.tagName === \"TH\") {\n                if (tableElement.previousElementSibling) {\n                    range.selectNodeContents(tableElement.previousElementSibling);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"beforebegin\");\n                }\n                return true;\n            }\n            var m = 0;\n            var trElement = cellElement.parentElement;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var previousElement = trElement.previousElementSibling;\n            if (!previousElement) {\n                previousElement = trElement.parentElement.previousElementSibling.firstChild;\n            }\n            range.selectNodeContents(previousElement.cells[m]);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            var trElement = cellElement.parentElement;\n            if (!trElement.nextElementSibling && cellElement.tagName === \"TD\") {\n                if (tableElement.nextElementSibling) {\n                    range.selectNodeContents(tableElement.nextElementSibling);\n                    range.collapse(true);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"afterend\");\n                }\n                return true;\n            }\n            var m = 0;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var nextElement = trElement.nextElementSibling;\n            if (!nextElement) {\n                nextElement = trElement.parentElement.nextElementSibling.firstChild;\n            }\n            range.selectNodeContents(nextElement.cells[m]);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        // focus row input, only wysiwyg\n        if (vditor.currentMode === \"wysiwyg\" &&\n            !(0,compatibility/* isCtrl */.yl)(event) && event.key === \"Enter\" && !event.shiftKey && event.altKey) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElement.focus();\n            inputElement.select();\n            event.preventDefault();\n            return true;\n        }\n        // Backspace：光标移动到前一个 cell\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\"\n            && range.startOffset === 0 && range.toString() === \"\") {\n            var previousCellElement = goPreviousCell(cellElement, range, false);\n            if (!previousCellElement && tableElement) {\n                if (tableElement.textContent.trim() === \"\") {\n                    tableElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\\n</p>\";\n                    (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                }\n                else {\n                    range.setStartBefore(tableElement);\n                    range.collapse(true);\n                }\n                execAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 上方新添加一行\n        if (matchHotKey(\"⇧⌘F\", event)) {\n            insertRowAbove(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 下方新添加一行 https://github.com/Vanessa219/vditor/issues/46\n        if (matchHotKey(\"⌘=\", event)) {\n            insertRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 左方新添加一列\n        if (matchHotKey(\"⇧⌘G\", event)) {\n            insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n            event.preventDefault();\n            return true;\n        }\n        // 后方新添加一列\n        if (matchHotKey(\"⇧⌘=\", event)) {\n            insertColumn(vditor, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前行\n        if (matchHotKey(\"⌘-\", event)) {\n            deleteRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前列\n        if (matchHotKey(\"⇧⌘-\", event)) {\n            deleteColumn(vditor, range, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 剧左\n        if (matchHotKey(\"⇧⌘L\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"left\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"left\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧中\n        if (matchHotKey(\"⇧⌘C\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"center\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"center\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧右\n        if (matchHotKey(\"⇧⌘R\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"right\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"right\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n};\nvar fixCodeBlock = function (vditor, event, codeRenderElement, range) {\n    // 行级代码块中 command + a，近对当前代码块进行全选\n    if (codeRenderElement.tagName === \"PRE\" && matchHotKey(\"⌘A\", event)) {\n        range.selectNodeContents(codeRenderElement.firstElementChild);\n        event.preventDefault();\n        return true;\n    }\n    // tab\n    // TODO shift + tab, shift and 选中文字\n    if (vditor.options.tab && event.key === \"Tab\" && !event.shiftKey && range.toString() === \"\") {\n        range.insertNode(document.createTextNode(vditor.options.tab));\n        range.collapse(false);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // Backspace: 光标位于第零个字符，仅删除代码块标签\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n        var codePosition = (0,selection/* getSelectPosition */.im)(codeRenderElement, vditor[vditor.currentMode].element, range);\n        if ((codePosition.start === 0 ||\n            (codePosition.start === 1 && codeRenderElement.innerText === \"\\n\")) // 空代码块，光标在 \\n 后\n            && range.toString() === \"\") {\n            codeRenderElement.parentElement.outerHTML =\n                \"<p data-block=\\\"0\\\"><wbr>\".concat(codeRenderElement.firstElementChild.innerHTML, \"</p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 换行\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        if (!codeRenderElement.firstElementChild.textContent.endsWith(\"\\n\")) {\n            codeRenderElement.firstElementChild.insertAdjacentText(\"beforeend\", \"\\n\");\n        }\n        range.extractContents();\n        range.insertNode(document.createTextNode(\"\\n\"));\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        if (!(0,compatibility/* isFirefox */.vU)()) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                input_input(vditor, range);\n            }\n            else {\n                input(vditor, range);\n            }\n        }\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar fixBlockquote = function (vditor, range, event, pElement) {\n    var startContainer = range.startContainer;\n    var blockquoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"BLOCKQUOTE\");\n    if (blockquoteElement && range.toString() === \"\") {\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey &&\n            (0,selection/* getSelectPosition */.im)(blockquoteElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // Backspace: 光标位于引用中的第零个字符，仅删除引用标签\n            range.insertNode(document.createElement(\"wbr\"));\n            blockquoteElement.outerHTML = blockquoteElement.innerHTML;\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (pElement && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && pElement.parentElement.tagName === \"BLOCKQUOTE\") {\n            // Enter: 空行回车应逐层跳出\n            var isEmpty = false;\n            if (pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\\n\" ||\n                pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                // 空 P\n                isEmpty = true;\n                pElement.remove();\n            }\n            else if (pElement.innerHTML.endsWith(\"\\n\\n\") &&\n                (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start ===\n                    pElement.textContent.length - 1) {\n                // 软换行\n                pElement.innerHTML = pElement.innerHTML.substr(0, pElement.innerHTML.length - 2);\n                isEmpty = true;\n            }\n            if (isEmpty) {\n                // 需添加零宽字符，否则的话无法记录 undo\n                blockquoteElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\\n</p>\"));\n                (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        if (vditor.currentMode === \"wysiwyg\" && blockElement && matchHotKey(\"⇧⌘;\", event)) {\n            // 插入 blockquote\n            range.insertNode(document.createElement(\"wbr\"));\n            blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            afterRenderEvent(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n    }\n    return false;\n};\nvar fixTask = function (vditor, range, event) {\n    var startContainer = range.startContainer;\n    var taskItemElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-task\");\n    if (taskItemElement) {\n        if (matchHotKey(\"⇧⌘J\", event)) {\n            // ctrl + shift: toggle checked\n            var inputElement = taskItemElement.firstElementChild;\n            if (inputElement.checked) {\n                inputElement.removeAttribute(\"checked\");\n            }\n            else {\n                inputElement.setAttribute(\"checked\", \"checked\");\n            }\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // Backspace: 在选择框前进行删除\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\"\n            && range.startOffset === 1\n            && ((startContainer.nodeType === 3 && startContainer.previousSibling &&\n                startContainer.previousSibling.tagName === \"INPUT\")\n                || startContainer.nodeType !== 3)) {\n            var previousElement = taskItemElement.previousElementSibling;\n            taskItemElement.querySelector(\"input\").remove();\n            if (previousElement) {\n                var lastNode = (0,hasClosest/* getLastNode */.DX)(previousElement);\n                lastNode.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + taskItemElement.innerHTML.trim());\n                taskItemElement.remove();\n            }\n            else {\n                taskItemElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\".concat(taskItemElement.innerHTML.trim() || \"\\n\", \"</p>\"));\n                if (taskItemElement.nextElementSibling) {\n                    taskItemElement.remove();\n                }\n                else {\n                    taskItemElement.parentElement.remove();\n                }\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n            if (taskItemElement.textContent.trim() === \"\") {\n                // 当前任务列表无文字\n                if ((0,hasClosest/* hasClosestByClassName */.fb)(taskItemElement.parentElement, \"vditor-task\")) {\n                    // 为子元素时，需进行反向缩进\n                    var topListElement = (0,hasClosest/* getTopList */.O9)(startContainer);\n                    if (topListElement) {\n                        listOutdent(vditor, taskItemElement, range, topListElement);\n                    }\n                }\n                else {\n                    // 仅有一级任务列表\n                    if (taskItemElement.nextElementSibling) {\n                        // 任务列表下方还有元素，需要使用用段落隔断\n                        var afterHTML_2 = \"\";\n                        var beforeHTML_1 = \"\";\n                        var isAfter_1 = false;\n                        Array.from(taskItemElement.parentElement.children).forEach(function (taskItem) {\n                            if (taskItemElement.isSameNode(taskItem)) {\n                                isAfter_1 = true;\n                            }\n                            else {\n                                if (isAfter_1) {\n                                    afterHTML_2 += taskItem.outerHTML;\n                                }\n                                else {\n                                    beforeHTML_1 += taskItem.outerHTML;\n                                }\n                            }\n                        });\n                        var parentTagName = taskItemElement.parentElement.tagName;\n                        var dataMarker = taskItemElement.parentElement.tagName === \"OL\" ? \"\" : \" data-marker=\\\"\".concat(taskItemElement.parentElement.getAttribute(\"data-marker\"), \"\\\"\");\n                        var startAttribute = \"\";\n                        if (beforeHTML_1) {\n                            startAttribute = taskItemElement.parentElement.tagName === \"UL\" ? \"\" : \" start=\\\"1\\\"\";\n                            beforeHTML_1 = \"<\".concat(parentTagName, \" data-tight=\\\"true\\\"\").concat(dataMarker, \" data-block=\\\"0\\\">\").concat(beforeHTML_1, \"</\").concat(parentTagName, \">\");\n                        }\n                        // <p data-block=\"0\">\\n<wbr></p> => <p data-block=\"0\"><wbr>\\n</p>\n                        // https://github.com/Vanessa219/vditor/issues/430\n                        taskItemElement.parentElement.outerHTML = \"\".concat(beforeHTML_1, \"<p data-block=\\\"0\\\"><wbr>\\n</p><\").concat(parentTagName, \"\\n data-tight=\\\"true\\\"\").concat(dataMarker, \" data-block=\\\"0\\\"\").concat(startAttribute, \">\").concat(afterHTML_2, \"</\").concat(parentTagName, \">\");\n                    }\n                    else {\n                        // 任务列表下方无任务列表元素\n                        taskItemElement.parentElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\"><wbr>\\n</p>\");\n                        if (taskItemElement.parentElement.querySelectorAll(\"li\").length === 1) {\n                            // 任务列表仅有一项时，使用 p 元素替换\n                            taskItemElement.parentElement.remove();\n                        }\n                        else {\n                            // 任务列表有多项时，当前任务列表位于最后一项，移除该任务列表\n                            taskItemElement.remove();\n                        }\n                    }\n                }\n            }\n            else if (startContainer.nodeType !== 3 && range.startOffset === 0 &&\n                startContainer.firstChild.tagName === \"INPUT\") {\n                // 光标位于 input 之前\n                range.setStart(startContainer.childNodes[1], 1);\n            }\n            else {\n                // 当前任务列表有文字，光标后的文字需添加到新任务列表中\n                range.setEndAfter(taskItemElement.lastChild);\n                taskItemElement.insertAdjacentHTML(\"afterend\", \"<li class=\\\"vditor-task\\\" data-marker=\\\"\".concat(taskItemElement.getAttribute(\"data-marker\"), \"\\\"><input type=\\\"checkbox\\\"> <wbr></li>\"));\n                document.querySelector(\"wbr\").after(range.extractContents());\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixDelete = function (vditor, range, event, pElement) {\n    if (range.startContainer.nodeType !== 3) {\n        // 光标位于 hr 前，hr 前有内容\n        var rangeElement = range.startContainer.children[range.startOffset];\n        if (rangeElement && rangeElement.tagName === \"HR\") {\n            range.selectNodeContents(rangeElement.previousElementSibling);\n            range.collapse(false);\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (pElement) {\n        var previousElement = pElement.previousElementSibling;\n        if (previousElement && (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0 &&\n            (((0,compatibility/* isFirefox */.vU)() && previousElement.tagName === \"HR\") || previousElement.tagName === \"TABLE\")) {\n            if (previousElement.tagName === \"TABLE\") {\n                // table 后删除 https://github.com/Vanessa219/vditor/issues/243\n                var lastCellElement = previousElement.lastElementChild.lastElementChild.lastElementChild;\n                lastCellElement.innerHTML =\n                    lastCellElement.innerHTML.trimLeft() + \"<wbr>\" + pElement.textContent.trim();\n                pElement.remove();\n            }\n            else {\n                // 光标位于 hr 后进行删除\n                previousElement.remove();\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixHR = function (range) {\n    if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.nodeType !== 3 &&\n        range.startContainer.tagName === \"HR\") {\n        range.setStartBefore(range.startContainer);\n    }\n};\n// firefox https://github.com/Vanessa219/vditor/issues/407\nvar fixFirefoxArrowUpTable = function (event, blockElement, range) {\n    var _a, _b;\n    if (!(0,compatibility/* isFirefox */.vU)()) {\n        return false;\n    }\n    if (event.key === \"ArrowUp\" && blockElement && ((_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"TABLE\") {\n        var tableElement = blockElement.previousElementSibling;\n        range.selectNodeContents(tableElement.rows[tableElement.rows.length - 1].lastElementChild);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (event.key === \"ArrowDown\" && blockElement && ((_b = blockElement.nextElementSibling) === null || _b === void 0 ? void 0 : _b.tagName) === \"TABLE\") {\n        range.selectNodeContents(blockElement.nextElementSibling.rows[0].cells[0]);\n        range.collapse(true);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar paste = function (vditor, event, callback) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var textHTML, textPlain, files, renderers, renderLinkDest, doc, height, code, codeElement, position, tempElement, fileReader_1, file_1, range, blockElement, range;\n    var _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") !== \"true\") {\n                    return [2 /*return*/];\n                }\n                event.stopPropagation();\n                event.preventDefault();\n                if (\"clipboardData\" in event) {\n                    textHTML = event.clipboardData.getData(\"text/html\");\n                    textPlain = event.clipboardData.getData(\"text/plain\");\n                    files = event.clipboardData.files;\n                }\n                else {\n                    textHTML = event.dataTransfer.getData(\"text/html\");\n                    textPlain = event.dataTransfer.getData(\"text/plain\");\n                    if (event.dataTransfer.types.includes(\"Files\")) {\n                        files = event.dataTransfer.items;\n                    }\n                }\n                renderers = {};\n                renderLinkDest = function (node, entering) {\n                    if (!entering) {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    if (vditor.options.upload.renderLinkDest) {\n                        return vditor.options.upload.renderLinkDest(vditor, node, entering);\n                    }\n                    var src = node.TokensStr();\n                    if (node.__internal_object__.Parent.Type === 34 && src && src.indexOf(\"file://\") === -1 &&\n                        vditor.options.upload.linkToImgUrl) {\n                        var xhr_1 = new XMLHttpRequest();\n                        xhr_1.open(\"POST\", vditor.options.upload.linkToImgUrl);\n                        if (vditor.options.upload.token) {\n                            xhr_1.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                        }\n                        if (vditor.options.upload.withCredentials) {\n                            xhr_1.withCredentials = true;\n                        }\n                        setHeaders(vditor, xhr_1);\n                        xhr_1.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n                        xhr_1.onreadystatechange = function () {\n                            if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                                if (xhr_1.status === 200) {\n                                    var responseText = xhr_1.responseText;\n                                    if (vditor.options.upload.linkToImgFormat) {\n                                        responseText = vditor.options.upload.linkToImgFormat(xhr_1.responseText);\n                                    }\n                                    var responseJSON_1 = JSON.parse(responseText);\n                                    if (responseJSON_1.code !== 0) {\n                                        vditor.tip.show(responseJSON_1.msg);\n                                        return;\n                                    }\n                                    var original_1 = responseJSON_1.data.originalURL;\n                                    if (vditor.currentMode === \"sv\") {\n                                        vditor.sv.element.querySelectorAll(\".vditor-sv__marker--link\")\n                                            .forEach(function (item) {\n                                            if (item.textContent === original_1) {\n                                                item.textContent = responseJSON_1.data.url;\n                                            }\n                                        });\n                                    }\n                                    else {\n                                        var imgElement = vditor[vditor.currentMode].element.querySelector(\"img[src=\\\"\".concat(original_1, \"\\\"]\"));\n                                        imgElement.src = responseJSON_1.data.url;\n                                        if (vditor.currentMode === \"ir\") {\n                                            imgElement.previousElementSibling.previousElementSibling.innerHTML =\n                                                responseJSON_1.data.url;\n                                        }\n                                    }\n                                    execAfterRender(vditor);\n                                }\n                                else {\n                                    vditor.tip.show(xhr_1.responseText);\n                                }\n                                if (vditor.options.upload.linkToImgCallback) {\n                                    vditor.options.upload.linkToImgCallback(xhr_1.responseText);\n                                }\n                            }\n                        };\n                        xhr_1.send(JSON.stringify({ url: src }));\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        return [\"<span class=\\\"vditor-ir__marker vditor-ir__marker--link\\\">\".concat(Lute.EscapeHTMLStr(src), \"</span>\"), Lute.WalkContinue];\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    else {\n                        return [\"<span class=\\\"vditor-sv__marker--link\\\">\".concat(Lute.EscapeHTMLStr(src), \"</span>\"), Lute.WalkContinue];\n                    }\n                };\n                // 浏览器地址栏拷贝处理\n                if (textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                    \"<a href=\\\"\".concat(textPlain, \"\\\">\").concat(textPlain, \"</a>\") ||\n                    textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                        \"<!--StartFragment--><a href=\\\"\".concat(textPlain, \"\\\">\").concat(textPlain, \"</a><!--EndFragment-->\")) {\n                    textHTML = \"\";\n                }\n                doc = new DOMParser().parseFromString(textHTML, \"text/html\");\n                if (doc.body) {\n                    textHTML = doc.body.innerHTML;\n                }\n                textHTML = Lute.Sanitize(textHTML);\n                vditor.wysiwyg.getComments(vditor);\n                height = vditor[vditor.currentMode].element.scrollHeight;\n                code = processPasteCode(textHTML, textPlain, vditor.currentMode);\n                codeElement = vditor.currentMode === \"sv\" ?\n                    (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"code-block\") :\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"CODE\");\n                if (!codeElement) return [3 /*break*/, 1];\n                // 粘贴在代码位置\n                if (vditor.currentMode === \"sv\") {\n                    document.execCommand(\"insertHTML\", false, textPlain.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"));\n                }\n                else {\n                    position = (0,selection/* getSelectPosition */.im)(event.target, vditor[vditor.currentMode].element);\n                    if (codeElement.parentElement.tagName !== \"PRE\") {\n                        // https://github.com/Vanessa219/vditor/issues/463\n                        textPlain += constants/* Constants.ZWSP */.g.ZWSP;\n                    }\n                    codeElement.textContent = codeElement.textContent.substring(0, position.start)\n                        + textPlain + codeElement.textContent.substring(position.end);\n                    (0,selection/* setSelectionByPosition */.$j)(position.start + textPlain.length, position.start + textPlain.length, codeElement.parentElement);\n                    if ((_a = codeElement.parentElement) === null || _a === void 0 ? void 0 : _a.nextElementSibling.classList.contains(\"vditor-\".concat(vditor.currentMode, \"__preview\"))) {\n                        codeElement.parentElement.nextElementSibling.innerHTML = codeElement.outerHTML;\n                        processCodeRender(codeElement.parentElement.nextElementSibling, vditor);\n                    }\n                }\n                return [3 /*break*/, 8];\n            case 1:\n                if (!code) return [3 /*break*/, 2];\n                callback.pasteCode(code);\n                return [3 /*break*/, 8];\n            case 2:\n                if (!(textHTML.trim() !== \"\")) return [3 /*break*/, 3];\n                tempElement = document.createElement(\"div\");\n                tempElement.innerHTML = textHTML;\n                tempElement.querySelectorAll(\"[style]\").forEach(function (e) {\n                    e.removeAttribute(\"style\");\n                });\n                tempElement.querySelectorAll(\".vditor-copy\").forEach(function (e) {\n                    e.remove();\n                });\n                if (vditor.currentMode === \"ir\") {\n                    renderers.HTML2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorIRDOM(tempElement.innerHTML), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    renderers.HTML2VditorDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorDOM(tempElement.innerHTML), vditor);\n                }\n                else {\n                    renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    processPaste(vditor, vditor.lute.HTML2Md(tempElement.innerHTML).trimRight());\n                }\n                vditor.outline.render(vditor);\n                return [3 /*break*/, 8];\n            case 3:\n                if (!(files.length > 0)) return [3 /*break*/, 7];\n                if (!(vditor.options.upload.url || vditor.options.upload.handler)) return [3 /*break*/, 5];\n                return [4 /*yield*/, uploadFiles(vditor, files)];\n            case 4:\n                _b.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                fileReader_1 = new FileReader();\n                if (\"clipboardData\" in event) {\n                    files = event.clipboardData.files;\n                    file_1 = files[0];\n                }\n                else if (event.dataTransfer.types.includes(\"Files\")) {\n                    files = event.dataTransfer.items;\n                    file_1 = files[0].getAsFile();\n                }\n                if (file_1 && file_1.type.startsWith(\"image\")) {\n                    fileReader_1.readAsDataURL(file_1);\n                    fileReader_1.onload = function () {\n                        var imgHTML = '';\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            imgHTML += \"<img alt=\\\"\".concat(file_1.name, \"\\\" src=\\\"\").concat(fileReader_1.result.toString(), \"\\\">\\n\");\n                        }\n                        else {\n                            imgHTML += \"![\".concat(file_1.name, \"](\").concat(fileReader_1.result.toString(), \")\\n\");\n                        }\n                        document.execCommand(\"insertHTML\", false, imgHTML);\n                    };\n                }\n                _b.label = 6;\n            case 6: return [3 /*break*/, 8];\n            case 7:\n                if (textPlain.trim() !== \"\" && files.length === 0) {\n                    range = (0,selection/* getEditorRange */.zh)(vditor);\n                    if (range.toString() !== \"\" && vditor.lute.IsValidLinkDest(textPlain)) {\n                        textPlain = \"[\".concat(range.toString(), \"](\").concat(textPlain, \")\");\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        renderers.Md2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorIRDOM(textPlain), vditor);\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        renderers.Md2VditorDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorDOM(textPlain), vditor);\n                    }\n                    else {\n                        renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        processPaste(vditor, textPlain);\n                    }\n                    vditor.outline.render(vditor);\n                }\n                _b.label = 8;\n            case 8:\n                if (vditor.currentMode !== \"sv\") {\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)((0,selection/* getEditorRange */.zh)(vditor).startContainer);\n                    if (blockElement) {\n                        range = (0,selection/* getEditorRange */.zh)(vditor);\n                        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n                            wbr.remove();\n                        });\n                        range.insertNode(document.createElement(\"wbr\"));\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                        }\n                        else {\n                            blockElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.outerHTML);\n                        }\n                        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                    }\n                    vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                        .forEach(function (item) {\n                        processCodeRender(item, vditor);\n                    });\n                }\n                vditor.wysiwyg.triggerRemoveComment(vditor);\n                execAfterRender(vditor);\n                if (vditor[vditor.currentMode].element.scrollHeight - height >\n                    Math.min(vditor[vditor.currentMode].element.clientHeight, window.innerHeight) / 2) {\n                    scrollCenter(vditor);\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar templateObject_1;\n\n;// CONCATENATED MODULE: ./src/ts/ir/process.ts\n\n\n\n\n\n\n\n\n\nvar processHint = function (vditor) {\n    vditor.hint.render(vditor);\n    var startContainer = (0,selection/* getEditorRange */.zh)(vditor).startContainer;\n    // 代码块语言提示\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (preBeforeElement.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && vditor.hint.recentLanguage) {\n            preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + vditor.hint.recentLanguage;\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            range.selectNodeContents(preBeforeElement);\n        }\n        else {\n            var matchLangData_1 = [];\n            var key_1 = preBeforeElement.textContent.substring(0, (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start)\n                .replace(constants/* Constants.ZWSP */.g.ZWSP, \"\");\n            (vditor.options.preview.hljs.langs || constants/* Constants.CODE_LANGUAGES */.g.CODE_LANGUAGES).forEach(function (keyName) {\n                if (keyName.indexOf(key_1.toLowerCase()) > -1) {\n                    matchLangData_1.push({\n                        html: keyName,\n                        value: keyName,\n                    });\n                }\n            });\n            vditor.hint.genHTML(matchLangData_1, key_1, vditor);\n        }\n    }\n};\nvar process_processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        processHint(vditor);\n    }\n    clearTimeout(vditor.ir.processTimeoutId);\n    vditor.ir.processTimeoutId = window.setTimeout(function () {\n        if (vditor.ir.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar process_processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || range.startContainer;\n    if (headingElement) {\n        var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n        if (headingMarkerElement) {\n            headingMarkerElement.innerHTML = value;\n        }\n        else {\n            headingElement.insertAdjacentText(\"afterbegin\", value);\n            range.selectNodeContents(headingElement);\n            range.collapse(false);\n        }\n        input(vditor, range.cloneRange());\n        highlightToolbarIR(vditor);\n    }\n};\nvar removeInline = function (range, vditor, type) {\n    var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", type);\n    if (inlineElement) {\n        inlineElement.firstElementChild.remove();\n        inlineElement.lastElementChild.remove();\n        range.insertNode(document.createElement(\"wbr\"));\n        var tempElement = document.createElement(\"div\");\n        tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(inlineElement.outerHTML);\n        inlineElement.outerHTML = tempElement.firstElementChild.innerHTML.trim();\n    }\n};\nvar process_processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    var typeElement = range.startContainer;\n    if (typeElement.nodeType === 3) {\n        typeElement = typeElement.parentElement;\n    }\n    var useHighlight = true;\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n            if (quoteElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\".concat(quoteElement.innerHTML, \"</p>\") : quoteElement.innerHTML;\n            }\n        }\n        else if (commandName === \"link\") {\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"a\");\n            if (aElement) {\n                var aTextElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__link\");\n                if (aTextElement) {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    aElement.outerHTML = aTextElement.innerHTML;\n                }\n                else {\n                    aElement.outerHTML = aElement.querySelector(\".vditor-ir__link\").innerHTML + \"<wbr>\";\n                }\n            }\n        }\n        else if (commandName === \"italic\") {\n            removeInline(range, vditor, \"em\");\n        }\n        else if (commandName === \"bold\") {\n            removeInline(range, vditor, \"strong\");\n        }\n        else if (commandName === \"strike\") {\n            removeInline(range, vditor, \"s\");\n        }\n        else if (commandName === \"inline-code\") {\n            removeInline(range, vditor, \"code\");\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n    }\n    else {\n        // 添加\n        if (vditor.ir.element.childNodes.length === 0) {\n            vditor.ir.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n            }\n        }\n        else if (commandName === \"quote\") {\n            if (blockElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n            }\n        }\n        else if (commandName === \"link\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = \"\".concat(prefix, \"<wbr>\").concat(suffix);\n            }\n            else {\n                html = \"\".concat(prefix).concat(range.toString()).concat(suffix.replace(\")\", \"<wbr>)\"));\n            }\n            document.execCommand(\"insertHTML\", false, html);\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\"\n            || commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = \"\".concat(prefix, \"<wbr>\").concat(suffix);\n            }\n            else {\n                if (commandName === \"code\") {\n                    html = \"\".concat(prefix, \"\\n\").concat(range.toString(), \"<wbr>\").concat(suffix);\n                }\n                else if (commandName === \"table\") {\n                    html = \"\".concat(prefix).concat(range.toString(), \"<wbr>\").concat(suffix);\n                }\n                else {\n                    html = \"\".concat(prefix).concat(range.toString()).concat(suffix, \"<wbr>\");\n                }\n                range.deleteContents();\n            }\n            if (commandName === \"table\" || commandName === \"code\") {\n                html = \"\\n\" + html + \"\\n\\n\";\n            }\n            var spanElement = document.createElement(\"span\");\n            spanElement.innerHTML = html;\n            range.insertNode(spanElement);\n            input(vditor, range);\n            if (commandName === \"table\") {\n                range.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    process_processAfterRender(vditor);\n    if (useHighlight) {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/hint/index.ts\nvar hint_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar hint_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\nvar Hint = /** @class */ (function () {\n    function Hint(hintExtends) {\n        var _this = this;\n        this.splitChar = \"\";\n        this.lastIndex = -1;\n        this.fillEmoji = function (element, vditor) {\n            _this.element.style.display = \"none\";\n            var value = decodeURIComponent(element.getAttribute(\"data-value\"));\n            var range = window.getSelection().getRangeAt(0);\n            // 代码提示\n            if (vditor.currentMode === \"ir\") {\n                var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"code-block-info\");\n                if (preBeforeElement) {\n                    preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + value.trimRight();\n                    range.selectNodeContents(preBeforeElement);\n                    range.collapse(false);\n                    process_processAfterRender(vditor);\n                    preBeforeElement.parentElement.querySelectorAll(\"code\").forEach(function (item) {\n                        item.className = \"language-\" + value.trimRight();\n                    });\n                    processCodeRender(preBeforeElement.parentElement.querySelector(\".vditor-ir__preview\"), vditor);\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            if (vditor.currentMode === \"wysiwyg\" && range.startContainer.nodeType !== 3) {\n                var startContainer = range.startContainer;\n                var inputElement = void 0;\n                if (startContainer.classList.contains(\"vditor-input\")) {\n                    inputElement = startContainer;\n                }\n                else {\n                    inputElement = startContainer.firstElementChild;\n                }\n                if (inputElement && inputElement.classList.contains(\"vditor-input\")) {\n                    inputElement.value = value.trimRight();\n                    range.selectNodeContents(inputElement);\n                    range.collapse(false);\n                    // {detail: 1}用于标识这个自定义事件是在编程语言选择后触发的\n                    // 用于在鼠标选择语言后，自动聚焦到代码输入框\n                    inputElement.dispatchEvent(new CustomEvent(\"input\", { detail: 1 }));\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            range.setStart(range.startContainer, _this.lastIndex);\n            range.deleteContents();\n            if (vditor.options.hint.parse) {\n                if (vditor.currentMode === \"sv\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorSVDOM(value), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorDOM(value), vditor);\n                }\n                else {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorIRDOM(value), vditor);\n                }\n            }\n            else {\n                (0,selection/* insertHTML */.oC)(value, vditor);\n            }\n            if (_this.splitChar === \":\" && value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                range.insertNode(document.createTextNode(\" \"));\n            }\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            if (vditor.currentMode === \"wysiwyg\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__block\");\n                if (preElement && preElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                    preElement.lastElementChild.innerHTML = preElement.firstElementChild.innerHTML;\n                    processCodeRender(preElement.lastElementChild, vditor);\n                }\n            }\n            else if (vditor.currentMode === \"ir\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker--pre\");\n                if (preElement && preElement.nextElementSibling.classList.contains(\"vditor-ir__preview\")) {\n                    preElement.nextElementSibling.innerHTML = preElement.innerHTML;\n                    processCodeRender(preElement.nextElementSibling, vditor);\n                }\n            }\n            execAfterRender(vditor);\n        };\n        this.timeId = -1;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-hint\";\n        this.recentLanguage = \"\";\n        hintExtends.push({ key: \":\" });\n    }\n    Hint.prototype.render = function (vditor) {\n        var _this = this;\n        if (!window.getSelection().focusNode) {\n            return;\n        }\n        var currentLineValue;\n        var range = getSelection().getRangeAt(0);\n        currentLineValue = range.startContainer.textContent.substring(0, range.startOffset) || \"\";\n        var key = this.getKey(currentLineValue, vditor.options.hint.extend);\n        if (typeof key === \"undefined\") {\n            this.element.style.display = \"none\";\n            clearTimeout(this.timeId);\n        }\n        else {\n            if (this.splitChar === \":\") {\n                var emojiHint_1 = key === \"\" ? vditor.options.hint.emoji : vditor.lute.GetEmojis();\n                var matchEmojiData_1 = [];\n                Object.keys(emojiHint_1).forEach(function (keyName) {\n                    if (keyName.indexOf(key.toLowerCase()) === 0) {\n                        if (emojiHint_1[keyName].indexOf(\".\") > -1) {\n                            matchEmojiData_1.push({\n                                html: \"<img src=\\\"\".concat(emojiHint_1[keyName], \"\\\" title=\\\":\").concat(keyName, \":\\\"/> :\").concat(keyName, \":\"),\n                                value: \":\".concat(keyName, \":\"),\n                            });\n                        }\n                        else {\n                            matchEmojiData_1.push({\n                                html: \"<span class=\\\"vditor-hint__emoji\\\">\".concat(emojiHint_1[keyName], \"</span>\").concat(keyName),\n                                value: emojiHint_1[keyName],\n                            });\n                        }\n                    }\n                });\n                this.genHTML(matchEmojiData_1, key, vditor);\n            }\n            else {\n                vditor.options.hint.extend.forEach(function (item) {\n                    if (item.key === _this.splitChar) {\n                        clearTimeout(_this.timeId);\n                        _this.timeId = window.setTimeout(function () { return hint_awaiter(_this, void 0, void 0, function () {\n                            var _a;\n                            return hint_generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        _a = this.genHTML;\n                                        return [4 /*yield*/, item.hint(key)];\n                                    case 1:\n                                        _a.apply(this, [_b.sent(), key, vditor]);\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); }, vditor.options.hint.delay);\n                    }\n                });\n            }\n        }\n    };\n    Hint.prototype.genHTML = function (data, key, vditor) {\n        var _this = this;\n        if (data.length === 0) {\n            this.element.style.display = \"none\";\n            return;\n        }\n        var editorElement = vditor[vditor.currentMode].element;\n        var textareaPosition = (0,selection/* getCursorPosition */.Ny)(editorElement);\n        var x = textareaPosition.left +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0);\n        var y = textareaPosition.top;\n        var hintsHTML = \"\";\n        data.forEach(function (hintData, i) {\n            if (i > 7) {\n                return;\n            }\n            // process high light\n            var html = hintData.html;\n            if (key !== \"\") {\n                var lastIndex = html.lastIndexOf(\">\") + 1;\n                var replaceHtml = html.substr(lastIndex);\n                var replaceIndex = replaceHtml.toLowerCase().indexOf(key.toLowerCase());\n                if (replaceIndex > -1) {\n                    replaceHtml = replaceHtml.substring(0, replaceIndex) + \"<b>\" +\n                        replaceHtml.substring(replaceIndex, replaceIndex + key.length) + \"</b>\" +\n                        replaceHtml.substring(replaceIndex + key.length);\n                    html = html.substr(0, lastIndex) + replaceHtml;\n                }\n            }\n            hintsHTML += \"<button type=\\\"button\\\" data-value=\\\"\".concat(encodeURIComponent(hintData.value), \" \\\"\\n\").concat(i === 0 ? \"class='vditor-hint--current'\" : \"\", \"> \").concat(html, \"</button>\");\n        });\n        this.element.innerHTML = hintsHTML;\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(editorElement, null)\n            .getPropertyValue(\"line-height\"), 10);\n        this.element.style.top = \"\".concat(y + (lineHeight || 22), \"px\");\n        this.element.style.left = \"\".concat(x, \"px\");\n        this.element.style.display = \"block\";\n        this.element.style.right = \"auto\";\n        this.element.querySelectorAll(\"button\").forEach(function (element) {\n            element.addEventListener(\"click\", function (event) {\n                _this.fillEmoji(element, vditor);\n                event.preventDefault();\n            });\n        });\n        // hint 展现在上部\n        if (this.element.getBoundingClientRect().bottom > window.innerHeight) {\n            this.element.style.top = \"\".concat(y - this.element.offsetHeight, \"px\");\n        }\n        if (this.element.getBoundingClientRect().right > window.innerWidth) {\n            this.element.style.left = \"auto\";\n            this.element.style.right = \"0\";\n        }\n    };\n    Hint.prototype.select = function (event, vditor) {\n        if (this.element.querySelectorAll(\"button\").length === 0 ||\n            this.element.style.display === \"none\") {\n            return false;\n        }\n        var currentHintElement = this.element.querySelector(\".vditor-hint--current\");\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.nextElementSibling) {\n                this.element.children[0].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.nextElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.previousElementSibling) {\n                var length_1 = this.element.children.length;\n                this.element.children[length_1 - 1].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.previousElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\" && !event.isComposing) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fillEmoji(currentHintElement, vditor);\n            return true;\n        }\n        return false;\n    };\n    Hint.prototype.getKey = function (currentLineValue, extend) {\n        var _this = this;\n        this.lastIndex = -1;\n        this.splitChar = \"\";\n        extend.forEach(function (item) {\n            var currentLastIndex = currentLineValue.lastIndexOf(item.key);\n            if (_this.lastIndex < currentLastIndex) {\n                _this.splitChar = item.key;\n                _this.lastIndex = currentLastIndex;\n            }\n        });\n        var key;\n        if (this.lastIndex === -1) {\n            return key;\n        }\n        var lineArray = currentLineValue.split(this.splitChar);\n        var lastItem = lineArray[lineArray.length - 1];\n        var maxLength = 32;\n        if (lineArray.length > 1 && lastItem.trim() === lastItem) {\n            if (lineArray.length === 2 && lineArray[0] === \"\" && lineArray[1].length < maxLength) {\n                key = lineArray[1];\n            }\n            else {\n                var preChar = lineArray[lineArray.length - 2].slice(-1);\n                if ((0,code160to32/* code160to32 */.X)(preChar) === \" \" && lastItem.length < maxLength) {\n                    key = lastItem;\n                }\n            }\n        }\n        return key;\n    };\n    return Hint;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ir/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar IR = /** @class */ (function () {\n    function IR(vditor) {\n        this.composingLock = false;\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-ir\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\".concat(vditor.options.placeholder, \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\");\n        this.element = divElement.firstElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    IR.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorIRDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    IR.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input(vditor, getSelection().getRangeAt(0).cloneRange());\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                process_processAfterRender(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: true,\n                    enableInput: true,\n                });\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            input(vditor, getSelection().getRangeAt(0).cloneRange(), false, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                if (event.target.checked) {\n                    event.target.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    event.target.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                process_processAfterRender(vditor);\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            // 点击后光标落于预览区\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-ir__preview\");\n            if (!previewElement) {\n                previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            }\n            if (previewElement) {\n                if (previewElement.previousElementSibling.firstElementChild) {\n                    range.selectNodeContents(previewElement.previousElementSibling.firstElementChild);\n                }\n                else {\n                    // 行内数学公式\n                    range.selectNodeContents(previewElement.previousElementSibling);\n                }\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                scrollCenter(vditor);\n            }\n            // 点击图片光标选中图片地址\n            if (event.target.tagName === \"IMG\") {\n                var linkElement = event.target.parentElement.querySelector(\".vditor-ir__marker--link\");\n                if (linkElement) {\n                    range.selectNode(linkElement);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n            }\n            // 打开链接\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"a\");\n            if (aElement && (!aElement.classList.contains(\"vditor-ir__node--expand\"))) {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(aElement.querySelector(\":scope > .vditor-ir__marker--link\"));\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(aElement.querySelector(\":scope > .vditor-ir__marker--link\").textContent);\n                }\n                return;\n            }\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            if (range.toString() === \"\") {\n                expandMarker(range, vditor);\n            }\n            else {\n                // https://github.com/Vanessa219/vditor/pull/681 当点击选中区域时 eventTarget 与 range 不一致，需延迟等待 range 发生变化\n                setTimeout(function () {\n                    expandMarker((0,selection/* getEditorRange */.zh)(vditor), vditor);\n                });\n            }\n            clickToc(event, vditor);\n            highlightToolbarIR(vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            highlightToolbarIR(vditor);\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.ir.element.innerHTML !== \"\" && vditor.ir.element.childNodes.length === 1 &&\n                vditor.ir.element.firstElementChild && vditor.ir.element.firstElementChild.tagName === \"P\"\n                && vditor.ir.element.firstElementChild.childElementCount === 0\n                && (vditor.ir.element.textContent === \"\" || vditor.ir.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.ir.element.innerHTML = \"\";\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                    expandMarker(range, vditor);\n                }\n                // 数学公式前是空块，空块前是 table，在空块前删除，数学公式会多一个 br\n                _this.element.querySelectorAll(\".language-math\").forEach(function (item) {\n                    var brElement = item.querySelector(\"br\");\n                    if (brElement) {\n                        brElement.remove();\n                    }\n                });\n            }\n            else if (event.key.indexOf(\"Arrow\") > -1) {\n                if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                    processHint(vditor);\n                }\n                expandMarker(range, vditor);\n            }\n            else if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\") {\n                // https://github.com/Vanessa219/vditor/issues/508 IR 删除到节点需展开\n                expandMarker(range, vditor);\n            }\n            var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            if (previewRenderElement) {\n                if (event.key === \"ArrowUp\" || event.key === \"ArrowLeft\") {\n                    if (previewRenderElement.previousElementSibling.firstElementChild) {\n                        range.selectNodeContents(previewRenderElement.previousElementSibling.firstElementChild);\n                    }\n                    else {\n                        // 行内数学公式/html entity\n                        range.selectNodeContents(previewRenderElement.previousElementSibling);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n                if (previewRenderElement.tagName === \"SPAN\" &&\n                    (event.key === \"ArrowDown\" || event.key === \"ArrowRight\")) {\n                    if (previewRenderElement.parentElement.getAttribute(\"data-type\") === \"html-entity\") {\n                        // html entity\n                        previewRenderElement.parentElement.insertAdjacentText(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n                        range.setStart(previewRenderElement.parentElement.nextSibling, 1);\n                    }\n                    else {\n                        range.selectNodeContents(previewRenderElement.parentElement.lastElementChild);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        });\n    };\n    return IR;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/markdown/getHTML.ts\n\nvar getHTML = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return vditor.lute.Md2HTML(getMarkdown(vditor));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2HTML(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2HTML(vditor.ir.element.innerHTML);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(65);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(182);\n;// CONCATENATED MODULE: ./src/ts/outline/index.ts\n\n\n\n\nvar Outline = /** @class */ (function () {\n    function Outline(outlineLabel) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-outline\";\n        this.element.innerHTML = \"<div class=\\\"vditor-outline__title\\\">\".concat(outlineLabel, \"</div>\\n<div class=\\\"vditor-outline__content\\\"></div>\");\n    }\n    Outline.prototype.render = function (vditor) {\n        var html = \"\";\n        if (vditor.preview.element.style.display === \"block\") {\n            html = (0,outlineRender/* outlineRender */.k)(vditor.preview.previewElement, this.element.lastElementChild, vditor);\n        }\n        else {\n            html = (0,outlineRender/* outlineRender */.k)(vditor[vditor.currentMode].element, this.element.lastElementChild, vditor);\n        }\n        return html;\n    };\n    Outline.prototype.toggle = function (vditor, show, focus) {\n        var _a;\n        if (show === void 0) { show = true; }\n        if (focus === void 0) { focus = true; }\n        var btnElement = (_a = vditor.toolbar.elements.outline) === null || _a === void 0 ? void 0 : _a.firstElementChild;\n        if (show && window.innerWidth >= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH) {\n            this.element.style.display = \"block\";\n            this.render(vditor);\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.add(\"vditor-menu--current\");\n        }\n        else {\n            this.element.style.display = \"none\";\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.remove(\"vditor-menu--current\");\n        }\n        if (focus && getSelection().rangeCount > 0) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        setPadding(vditor);\n    };\n    return Outline;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(431);\n;// CONCATENATED MODULE: ./src/ts/preview/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Preview = /** @class */ (function () {\n    function Preview(vditor) {\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-preview\";\n        this.previewElement = document.createElement(\"div\");\n        this.previewElement.className = \"vditor-reset\";\n        if (vditor.options.classes.preview) {\n            this.previewElement.classList.add(vditor.options.classes.preview);\n        }\n        this.previewElement.style.maxWidth = vditor.options.preview.maxWidth + \"px\";\n        this.previewElement.addEventListener(\"copy\", function (event) {\n            if (event.target.tagName === \"TEXTAREA\") {\n                // https://github.com/Vanessa219/vditor/issues/901\n                return;\n            }\n            var tempElement = document.createElement(\"div\");\n            tempElement.className = \"vditor-reset\";\n            tempElement.appendChild(getSelection().getRangeAt(0).cloneContents());\n            _this.copyToX(vditor, tempElement, \"default\");\n            event.preventDefault();\n        });\n        this.previewElement.addEventListener(\"click\", function (event) {\n            var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n            if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                var headingElement = _this.previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                if (headingElement) {\n                    _this.element.scrollTop = headingElement.offsetTop;\n                }\n                return;\n            }\n            if (event.target.tagName === \"A\") {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(event.target);\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(event.target.getAttribute(\"href\"));\n                }\n                event.preventDefault();\n                return;\n            }\n            if (event.target.tagName === \"IMG\") {\n                if (vditor.options.image.preview) {\n                    vditor.options.image.preview(event.target);\n                }\n                else if (vditor.options.image.isPreview) {\n                    (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n                }\n            }\n        });\n        this.element.appendChild(this.previewElement);\n        var actions = vditor.options.preview.actions;\n        if (actions.length === 0) {\n            return;\n        }\n        var actionElement = document.createElement(\"div\");\n        actionElement.className = \"vditor-preview__action\";\n        var actionHtml = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (typeof action === \"object\") {\n                actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"\".concat(action.key, \"\\\" class=\\\"\").concat(action.className, \"\\\"\").concat(action.tooltip ? \" aria-label=\\\"\".concat(action.tooltip, \"\\\"\") : \"\", \"\\\">\").concat(action.text, \"</button>\"));\n                continue;\n            }\n            switch (action) {\n                case \"desktop\":\n                    actionHtml.push(\"<button type=\\\"button\\\" class=\\\"vditor-preview__action--current\\\" data-type=\\\"desktop\\\">Desktop</button>\");\n                    break;\n                case \"tablet\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"tablet\\\">Tablet</button>\");\n                    break;\n                case \"mobile\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mobile\\\">Mobile/Wechat</button>\");\n                    break;\n                case \"mp-wechat\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mp-wechat\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u516C\\u4F17\\u53F7\\\"><svg><use xlink:href=\\\"#vditor-icon-mp-wechat\\\"></use></svg></button>\");\n                    break;\n                case \"zhihu\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"zhihu\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u77E5\\u4E4E\\\"><svg><use xlink:href=\\\"#vditor-icon-zhihu\\\"></use></svg></button>\");\n                    break;\n            }\n        }\n        actionElement.innerHTML = actionHtml.join(\"\");\n        actionElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btn = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (!btn) {\n                return;\n            }\n            var type = btn.getAttribute(\"data-type\");\n            var actionCustom = actions.find(function (w) { return (w === null || w === void 0 ? void 0 : w.key) === type; });\n            if (actionCustom) {\n                actionCustom.click(type);\n                return;\n            }\n            if (type === \"mp-wechat\" || type === \"zhihu\") {\n                _this.copyToX(vditor, _this.previewElement.cloneNode(true), type);\n                return;\n            }\n            if (type === \"desktop\") {\n                _this.previewElement.style.width = \"auto\";\n            }\n            else if (type === \"tablet\") {\n                _this.previewElement.style.width = \"780px\";\n            }\n            else {\n                _this.previewElement.style.width = \"360px\";\n            }\n            if (_this.previewElement.scrollWidth > _this.previewElement.parentElement.clientWidth) {\n                _this.previewElement.style.width = \"auto\";\n            }\n            _this.render(vditor);\n            actionElement.querySelectorAll(\"button\").forEach(function (item) {\n                item.classList.remove(\"vditor-preview__action--current\");\n            });\n            btn.classList.add(\"vditor-preview__action--current\");\n        });\n        this.element.insertBefore(actionElement, this.previewElement);\n    }\n    Preview.prototype.render = function (vditor, value) {\n        var _this = this;\n        clearTimeout(this.mdTimeoutId);\n        if (this.element.style.display === \"none\") {\n            if (this.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n                vditor.tip.hide();\n            }\n            return;\n        }\n        if (value) {\n            this.previewElement.innerHTML = value;\n            return;\n        }\n        if (getMarkdown(vditor)\n            .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\") === \"\") {\n            this.previewElement.innerHTML = \"\";\n            return;\n        }\n        var renderStartTime = new Date().getTime();\n        var markdownText = getMarkdown(vditor);\n        this.mdTimeoutId = window.setTimeout(function () {\n            if (vditor.options.preview.url) {\n                var xhr_1 = new XMLHttpRequest();\n                xhr_1.open(\"POST\", vditor.options.preview.url);\n                xhr_1.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                xhr_1.onreadystatechange = function () {\n                    if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                        if (xhr_1.status === 200) {\n                            var responseJSON = JSON.parse(xhr_1.responseText);\n                            if (responseJSON.code !== 0) {\n                                vditor.tip.show(responseJSON.msg);\n                                return;\n                            }\n                            if (vditor.options.preview.transform) {\n                                responseJSON.data = vditor.options.preview.transform(responseJSON.data);\n                            }\n                            _this.previewElement.innerHTML = responseJSON.data;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                        else {\n                            var html = vditor.lute.Md2HTML(markdownText);\n                            if (vditor.options.preview.transform) {\n                                html = vditor.options.preview.transform(html);\n                            }\n                            _this.previewElement.innerHTML = html;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                    }\n                };\n                xhr_1.send(JSON.stringify({ markdownText: markdownText }));\n            }\n            else {\n                var html = vditor.lute.Md2HTML(markdownText);\n                if (vditor.options.preview.transform) {\n                    html = vditor.options.preview.transform(html);\n                }\n                _this.previewElement.innerHTML = html;\n                _this.afterRender(vditor, renderStartTime);\n            }\n        }, vditor.options.preview.delay);\n    };\n    Preview.prototype.afterRender = function (vditor, startTime) {\n        if (vditor.options.preview.parse) {\n            vditor.options.preview.parse(this.element);\n        }\n        var time = (new Date().getTime() - startTime);\n        if ((new Date().getTime() - startTime) > 2600) {\n            // https://github.com/b3log/vditor/issues/67\n            vditor.tip.show(window.VditorI18n.performanceTip.replace(\"${x}\", time.toString()));\n            vditor.preview.element.setAttribute(\"data-type\", \"renderPerformance\");\n        }\n        else if (vditor.preview.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n            vditor.tip.hide();\n            vditor.preview.element.removeAttribute(\"data-type\");\n        }\n        var cmtFocusElement = vditor.preview.element.querySelector(\".vditor-comment--focus\");\n        if (cmtFocusElement) {\n            cmtFocusElement.classList.remove(\"vditor-comment--focus\");\n        }\n        (0,codeRender/* codeRender */.O)(vditor.preview.previewElement, vditor.options.preview.hljs);\n        (0,highlightRender/* highlightRender */.s)(vditor.options.preview.hljs, vditor.preview.previewElement, vditor.options.cdn);\n        (0,mermaidRender/* mermaidRender */.i)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,markmapRender/* markmapRender */.K)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,flowchartRender/* flowchartRender */.P)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,graphvizRender/* graphvizRender */.v)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,chartRender/* chartRender */.p)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,mindmapRender/* mindmapRender */.P)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,plantumlRender/* plantumlRender */.B)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,abcRender/* abcRender */.Q)(vditor.preview.previewElement, vditor.options.cdn);\n        if (vditor.options.preview.render.media.enable) {\n            (0,mediaRender/* mediaRender */.Y)(vditor.preview.previewElement);\n        }\n        vditor.options.customRenders.forEach(function (item) {\n            item.render(vditor.preview.previewElement, vditor);\n        });\n        // toc render\n        var editorElement = vditor.preview.element;\n        var tocHTML = vditor.outline.render(vditor);\n        if (tocHTML === \"\") {\n            tocHTML = \"[ToC]\";\n        }\n        editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n            item.innerHTML = tocHTML;\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        (0,mathRender/* mathRender */.H)(vditor.preview.previewElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    };\n    Preview.prototype.copyToX = function (vditor, copyElement, type) {\n        if (type === void 0) { type = \"mp-wechat\"; }\n        // fix math render\n        if (type !== \"zhihu\") {\n            copyElement.querySelectorAll(\".katex-html .base\").forEach(function (item) {\n                item.style.display = \"initial\";\n            });\n        }\n        else {\n            copyElement.querySelectorAll(\".language-math\").forEach(function (item) {\n                item.outerHTML = \"<img class=\\\"Formula-image\\\" data-eeimg=\\\"true\\\" src=\\\"//www.zhihu.com/equation?tex=\\\" alt=\\\"\".concat(item.getAttribute(\"data-math\"), \"\\\\\\\" style=\\\"display: block; margin: 0 auto; max-width: 100%;\\\">\");\n            });\n        }\n        // 防止背景色被粘贴到公众号中\n        copyElement.style.backgroundColor = \"#fff\";\n        // 代码背景\n        copyElement.querySelectorAll(\"code\").forEach(function (item) {\n            item.style.backgroundImage = \"none\";\n        });\n        this.element.append(copyElement);\n        var range = copyElement.ownerDocument.createRange();\n        range.selectNode(copyElement);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        document.execCommand(\"copy\");\n        copyElement.remove();\n        vditor.tip.show(['zhihu', 'mp-wechat'].includes(type) ? \"\\u5DF2\\u590D\\u5236\\uFF0C\\u53EF\\u5230\".concat(type === \"zhihu\" ? \"知乎\" : \"微信公众号平台\", \"\\u8FDB\\u884C\\u7C98\\u8D34\") : \"\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\");\n    };\n    return Preview;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/resize/index.ts\nvar Resize = /** @class */ (function () {\n    function Resize(vditor) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-resize vditor-resize--\".concat(vditor.options.resize.position);\n        this.element.innerHTML = \"<div><svg><use xlink:href=\\\"#vditor-icon-resize\\\"></use></svg></div>\";\n        this.bindEvent(vditor);\n    }\n    Resize.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"mousedown\", function (event) {\n            var documentSelf = document;\n            var y = event.clientY;\n            var height = vditor.element.offsetHeight;\n            var minHeight = 63 + vditor.element.querySelector(\".vditor-toolbar\").clientHeight;\n            documentSelf.ondragstart = function () { return false; };\n            if (window.captureEvents) {\n                window.captureEvents();\n            }\n            _this.element.classList.add(\"vditor-resize--selected\");\n            documentSelf.onmousemove = function (moveEvent) {\n                if (vditor.options.resize.position === \"top\") {\n                    vditor.element.style.height = Math.max(minHeight, height + (y - moveEvent.clientY)) + \"px\";\n                }\n                else {\n                    vditor.element.style.height = Math.max(minHeight, height + (moveEvent.clientY - y)) + \"px\";\n                }\n                if (vditor.options.typewriterMode) {\n                    vditor.sv.element.style.paddingBottom =\n                        vditor.sv.element.parentElement.offsetHeight / 2 + \"px\";\n                }\n            };\n            documentSelf.onmouseup = function () {\n                if (vditor.options.resize.after) {\n                    vditor.options.resize.after(vditor.element.offsetHeight - height);\n                }\n                if (window.captureEvents) {\n                    window.captureEvents();\n                }\n                documentSelf.onmousemove = null;\n                documentSelf.onmouseup = null;\n                documentSelf.ondragstart = null;\n                documentSelf.onselectstart = null;\n                documentSelf.onselect = null;\n                _this.element.classList.remove(\"vditor-resize--selected\");\n            };\n        });\n    };\n    return Resize;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/sv/index.ts\n\n\n\n\n\n\nvar Editor = /** @class */ (function () {\n    function Editor(vditor) {\n        this.composingLock = false;\n        this.element = document.createElement(\"pre\");\n        this.element.className = \"vditor-sv vditor-reset\";\n        this.element.setAttribute(\"placeholder\", vditor.options.placeholder);\n        this.element.setAttribute(\"contenteditable\", \"true\");\n        this.element.setAttribute(\"spellcheck\", \"false\");\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    Editor.prototype.copy = function (event, vditor) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.clipboardData.setData(\"text/plain\", getSelectText(vditor[vditor.currentMode].element));\n    };\n    Editor.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            if (vditor.preview.element.style.display !== \"block\") {\n                return;\n            }\n            var textScrollTop = _this.element.scrollTop;\n            var textHeight = _this.element.clientHeight;\n            var textScrollHeight = _this.element.scrollHeight - parseFloat(_this.element.style.paddingBottom || \"0\");\n            var preview = vditor.preview.element;\n            if ((textScrollTop / textHeight > 0.5)) {\n                preview.scrollTop = (textScrollTop + textHeight) *\n                    preview.scrollHeight / textScrollHeight - textHeight;\n            }\n            else {\n                preview.scrollTop = textScrollTop *\n                    preview.scrollHeight / textScrollHeight;\n            }\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                inputEvent(vditor, event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                processAfterRender(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: true,\n                    enableInput: true,\n                });\n                return;\n            }\n            inputEvent(vditor, event);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.sv.element.innerHTML !== \"\" && vditor.sv.element.childNodes.length === 1 &&\n                vditor.sv.element.firstElementChild && vditor.sv.element.firstElementChild.tagName === \"DIV\"\n                && vditor.sv.element.firstElementChild.childElementCount === 2\n                && (vditor.sv.element.firstElementChild.textContent === \"\" || vditor.sv.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.sv.element.innerHTML = \"\";\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n        });\n    };\n    return Editor;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/tip/index.ts\nvar Tip = /** @class */ (function () {\n    function Tip() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-tip\";\n    }\n    Tip.prototype.show = function (text, time) {\n        var _this = this;\n        if (time === void 0) { time = 6000; }\n        this.element.className = \"vditor-tip vditor-tip--show\";\n        if (time === 0) {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\".concat(text, \"\\n<div class=\\\"vditor-tip__close\\\">X</div></div>\");\n            this.element.querySelector(\".vditor-tip__close\").addEventListener(\"click\", function () {\n                _this.hide();\n            });\n        }\n        else {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\".concat(text, \"</div>\");\n            setTimeout(function () {\n                _this.hide();\n            }, time);\n        }\n        // 需在动画结束后才能确定位置\n        this.element.removeAttribute(\"style\");\n        setTimeout(function () {\n            var rect = _this.element.getBoundingClientRect();\n            if (rect.top < 46) {\n                _this.element.style.position = \"fixed\";\n                _this.element.style.top = \"46px\";\n            }\n        }, 150);\n    };\n    Tip.prototype.hide = function () {\n        this.element.className = \"vditor-messageElementtip\";\n        this.element.innerHTML = \"\";\n    };\n    return Tip;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ui/setPreviewMode.ts\n\n\nvar setPreviewMode = function (mode, vditor) {\n    if (vditor.options.preview.mode === mode) {\n        return;\n    }\n    vditor.options.preview.mode = mode;\n    switch (mode) {\n        case \"both\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"block\";\n            vditor.preview.render(vditor);\n            setCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        case \"editor\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"none\";\n            removeCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        default:\n            break;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Both.ts\nvar Both_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Both = /** @class */ (function (_super) {\n    Both_extends(Both, _super);\n    function Both(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.preview.mode === \"both\") {\n            _this.element.children[0].classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (vditor.currentMode !== \"sv\") {\n                return;\n            }\n            if (vditor.options.preview.mode === \"both\") {\n                setPreviewMode(\"editor\", vditor);\n            }\n            else {\n                setPreviewMode(\"both\", vditor);\n            }\n        });\n        return _this;\n    }\n    return Both;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Br.ts\nvar Br = /** @class */ (function () {\n    function Br() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__br\";\n    }\n    return Br;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(34);\n;// CONCATENATED MODULE: ./src/ts/toolbar/CodeTheme.ts\nvar CodeTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CodeTheme = /** @class */ (function (_super) {\n    CodeTheme_extends(CodeTheme, _super);\n    function CodeTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        constants/* Constants.CODE_THEME.forEach */.g.CODE_THEME.forEach(function (theme) {\n            innerHTML += \"<button>\".concat(theme, \"</button>\");\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\".concat(window.innerHeight / 2, \"px\\\">\").concat(innerHTML, \"</div>\");\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.hljs.style = event.target.textContent;\n                (0,setCodeTheme/* setCodeTheme */.Y)(event.target.textContent, vditor.options.cdn);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return CodeTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/ContentTheme.ts\nvar ContentTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ContentTheme = /** @class */ (function (_super) {\n    ContentTheme_extends(ContentTheme, _super);\n    function ContentTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        Object.keys(vditor.options.preview.theme.list).forEach(function (key) {\n            innerHTML += \"<button data-type=\\\"\".concat(key, \"\\\">\").concat(vditor.options.preview.theme.list[key], \"</button>\");\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\".concat(window.innerHeight / 2, \"px\\\">\").concat(innerHTML, \"</div>\");\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.theme.current = event.target.getAttribute(\"data-type\");\n                (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return ContentTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Counter.ts\nvar Counter = /** @class */ (function () {\n    function Counter(vditor) {\n        this.element = document.createElement(\"span\");\n        this.element.className = \"vditor-counter vditor-tooltipped vditor-tooltipped__nw\";\n        this.render(vditor, \"\");\n    }\n    Counter.prototype.render = function (vditor, mdText) {\n        var length = mdText.endsWith(\"\\n\") ? mdText.length - 1 : mdText.length;\n        if (vditor.options.counter.type === \"text\" && vditor[vditor.currentMode]) {\n            var tempElement = vditor[vditor.currentMode].element.cloneNode(true);\n            tempElement.querySelectorAll(\".vditor-wysiwyg__preview\").forEach(function (item) {\n                item.remove();\n            });\n            length = tempElement.textContent.length;\n        }\n        if (typeof vditor.options.counter.max === \"number\") {\n            if (length > vditor.options.counter.max) {\n                this.element.className = \"vditor-counter vditor-counter--error\";\n            }\n            else {\n                this.element.className = \"vditor-counter\";\n            }\n            this.element.innerHTML = \"\".concat(length, \"/\").concat(vditor.options.counter.max);\n        }\n        else {\n            this.element.innerHTML = \"\".concat(length);\n        }\n        this.element.setAttribute(\"aria-label\", vditor.options.counter.type);\n        if (vditor.options.counter.after) {\n            vditor.options.counter.after(length, {\n                enable: vditor.options.counter.enable,\n                max: vditor.options.counter.max,\n                type: vditor.options.counter.type,\n            });\n        }\n    };\n    return Counter;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Custom.ts\nvar Custom_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Custom = /** @class */ (function (_super) {\n    Custom_extends(Custom, _super);\n    function Custom(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].innerHTML = menuItem.icon;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (event.currentTarget.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            menuItem.click(event, vditor);\n        });\n        return _this;\n    }\n    return Custom;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Devtools.ts\nvar Devtools_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Devtools = /** @class */ (function (_super) {\n    Devtools_extends(Devtools, _super);\n    function Devtools(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.firstElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"none\";\n                setPadding(vditor);\n            }\n            else {\n                btnElement.classList.add(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"block\";\n                setPadding(vditor);\n                vditor.devtools.renderEchart(vditor);\n            }\n        });\n        return _this;\n    }\n    return Devtools;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Divider.ts\nvar Divider = /** @class */ (function () {\n    function Divider() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__divider\";\n    }\n    return Divider;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Emoji.ts\nvar Emoji_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Emoji = /** @class */ (function (_super) {\n    Emoji_extends(Emoji, _super);\n    function Emoji(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-panel vditor-panel--arrow\";\n        var commonEmojiHTML = \"\";\n        Object.keys(vditor.options.hint.emoji).forEach(function (key) {\n            var emojiValue = vditor.options.hint.emoji[key];\n            if (emojiValue.indexOf(\".\") > -1) {\n                commonEmojiHTML += \"<button data-value=\\\":\".concat(key, \": \\\" data-key=\\\":\").concat(key, \":\\\"><img\\ndata-value=\\\":\").concat(key, \": \\\" data-key=\\\":\").concat(key, \":\\\" class=\\\"vditor-emojis__icon\\\" src=\\\"\").concat(emojiValue, \"\\\"/></button>\");\n            }\n            else {\n                commonEmojiHTML += \"<button data-value=\\\"\".concat(emojiValue, \" \\\"\\n data-key=\\\"\").concat(key, \"\\\"><span class=\\\"vditor-emojis__icon\\\">\").concat(emojiValue, \"</span></button>\");\n            }\n        });\n        panelElement.innerHTML = \"<div class=\\\"vditor-emojis\\\" style=\\\"max-height: \".concat(vditor.options.height === \"auto\" ? \"auto\" : vditor.options.height - 80, \"px\\\">\").concat(commonEmojiHTML, \"</div><div class=\\\"vditor-emojis__tail\\\">\\n    <span class=\\\"vditor-emojis__tip\\\"></span><span>\").concat(vditor.options.hint.emojiTail || \"\", \"</span>\\n</div>\");\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, _this.element.firstElementChild, menuItem.level);\n        _this.bindEvent(vditor);\n        return _this;\n    }\n    Emoji.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.lastElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (btnElement) {\n                event.preventDefault();\n                var value = btnElement.getAttribute(\"data-value\");\n                var range = (0,selection/* getEditorRange */.zh)(vditor);\n                var html = value;\n                if (vditor.currentMode === \"wysiwyg\") {\n                    html = vditor.lute.SpinVditorDOM(value);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    html = vditor.lute.SpinVditorIRDOM(value);\n                }\n                if (value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                    var tempElement = document.createElement(\"div\");\n                    tempElement.innerHTML = html;\n                    html = tempElement.firstElementChild.firstElementChild.outerHTML + \" \";\n                    (0,selection/* insertHTML */.oC)(html, vditor);\n                }\n                else {\n                    range.extractContents();\n                    range.insertNode(document.createTextNode(value));\n                }\n                range.collapse(false);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                _this.element.lastElementChild.style.display = \"none\";\n                execAfterRender(vditor);\n            }\n        });\n        this.element.lastElementChild.addEventListener(\"mouseover\", function (event) {\n            var btnElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (btnElement) {\n                _this.element.querySelector(\".vditor-emojis__tip\").innerHTML = btnElement.getAttribute(\"data-key\");\n            }\n        });\n    };\n    return Emoji;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/export/index.ts\n\n\nvar download = function (vditor, content, filename) {\n    var aElement = document.createElement(\"a\");\n    if (\"download\" in aElement) {\n        aElement.download = filename;\n        aElement.style.display = \"none\";\n        aElement.href = URL.createObjectURL(new Blob([content]));\n        document.body.appendChild(aElement);\n        aElement.click();\n        aElement.remove();\n    }\n    else {\n        vditor.tip.show(window.VditorI18n.downloadTip, 0);\n    }\n};\nvar exportMarkdown = function (vditor) {\n    var content = getMarkdown(vditor);\n    download(vditor, content, content.substr(0, 10) + \".md\");\n};\nvar exportPDF = function (vditor) {\n    vditor.tip.show(window.VditorI18n.generate, 3800);\n    var iframe = document.querySelector(\"#vditorExportIframe\");\n    iframe.contentDocument.open();\n    iframe.contentDocument.write(\"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(vditor.options.cdn, \"/dist/index.css\\\"/>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/method.min.js\\\"></script>\\n<div id=\\\"preview\\\" style=\\\"width: 800px\\\"></div>\\n<script>\\nwindow.addEventListener(\\\"message\\\", (e) => {\\n  if(!e.data) {\\n    return;\\n  }\\n  Vditor.preview(document.getElementById('preview'), e.data, {\\n    cdn: \\\"\").concat(vditor.options.cdn, \"\\\",\\n    markdown: {\\n      theme: \").concat(JSON.stringify(vditor.options.preview.theme), \"\\n    },\\n    hljs: {\\n      style: \\\"\").concat(vditor.options.preview.hljs.style, \"\\\"\\n    }\\n  });\\n  setTimeout(() => {\\n        window.print();\\n    }, 3600);\\n}, false);\\n</script>\"));\n    iframe.contentDocument.close();\n    setTimeout(function () {\n        iframe.contentWindow.postMessage(getMarkdown(vditor), \"*\");\n    }, 200);\n};\nvar exportHTML = function (vditor) {\n    var content = getHTML(vditor);\n    var html = \"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\".concat(vditor.options.cdn, \"/dist/index.css\\\"/>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/js/i18n/\").concat(vditor.options.lang, \".js\\\"></script>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/method.min.js\\\"></script></head>\\n<body><div class=\\\"vditor-reset\\\" id=\\\"preview\\\">\").concat(content, \"</div>\\n<script>\\n    const previewElement = document.getElementById('preview')\\n    Vditor.setContentTheme('\").concat(vditor.options.preview.theme.current, \"', '\").concat(vditor.options.preview.theme.path, \"');\\n    Vditor.codeRender(previewElement);\\n    Vditor.highlightRender(\").concat(JSON.stringify(vditor.options.preview.hljs), \", previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.mathRender(previewElement, {\\n        cdn: '\").concat(vditor.options.cdn, \"',\\n        math: \").concat(JSON.stringify(vditor.options.preview.math), \",\\n    });\\n    Vditor.mermaidRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.markmapRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.flowchartRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.graphvizRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.chartRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.mindmapRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.abcRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    \").concat(vditor.options.preview.render.media.enable ? 'Vditor.mediaRender(previewElement);' : \"\", \"\\n    Vditor.speechRender(previewElement);\\n</script>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/js/icons/\").concat(vditor.options.icon, \".js\\\"></script></body></html>\");\n    download(vditor, html, content.substr(0, 10) + \".html\");\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Export.ts\nvar Export_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Export = /** @class */ (function (_super) {\n    Export_extends(Export, _super);\n    function Export(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-type=\\\"markdown\\\">Markdown</button>\\n<button data-type=\\\"pdf\\\">PDF</button>\\n<button data-type=\\\"html\\\">HTML</button>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = event.target;\n            if (btnElement.tagName === \"BUTTON\") {\n                switch (btnElement.getAttribute(\"data-type\")) {\n                    case \"markdown\":\n                        exportMarkdown(vditor);\n                        break;\n                    case \"pdf\":\n                        exportPDF(vditor);\n                        break;\n                    case \"html\":\n                        exportHTML(vditor);\n                        break;\n                    default:\n                        break;\n                }\n                hidePanel(vditor, [\"subToolbar\"]);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return Export;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Fullscreen.ts\nvar Fullscreen_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    Fullscreen_extends(Fullscreen, _super);\n    function Fullscreen(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor, menuItem);\n        return _this;\n    }\n    Fullscreen.prototype._bindEvent = function (vditor, menuItem) {\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (vditor.element.className.includes(\"vditor--fullscreen\")) {\n                if (!menuItem.level) {\n                    this.innerHTML = menuItem.icon;\n                }\n                vditor.element.style.zIndex = \"\";\n                document.body.style.overflow = \"\";\n                vditor.element.classList.remove(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__s\", \"__n\");\n                        vditor.options.toolbar.forEach(function (item) {\n                            if (typeof item !== \"string\" && item.tipPosition && item.name === svgElement.dataset.type) {\n                                svgElement.className = \"vditor-tooltipped vditor-tooltipped__\".concat(item.tipPosition);\n                            }\n                        });\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__s\", \"__n\");\n                }\n            }\n            else {\n                if (!menuItem.level) {\n                    this.innerHTML = '<svg><use xlink:href=\"#vditor-icon-contract\"></use></svg>';\n                }\n                vditor.element.style.zIndex = vditor.options.fullscreen.index.toString();\n                document.body.style.overflow = \"hidden\";\n                vditor.element.classList.add(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__n\", \"__s\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__n\", \"__s\");\n                }\n            }\n            if (vditor.devtools) {\n                vditor.devtools.renderEchart(vditor);\n            }\n            if (menuItem.click) {\n                menuItem.click(event, vditor);\n            }\n            setPadding(vditor);\n            setTypewriterPosition(vditor);\n        });\n    };\n    return Fullscreen;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Headings.ts\nvar Headings_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Headings = /** @class */ (function (_super) {\n    Headings_extends(Headings, _super);\n    function Headings(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint vditor-panel--arrow\";\n        panelElement.innerHTML = \"<button data-tag=\\\"h1\\\" data-value=\\\"# \\\">\".concat(window.VditorI18n.heading1, \" \").concat((0,compatibility/* updateHotkeyTip */.ns)(\"&lt;⌥⌘1>\"), \"</button>\\n<button data-tag=\\\"h2\\\" data-value=\\\"## \\\">\").concat(window.VditorI18n.heading2, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘2\"), \"></button>\\n<button data-tag=\\\"h3\\\" data-value=\\\"### \\\">\").concat(window.VditorI18n.heading3, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘3\"), \"></button>\\n<button data-tag=\\\"h4\\\" data-value=\\\"#### \\\">\").concat(window.VditorI18n.heading4, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘4\"), \"></button>\\n<button data-tag=\\\"h5\\\" data-value=\\\"##### \\\">\").concat(window.VditorI18n.heading5, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘5\"), \"></button>\\n<button data-tag=\\\"h6\\\" data-value=\\\"###### \\\">\").concat(window.VditorI18n.heading6, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘6\"), \"></button>\");\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Headings.prototype._bindEvent = function (vditor, panelElement) {\n        var actionBtn = this.element.children[0];\n        actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            // https://github.com/Vanessa219/vditor/issues/1391\n            clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n            clearTimeout(vditor.ir.processTimeoutId);\n            clearTimeout(vditor.sv.processTimeoutId);\n            if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            actionBtn.blur();\n            if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n                if (vditor.currentMode === \"wysiwyg\") {\n                    removeHeading(vditor);\n                    afterRenderEvent(vditor);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, \"\");\n                }\n                actionBtn.classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                hidePanel(vditor, [\"subToolbar\"]);\n                panelElement.style.display = \"block\";\n            }\n        });\n        for (var i = 0; i < 6; i++) {\n            panelElement.children.item(i).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                if (vditor.currentMode === \"wysiwyg\") {\n                    setHeading(vditor, event.target.getAttribute(\"data-tag\"));\n                    afterRenderEvent(vditor);\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else {\n                    processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                }\n                panelElement.style.display = \"none\";\n            });\n        }\n    };\n    return Headings;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Help.ts\nvar Help_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Help = /** @class */ (function (_super) {\n    Help_extends(Help, _super);\n    function Help(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;\\\">\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Markdown \\u4F7F\\u7528\\u6307\\u5357</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://ld246.com/article/1583308420519\\\" target=\\\"_blank\\\">\\u8BED\\u6CD5\\u901F\\u67E5\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583129520165\\\" target=\\\"_blank\\\">\\u57FA\\u7840\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583305480675\\\" target=\\\"_blank\\\">\\u6269\\u5C55\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1582778815353\\\" target=\\\"_blank\\\">\\u952E\\u76D8\\u5FEB\\u6377\\u952E</a></li>\\n    </ul>\\n</div>\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Vditor \\u652F\\u6301</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://github.com/Vanessa219/vditor/issues\\\" target=\\\"_blank\\\">Issues</a></li>\\n        <li><a href=\\\"https://ld246.com/tag/vditor\\\" target=\\\"_blank\\\">\\u5B98\\u65B9\\u8BA8\\u8BBA\\u533A</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1549638745630\\\" target=\\\"_blank\\\">\\u5F00\\u53D1\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/guide/markdown\\\" target=\\\"_blank\\\">\\u6F14\\u793A\\u5730\\u5740</a></li>\\n    </ul>\\n</div></div>\", 0);\n        });\n        return _this;\n    }\n    return Help;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Indent.ts\nvar Indent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Indent = /** @class */ (function (_super) {\n    Indent_extends(Indent, _super);\n    function Indent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listIndent(vditor, liElement, range);\n            }\n        });\n        return _this;\n    }\n    return Indent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Info.ts\nvar Info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Info = /** @class */ (function (_super) {\n    Info_extends(Info, _super);\n    function Info(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;\\\">\\n<p style=\\\"text-align: center;margin: 14px 0\\\">\\n    <em>\\u4E0B\\u4E00\\u4EE3\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u4E3A\\u672A\\u6765\\u800C\\u6784\\u5EFA</em>\\n</p>\\n<div style=\\\"display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center\\\">\\n    <img src=\\\"https://unpkg.com/vditor/dist/images/logo.png\\\" style=\\\"margin: 0 auto;height: 68px\\\"/>\\n    <div>&nbsp;&nbsp;</div>\\n    <div style=\\\"flex: 1;min-width: 250px\\\">\\n        Vditor \\u662F\\u4E00\\u6B3E\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u652F\\u6301\\u6240\\u89C1\\u5373\\u6240\\u5F97\\u3001\\u5373\\u65F6\\u6E32\\u67D3\\uFF08\\u7C7B\\u4F3C Typora\\uFF09\\u548C\\u5206\\u5C4F\\u9884\\u89C8\\u6A21\\u5F0F\\u3002\\n        \\u5B83\\u4F7F\\u7528 TypeScript \\u5B9E\\u73B0\\uFF0C\\u652F\\u6301\\u539F\\u751F JavaScript \\u4EE5\\u53CA Vue\\u3001React\\u3001Angular \\u548C Svelte \\u7B49\\u6846\\u67B6\\u3002\\n    </div>\\n</div>\\n<div style=\\\"display: flex;flex-wrap: wrap;\\\">\\n    <ul style=\\\"list-style: none;flex: 1;min-width:148px\\\">\\n        <li>\\n        \\u9879\\u76EE\\u5730\\u5740\\uFF1A<a href=\\\"https://b3log.org/vditor\\\" target=\\\"_blank\\\">b3log.org/vditor</a>\\n        </li>\\n        <li>\\n        \\u5F00\\u6E90\\u534F\\u8BAE\\uFF1AMIT\\n        </li>\\n    </ul>\\n    <ul style=\\\"list-style: none;margin-right: 18px\\\">\\n        <li>\\n        \\u7EC4\\u4EF6\\u7248\\u672C\\uFF1AVditor v\".concat(constants/* VDITOR_VERSION */.H, \" / Lute v\").concat(Lute.Version, \"\\n        </li>\\n        <li>\\n        \\u8D5E\\u52A9\\u6350\\u8D60\\uFF1A<a href=\\\"https://ld246.com/sponsor\\\" target=\\\"_blank\\\">https://ld246.com/sponsor</a>\\n        </li>\\n    </ul>\\n</div>\\n</div>\"), 0);\n        });\n        return _this;\n    }\n    return Info;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertAfter.ts\nvar InsertAfter_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertAfter = /** @class */ (function (_super) {\n    InsertAfter_extends(InsertAfter, _super);\n    function InsertAfter(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"afterend\");\n        });\n        return _this;\n    }\n    return InsertAfter;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertBefore.ts\nvar InsertBefore_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertBefore = /** @class */ (function (_super) {\n    InsertBefore_extends(InsertBefore, _super);\n    function InsertBefore(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"beforebegin\");\n        });\n        return _this;\n    }\n    return InsertBefore;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outdent.ts\nvar Outdent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Outdent = /** @class */ (function (_super) {\n    Outdent_extends(Outdent, _super);\n    function Outdent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listOutdent(vditor, liElement, range, liElement.parentElement);\n            }\n        });\n        return _this;\n    }\n    return Outdent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outline.ts\nvar Outline_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Outline_Outline = /** @class */ (function (_super) {\n    Outline_extends(Outline, _super);\n    function Outline(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.outline) {\n            _this.element.firstElementChild.classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = vditor.toolbar.elements.outline.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.options.outline.enable = !_this.element.firstElementChild.classList.contains(\"vditor-menu--current\");\n            vditor.outline.toggle(vditor, vditor.options.outline.enable);\n        });\n        return _this;\n    }\n    return Outline;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Preview.ts\nvar Preview_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Preview_Preview = /** @class */ (function (_super) {\n    Preview_extends(Preview, _super);\n    function Preview(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Preview.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var toolbars = constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"both\", \"edit-mode\", \"devtools\"]);\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"block\";\n                    if (vditor.options.preview.mode === \"both\") {\n                        vditor.preview.element.style.display = \"block\";\n                    }\n                    else {\n                        vditor.preview.element.style.display = \"none\";\n                    }\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"block\";\n                    vditor.preview.element.style.display = \"none\";\n                }\n                enableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.outline.render(vditor);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.preview.element.style.display = \"block\";\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"none\";\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"none\";\n                }\n                vditor.preview.render(vditor);\n                btnElement.classList.add(\"vditor-menu--current\");\n                hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n                setTimeout(function () {\n                    vditor.outline.render(vditor);\n                }, vditor.options.preview.delay + 10);\n            }\n            setPadding(vditor);\n        });\n    };\n    return Preview;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/RecordMedia.ts\nvar RecordMedia = /** @class */ (function () {\n    function RecordMedia(e) {\n        this.SAMPLE_RATE = 5000; // 44100 suggested by demos;\n        this.isRecording = false;\n        this.readyFlag = false;\n        this.leftChannel = [];\n        this.rightChannel = [];\n        this.recordingLength = 0;\n        var context;\n        // creates the audio context\n        if (typeof AudioContext !== \"undefined\") {\n            context = new AudioContext();\n        }\n        else if (webkitAudioContext) {\n            context = new webkitAudioContext();\n        }\n        else {\n            return;\n        }\n        this.DEFAULT_SAMPLE_RATE = context.sampleRate;\n        // creates a gain node\n        var volume = context.createGain();\n        // creates an audio node from the microphone incoming stream\n        var audioInput = context.createMediaStreamSource(e);\n        // connect the stream to the gain node\n        audioInput.connect(volume);\n        /* From the spec: The size of the buffer controls how frequently the audioprocess event is\n         dispatched and how many sample-frames need to be processed each call.\n         Lower values for buffer size will result in a lower (better) latency.\n         Higher values will be necessary to avoid audio breakup and glitches */\n        this.recorder = context.createScriptProcessor(2048, 2, 1);\n        // The onaudioprocess event needs to be defined externally, so make sure it is not set:\n        this.recorder.onaudioprocess = null;\n        // we connect the recorder\n        volume.connect(this.recorder);\n        this.recorder.connect(context.destination);\n        this.readyFlag = true;\n    }\n    // Publicly accessible methods:\n    RecordMedia.prototype.cloneChannelData = function (leftChannelData, rightChannelData) {\n        this.leftChannel.push(new Float32Array(leftChannelData));\n        this.rightChannel.push(new Float32Array(rightChannelData));\n        this.recordingLength += 2048;\n    };\n    RecordMedia.prototype.startRecordingNewWavFile = function () {\n        if (this.readyFlag) {\n            this.isRecording = true;\n            this.leftChannel.length = this.rightChannel.length = 0;\n            this.recordingLength = 0;\n        }\n    };\n    RecordMedia.prototype.stopRecording = function () {\n        this.isRecording = false;\n    };\n    RecordMedia.prototype.buildWavFileBlob = function () {\n        // we flat the left and right channels down\n        var leftBuffer = this.mergeBuffers(this.leftChannel);\n        var rightBuffer = this.mergeBuffers(this.rightChannel);\n        // Interleave the left and right channels together:\n        var interleaved = new Float32Array(leftBuffer.length);\n        for (var i = 0; i < leftBuffer.length; ++i) {\n            interleaved[i] = 0.5 * (leftBuffer[i] + rightBuffer[i]);\n        }\n        // Downsample the audio data if necessary:\n        if (this.DEFAULT_SAMPLE_RATE > this.SAMPLE_RATE) {\n            interleaved = this.downSampleBuffer(interleaved, this.SAMPLE_RATE);\n        }\n        var totalByteCount = (44 + interleaved.length * 2);\n        var buffer = new ArrayBuffer(totalByteCount);\n        var view = new DataView(buffer);\n        // Build the RIFF chunk descriptor:\n        this.writeUTFBytes(view, 0, \"RIFF\");\n        view.setUint32(4, totalByteCount, true);\n        this.writeUTFBytes(view, 8, \"WAVE\");\n        // Build the FMT sub-chunk:\n        this.writeUTFBytes(view, 12, \"fmt \"); // subchunk1 ID is format\n        view.setUint32(16, 16, true); // The sub-chunk size is 16.\n        view.setUint16(20, 1, true); // The audio format is 1.\n        view.setUint16(22, 1, true); // Number of interleaved channels.\n        view.setUint32(24, this.SAMPLE_RATE, true); // Sample rate.\n        view.setUint32(28, this.SAMPLE_RATE * 2, true); // Byte rate.\n        view.setUint16(32, 2, true); // Block align\n        view.setUint16(34, 16, true); // Bits per sample.\n        // Build the data sub-chunk:\n        var subChunk2ByteCount = interleaved.length * 2;\n        this.writeUTFBytes(view, 36, \"data\");\n        view.setUint32(40, subChunk2ByteCount, true);\n        // Write the PCM samples to the view:\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var j = 0; j < lng; j++) {\n            view.setInt16(index, interleaved[j] * (0x7FFF * volume), true);\n            index += 2;\n        }\n        return new Blob([view], { type: \"audio/wav\" });\n    };\n    RecordMedia.prototype.downSampleBuffer = function (buffer, rate) {\n        if (rate === this.DEFAULT_SAMPLE_RATE) {\n            return buffer;\n        }\n        if (rate > this.DEFAULT_SAMPLE_RATE) {\n            // throw \"downsampling rate show be smaller than original sample rate\";\n            return buffer;\n        }\n        var sampleRateRatio = this.DEFAULT_SAMPLE_RATE / rate;\n        var newLength = Math.round(buffer.length / sampleRateRatio);\n        var result = new Float32Array(newLength);\n        var offsetResult = 0;\n        var offsetBuffer = 0;\n        while (offsetResult < result.length) {\n            var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n            var accum = 0;\n            var count = 0;\n            for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n                accum += buffer[i];\n                count++;\n            }\n            result[offsetResult] = accum / count;\n            offsetResult++;\n            offsetBuffer = nextOffsetBuffer;\n        }\n        return result;\n    };\n    RecordMedia.prototype.mergeBuffers = function (desiredChannelBuffer) {\n        var result = new Float32Array(this.recordingLength);\n        var offset = 0;\n        var lng = desiredChannelBuffer.length;\n        for (var i = 0; i < lng; ++i) {\n            var buffer = desiredChannelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    };\n    RecordMedia.prototype.writeUTFBytes = function (view, offset, value) {\n        var lng = value.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, value.charCodeAt(i));\n        }\n    };\n    return RecordMedia;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Record.ts\nvar Record_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Record = /** @class */ (function (_super) {\n    Record_extends(Record, _super);\n    function Record(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Record.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        var mediaRecorder;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var editorElement = vditor[vditor.currentMode].element;\n            if (!mediaRecorder) {\n                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (mediaStream) {\n                    mediaRecorder = new RecordMedia(mediaStream);\n                    mediaRecorder.recorder.onaudioprocess = function (e) {\n                        // Do nothing if not recording:\n                        if (!mediaRecorder.isRecording) {\n                            return;\n                        }\n                        // Copy the data from the input buffers;\n                        var left = e.inputBuffer.getChannelData(0);\n                        var right = e.inputBuffer.getChannelData(1);\n                        mediaRecorder.cloneChannelData(left, right);\n                    };\n                    mediaRecorder.startRecordingNewWavFile();\n                    vditor.tip.show(window.VditorI18n.recording);\n                    editorElement.setAttribute(\"contenteditable\", \"false\");\n                    _this.element.children[0].classList.add(\"vditor-menu--current\");\n                }).catch(function () {\n                    vditor.tip.show(window.VditorI18n[\"record-tip\"]);\n                });\n                return;\n            }\n            if (mediaRecorder.isRecording) {\n                mediaRecorder.stopRecording();\n                vditor.tip.hide();\n                var file = new File([mediaRecorder.buildWavFileBlob()], \"record\".concat((new Date()).getTime(), \".wav\"), { type: \"video/webm\" });\n                uploadFiles(vditor, [file]);\n                _this.element.children[0].classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                vditor.tip.show(window.VditorI18n.recording);\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                mediaRecorder.startRecordingNewWavFile();\n                _this.element.children[0].classList.add(\"vditor-menu--current\");\n            }\n        });\n    };\n    return Record;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Redo.ts\nvar Redo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Redo = /** @class */ (function (_super) {\n    Redo_extends(Redo, _super);\n    function Redo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ redo: _this.element }, [\"redo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.redo(vditor);\n        });\n        return _this;\n    }\n    return Redo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Undo.ts\nvar Undo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Undo = /** @class */ (function (_super) {\n    Undo_extends(Undo, _super);\n    function Undo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ undo: _this.element }, [\"undo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.undo(vditor);\n        });\n        return _this;\n    }\n    return Undo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Upload.ts\nvar Upload_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Upload_Upload = /** @class */ (function (_super) {\n    Upload_extends(Upload, _super);\n    function Upload(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var inputHTML = '<input type=\"file\"';\n        if (vditor.options.upload.multiple) {\n            inputHTML += ' multiple=\"multiple\"';\n        }\n        if (vditor.options.upload.accept) {\n            inputHTML += \" accept=\\\"\".concat(vditor.options.upload.accept, \"\\\"\");\n        }\n        _this.element.children[0].innerHTML = \"\".concat((menuItem.icon || '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>')).concat(inputHTML, \">\");\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Upload.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n        });\n        this.element.querySelector(\"input\").addEventListener(\"change\", function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n            if (event.target.files.length === 0) {\n                return;\n            }\n            uploadFiles(vditor, event.target.files, event.target);\n        });\n    };\n    return Upload;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(vditor) {\n        var _this = this;\n        var options = vditor.options;\n        this.elements = {};\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar\";\n        options.toolbar.forEach(function (menuItem, i) {\n            var itemElement = _this.genItem(vditor, menuItem, i);\n            _this.element.appendChild(itemElement);\n            if (menuItem.toolbar) {\n                var panelElement_1 = document.createElement(\"div\");\n                panelElement_1.className = \"vditor-hint vditor-panel--arrow\";\n                panelElement_1.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                    panelElement_1.style.display = \"none\";\n                });\n                menuItem.toolbar.forEach(function (subMenuItem, subI) {\n                    subMenuItem.level = 2;\n                    panelElement_1.appendChild(_this.genItem(vditor, subMenuItem, i + subI));\n                });\n                itemElement.appendChild(panelElement_1);\n                toggleSubMenu(vditor, panelElement_1, itemElement.children[0], 2);\n            }\n        });\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter = new Counter(vditor);\n            this.element.appendChild(vditor.counter.element);\n        }\n    }\n    Toolbar.prototype.updateConfig = function (vditor, options) {\n        vditor.options.toolbarConfig = Object.assign({\n            hide: false,\n            pin: false,\n        }, options);\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        else {\n            this.element.classList.remove(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        else {\n            this.element.classList.remove(\"vditor-toolbar--pin\");\n        }\n    };\n    Toolbar.prototype.genItem = function (vditor, menuItem, index) {\n        var menuItemObj;\n        switch (menuItem.name) {\n            case \"bold\":\n            case \"italic\":\n            case \"more\":\n            case \"strike\":\n            case \"line\":\n            case \"quote\":\n            case \"list\":\n            case \"ordered-list\":\n            case \"check\":\n            case \"code\":\n            case \"inline-code\":\n            case \"link\":\n            case \"table\":\n                menuItemObj = new MenuItem(vditor, menuItem);\n                break;\n            case \"emoji\":\n                menuItemObj = new Emoji(vditor, menuItem);\n                break;\n            case \"headings\":\n                menuItemObj = new Headings(vditor, menuItem);\n                break;\n            case \"|\":\n                menuItemObj = new Divider();\n                break;\n            case \"br\":\n                menuItemObj = new Br();\n                break;\n            case \"undo\":\n                menuItemObj = new Undo(vditor, menuItem);\n                break;\n            case \"redo\":\n                menuItemObj = new Redo(vditor, menuItem);\n                break;\n            case \"help\":\n                menuItemObj = new Help(vditor, menuItem);\n                break;\n            case \"both\":\n                menuItemObj = new Both(vditor, menuItem);\n                break;\n            case \"preview\":\n                menuItemObj = new Preview_Preview(vditor, menuItem);\n                break;\n            case \"fullscreen\":\n                menuItemObj = new Fullscreen(vditor, menuItem);\n                break;\n            case \"upload\":\n                menuItemObj = new Upload_Upload(vditor, menuItem);\n                break;\n            case \"record\":\n                menuItemObj = new Record(vditor, menuItem);\n                break;\n            case \"info\":\n                menuItemObj = new Info(vditor, menuItem);\n                break;\n            case \"edit-mode\":\n                menuItemObj = new EditMode(vditor, menuItem);\n                break;\n            case \"devtools\":\n                menuItemObj = new Devtools(vditor, menuItem);\n                break;\n            case \"outdent\":\n                menuItemObj = new Outdent(vditor, menuItem);\n                break;\n            case \"indent\":\n                menuItemObj = new Indent(vditor, menuItem);\n                break;\n            case \"outline\":\n                menuItemObj = new Outline_Outline(vditor, menuItem);\n                break;\n            case \"insert-after\":\n                menuItemObj = new InsertAfter(vditor, menuItem);\n                break;\n            case \"insert-before\":\n                menuItemObj = new InsertBefore(vditor, menuItem);\n                break;\n            case \"code-theme\":\n                menuItemObj = new CodeTheme(vditor, menuItem);\n                break;\n            case \"content-theme\":\n                menuItemObj = new ContentTheme(vditor, menuItem);\n                break;\n            case \"export\":\n                menuItemObj = new Export(vditor, menuItem);\n                break;\n            default:\n                menuItemObj = new Custom(vditor, menuItem);\n                break;\n        }\n        if (!menuItemObj) {\n            return;\n        }\n        var key = menuItem.name;\n        if (key === \"br\" || key === \"|\") {\n            key = key + index;\n        }\n        this.elements[key] = menuItemObj.element;\n        return menuItemObj.element;\n    };\n    return Toolbar;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/.pnpm/diff-match-patch@1.0.5/node_modules/diff-match-patch/index.js\nvar diff_match_patch = __webpack_require__(85);\n;// CONCATENATED MODULE: ./src/ts/undo/index.ts\n\n\n\n\n\n\n\n\n\nvar undo_Undo = /** @class */ (function () {\n    function Undo() {\n        this.stackSize = 50;\n        this.resetStack();\n        // @ts-ignore\n        this.dmp = new diff_match_patch();\n    }\n    Undo.prototype.clearStack = function (vditor) {\n        this.resetStack();\n        this.resetIcon(vditor);\n    };\n    Undo.prototype.resetIcon = function (vditor) {\n        if (!vditor.toolbar) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.undo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length < 2) {\n            return;\n        }\n        var state = this[vditor.currentMode].undoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].redoStack.push(state);\n        this.renderDiff(state, vditor);\n        this[vditor.currentMode].hasUndo = true;\n        // undo 操作后，需要关闭 hint\n        hidePanel(vditor, [\"hint\"]);\n    };\n    Undo.prototype.redo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        var state = this[vditor.currentMode].redoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].undoStack.push(state);\n        this.renderDiff(state, vditor, true);\n    };\n    Undo.prototype.recordFirstPosition = function (vditor, event) {\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length !== 1 || this[vditor.currentMode].undoStack[0].length === 0 ||\n            this[vditor.currentMode].redoStack.length > 0) {\n            return;\n        }\n        if ((0,compatibility/* isFirefox */.vU)() && event.key === \"Backspace\") {\n            // Firefox 第一次删除无效\n            return;\n        }\n        if ((0,compatibility/* isSafari */.G6)()) {\n            // Safari keydown 在 input 之后，不需要重复记录历史\n            return;\n        }\n        var text = this.addCaret(vditor);\n        if (text.replace(\"<wbr>\", \"\").replace(\" vditor-ir__node--expand\", \"\")\n            !== this[vditor.currentMode].undoStack[0][0].diffs[0][1].replace(\"<wbr>\", \"\")) {\n            // 当还不没有存入 undo 栈时，按下 ctrl 后会覆盖 lastText\n            return;\n        }\n        this[vditor.currentMode].undoStack[0][0].diffs[0][1] = text;\n        this[vditor.currentMode].lastText = text;\n        // 不能添加 setSelectionFocus(cloneRange); 否则 windows chrome 首次输入会烂\n    };\n    Undo.prototype.addToUndoStack = function (vditor) {\n        // afterRenderEvent.ts 已经 debounce\n        var text = this.addCaret(vditor, true);\n        var diff = this.dmp.diff_main(text, this[vditor.currentMode].lastText, true);\n        var patchList = this.dmp.patch_make(text, this[vditor.currentMode].lastText, diff);\n        if (patchList.length === 0 && this[vditor.currentMode].undoStack.length > 0) {\n            return;\n        }\n        this[vditor.currentMode].lastText = text;\n        this[vditor.currentMode].undoStack.push(patchList);\n        if (this[vditor.currentMode].undoStack.length > this.stackSize) {\n            this[vditor.currentMode].undoStack.shift();\n        }\n        if (this[vditor.currentMode].hasUndo) {\n            this[vditor.currentMode].redoStack = [];\n            this[vditor.currentMode].hasUndo = false;\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n    };\n    Undo.prototype.renderDiff = function (state, vditor, isRedo) {\n        if (isRedo === void 0) { isRedo = false; }\n        var text;\n        if (isRedo) {\n            var redoPatchList = this.dmp.patch_deepCopy(state).reverse();\n            redoPatchList.forEach(function (patch) {\n                patch.diffs.forEach(function (diff) {\n                    diff[0] = -diff[0];\n                });\n            });\n            text = this.dmp.patch_apply(redoPatchList, this[vditor.currentMode].lastText)[0];\n        }\n        else {\n            text = this.dmp.patch_apply(state, this[vditor.currentMode].lastText)[0];\n        }\n        this[vditor.currentMode].lastText = text;\n        vditor[vditor.currentMode].element.innerHTML = text;\n        if (vditor.currentMode !== \"sv\") {\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (blockElement) {\n                processCodeRender(blockElement, vditor);\n            });\n        }\n        if (!vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            // Safari 第一次输入没有光标，需手动定位到结尾\n            var range = getSelection().getRangeAt(0);\n            range.setEndBefore(vditor[vditor.currentMode].element);\n            range.collapse(false);\n        }\n        else {\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, vditor[vditor.currentMode].element.ownerDocument.createRange());\n            scrollCenter(vditor);\n        }\n        renderToc(vditor);\n        execAfterRender(vditor, {\n            enableAddUndoStack: false,\n            enableHint: false,\n            enableInput: true,\n        });\n        highlightToolbar(vditor);\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.resetStack = function () {\n        this.ir = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.sv = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.wysiwyg = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n    };\n    Undo.prototype.addCaret = function (vditor, setFocus) {\n        if (setFocus === void 0) { setFocus = false; }\n        var cloneRange;\n        if (getSelection().rangeCount !== 0 && !vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                cloneRange = range.cloneRange();\n                var wbrElement = document.createElement(\"span\");\n                wbrElement.className = \"vditor-wbr\";\n                range.insertNode(wbrElement);\n            }\n        }\n        // 移除数学公式、echart 渲染 https://github.com/siyuan-note/siyuan/issues/537\n        var cloneElement = vditor.ir.element.cloneNode(true);\n        cloneElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='1']\"))\n            .forEach(function (item) {\n            if (!item.firstElementChild) {\n                return;\n            }\n            if (item.firstElementChild.classList.contains(\"language-echarts\") ||\n                item.firstElementChild.classList.contains(\"language-plantuml\") ||\n                item.firstElementChild.classList.contains(\"language-mindmap\")) {\n                item.firstElementChild.removeAttribute(\"_echarts_instance_\");\n                item.firstElementChild.removeAttribute(\"data-processed\");\n                item.firstElementChild.innerHTML = item.previousElementSibling.firstElementChild.innerHTML;\n                item.setAttribute(\"data-render\", \"2\");\n            }\n            else if (item.firstElementChild.classList.contains(\"language-math\")) {\n                item.setAttribute(\"data-render\", \"2\");\n                item.firstElementChild.textContent = item.firstElementChild.getAttribute(\"data-math\");\n                item.firstElementChild.removeAttribute(\"data-math\");\n            }\n        });\n        var text = vditor[vditor.currentMode].element.innerHTML;\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-wbr\").forEach(function (item) {\n            item.remove();\n            // 使用 item.outerHTML = \"\" 会产生 https://github.com/Vanessa219/vditor/pull/686;\n        });\n        if (setFocus && cloneRange) {\n            (0,selection/* setSelectionFocus */.Hc)(cloneRange);\n        }\n        return text.replace('<span class=\"vditor-wbr\"></span>', \"<wbr>\");\n    };\n    return Undo;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(2);\n;// CONCATENATED MODULE: ./src/ts/util/Options.ts\n\n\nvar Options = /** @class */ (function () {\n    function Options(options) {\n        this.defaultOptions = {\n            rtl: false,\n            after: undefined,\n            cache: {\n                enable: true,\n            },\n            cdn: constants/* Constants.CDN */.g.CDN,\n            classes: {\n                preview: \"\",\n            },\n            comment: {\n                enable: false,\n            },\n            counter: {\n                enable: false,\n                type: \"markdown\",\n            },\n            customRenders: [],\n            debugger: false,\n            fullscreen: {\n                index: 90,\n            },\n            height: \"auto\",\n            hint: {\n                delay: 200,\n                emoji: {\n                    \"+1\": \"👍\",\n                    \"-1\": \"👎\",\n                    \"confused\": \"😕\",\n                    \"eyes\": \"👀️\",\n                    \"heart\": \"❤️\",\n                    \"rocket\": \"🚀️\",\n                    \"smile\": \"😄\",\n                    \"tada\": \"🎉️\",\n                },\n                emojiPath: \"\".concat(constants/* Constants.CDN */.g.CDN, \"/dist/images/emoji\"),\n                extend: [],\n                parse: true,\n            },\n            icon: \"ant\",\n            lang: \"zh_CN\",\n            mode: \"ir\",\n            outline: {\n                enable: false,\n                position: \"left\",\n            },\n            placeholder: \"\",\n            preview: {\n                actions: [\"desktop\", \"tablet\", \"mobile\", \"mp-wechat\", \"zhihu\"],\n                delay: 1000,\n                hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n                markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n                math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n                maxWidth: 800,\n                mode: \"both\",\n                theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n                render: {\n                    media: {\n                        enable: true,\n                    }\n                }\n            },\n            link: {\n                isOpen: true,\n            },\n            image: {\n                isPreview: true,\n            },\n            resize: {\n                enable: false,\n                position: \"bottom\",\n            },\n            theme: \"classic\",\n            toolbar: [\n                \"emoji\",\n                \"headings\",\n                \"bold\",\n                \"italic\",\n                \"strike\",\n                \"link\",\n                \"|\",\n                \"list\",\n                \"ordered-list\",\n                \"check\",\n                \"outdent\",\n                \"indent\",\n                \"|\",\n                \"quote\",\n                \"line\",\n                \"code\",\n                \"inline-code\",\n                \"insert-before\",\n                \"insert-after\",\n                \"|\",\n                \"upload\",\n                \"record\",\n                \"table\",\n                \"|\",\n                \"undo\",\n                \"redo\",\n                \"|\",\n                \"fullscreen\",\n                \"edit-mode\",\n                {\n                    name: \"more\",\n                    toolbar: [\n                        \"both\",\n                        \"code-theme\",\n                        \"content-theme\",\n                        \"export\",\n                        \"outline\",\n                        \"preview\",\n                        \"devtools\",\n                        \"info\",\n                        \"help\",\n                    ],\n                },\n            ],\n            toolbarConfig: {\n                hide: false,\n                pin: false,\n            },\n            typewriterMode: false,\n            undoDelay: 800,\n            upload: {\n                extraData: {},\n                fieldName: \"file[]\",\n                filename: function (name) { return name.replace(/\\W/g, \"\"); },\n                linkToImgUrl: \"\",\n                max: 10 * 1024 * 1024,\n                multiple: true,\n                url: \"\",\n                withCredentials: false,\n            },\n            value: \"\",\n            width: \"auto\",\n        };\n        this.options = options;\n    }\n    Options.prototype.merge = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (this.options) {\n            if (this.options.toolbar) {\n                this.options.toolbar = this.mergeToolbar(this.options.toolbar);\n            }\n            else {\n                this.options.toolbar = this.mergeToolbar(this.defaultOptions.toolbar);\n            }\n            if ((_b = (_a = this.options.preview) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.list) {\n                this.defaultOptions.preview.theme.list = this.options.preview.theme.list;\n            }\n            if ((_e = (_d = (_c = this.options.preview) === null || _c === void 0 ? void 0 : _c.render) === null || _d === void 0 ? void 0 : _d.media) === null || _e === void 0 ? void 0 : _e.enable) {\n                this.defaultOptions.preview.render.media.enable = this.options.preview.render.media.enable;\n            }\n            if ((_f = this.options.hint) === null || _f === void 0 ? void 0 : _f.emoji) {\n                this.defaultOptions.hint.emoji = this.options.hint.emoji;\n            }\n            if (this.options.comment) {\n                this.defaultOptions.comment = this.options.comment;\n            }\n            if (this.options.cdn) {\n                if (!((_h = (_g = this.options.preview) === null || _g === void 0 ? void 0 : _g.theme) === null || _h === void 0 ? void 0 : _h.path)) {\n                    this.defaultOptions.preview.theme.path = \"\".concat(this.options.cdn, \"/dist/css/content-theme\");\n                }\n                if (!((_j = this.options.hint) === null || _j === void 0 ? void 0 : _j.emojiPath)) {\n                    this.defaultOptions.hint.emojiPath = \"\".concat(this.options.cdn, \"/dist/images/emoji\");\n                }\n            }\n        }\n        var mergedOptions = (0,merge/* merge */.T)(this.defaultOptions, this.options);\n        if (mergedOptions.cache.enable && !mergedOptions.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        return mergedOptions;\n    };\n    Options.prototype.mergeToolbar = function (toolbar) {\n        var _this = this;\n        var toolbarItem = [\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-export\"></use></svg>',\n                name: \"export\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-emoji\"></use></svg>',\n                name: \"emoji\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-headings\"></use></svg>',\n                name: \"headings\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-bold\"></use></svg>',\n                name: \"bold\",\n                prefix: \"**\",\n                suffix: \"**\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-italic\"></use></svg>',\n                name: \"italic\",\n                prefix: \"*\",\n                suffix: \"*\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘D\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-strike\"></use></svg>',\n                name: \"strike\",\n                prefix: \"~~\",\n                suffix: \"~~\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘K\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-link\"></use></svg>',\n                name: \"link\",\n                prefix: \"[\",\n                suffix: \"](https://)\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘L\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-list\"></use></svg>',\n                name: \"list\",\n                prefix: \"* \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-ordered-list\"></use></svg>',\n                name: \"ordered-list\",\n                prefix: \"1. \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘J\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-check\"></use></svg>',\n                name: \"check\",\n                prefix: \"* [ ] \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-outdent\"></use></svg>',\n                name: \"outdent\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-indent\"></use></svg>',\n                name: \"indent\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘;\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-quote\"></use></svg>',\n                name: \"quote\",\n                prefix: \"> \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-line\"></use></svg>',\n                name: \"line\",\n                prefix: \"---\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘U\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-code\"></use></svg>',\n                name: \"code\",\n                prefix: \"```\",\n                suffix: \"\\n```\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘G\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-inline-code\"></use></svg>',\n                name: \"inline-code\",\n                prefix: \"`\",\n                suffix: \"`\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-before\"></use></svg>',\n                name: \"insert-before\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-after\"></use></svg>',\n                name: \"insert-after\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>',\n                name: \"upload\",\n                tipPosition: \"n\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-record\"></use></svg>',\n                name: \"record\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘M\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-table\"></use></svg>',\n                name: \"table\",\n                prefix: \"| col1\",\n                suffix: \" | col2 | col3 |\\n| --- | --- | --- |\\n|  |  |  |\\n|  |  |  |\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘Z\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-undo\"></use></svg>',\n                name: \"undo\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘Y\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-redo\"></use></svg>',\n                name: \"redo\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-more\"></use></svg>',\n                name: \"more\",\n                tipPosition: \"e\",\n            },\n            {\n                hotkey: \"⌘'\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-fullscreen\"></use></svg>',\n                name: \"fullscreen\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-edit\"></use></svg>',\n                name: \"edit-mode\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘P\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-both\"></use></svg>',\n                name: \"both\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-preview\"></use></svg>',\n                name: \"preview\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>',\n                name: \"outline\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-theme\"></use></svg>',\n                name: \"content-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-code-theme\"></use></svg>',\n                name: \"code-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-bug\"></use></svg>',\n                name: \"devtools\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-info\"></use></svg>',\n                name: \"info\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-help\"></use></svg>',\n                name: \"help\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"br\",\n            },\n        ];\n        var toolbarResult = [];\n        toolbar.forEach(function (menuItem) {\n            var currentMenuItem = menuItem;\n            toolbarItem.forEach(function (defaultMenuItem) {\n                if (typeof menuItem === \"string\" &&\n                    defaultMenuItem.name === menuItem) {\n                    currentMenuItem = defaultMenuItem;\n                }\n                if (typeof menuItem === \"object\" &&\n                    defaultMenuItem.name === menuItem.name) {\n                    currentMenuItem = Object.assign({}, defaultMenuItem, menuItem);\n                }\n            });\n            if (menuItem.toolbar) {\n                currentMenuItem.toolbar = _this.mergeToolbar(menuItem.toolbar);\n            }\n            toolbarResult.push(currentMenuItem);\n        });\n        return toolbarResult;\n    };\n    return Options;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar WYSIWYG = /** @class */ (function () {\n    function WYSIWYG(vditor) {\n        var _this = this;\n        this.composingLock = false;\n        this.commentIds = [];\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-wysiwyg\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\".concat(vditor.options.placeholder, \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\\n<div class=\\\"vditor-panel vditor-panel--none\\\"></div>\\n<div class=\\\"vditor-panel vditor-panel--none\\\">\\n    <button type=\\\"button\\\" aria-label=\\\"\").concat(window.VditorI18n.comment, \"\\\" class=\\\"vditor-icon vditor-tooltipped vditor-tooltipped__n\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-comment\\\"></use></svg>\\n    </button>\\n</div>\");\n        this.element = divElement.firstElementChild;\n        this.popover = divElement.firstElementChild.nextElementSibling;\n        this.selectPopover = divElement.lastElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n        if (vditor.options.comment.enable) {\n            this.selectPopover.querySelector(\"button\").onclick = function () {\n                var id = Lute.NewNodeID();\n                var range = getSelection().getRangeAt(0);\n                var rangeClone = range.cloneRange();\n                var contents = range.extractContents();\n                var blockStartElement;\n                var blockEndElement;\n                var removeStart = false;\n                var removeEnd = false;\n                contents.childNodes.forEach(function (item, index) {\n                    var wrap = false;\n                    if (item.nodeType === 3) {\n                        wrap = true;\n                    }\n                    else if (!item.classList.contains(\"vditor-comment\")) {\n                        wrap = true;\n                    }\n                    else if (item.classList.contains(\"vditor-comment\")) {\n                        item.setAttribute(\"data-cmtids\", item.getAttribute(\"data-cmtids\") + \" \" + id);\n                    }\n                    if (wrap) {\n                        if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === 0 && rangeClone.startOffset > 0) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                            blockStartElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === contents.childNodes.length - 1\n                            && rangeClone.endOffset < rangeClone.endContainer.textContent.length) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                            blockEndElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\") {\n                            if (index === 0) {\n                                removeStart = true;\n                            }\n                            else if (index === contents.childNodes.length - 1) {\n                                removeEnd = true;\n                            }\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                        }\n                        else {\n                            var commentElement = document.createElement(\"span\");\n                            commentElement.classList.add(\"vditor-comment\");\n                            commentElement.setAttribute(\"data-cmtids\", id);\n                            item.parentNode.insertBefore(commentElement, item);\n                            commentElement.appendChild(item);\n                        }\n                    }\n                });\n                var startElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.startContainer);\n                if (startElement) {\n                    if (blockStartElement) {\n                        startElement.insertAdjacentHTML(\"beforeend\", blockStartElement.innerHTML);\n                        blockStartElement.remove();\n                    }\n                    else if (startElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeStart) {\n                        startElement.remove();\n                    }\n                }\n                var endElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.endContainer);\n                if (endElement) {\n                    if (blockEndElement) {\n                        endElement.insertAdjacentHTML(\"afterbegin\", blockEndElement.innerHTML);\n                        blockEndElement.remove();\n                    }\n                    else if (endElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeEnd) {\n                        endElement.remove();\n                    }\n                }\n                range.insertNode(contents);\n                vditor.options.comment.add(id, range.toString(), _this.getComments(vditor, true));\n                afterRenderEvent(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: false,\n                    enableInput: false,\n                });\n                _this.hideComment();\n            };\n        }\n    }\n    WYSIWYG.prototype.getComments = function (vditor, getData) {\n        var _this = this;\n        if (getData === void 0) { getData = false; }\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n            this.commentIds = [];\n            this.element.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n                _this.commentIds =\n                    _this.commentIds.concat(item.getAttribute(\"data-cmtids\").split(\" \"));\n            });\n            this.commentIds = Array.from(new Set(this.commentIds));\n            var comments_1 = [];\n            if (getData) {\n                this.commentIds.forEach(function (id) {\n                    comments_1.push({\n                        id: id,\n                        top: _this.element.querySelector(\".vditor-comment[data-cmtids=\\\"\".concat(id, \"\\\"]\")).offsetTop,\n                    });\n                });\n                return comments_1;\n            }\n        }\n        else {\n            return [];\n        }\n    };\n    WYSIWYG.prototype.triggerRemoveComment = function (vditor) {\n        var difference = function (a, b) {\n            var s = new Set(b);\n            return a.filter(function (x) { return !s.has(x); });\n        };\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable && vditor.wysiwyg.commentIds.length > 0) {\n            var oldIds = JSON.parse(JSON.stringify(this.commentIds));\n            this.getComments(vditor);\n            var removedIds = difference(oldIds, this.commentIds);\n            if (removedIds.length > 0) {\n                vditor.options.comment.remove(removedIds);\n            }\n        }\n    };\n    WYSIWYG.prototype.showComment = function () {\n        var position = (0,selection/* getCursorPosition */.Ny)(this.element);\n        this.selectPopover.setAttribute(\"style\", \"left:\".concat(position.left, \"px;display:block;top:\").concat(Math.max(-8, position.top - 21), \"px\"));\n    };\n    WYSIWYG.prototype.hideComment = function () {\n        this.selectPopover.setAttribute(\"style\", \"display:none\");\n    };\n    WYSIWYG.prototype.unbindListener = function () {\n        window.removeEventListener(\"scroll\", this.scrollListener);\n    };\n    WYSIWYG.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var codeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n        var codeEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"CODE\");\n        if (codeElement && codeEndElement && codeEndElement.isSameNode(codeElement)) {\n            var codeText = \"\";\n            if (codeElement.parentElement.tagName === \"PRE\") {\n                codeText = range.toString();\n            }\n            else {\n                codeText = \"`\" + range.toString() + \"`\";\n            }\n            event.clipboardData.setData(\"text/plain\", codeText);\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"A\");\n        var aEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"A\");\n        if (aElement && aEndElement && aEndElement.isSameNode(aElement)) {\n            var aTitle = aElement.getAttribute(\"title\") || \"\";\n            if (aTitle) {\n                aTitle = \" \\\"\".concat(aTitle, \"\\\"\");\n            }\n            event.clipboardData.setData(\"text/plain\", \"[\".concat(range.toString(), \"](\").concat(aElement.getAttribute(\"href\")).concat(aTitle, \")\"));\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    WYSIWYG.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.unbindListener();\n        window.addEventListener(\"scroll\", this.scrollListener = function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (_this.popover.style.display !== \"block\" || _this.selectPopover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10);\n            if (vditor.options.height !== \"auto\") {\n                if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                    var popoverTop = Math.max(window.scrollY - vditor.element.offsetTop - 8, Math.min(top - vditor.wysiwyg.element.scrollTop, _this.element.clientHeight - 21)) + \"px\";\n                    if (_this.popover.style.display === \"block\") {\n                        _this.popover.style.top = popoverTop;\n                    }\n                    if (_this.selectPopover.style.display === \"block\") {\n                        _this.selectPopover.style.top = popoverTop;\n                    }\n                }\n                return;\n            }\n            else if (!vditor.options.toolbarConfig.pin) {\n                return;\n            }\n            var popoverTop1 = Math.max(top, (window.scrollY - vditor.element.offsetTop - 8)) + \"px\";\n            if (_this.popover.style.display === \"block\") {\n                _this.popover.style.top = popoverTop1;\n            }\n            if (_this.selectPopover.style.display === \"block\") {\n                _this.selectPopover.style.top = popoverTop1;\n            }\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (vditor.options.comment && vditor.options.comment.enable && vditor.options.comment.scroll) {\n                vditor.options.comment.scroll(vditor.wysiwyg.element.scrollTop);\n            }\n            if (_this.popover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10) - vditor.wysiwyg.element.scrollTop;\n            var max = -8;\n            if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                max = window.scrollY - vditor.element.offsetTop + max;\n            }\n            var topPx = Math.max(max, Math.min(top, _this.element.clientHeight - 21)) + \"px\";\n            _this.popover.style.top = topPx;\n            _this.selectPopover.style.top = topPx;\n        });\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    var range = (0,selection/* getEditorRange */.zh)(vditor);\n                    var node = document.createElement(\"template\");\n                    node.innerHTML = code;\n                    range.insertNode(node.content.cloneNode(true));\n                    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n                    if (blockElement) {\n                        blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                    }\n                    else {\n                        vditor.wysiwyg.element.innerHTML = vditor.lute.SpinVditorDOM(vditor.wysiwyg.element.innerHTML);\n                    }\n                    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                },\n            });\n        });\n        // 中文处理\n        this.element.addEventListener(\"compositionstart\", function () {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                return;\n            }\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input_input(vditor, getSelection().getRangeAt(0).cloneRange(), event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                afterRenderEvent(vditor);\n                return;\n            }\n            var range = getSelection().getRangeAt(0);\n            var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            if (!blockElement) {\n                // 没有被块元素包裹\n                modifyPre(vditor, range);\n                blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            }\n            if (!blockElement) {\n                return;\n            }\n            // 前后空格处理\n            var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n            // 开始可以输入空格\n            var startSpace = true;\n            for (var i = startOffset - 1; i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n                if (blockElement.textContent.charAt(i) !== \" \" &&\n                    // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                    blockElement.textContent.charAt(i) !== \"\\t\") {\n                    startSpace = false;\n                    break;\n                }\n            }\n            if (startOffset === 0) {\n                startSpace = false;\n            }\n            // 结尾可以输入空格\n            var endSpace = true;\n            for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n                if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                    endSpace = false;\n                    break;\n                }\n            }\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                headingElement.remove();\n            }\n            if ((startSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\")\n                || endSpace || isHeadingMD(blockElement.innerHTML) ||\n                (isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling)) {\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n                return;\n            }\n            // https://github.com/Vanessa219/vditor/issues/1565\n            if (event.inputType === \"insertParagraph\" && _this.element.innerHTML === '<p><br></p><p><br></p>') {\n                blockElement.previousElementSibling.remove();\n            }\n            input_input(vditor, range, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                var checkElement = event.target;\n                if (checkElement.checked) {\n                    checkElement.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    checkElement.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (event.target.tagName === \"IMG\" &&\n                // plantuml 图片渲染不进行提示\n                !event.target.parentElement.classList.contains(\"vditor-wysiwyg__preview\")) {\n                if (event.target.getAttribute(\"data-type\") === \"link-ref\") {\n                    genLinkRefPopover(vditor, event.target);\n                }\n                else {\n                    genImagePopover(event, vditor);\n                }\n                return;\n            }\n            // 打开链接\n            var a = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"A\");\n            if (a) {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(a);\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(a.getAttribute(\"href\"));\n                }\n                event.preventDefault();\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            highlightToolbarWYSIWYG(vditor);\n            // 点击后光标落于预览区，需展开代码块\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-wysiwyg__preview\");\n            if (!previewElement) {\n                previewElement =\n                    (0,hasClosest/* hasClosestByClassName */.fb)((0,selection/* getEditorRange */.zh)(vditor).startContainer, \"vditor-wysiwyg__preview\");\n            }\n            if (previewElement) {\n                showCode(previewElement, vditor);\n            }\n            clickToc(event, vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            // 除 md 处理、cell 内换行、table 添加新行/列、代码块语言切换、block render 换行、跳出/逐层跳出 blockquote、h6 换行、\n            // 任务列表换行、软换行外需在换行时调整文档位置\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.wysiwyg.element.innerHTML !== \"\" && vditor.wysiwyg.element.childNodes.length === 1 &&\n                vditor.wysiwyg.element.firstElementChild && vditor.wysiwyg.element.firstElementChild.tagName === \"P\"\n                && vditor.wysiwyg.element.firstElementChild.childElementCount === 0\n                && (vditor.wysiwyg.element.textContent === \"\" || vditor.wysiwyg.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.wysiwyg.element.innerHTML = \"\";\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                }\n            }\n            // 没有被块元素包裹\n            modifyPre(vditor, range);\n            highlightToolbarWYSIWYG(vditor);\n            if (event.key !== \"ArrowDown\" && event.key !== \"ArrowRight\" && event.key !== \"Backspace\"\n                && event.key !== \"ArrowLeft\" && event.key !== \"ArrowUp\") {\n                return;\n            }\n            if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                vditor.hint.render(vditor);\n            }\n            // 上下左右，删除遇到块预览的处理\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__preview\");\n            if (!previewElement && range.startContainer.nodeType !== 3 && range.startOffset > 0) {\n                // table 前删除遇到代码块\n                var blockRenderElement = range.startContainer;\n                if (blockRenderElement.classList.contains(\"vditor-wysiwyg__block\")) {\n                    previewElement = blockRenderElement.lastElementChild;\n                }\n            }\n            if (!previewElement) {\n                return;\n            }\n            var previousElement = previewElement.previousElementSibling;\n            if (previousElement.style.display === \"none\") {\n                if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                    showCode(previewElement, vditor);\n                }\n                else {\n                    showCode(previewElement, vditor, false);\n                }\n                return;\n            }\n            var codeElement = previewElement.previousElementSibling;\n            if (codeElement.tagName === \"PRE\") {\n                codeElement = codeElement.firstElementChild;\n            }\n            if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                var blockRenderElement = previewElement.parentElement;\n                var nextNode = getRenderElementNextNode(blockRenderElement);\n                if (nextNode && nextNode.nodeType !== 3) {\n                    // 下一节点依旧为代码渲染块\n                    var nextRenderElement = nextNode.querySelector(\".vditor-wysiwyg__preview\");\n                    if (nextRenderElement) {\n                        showCode(nextRenderElement, vditor);\n                        return;\n                    }\n                }\n                // 跳过渲染块，光标移动到下一个节点\n                if (nextNode.nodeType === 3) {\n                    // inline\n                    while (nextNode.textContent.length === 0 && nextNode.nextSibling) {\n                        // https://github.com/Vanessa219/vditor/issues/100 2\n                        nextNode = nextNode.nextSibling;\n                    }\n                    range.setStart(nextNode, 1);\n                }\n                else {\n                    // block\n                    range.setStart(nextNode.firstChild, 0);\n                }\n            }\n            else {\n                range.selectNodeContents(codeElement);\n                range.collapse(false);\n            }\n        });\n    };\n    return WYSIWYG;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function (_super) {\n    src_extends(Vditor, _super);\n    /**\n     * @param id 要挂载 Vditor 的元素或者元素 ID。\n     * @param options Vditor 参数\n     */\n    function Vditor(id, options) {\n        var _this = _super.call(this) || this;\n        _this.version = constants/* VDITOR_VERSION */.H;\n        if (typeof id === \"string\") {\n            if (!options) {\n                options = {\n                    cache: {\n                        id: \"vditor\".concat(id),\n                    },\n                };\n            }\n            else if (!options.cache) {\n                options.cache = { id: \"vditor\".concat(id) };\n            }\n            else if (!options.cache.id) {\n                options.cache.id = \"vditor\".concat(id);\n            }\n            if (!document.getElementById(id)) {\n                _this.showErrorTip(\"Failed to get element by id: \".concat(id));\n                return _this;\n            }\n            id = document.getElementById(id);\n        }\n        var getOptions = new Options(options);\n        var mergedOptions = getOptions.merge();\n        // 支持自定义国际化\n        if (!mergedOptions.i18n) {\n            if (![\"en_US\", \"fr_FR\", \"pt_BR\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"sv_SE\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            }\n            else {\n                var i18nScriptPrefix = \"vditorI18nScript\";\n                var i18nScriptID_1 = i18nScriptPrefix + mergedOptions.lang;\n                document.querySelectorAll(\"head script[id^=\\\"\".concat(i18nScriptPrefix, \"\\\"]\")).forEach(function (el) {\n                    if (el.id !== i18nScriptID_1) {\n                        document.head.removeChild(el);\n                    }\n                });\n                (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js\"), i18nScriptID_1).then(function () {\n                    _this.init(id, mergedOptions);\n                }).catch(function (error) {\n                    _this.showErrorTip(\"GET \".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js net::ERR_ABORTED 404 (Not Found)\"));\n                });\n            }\n        }\n        else {\n            window.VditorI18n = mergedOptions.i18n;\n            _this.init(id, mergedOptions);\n        }\n        return _this;\n    }\n    Vditor.prototype.showErrorTip = function (error) {\n        var tip = new Tip();\n        document.body.appendChild(tip.element);\n        tip.show(error, 0);\n    };\n    Vditor.prototype.updateToolbarConfig = function (options) {\n        this.vditor.toolbar.updateConfig(this.vditor, options);\n    };\n    /** 设置主题 */\n    Vditor.prototype.setTheme = function (theme, contentTheme, codeTheme, contentThemePath) {\n        this.vditor.options.theme = theme;\n        setTheme(this.vditor);\n        if (contentTheme) {\n            this.vditor.options.preview.theme.current = contentTheme;\n            (0,setContentTheme/* setContentTheme */.Z)(contentTheme, contentThemePath || this.vditor.options.preview.theme.path);\n        }\n        if (codeTheme) {\n            this.vditor.options.preview.hljs.style = codeTheme;\n            (0,setCodeTheme/* setCodeTheme */.Y)(codeTheme, this.vditor.options.cdn);\n        }\n    };\n    /** 获取 Markdown 内容 */\n    Vditor.prototype.getValue = function () {\n        return getMarkdown(this.vditor);\n    };\n    /** 获取编辑器当前编辑模式 */\n    Vditor.prototype.getCurrentMode = function () {\n        return this.vditor.currentMode;\n    };\n    /** 聚焦到编辑器 */\n    Vditor.prototype.focus = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.focus();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.focus();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.focus();\n        }\n    };\n    /** 让编辑器失焦 */\n    Vditor.prototype.blur = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.blur();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.blur();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.blur();\n        }\n    };\n    /** 禁用编辑器 */\n    Vditor.prototype.disabled = function () {\n        hidePanel(this.vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n        disableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"false\");\n    };\n    /** 解除编辑器禁用 */\n    Vditor.prototype.enable = function () {\n        enableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor.undo.resetIcon(this.vditor);\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"true\");\n    };\n    /** 返回选中的字符串 */\n    Vditor.prototype.getSelection = function () {\n        if (this.vditor.currentMode === \"wysiwyg\") {\n            return getSelectText(this.vditor.wysiwyg.element);\n        }\n        else if (this.vditor.currentMode === \"sv\") {\n            return getSelectText(this.vditor.sv.element);\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            return getSelectText(this.vditor.ir.element);\n        }\n    };\n    /** 设置预览区域内容 */\n    Vditor.prototype.renderPreview = function (value) {\n        this.vditor.preview.render(this.vditor, value);\n    };\n    /** 获取焦点位置 */\n    Vditor.prototype.getCursorPosition = function () {\n        return (0,selection/* getCursorPosition */.Ny)(this.vditor[this.vditor.currentMode].element);\n    };\n    /** 上传是否还在进行中 */\n    Vditor.prototype.isUploading = function () {\n        return this.vditor.upload.isUploading;\n    };\n    /** 清除缓存 */\n    Vditor.prototype.clearCache = function () {\n        localStorage.removeItem(this.vditor.options.cache.id);\n    };\n    /** 禁用缓存 */\n    Vditor.prototype.disabledCache = function () {\n        this.vditor.options.cache.enable = false;\n    };\n    /** 启用缓存 */\n    Vditor.prototype.enableCache = function () {\n        if (!this.vditor.options.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        this.vditor.options.cache.enable = true;\n    };\n    /** HTML 转 md */\n    Vditor.prototype.html2md = function (value) {\n        return this.vditor.lute.HTML2Md(value);\n    };\n    /** markdown 转 JSON 输出 */\n    Vditor.prototype.exportJSON = function (value) {\n        return this.vditor.lute.RenderJSON(value);\n    };\n    /** 获取 HTML */\n    Vditor.prototype.getHTML = function () {\n        return getHTML(this.vditor);\n    };\n    /** 消息提示。time 为 0 将一直显示 */\n    Vditor.prototype.tip = function (text, time) {\n        this.vditor.tip.show(text, time);\n    };\n    /** 设置预览模式 */\n    Vditor.prototype.setPreviewMode = function (mode) {\n        setPreviewMode(mode, this.vditor);\n    };\n    /** 删除选中内容 */\n    Vditor.prototype.deleteValue = function () {\n        if (window.getSelection().isCollapsed) {\n            return;\n        }\n        document.execCommand(\"delete\", false);\n    };\n    /** 更新选中内容 */\n    Vditor.prototype.updateValue = function (value) {\n        document.execCommand(\"insertHTML\", false, value);\n    };\n    /** 在焦点处插入内容，并默认进行 Markdown 渲染 */\n    Vditor.prototype.insertValue = function (value, render) {\n        if (render === void 0) { render = true; }\n        var range = (0,selection/* getEditorRange */.zh)(this.vditor);\n        range.collapse(true);\n        var tmpElement = document.createElement(\"template\");\n        tmpElement.innerHTML = value;\n        range.insertNode(tmpElement.content.cloneNode(true));\n        range.collapse(false);\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.preventInput = true;\n            if (render) {\n                inputEvent(this.vditor);\n            }\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            // 由于 https://github.com/Vanessa219/vditor/issues/1566 不能使用 this.vditor.wysiwyg.preventInput = true;\n            if (render) {\n                input_input(this.vditor, getSelection().getRangeAt(0));\n            }\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.preventInput = true;\n            if (render) {\n                input(this.vditor, getSelection().getRangeAt(0), true);\n            }\n        }\n    };\n    /** 设置编辑器内容 */\n    Vditor.prototype.setValue = function (markdown, clearStack) {\n        var _this = this;\n        if (clearStack === void 0) { clearStack = false; }\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.innerHTML = \"<div data-block='0'>\".concat(this.vditor.lute.SpinVditorSVDOM(markdown), \"</div>\");\n            processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            renderDomByMd(this.vditor, markdown, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else {\n            this.vditor.ir.element.innerHTML = this.vditor.lute.Md2VditorIRDOM(markdown);\n            this.vditor.ir.element\n                .querySelectorAll(\".vditor-ir__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, _this.vditor);\n            });\n            process_processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        this.vditor.outline.render(this.vditor);\n        if (!markdown) {\n            hidePanel(this.vditor, [\"emoji\", \"headings\", \"submenu\", \"hint\"]);\n            if (this.vditor.wysiwyg.popover) {\n                this.vditor.wysiwyg.popover.style.display = \"none\";\n            }\n            this.clearCache();\n        }\n        if (clearStack) {\n            this.clearStack();\n        }\n    };\n    /** 清空 undo & redo 栈 */\n    Vditor.prototype.clearStack = function () {\n        this.vditor.undo.clearStack(this.vditor);\n        this.vditor.undo.addToUndoStack(this.vditor);\n    };\n    /** 销毁编辑器 */\n    Vditor.prototype.destroy = function () {\n        this.vditor.element.innerHTML = this.vditor.originalInnerHTML;\n        this.vditor.element.classList.remove(\"vditor\");\n        this.vditor.element.removeAttribute(\"style\");\n        var iconScript = document.getElementById(\"vditorIconScript\");\n        if (iconScript) {\n            iconScript.remove();\n        }\n        this.clearCache();\n        UIUnbindListener();\n        this.vditor.wysiwyg.unbindListener();\n    };\n    /** 获取评论 ID */\n    Vditor.prototype.getCommentIds = function () {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return [];\n        }\n        return this.vditor.wysiwyg.getComments(this.vditor, true);\n    };\n    /** 高亮评论 */\n    Vditor.prototype.hlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var hlItem = function (item) {\n            item.classList.remove(\"vditor-comment--hover\");\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.add(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            hlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                hlItem(item);\n            });\n        }\n    };\n    /** 取消评论高亮 */\n    Vditor.prototype.unHlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var unHlItem = function (item) {\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.remove(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            unHlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                unHlItem(item);\n            });\n        }\n    };\n    /** 删除评论 */\n    Vditor.prototype.removeCommentIds = function (removeIds) {\n        var _this = this;\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var removeItem = function (item, removeId) {\n            var ids = item.getAttribute(\"data-cmtids\").split(\" \");\n            ids.find(function (id, index) {\n                if (id === removeId) {\n                    ids.splice(index, 1);\n                    return true;\n                }\n            });\n            if (ids.length === 0) {\n                item.outerHTML = item.innerHTML;\n                (0,selection/* getEditorRange */.zh)(_this.vditor).collapse(true);\n            }\n            else {\n                item.setAttribute(\"data-cmtids\", ids.join(\" \"));\n            }\n        };\n        removeIds.forEach(function (removeId) {\n            _this.vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                removeItem(item, removeId);\n            });\n            if (_this.vditor.preview.element.style.display !== \"none\") {\n                _this.vditor.preview.element\n                    .querySelectorAll(\".vditor-comment\")\n                    .forEach(function (item) {\n                    removeItem(item, removeId);\n                });\n            }\n        });\n        afterRenderEvent(this.vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n    };\n    Vditor.prototype.init = function (id, mergedOptions) {\n        var _this = this;\n        this.vditor = {\n            currentMode: mergedOptions.mode,\n            element: id,\n            hint: new Hint(mergedOptions.hint.extend),\n            lute: undefined,\n            options: mergedOptions,\n            originalInnerHTML: id.innerHTML,\n            outline: new Outline(window.VditorI18n.outline),\n            tip: new Tip(),\n        };\n        this.vditor.sv = new Editor(this.vditor);\n        this.vditor.undo = new undo_Undo();\n        this.vditor.wysiwyg = new WYSIWYG(this.vditor);\n        this.vditor.ir = new IR(this.vditor);\n        this.vditor.toolbar = new Toolbar(this.vditor);\n        if (mergedOptions.resize.enable) {\n            this.vditor.resize = new Resize(this.vditor);\n        }\n        if (this.vditor.toolbar.elements.devtools) {\n            this.vditor.devtools = new DevTools();\n        }\n        if (mergedOptions.upload.url || mergedOptions.upload.handler) {\n            this.vditor.upload = new Upload();\n        }\n        (0,addScript/* addScript */.G)(mergedOptions._lutePath ||\n            \"\".concat(mergedOptions.cdn, \"/dist/js/lute/lute.min.js\"), \"vditorLuteScript\").then(function () {\n            _this.vditor.lute = (0,setLute/* setLute */.X)({\n                autoSpace: _this.vditor.options.preview.markdown.autoSpace,\n                gfmAutoLink: _this.vditor.options.preview.markdown.gfmAutoLink,\n                codeBlockPreview: _this.vditor.options.preview.markdown\n                    .codeBlockPreview,\n                emojiSite: _this.vditor.options.hint.emojiPath,\n                emojis: _this.vditor.options.hint.emoji,\n                fixTermTypo: _this.vditor.options.preview.markdown.fixTermTypo,\n                footnotes: _this.vditor.options.preview.markdown.footnotes,\n                headingAnchor: false,\n                inlineMathDigit: _this.vditor.options.preview.math.inlineDigit,\n                linkBase: _this.vditor.options.preview.markdown.linkBase,\n                linkPrefix: _this.vditor.options.preview.markdown.linkPrefix,\n                listStyle: _this.vditor.options.preview.markdown.listStyle,\n                mark: _this.vditor.options.preview.markdown.mark,\n                mathBlockPreview: _this.vditor.options.preview.markdown\n                    .mathBlockPreview,\n                paragraphBeginningSpace: _this.vditor.options.preview.markdown\n                    .paragraphBeginningSpace,\n                sanitize: _this.vditor.options.preview.markdown.sanitize,\n                toc: _this.vditor.options.preview.markdown.toc,\n            });\n            _this.vditor.preview = new Preview(_this.vditor);\n            initUI(_this.vditor);\n            if (mergedOptions.after) {\n                mergedOptions.after();\n            }\n            if (mergedOptions.icon) {\n                // 防止初始化 2 个编辑器时加载 2 次\n                (0,addScript/* addScriptSync */.J)(\"\".concat(mergedOptions.cdn, \"/dist/js/icons/\").concat(mergedOptions.icon, \".js\"), \"vditorIconScript\");\n            }\n        });\n    };\n    return Vditor;\n}(method[\"default\"]));\n/* harmony default export */ const src = (Vditor);\n\n})();\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["props","ref","AntdIcon","A","icon","token","componentCls","iconCls","antCls","zIndexPopup","colorText","colorWarning","marginXXS","marginXS","fontSize","fontWeightStrong","colorTextHeading","zIndex","marginBottom","display","flexWrap","alignItems","color","lineHeight","marginInlineEnd","fontWeight","marginTop","textAlign","whiteSpace","button","marginInlineStart","genBaseStyle","zIndexPopupBase","resetStyle","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Overlay","prefixCls","okButtonProps","cancelButtonProps","title","description","cancelText","okText","okType","ExclamationCircleFilled","showCancel","close","onConfirm","onCancel","onPopupClick","getPrefixCls","contextLocale","useLocale","Popconfirm","titleNode","getRenderPropValue","descriptionNode","className","onClick","assign","size","ActionButton","buttonProps","actionFn","quitOnNullishReturnValue","emitEvent","customizePrefixCls","placement","style","restProps","wrapCSSVar","content","_a","_b","trigger","children","overlayClassName","onOpenChange","onVisibleChange","open","setOpen","useMergedState","value","visible","defaultValue","defaultOpen","defaultVisible","settingOpen","overlayClassNames","omit","disabled","_InternalPanelDoNotUseOrYouWillBeFired","prepareToken","lineWidth","fontSizeIcon","calc","tagFontSize","fontSizeSM","tagLineHeight","lineHeightSM","mul","equal","tagIconSize","sub","tagPaddingHorizontal","tagBorderlessBg","defaultBg","prepareComponentToken","colorFillQuaternary","onBackground","colorBgContainer","toHexString","defaultColor","paddingXXS","paddingInline","iconMarginInline","height","background","border","lineType","colorBorder","borderRadius","borderRadiusSM","opacity","transition","motionDurationMid","position","direction","colorTextDescription","cursor","borderColor","colorTextLightSolid","backgroundColor","colorPrimary","colorFillSecondary","colorPrimaryHover","colorPrimaryActive","CheckableTag","checked","onChange","tag","hashId","cssVarCls","cls","genPresetColor","colorKey","_ref","textColor","lightBorderColor","lightColor","darkColor","genPresetStyle","genTagStatusStyle","status","cssVariableType","capitalizedCssVariableType","str","charAt","toUpperCase","slice","tagToken","InternalTag","tagProps","rootClassName","onClose","bordered","deprecatedVisible","tagContext","setVisible","domProps","undefined","isPreset","isStatus","isInternalColor","tagStyle","tagClassName","handleCloseClick","stopPropagation","defaultPrevented","mergedCloseIcon","useClosable","closable","closeIconRender","iconNode","replacement","originProps","isNeedWave","type","kids","tagNode","key","component","Tag","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","join","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","g","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","apply","func","thisArg","args","arrayAggregator","array","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","Array","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","n","baseTrim","string","trimmedEndIndex","replace","baseUnary","baseValues","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","test","mapToArray","map","forEach","overArg","transform","arg","replaceHolders","placeholder","setToArray","set","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","match","unicodeToArray","split","asciiToArray","unescapeHtmlChar","_","runInContext","context","uid","defaults","pick","Date","Error","Math","String","TypeError","arrayProto","funcProto","objectProto","coreJsData","funcToString","toString","idCounter","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","create","splice","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","defineProperty","getNative","ctxClearTimeout","clearTimeout","ctxNow","now","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","Map","Promise","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","this","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","push","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","get","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","constructor","input","initCloneArray","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","name","message","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othProps","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","comparer","sort","baseSortBy","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","fn","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bind","bindKey","WRAP_BIND_FLAG","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","toLowerCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","concat","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","substring","global","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","factory","__webpack_modules__","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","text","diff_main","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","a","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","j","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","x","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","y1","x1","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineStart","lineEnd","lineArrayLength","line","fromCharCode","maxLines","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","param","decodeURI","ex","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","abs","score_threshold","best_loc","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","m","sign","DIFF_INSERT","DIFF_EQUAL","__unused_webpack_module","abcRender","adapterRender","chartRender","codeRender","flowchartRender","graphvizRender","highlightRender","lazyLoadImageRender","element","document","loadImg","it","testImage","createElement","src","getAttribute","addEventListener","naturalHeight","naturalWidth","querySelector","clientWidth","window","innerHeight","removeAttribute","querySelectorAll","imgElement","vditorImageIntersectionObserver","disconnect","observe","IntersectionObserver","entrie","isIntersecting","intersectionRatio","mathRender","mediaRender","mermaidRender","markmapRender","mindmapRender","outlineRender","plantumlRender","constants","setContentTheme","addScript","hasClosest","setLute","selection","speechRender","lang","speechSynthesis","SpeechSynthesisUtterance","getVoice","currentVoice","defaultVoice","getVoices","item","default","playSVG","pauseSVG","getElementById","speechDom","insertAdjacentElement","onvoiceschanged","voice","utterThis","onend","onerror","classList","innerHTML","ontouchstart","event","contains","parentElement","speaking","paused","resume","pause","speak","Hc","vditorSpeechRange","focus","getSelection","rangeCount","getRangeAt","cloneRange","rect","getBoundingClientRect","top","scrollTop","left","changedTouches","pageX","clientX","setAttribute","__awaiter","_arguments","P","generator","fulfilled","rejected","then","__generator","body","f","label","sent","trys","ops","verb","v","mergeOptions","defaultOption","anchor","cdn","CDN","customEmoji","emojiPath","hljs","HLJS_OPTIONS","markdown","MARKDOWN_OPTIONS","math","MATH_OPTIONS","mode","speech","enable","render","media","theme","THEME_OPTIONS","T","md2html","mdText","mergedOptions","G","lute","X","autoSpace","gfmAutoLink","codeBlockPreview","emojiSite","emojis","fixTermTypo","footnotes","headingAnchor","inlineMathDigit","inlineDigit","lazyLoadImage","linkBase","linkPrefix","listStyle","mark","mathBlockPreview","paragraphBeginningSpace","sanitize","toc","renderers","SetJSRenderers","Md2HTML","SetHeadingID","previewRender","previewElement","i18nScriptPrefix","i18nScriptID_1","i18n","el","removeChild","VditorI18n","Z","O","H","K","B","Q","Y","onclick","substr","offsetTop","onhashchange","decodeURIComponent","location","hash","spanElement","lG","fb","headingElement","scrollTo","scrollX","preview_image","setCodeTheme","Vditor","previewImage","E","k","preview","_VDITOR_VERSION","Constants","ZWSP","DROP_EDITOR","MOBILE_WIDTH","CLASS_MENU_DISABLED","EDIT_TOOLBARS","CODE_THEME","CODE_LANGUAGES","lineNumber","defaultLang","engine","macros","list","_constants__WEBPACK_IMPORTED_MODULE_0__","_util_addScript__WEBPACK_IMPORTED_MODULE_2__","_adapterRender__WEBPACK_IMPORTED_MODULE_1__","abcElements","abcRenderAdapter","getElements","ABCJS","renderAbc","getCode","overflowX","r","mathRenderAdapter","mathElement","textContent","mermaidRenderAdapter","markmapRenderAdapter","mindmapRenderAdapter","chartRenderAdapter","innerText","graphvizRenderAdapter","flowchartRenderAdapter","plantumlRenderAdapter","echartsElements","option","JSON","parse","echarts","init","setOption","error","_util_code160to32__WEBPACK_IMPORTED_MODULE_1__","from","maxHeight","_c","codeText","codeElement","cloneNode","iconHTML","divElement","copied","textarea","renderMenu","outerHeight","insertAdjacentHTML","flowchartElements","flowchartObj","flowchart","drawSVG","graphvizElements","code","blob","Blob","blobUrl","URL","webkitURL","createObjectURL","worker","Worker","Viz","renderSVGElement","outerHTML","catch","console","_util_addStyle__WEBPACK_IMPORTED_MODULE_1__","hljsOption","vditorHljsStyle","href","c","block","highlightElement","linenNumberTemp","getComputedStyle","isSoftWrap","lineNumberHTML","lineList","enabled","markmap","Transformer","Markmap","deriveOptions","transformer","globalCSS","svg","firstChild","mm","features","getAssets","styles","scripts","loadCSS","loadJS","frontmatter","frontmatterOptions","fit","markmapElements","parentNode","appendChild","childNodes","nodeName","_util_addScript__WEBPACK_IMPORTED_MODULE_3__","_util_addStyle__WEBPACK_IMPORTED_MODULE_2__","_util_code160to32__WEBPACK_IMPORTED_MODULE_4__","mathElements","defaultOptions","katex","renderToString","displayMode","tagName","output","preventDefault","vditorMathElement","currentTarget","closest","clipboardData","MathJax","loader","mathjax","startup","typeset","tex","mathJaxOptions","J","renderMath_1","mathOptions","getMetricsFor","tex2svgPromise","node","append","updateDocument","errorTextElement","promise","chains","_loop_1","fns","curr","chainAsync_1","_util_function__WEBPACK_IMPORTED_MODULE_0__","aElement","url","videoRender","audioRender","youtubeMatch","youkuMatch","qqMatch","coubMatch","facebookMatch","dailymotionMatch","bilibiliMatch","tedMatch","encodeURIComponent","params_1","bvid","o","page","high_quality","as_wide","allowfullscreen","autoplay","keyValue","src_1","keys_1","iframeRender","_util_function__WEBPACK_IMPORTED_MODULE_3__","mermaidElements","config","securityLevel","altFontFamily","fontFamily","startOnLoad","htmlLabels","useMaxWidth","sequence","diagramMarginX","diagramMarginY","boxMargin","showSequenceNumbers","gantt","leftPadding","rightPadding","mermaid","initialize","mermaidData","e_1","errorElement","W","mindmapElements","series","initialTreeDepth","itemStyle","borderWidth","lineStyle","width","roam","params","tooltip","triggerOn","_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__","_mathRender__WEBPACK_IMPORTED_MODULE_0__","contentElement","targetElement","vditor","tocHTML","ids","tempElement","SetToC","currentMode","HTML2VditorDOM","SpinVditorIRDOM","SpinVditorDOM","Lute","New","headingsElement","firstElementChild","nextElementSibling","isEqualNode","idElement","windowScrollY","toolbarConfig","pin","toolbar","offsetHeight","scrollY","plantumlElements","plantumlEncoder","encode","PutEmojis","SetEmojiSite","SetHeadingAnchor","SetInlineMathAllowDigitAfterOpenMarker","SetAutoSpace","SetFootnotes","SetFixTermTypo","SetVditorCodeBlockPreview","SetVditorMathBlockPreview","SetSanitize","SetChineseParagraphBeginningSpace","SetRenderListStyle","SetLinkBase","SetLinkPrefix","SetMark","SetGFMAutoLink","SetImageLazyLoading","oldImgElement","oldImgRect","spin","overflow","translate3d","innerWidth","scrollWidth","scrollHeight","clientHeight","btnElement","deg","codeTheme","_util_addStyle__WEBPACK_IMPORTED_MODULE_0__","contentTheme","vditorContentTheme","cssPath","addScriptSync","xhrObj","XMLHttpRequest","setRequestHeader","send","scriptElement","responseText","async","onload","addStyle","styleElement","rel","getElementsByTagName","code160to32","isSafari","navigator","userAgent","isFirefox","accessLocalStorage","localStorage","getEventName","isCtrl","platform","metaKey","ctrlKey","updateHotkeyTip","hotkey","isChrome","vendor","genUUID","crypto","getRandomValues","Uint32Array","getSearch","link","hashIndex","URLSearchParams","_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__","hasTopClosestByClassName","hasClosestByClassName","parentClosest","findTop","hasTopClosestByTag","S","getTopList","topUlElement","topOlElement","topListElement","hasClosestByAttribute","attr","isClosest","hasClosestBlock","blockElement","hasClosestByMatchTag","getLastNode","lastChild","hasClosestByTag","hasClosestByHeadings","_i","merger","obj","_compatibility__WEBPACK_IMPORTED_MODULE_2__","_hasClosest__WEBPACK_IMPORTED_MODULE_1__","getEditorRange","startContainer","ownerDocument","setStart","collapse","getCursorPosition","editor","cursorRect","parentRect","getClientRects","parent_1","startOffset","selectNode","setEnd","endContainer","endOffset","selectIsEditor","container","commonAncestorContainer","setSelectionFocus","removeAllRanges","addRange","getSelectPosition","selectElement","editorElement","preSelectionRange","selectNodeContents","setSelectionByPosition","charIndex","pNode","foundStart","stop","nextCharIndex","nextSibling","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setRangeByWbr","wbrElement","previousElementSibling","isSameNode","previousSibling","i7","insertNode","createTextNode","insertHTML","tempBlockElement","pasteElement","preventInput","execCommand","lastElementChild","F9","pasteTemplate","__webpack_module_cache__","moduleId","cachedModule","definition","enumerable","resizeCb","getMarkdown","sv","VditorDOM2Md","wysiwyg","VditorIRDOM2Md","ir","DevTools","renderEchart","_this","devtools","ASTChart","RenderEChartsJSON","align","verticalAlign","orient","toolbox","bottom","emphasis","iconStyle","feature","restore","show","saveAsImage","right","resize","compatibility","removeCurrentToolbar","names","itemElement","setCurrentToolbar","enableToolbar","disableToolbar","hideToolbar","showToolbar","hidePanel","panels","exceptElement","elements","emoji","hint","popover","toggleSubMenu","panelElement","actionBtn","level","Le","log","print","processCodeRender","previewPanel","language","customRenders","renderToc","outline","clickToc","keydownToc","im","execAfterRender","insertBeforeBlock","trimRight","insertAfterBlock","tocElement","ignoreSpace","isHrMD","isHeadingMD","startSpace","endSpace","previousNode","previewRenderElement","firstLinkRefDefElement","isIRElement","footnoteElement","a1","blockquoteElement","O9","listPrevElement","listNextElement","inputType","debugger","footnoteItemElement","footnoteItemText","marker","footnoteRefElement","firstFootnoteElement","allLinkRefDefsElement","allFootnoteElement","ib","process_processAfterRender","enableAddUndoStack","enableHint","enableInput","matchHotKey","hotKey","yl","altKey","shiftKey","hotKeys","keyCode","hasShift","vU","expandMarker","nodeElement","JQ","nodeElementEnd","collapsed","nextNode","nodeValue","markerElement","parentNextNode","nextIsNode","previousIsNode","combineFootnote","afterCombine","footnote","thisNode","inputEvent","processAfterRender","codeBlockMarkerElement","openMarkerElement","getSideByType","mathBlockMarkerElement","mathBlockCloseElement","Caret","isSVElement","footnotes_1","processSpinVditorSVDOM","scrollCenter","setTheme","setPadding","minPadding","maxWidth","paddingLeft","offsetWidth","setTypewriterPosition","typewriterMode","minHeight","setProperty","UIUnbindListener","removeEventListener","extendStatics","templateObject_1","afterRender","initValue","pK","getItem","originalInnerHTML","HTML2Md","highlightToolbarIR","hlToolbarTimeoutId","Gb","zh","typeElement","liElement","afterRenderEvent","afterRenderTimeoutId","composingLock","counter","setItem","undo","addToUndoStack","undoDelay","getNextHTML","getPreviousHTML","modifyPre","pElement","cloneRangeOffset","insertBefore","setHeading","removeHeading","showCode","previousElement","removeBlockElement","click","highlightToolbarWYSIWYG","footnotesElement","genClose","setPopoverPosition","commentElement","ids_1","nextIds_1","tableElement","genUp","genDown","updateTable_1","oldRow","rows","oldColumn","cells","row","input_1","column","input2_1","columnDiff","rowDiff","rowHTML","l","setAlign_1","setTableAlign","left_1","center_1","right_1","td","th","alignType","alignLeft","ns","alignCenter","alignRight","insertRowElement","insertRowBelow","cellElement","insertRow","insertRowBElement","insertRowAbove","insertColumnElement","insertColumnRight","insertColumn","insertColumnBElement","insertColumnLeft","deleteRowElement","deleteRow","deleteColumnElement","deleteColumn","inputWrap","oninput","onkeydown","isComposing","select","focusToElement","input2Wrap","linkRefElement","genLinkRefPopover","footnotesRefElement","footnoteRef","input_2","blockRenderElement","isBlock","languageWrap","language_1","codeElement_1","recentLanguage","detail","onkeyup","matchLangData","selectionStart","langs","keyName","genHTML","input_3","genAPopover","backslashElement","offsetLeft","updateLinkRef","input1","textIsNotEmpty","linkHotkey","input1Wrap","linkRef","upElement","up","nextElement","downElement","down","nextInputElement","updateA","input2","tooltipText","highlightToolbar","renderDomByMd","md","Md2VditorDOM","cancelBES","commandName","jump","lastTagName","lastEndTagName","splitHTML","previousHTML","nextHTML","beforeHTML","afterHTML","splitElement","lastBeforeHTML","lastAfterHTML","MenuItem","menuItem","tip","iconElement","tipPosition","CustomEvent","useHighlight","useRender","quoteElement","inlineCodeElement","listToggle","surroundContents","deleteContents","textInputElement","textInputElements","tableHTML_1","tableText","delimiter_1","header","subIndex","cell","hrHTML","toolbarEvent","process_processToolbar","processToolbar","__extends","b","setPrototypeOf","__proto__","__","setEditMode","markdownText","SetVditorIR","SetVditorWYSIWYG","SetVditorSV","Md2VditorIRDOM","svHTML","resetIcon","toggle","EditMode","_super","instantRendering","splitView","_bindEvent","getSelectText","focusEvent","dblclickEvent","image","isPreview","blurEvent","expandElement","selectPopover","relatedTarget","hideComment","blur","dropEvent","dataTransfer","paste","pasteCode","copyEvent","cutEvent","comment","getComments","adjustTop","cursorTop","Ny","hotkeyEvent","keydown","_d","_e","recordFirstPosition","textElement","blockquoteMarkerElement","listMarkerElement","taskMarkerElement","listLastMarkerElement","startIndex","isTask","listFirstMarkerElement","fixTab","isFirst","newLineMatch","newLineText","processPreviousMarkers","extractContents","previousLastElement","processKeydown_processKeydown","fixGSKeyBackspace","fixCJKPosition","fixHR","fixMarkdown","fixList","fixTable","codeRenderElement","inputElemment","fixCodeBlock","fixBlockquote","topBQElement","E2","pTempElement","fixTask","linRefElement","inputElement","fixDelete","rangeStart","rangeStartOffset","nextIsCode","fixFirefoxArrowUpTable","fixCursorDownInlineMath","wysiwyg_processKeydown_processKeydown","newlineElement","beforeMarkerElement","afterMarkerElement","preRenderElement","preBeforeElement","isFirstCell","table2Element","isLastCell","headingMarkerElement","process_processHeading","headingLength","processKeydown","ctrlEnter","redo","esc","processHeading","subMenuItem","dispatchEvent","selectEvent","onmouseup","selectText","showComment","processPaste","spinHTML","SpinVditorSVDOM","spanNode","isPrevious","sideElement","spanType","markerText","hasNL","previousType","previousText","openMarker","processTimeoutId","newLine","insertAdjacentText","getElement","setHeaders","xhr","upload","headers","Upload","isUploading","uploadFiles","files","fileList","filesMax","fileItem","isValidate","validateResult","formData","extraData","iMax","multiple","DataTransferItem","getAsFile","handler","file","validate","hide","uploadFileList","errorTip","uploadingStr","nameEmpty","fileExt","filename","accept","fileTypeError","uploading","validateFile","FormData","fieldName","withCredentials","onreadystatechange","readyState","DONE","success","format","response","msg","errFiles","uploadError","succFileText","succMap","genUploadedLabel","onprogress","lengthComputable","progress","loaded","total","input_input","previousAEmptyElement","previoueIsEmptyA","wbr","html_1","firstLinkRefDefElement_1","isWYSIWYGElement","firstFootnoteElement_1","triggerRemoveComment","__makeTemplateObject","cooked","raw","fixBrowserBehavior_awaiter","fixBrowserBehavior_generator","pLiElement","zwspNode","inlineElement","insertEmptyBlock","goPreviousCell","isSelected","pHTML","childElementCount","trimLeft","replaceChild","listIndent","liElements_1","cloneContents","liParentElement","liHTML_1","tempTopListElement","listOutdent","liParentLiElement","liParentAfterElement","liElements_2","isMatch_1","afterHTML_1","columnCnt","rowCnt","currentColumn","textArray","tab","pText","pTextList","tableHeaderMD","pInnerHTML","innerHTMLList","lastElement","DX","theadHTML","tbodyElement","brElement","trElement","codePosition","taskItemElement","afterHTML_2","beforeHTML_1","isAfter_1","taskItem","parentTagName","dataMarker","startAttribute","rangeElement","lastCellElement","textHTML","textPlain","renderLinkDest","doc","fileReader_1","file_1","items","entering","WalkContinue","TokensStr","__internal_object__","Parent","Type","linkToImgUrl","xhr_1","linkToImgFormat","responseJSON_1","original_1","originalURL","linkToImgCallback","stringify","EscapeHTMLStr","DOMParser","parseFromString","Sanitize","isCode","pres","processPasteCode","$j","HTML2VditorIRDOM","oC","Md2VditorSVDOM","FileReader","readAsDataURL","imgHTML","IsValidLinkDest","processHint","matchLangData_1","key_1","removeInline","aTextElement","hint_awaiter","hint_generator","Hint","hintExtends","splitChar","fillEmoji","preElement","timeId","focusNode","currentLineValue","getKey","emojiHint_1","GetEmojis","matchEmojiData_1","textareaPosition","hintsHTML","hintData","replaceHtml","replaceIndex","defaultView","getPropertyValue","currentHintElement","length_1","currentLastIndex","lastItem","preChar","IR","bindEvent","linkElement","lastRect","isOpen","getHTML","VditorDOM2HTML","VditorIRDOM2HTML","Outline","outlineLabel","Preview","classes","copyToX","actionElement","actionHtml","btn","actionCustom","w","mdTimeoutId","renderStartTime","responseJSON","startTime","performanceTip","cmtFocusElement","copyElement","backgroundImage","Resize","documentSelf","clientY","ondragstart","captureEvents","onmousemove","moveEvent","paddingBottom","onselectstart","onselect","Editor","textScrollTop","textHeight","textScrollHeight","Tip","setPreviewMode","Both_extends","Both","Br","CodeTheme_extends","CodeTheme","ContentTheme_extends","ContentTheme","Counter","Custom_extends","Custom","Devtools_extends","Devtools","Divider","Emoji_extends","Emoji","commonEmojiHTML","emojiValue","emojiTail","download","downloadTip","Export_extends","Export","exportMarkdown","generate","iframe","contentDocument","write","contentWindow","postMessage","exportPDF","exportHTML","Fullscreen_extends","Fullscreen","svgElement","dataset","fullscreen","Headings_extends","Headings","heading1","heading2","heading3","heading4","heading5","heading6","Help_extends","Help","Indent_extends","Indent","Info_extends","Info","Version","InsertAfter_extends","InsertAfter","InsertBefore_extends","InsertBefore","Outdent_extends","Outdent","Outline_extends","Outline_Outline","Preview_extends","Preview_Preview","toolbars","RecordMedia","SAMPLE_RATE","isRecording","readyFlag","leftChannel","rightChannel","recordingLength","AudioContext","webkitAudioContext","DEFAULT_SAMPLE_RATE","sampleRate","volume","createGain","createMediaStreamSource","connect","recorder","createScriptProcessor","onaudioprocess","destination","cloneChannelData","leftChannelData","rightChannelData","Float32Array","startRecordingNewWavFile","stopRecording","buildWavFileBlob","leftBuffer","mergeBuffers","rightBuffer","interleaved","downSampleBuffer","totalByteCount","writeUTFBytes","setUint32","setUint16","subChunk2ByteCount","lng","setInt16","rate","sampleRateRatio","newLength","offsetResult","offsetBuffer","nextOffsetBuffer","accum","desiredChannelBuffer","setUint8","Record_extends","Record","mediaRecorder","File","recording","mediaDevices","getUserMedia","audio","mediaStream","inputBuffer","getChannelData","Redo_extends","Redo","Undo_extends","Undo","Upload_extends","Upload_Upload","inputHTML","Toolbar","genItem","panelElement_1","subI","updateConfig","menuItemObj","undo_Undo","stackSize","resetStack","clearStack","undoStack","redoStack","state","renderDiff","hasUndo","G6","addCaret","lastText","diff","patchList","isRedo","redoPatchList","setFocus","Options","rtl","_f","_g","_h","_j","mergeToolbar","toolbarItem","toolbarResult","currentMenuItem","defaultMenuItem","WYSIWYG","commentIds","blockStartElement","blockEndElement","NewNodeID","rangeClone","contents","removeStart","removeEnd","startElement","endElement","comments_1","oldIds","removedIds","unbindListener","scrollListener","codeEndElement","aEndElement","aTitle","popoverTop1","popoverTop","scroll","topPx","checkElement","updateImg","alt","imageURL","elementEvent","altWrap","alternateText","titleWrap","genImagePopover","blockCodeElement","getRenderElementNextNode","nextRenderElement","src_extends","version","showErrorTip","updateToolbarConfig","contentThemePath","getCurrentMode","renderPreview","clearCache","removeItem","disabledCache","enableCache","html2md","exportJSON","RenderJSON","deleteValue","isCollapsed","updateValue","insertValue","tmpElement","setValue","destroy","iconScript","getCommentIds","hlCommentIds","hlItem","unHlCommentIds","unHlItem","removeCommentIds","removeIds","removeId","_lutePath","export","visualViewport","pendingUpdate_1","viewportHandler","requestAnimationFrame","layoutViewport","initUI"],"sourceRoot":""}
{"version":3,"file":"static/js/935d1e7760abd.chunk.js","mappings":"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","sources":["webpack://hexo-pro-client/./node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","webpack://hexo-pro-client/./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","webpack://hexo-pro-client/./node_modules/@ant-design/icons-svg/es/asn/SettingOutlined.js","webpack://hexo-pro-client/./node_modules/@ant-design/icons/es/icons/SettingOutlined.js","webpack://hexo-pro-client/./node_modules/antd/es/col/index.js","webpack://hexo-pro-client/./node_modules/antd/es/popconfirm/style/index.js","webpack://hexo-pro-client/./node_modules/antd/es/popconfirm/PurePanel.js","webpack://hexo-pro-client/./node_modules/antd/es/popconfirm/index.js","webpack://hexo-pro-client/./node_modules/antd/es/row/index.js","webpack://hexo-pro-client/./node_modules/lodash/lodash.js","webpack://hexo-pro-client/./node_modules/vditor/dist/index.js"],"sourcesContent":["// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\n/**![delete](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTM2MCAxODRoLThjNC40IDAgOC0zLjYgOC04djhoMzA0di04YzAgNC40IDMuNiA4IDggOGgtOHY3Mmg3MnYtODBjMC0zNS4zLTI4LjctNjQtNjQtNjRIMzUyYy0zNS4zIDAtNjQgMjguNy02NCA2NHY4MGg3MnYtNzJ6bTUwNCA3MkgxNjBjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjMyYzAgNC40IDMuNiA4IDggOGg2MC40bDI0LjcgNTIzYzEuNiAzNC4xIDI5LjggNjEgNjMuOSA2MWg0NTRjMzQuMiAwIDYyLjMtMjYuOCA2My45LTYxbDI0LjctNTIzSDg4OGM0LjQgMCA4LTMuNiA4LTh2LTMyYzAtMTcuNy0xNC4zLTMyLTMyLTMyek03MzEuMyA4NDBIMjkyLjdsLTI0LjItNTEyaDQ4N2wtMjQuMiA1MTJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(DeleteOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DeleteOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar SettingOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z\" } }] }, \"name\": \"setting\", \"theme\": \"outlined\" };\nexport default SettingOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport SettingOutlinedSvg from \"@ant-design/icons-svg/es/asn/SettingOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar SettingOutlined = function SettingOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: SettingOutlinedSvg\n  }));\n};\n\n/**![setting](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyNC44IDYyNS43bC02NS41LTU2YzMuMS0xOSA0LjctMzguNCA0LjctNTcuOHMtMS42LTM4LjgtNC43LTU3LjhsNjUuNS01NmEzMi4wMyAzMi4wMyAwIDAwOS4zLTM1LjJsLS45LTIuNmE0NDMuNzQgNDQzLjc0IDAgMDAtNzkuNy0xMzcuOWwtMS44LTIuMWEzMi4xMiAzMi4xMiAwIDAwLTM1LjEtOS41bC04MS4zIDI4LjljLTMwLTI0LjYtNjMuNS00NC05OS43LTU3LjZsLTE1LjctODVhMzIuMDUgMzIuMDUgMCAwMC0yNS44LTI1LjdsLTIuNy0uNWMtNTIuMS05LjQtMTA2LjktOS40LTE1OSAwbC0yLjcuNWEzMi4wNSAzMi4wNSAwIDAwLTI1LjggMjUuN2wtMTUuOCA4NS40YTM1MS44NiAzNTEuODYgMCAwMC05OSA1Ny40bC04MS45LTI5LjFhMzIgMzIgMCAwMC0zNS4xIDkuNWwtMS44IDIuMWE0NDYuMDIgNDQ2LjAyIDAgMDAtNzkuNyAxMzcuOWwtLjkgMi42Yy00LjUgMTIuNS0uOCAyNi41IDkuMyAzNS4ybDY2LjMgNTYuNmMtMy4xIDE4LjgtNC42IDM4LTQuNiA1Ny4xIDAgMTkuMiAxLjUgMzguNCA0LjYgNTcuMUw5OSA2MjUuNWEzMi4wMyAzMi4wMyAwIDAwLTkuMyAzNS4ybC45IDIuNmMxOC4xIDUwLjQgNDQuOSA5Ni45IDc5LjcgMTM3LjlsMS44IDIuMWEzMi4xMiAzMi4xMiAwIDAwMzUuMSA5LjVsODEuOS0yOS4xYzI5LjggMjQuNSA2My4xIDQzLjkgOTkgNTcuNGwxNS44IDg1LjRhMzIuMDUgMzIuMDUgMCAwMDI1LjggMjUuN2wyLjcuNWE0NDkuNCA0NDkuNCAwIDAwMTU5IDBsMi43LS41YTMyLjA1IDMyLjA1IDAgMDAyNS44LTI1LjdsMTUuNy04NWEzNTAgMzUwIDAgMDA5OS43LTU3LjZsODEuMyAyOC45YTMyIDMyIDAgMDAzNS4xLTkuNWwxLjgtMi4xYzM0LjgtNDEuMSA2MS42LTg3LjUgNzkuNy0xMzcuOWwuOS0yLjZjNC41LTEyLjMuOC0yNi4zLTkuMy0zNXpNNzg4LjMgNDY1LjljMi41IDE1LjEgMy44IDMwLjYgMy44IDQ2LjFzLTEuMyAzMS0zLjggNDYuMWwtNi42IDQwLjEgNzQuNyA2My45YTM3MC4wMyAzNzAuMDMgMCAwMS00Mi42IDczLjZMNzIxIDcwMi44bC0zMS40IDI1LjhjLTIzLjkgMTkuNi01MC41IDM1LTc5LjMgNDUuOGwtMzguMSAxNC4zLTE3LjkgOTdhMzc3LjUgMzc3LjUgMCAwMS04NSAwbC0xNy45LTk3LjItMzcuOC0xNC41Yy0yOC41LTEwLjgtNTUtMjYuMi03OC43LTQ1LjdsLTMxLjQtMjUuOS05My40IDMzLjJjLTE3LTIyLjktMzEuMi00Ny42LTQyLjYtNzMuNmw3NS41LTY0LjUtNi41LTQwYy0yLjQtMTQuOS0zLjctMzAuMy0zLjctNDUuNSAwLTE1LjMgMS4yLTMwLjYgMy43LTQ1LjVsNi41LTQwLTc1LjUtNjQuNWMxMS4zLTI2LjEgMjUuNi01MC43IDQyLjYtNzMuNmw5My40IDMzLjIgMzEuNC0yNS45YzIzLjctMTkuNSA1MC4yLTM0LjkgNzguNy00NS43bDM3LjktMTQuMyAxNy45LTk3LjJjMjguMS0zLjIgNTYuOC0zLjIgODUgMGwxNy45IDk3IDM4LjEgMTQuM2MyOC43IDEwLjggNTUuNCAyNi4yIDc5LjMgNDUuOGwzMS40IDI1LjggOTIuOC0zMi45YzE3IDIyLjkgMzEuMiA0Ny42IDQyLjYgNzMuNkw3ODEuOCA0MjZsNi41IDM5Ljl6TTUxMiAzMjZjLTk3LjIgMC0xNzYgNzguOC0xNzYgMTc2czc4LjggMTc2IDE3NiAxNzYgMTc2LTc4LjggMTc2LTE3Ni03OC44LTE3Ni0xNzYtMTc2em03OS4yIDI1NS4yQTExMS42IDExMS42IDAgMDE1MTIgNjE0Yy0yOS45IDAtNTgtMTEuNy03OS4yLTMyLjhBMTExLjYgMTExLjYgMCAwMTQwMCA1MDJjMC0yOS45IDExLjctNTggMzIuOC03OS4yQzQ1NCA0MDEuNiA0ODIuMSAzOTAgNTEyIDM5MGMyOS45IDAgNTggMTEuNiA3OS4yIDMyLjhBMTExLjYgMTExLjYgMCAwMTYyNCA1MDJjMCAyOS45LTExLjcgNTgtMzIuOCA3OS4yeiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(SettingOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'SettingOutlined';\n}\nexport default RefIcon;","\"use client\";\n\nimport { Col } from '../grid';\nexport default Col;","import { genStyleHooks } from '../../theme/internal';\n// =============================== Base ===============================\nconst genBaseStyle = token => {\n  const {\n    componentCls,\n    iconCls,\n    antCls,\n    zIndexPopup,\n    colorText,\n    colorWarning,\n    marginXXS,\n    marginXS,\n    fontSize,\n    fontWeightStrong,\n    colorTextHeading\n  } = token;\n  return {\n    [componentCls]: {\n      zIndex: zIndexPopup,\n      [`&${antCls}-popover`]: {\n        fontSize\n      },\n      [`${componentCls}-message`]: {\n        marginBottom: marginXS,\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'start',\n        [`> ${componentCls}-message-icon ${iconCls}`]: {\n          color: colorWarning,\n          fontSize,\n          lineHeight: 1,\n          marginInlineEnd: marginXS\n        },\n        [`${componentCls}-title`]: {\n          fontWeight: fontWeightStrong,\n          color: colorTextHeading,\n          '&:only-child': {\n            fontWeight: 'normal'\n          }\n        },\n        [`${componentCls}-description`]: {\n          marginTop: marginXXS,\n          color: colorText\n        }\n      },\n      [`${componentCls}-buttons`]: {\n        textAlign: 'end',\n        whiteSpace: 'nowrap',\n        button: {\n          marginInlineStart: marginXS\n        }\n      }\n    }\n  };\n};\n// ============================== Export ==============================\nexport const prepareComponentToken = token => {\n  const {\n    zIndexPopupBase\n  } = token;\n  return {\n    zIndexPopup: zIndexPopupBase + 60\n  };\n};\nexport default genStyleHooks('Popconfirm', token => genBaseStyle(token), prepareComponentToken, {\n  resetStyle: false\n});","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport classNames from 'classnames';\nimport ActionButton from '../_util/ActionButton';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonHelpers';\nimport { ConfigContext } from '../config-provider';\nimport { useLocale } from '../locale';\nimport defaultLocale from '../locale/en_US';\nimport PopoverPurePanel from '../popover/PurePanel';\nimport useStyle from './style';\nexport const Overlay = props => {\n  const {\n    prefixCls,\n    okButtonProps,\n    cancelButtonProps,\n    title,\n    description,\n    cancelText,\n    okText,\n    okType = 'primary',\n    icon = /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n    showCancel = true,\n    close,\n    onConfirm,\n    onCancel,\n    onPopupClick\n  } = props;\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const [contextLocale] = useLocale('Popconfirm', defaultLocale.Popconfirm);\n  const titleNode = getRenderPropValue(title);\n  const descriptionNode = getRenderPropValue(description);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-inner-content`,\n    onClick: onPopupClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-message`\n  }, icon && /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-message-icon`\n  }, icon), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-message-text`\n  }, titleNode && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-title`\n  }, titleNode), descriptionNode && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-description`\n  }, descriptionNode))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-buttons`\n  }, showCancel && ( /*#__PURE__*/React.createElement(Button, Object.assign({\n    onClick: onCancel,\n    size: \"small\"\n  }, cancelButtonProps), cancelText || (contextLocale === null || contextLocale === void 0 ? void 0 : contextLocale.cancelText))), /*#__PURE__*/React.createElement(ActionButton, {\n    buttonProps: Object.assign(Object.assign({\n      size: 'small'\n    }, convertLegacyProps(okType)), okButtonProps),\n    actionFn: onConfirm,\n    close: close,\n    prefixCls: getPrefixCls('btn'),\n    quitOnNullishReturnValue: true,\n    emitEvent: true\n  }, okText || (contextLocale === null || contextLocale === void 0 ? void 0 : contextLocale.okText))));\n};\nconst PurePanel = props => {\n  const {\n      prefixCls: customizePrefixCls,\n      placement,\n      className,\n      style\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"placement\", \"className\", \"style\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('popconfirm', customizePrefixCls);\n  const [wrapCSSVar] = useStyle(prefixCls);\n  return wrapCSSVar( /*#__PURE__*/React.createElement(PopoverPurePanel, {\n    placement: placement,\n    className: classNames(prefixCls, className),\n    style: style,\n    content: /*#__PURE__*/React.createElement(Overlay, Object.assign({\n      prefixCls: prefixCls\n    }, restProps))\n  }));\n};\nexport default PurePanel;","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport omit from \"rc-util/es/omit\";\nimport { ConfigContext } from '../config-provider';\nimport Popover from '../popover';\nimport PurePanel, { Overlay } from './PurePanel';\nimport useStyle from './style';\nconst InternalPopconfirm = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var _a, _b;\n  const {\n      prefixCls: customizePrefixCls,\n      placement = 'top',\n      trigger = 'click',\n      okType = 'primary',\n      icon = /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n      children,\n      overlayClassName,\n      onOpenChange,\n      onVisibleChange\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"placement\", \"trigger\", \"okType\", \"icon\", \"children\", \"overlayClassName\", \"onOpenChange\", \"onVisibleChange\"]);\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const [open, setOpen] = useMergedState(false, {\n    value: (_a = props.open) !== null && _a !== void 0 ? _a : props.visible,\n    defaultValue: (_b = props.defaultOpen) !== null && _b !== void 0 ? _b : props.defaultVisible\n  });\n  const settingOpen = (value, e) => {\n    setOpen(value, true);\n    onVisibleChange === null || onVisibleChange === void 0 ? void 0 : onVisibleChange(value);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(value, e);\n  };\n  const close = e => {\n    settingOpen(false, e);\n  };\n  const onConfirm = e => {\n    var _a;\n    return (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  };\n  const onCancel = e => {\n    var _a;\n    settingOpen(false, e);\n    (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(this, e);\n  };\n  const onInternalOpenChange = (value, e) => {\n    const {\n      disabled = false\n    } = props;\n    if (disabled) {\n      return;\n    }\n    settingOpen(value, e);\n  };\n  const prefixCls = getPrefixCls('popconfirm', customizePrefixCls);\n  const overlayClassNames = classNames(prefixCls, overlayClassName);\n  const [wrapCSSVar] = useStyle(prefixCls);\n  return wrapCSSVar( /*#__PURE__*/React.createElement(Popover, Object.assign({}, omit(restProps, ['title']), {\n    trigger: trigger,\n    placement: placement,\n    onOpenChange: onInternalOpenChange,\n    open: open,\n    ref: ref,\n    overlayClassName: overlayClassNames,\n    content: /*#__PURE__*/React.createElement(Overlay, Object.assign({\n      okType: okType,\n      icon: icon\n    }, props, {\n      prefixCls: prefixCls,\n      close: close,\n      onConfirm: onConfirm,\n      onCancel: onCancel\n    })),\n    \"data-popover-inject\": true\n  }), children));\n});\nconst Popconfirm = InternalPopconfirm;\n// We don't care debug panel\n/* istanbul ignore next */\nPopconfirm._InternalPanelDoNotUseOrYouWillBeFired = PurePanel;\nif (process.env.NODE_ENV !== 'production') {\n  Popconfirm.displayName = 'Popconfirm';\n}\nexport default Popconfirm;","\"use client\";\n\nimport { Row } from '../grid';\nexport default Row;","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","/*!\n * Vditor v3.10.5 - A markdown editor written in TypeScript.\n *\n * MIT License\n *\n * Copyright (c) 2018-present B3log 开源, b3log.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vditor\"] = factory();\n\telse\n\t\troot[\"Vditor\"] = factory();\n})(this, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 85:\n/***/ ((module) => {\n\n/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function () {\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n//  DIFF FUNCTIONS\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function (op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function (text1, text2, opt_checklines, opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = new Date().getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function (text1, text2, checklines, deadline) {\n  var diffs;\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)), new diff_match_patch.Diff(DIFF_EQUAL, shorttext), new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);\n  }\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function (text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff = this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop(); // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function (text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = delta % 2 != 0;\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if (new Date().getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function (text1, text2, x, y, deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n  return diffs.concat(diffsb);\n};\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function (text1, text2) {\n  var lineArray = []; // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {}; // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {\n    chars1: chars1,\n    chars2: chars2,\n    lineArray: lineArray\n  };\n};\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function (diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function (text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function (text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function (diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--; // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--; // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function (diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop(); // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function (diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {\n      // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function (diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0]; // Operation (insert, delete, equal)\n    var data = diffs[x][1]; // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;').replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function (diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function (diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function (text1, delta) {\n  var diffs = [];\n  var diffsLength = 0; // Keeping our own length var is faster in JS.\n  var pointer = 0; // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n      // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' + tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer + ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n//  MATCH FUNCTIONS\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function (text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function (text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + proximity / dmp.Match_Distance;\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << pattern.length - 1;\n  best_loc = -1;\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((last_rd[j + 1] | last_rd[j]) << 1 | 1) | last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function (pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n  return s;\n};\n\n//  PATCH FUNCTIONS\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function (patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1, patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function (a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' && typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */a;\n    diffs = this.diff_main(text1, /** @type {string} */opt_b, true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' && typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */a;\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' && typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */a;\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */opt_b;\n  } else if (typeof a == 'string' && typeof opt_b == 'string' && opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */a;\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */opt_c;\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n  if (diffs.length === 0) {\n    return []; // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0; // Keeping our own length var is faster in JS.\n  var char_count1 = 0; // Number of characters into the text1 string.\n  var char_count2 = 0; // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n  return patches;\n};\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function (patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] = new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function (patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) + this.diff_text2(patches[x].diffs) + text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function (patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength; // Should be 0.\n    patch.start2 -= paddingLength; // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n  return nullPadding;\n};\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function (patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 && patch.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0, patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext = precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function (patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function (textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function () {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function () {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = this.start1 + 1 + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = this.start2 + 1 + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports.diff_match_patch = diff_match_patch;\nmodule.exports.DIFF_DELETE = DIFF_DELETE;\nmodule.exports.DIFF_INSERT = DIFF_INSERT;\nmodule.exports.DIFF_EQUAL = DIFF_EQUAL;\n\n/***/ }),\n\n/***/ 664:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ method)\n});\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(386);\n// EXTERNAL MODULE: ./src/ts/markdown/adapterRender.ts\nvar adapterRender = __webpack_require__(781);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(379);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(895);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(169);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(572);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(702);\n;// CONCATENATED MODULE: ./src/ts/markdown/lazyLoadImageRender.ts\nvar lazyLoadImageRender = function (element) {\n    if (element === void 0) { element = document; }\n    var loadImg = function (it) {\n        var testImage = document.createElement(\"img\");\n        testImage.src = it.getAttribute(\"data-src\");\n        testImage.addEventListener(\"load\", function () {\n            if (!it.getAttribute(\"style\") && !it.getAttribute(\"class\") &&\n                !it.getAttribute(\"width\") && !it.getAttribute(\"height\")) {\n                if (testImage.naturalHeight > testImage.naturalWidth &&\n                    testImage.naturalWidth / testImage.naturalHeight <\n                        document.querySelector(\".vditor-reset\").clientWidth / (window.innerHeight - 40) &&\n                    testImage.naturalHeight > (window.innerHeight - 40)) {\n                    it.style.height = (window.innerHeight - 40) + \"px\";\n                }\n            }\n            it.src = testImage.src;\n        });\n        it.removeAttribute(\"data-src\");\n    };\n    if (!(\"IntersectionObserver\" in window)) {\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            if (imgElement.getAttribute(\"data-src\")) {\n                loadImg(imgElement);\n            }\n        });\n        return false;\n    }\n    if (window.vditorImageIntersectionObserver) {\n        window.vditorImageIntersectionObserver.disconnect();\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n    else {\n        window.vditorImageIntersectionObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entrie) {\n                if ((typeof entrie.isIntersecting === \"undefined\"\n                    ? entrie.intersectionRatio !== 0\n                    : entrie.isIntersecting)\n                    && entrie.target.getAttribute(\"data-src\")) {\n                    loadImg(entrie.target);\n                }\n            });\n        });\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(982);\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(431);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(570);\n// EXTERNAL MODULE: ./src/ts/markdown/markmapRender.ts\nvar markmapRender = __webpack_require__(593);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(558);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(182);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(931);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(793);\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(652);\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(998);\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(118);\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(2);\n;// CONCATENATED MODULE: ./src/ts/markdown/anchorRender.ts\nvar anchorRender = function (type) {\n    document.querySelectorAll(\".vditor-anchor\").forEach(function (anchor) {\n        if (type === 1) {\n            anchor.classList.add(\"vditor-anchor--left\");\n        }\n        anchor.onclick = function () {\n            var id = anchor.getAttribute(\"href\").substr(1);\n            var top = document.getElementById(\"vditorAnchor-\" + id).offsetTop;\n            document.querySelector(\"html\").scrollTop = top;\n        };\n    });\n    window.onhashchange = function () {\n        var element = document.getElementById(\"vditorAnchor-\" + decodeURIComponent(window.location.hash.substr(1)));\n        if (element) {\n            document.querySelector(\"html\").scrollTop = element.offsetTop;\n        }\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(65);\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(307);\n;// CONCATENATED MODULE: ./src/ts/markdown/speechRender.ts\n\nvar speechRender = function (element, lang) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (typeof speechSynthesis === \"undefined\" || typeof SpeechSynthesisUtterance === \"undefined\") {\n        return;\n    }\n    var getVoice = function () {\n        var voices = speechSynthesis.getVoices();\n        var currentVoice;\n        var defaultVoice;\n        voices.forEach(function (item) {\n            if (item.lang === lang.replace(\"_\", \"-\")) {\n                currentVoice = item;\n            }\n            if (item.default) {\n                defaultVoice = item;\n            }\n        });\n        if (!currentVoice) {\n            currentVoice = defaultVoice;\n        }\n        return currentVoice;\n    };\n    var playSVG = '<svg><use xlink:href=\"#vditor-icon-play\"></use></svg>';\n    var pauseSVG = '<svg><use xlink:href=\"#vditor-icon-pause\"></use></svg>';\n    if (!document.getElementById(\"vditorIconScript\")) {\n        playSVG = '<svg viewBox=\"0 0 32 32\"><path d=\"M3.436 0l25.128 16-25.128 16v-32z\"></path></svg>';\n        pauseSVG = '<svg viewBox=\"0 0 32 32\"><path d=\"M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z\"></path></svg>';\n    }\n    var speechDom = document.querySelector(\".vditor-speech\");\n    if (!speechDom) {\n        speechDom = document.createElement(\"button\");\n        speechDom.className = \"vditor-speech\";\n        element.insertAdjacentElement(\"beforeend\", speechDom);\n        if (speechSynthesis.onvoiceschanged !== undefined) {\n            speechSynthesis.onvoiceschanged = getVoice;\n        }\n    }\n    var voice = getVoice();\n    var utterThis = new SpeechSynthesisUtterance();\n    utterThis.voice = voice;\n    utterThis.onend = utterThis.onerror = function () {\n        speechDom.style.display = \"none\";\n        speechSynthesis.cancel();\n        speechDom.classList.remove(\"vditor-speech--current\");\n        speechDom.innerHTML = playSVG;\n    };\n    element.addEventListener(window.ontouchstart !== undefined ? \"touchend\" : \"click\", function (event) {\n        var target = event.target;\n        if (target.classList.contains(\"vditor-speech\") || target.parentElement.classList.contains(\"vditor-speech\")) {\n            if (!speechDom.classList.contains(\"vditor-speech--current\")) {\n                utterThis.text = speechDom.getAttribute(\"data-text\");\n                speechSynthesis.speak(utterThis);\n                speechDom.classList.add(\"vditor-speech--current\");\n                speechDom.innerHTML = pauseSVG;\n            }\n            else {\n                if (speechSynthesis.speaking) {\n                    if (speechSynthesis.paused) {\n                        speechSynthesis.resume();\n                        speechDom.innerHTML = pauseSVG;\n                    }\n                    else {\n                        speechSynthesis.pause();\n                        speechDom.innerHTML = playSVG;\n                    }\n                }\n            }\n            (0,selection/* setSelectionFocus */.Hc)(window.vditorSpeechRange);\n            element.focus();\n            return;\n        }\n        speechDom.style.display = \"none\";\n        speechSynthesis.cancel();\n        speechDom.classList.remove(\"vditor-speech--current\");\n        speechDom.innerHTML = playSVG;\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        var range = getSelection().getRangeAt(0);\n        var text = range.toString().trim();\n        if (!text) {\n            return;\n        }\n        window.vditorSpeechRange = range.cloneRange();\n        var rect = range.getBoundingClientRect();\n        speechDom.innerHTML = playSVG;\n        speechDom.style.display = \"block\";\n        speechDom.style.top = (rect.top + rect.height + document.querySelector(\"html\").scrollTop - 20) + \"px\";\n        if (window.ontouchstart !== undefined) {\n            speechDom.style.left = (event.changedTouches[event.changedTouches.length - 1].pageX + 2) + \"px\";\n        }\n        else {\n            speechDom.style.left = (event.clientX + 2) + \"px\";\n        }\n        speechDom.setAttribute(\"data-text\", text);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/markdown/previewRender.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mergeOptions = function (options) {\n    var _a;\n    var defaultOption = {\n        anchor: 0,\n        cdn: constants/* Constants.CDN */.g.CDN,\n        customEmoji: {},\n        emojiPath: \"\".concat(constants/* Constants.CDN */.g.CDN, \"/dist/images/emoji\"),\n        hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n        icon: \"ant\",\n        lang: \"zh_CN\",\n        markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n        math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n        mode: \"light\",\n        speech: {\n            enable: false,\n        },\n        render: {\n            media: {\n                enable: true,\n            }\n        },\n        theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n    };\n    if (options.cdn) {\n        if (!((_a = options.theme) === null || _a === void 0 ? void 0 : _a.path)) {\n            defaultOption.theme.path = \"\".concat(options.cdn, \"/dist/css/content-theme\");\n        }\n        if (!options.emojiPath) {\n            defaultOption.emojiPath = \"\".concat(options.cdn, \"/dist/images/emoji\");\n        }\n    }\n    return (0,merge/* merge */.T)(defaultOption, options);\n};\nvar md2html = function (mdText, options) {\n    var mergedOptions = mergeOptions(options);\n    return (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/lute/lute.min.js\"), \"vditorLuteScript\").then(function () {\n        var lute = (0,setLute/* setLute */.X)({\n            autoSpace: mergedOptions.markdown.autoSpace,\n            gfmAutoLink: mergedOptions.markdown.gfmAutoLink,\n            codeBlockPreview: mergedOptions.markdown.codeBlockPreview,\n            emojiSite: mergedOptions.emojiPath,\n            emojis: mergedOptions.customEmoji,\n            fixTermTypo: mergedOptions.markdown.fixTermTypo,\n            footnotes: mergedOptions.markdown.footnotes,\n            headingAnchor: mergedOptions.anchor !== 0,\n            inlineMathDigit: mergedOptions.math.inlineDigit,\n            lazyLoadImage: mergedOptions.lazyLoadImage,\n            linkBase: mergedOptions.markdown.linkBase,\n            linkPrefix: mergedOptions.markdown.linkPrefix,\n            listStyle: mergedOptions.markdown.listStyle,\n            mark: mergedOptions.markdown.mark,\n            mathBlockPreview: mergedOptions.markdown.mathBlockPreview,\n            paragraphBeginningSpace: mergedOptions.markdown.paragraphBeginningSpace,\n            sanitize: mergedOptions.markdown.sanitize,\n            toc: mergedOptions.markdown.toc,\n        });\n        if (options === null || options === void 0 ? void 0 : options.renderers) {\n            lute.SetJSRenderers({\n                renderers: {\n                    Md2HTML: options.renderers,\n                },\n            });\n        }\n        lute.SetHeadingID(true);\n        return lute.Md2HTML(mdText);\n    });\n};\nvar previewRender = function (previewElement, markdown, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var mergedOptions, html, i18nScriptPrefix, i18nScriptID_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                mergedOptions = mergeOptions(options);\n                return [4 /*yield*/, md2html(markdown, mergedOptions)];\n            case 1:\n                html = _a.sent();\n                if (mergedOptions.transform) {\n                    html = mergedOptions.transform(html);\n                }\n                previewElement.innerHTML = html;\n                previewElement.classList.add(\"vditor-reset\");\n                if (!!mergedOptions.i18n) return [3 /*break*/, 5];\n                if (!![\"en_US\", \"fr_FR\", \"pt_BR\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"sv_SE\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) return [3 /*break*/, 2];\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            case 2:\n                i18nScriptPrefix = \"vditorI18nScript\";\n                i18nScriptID_1 = i18nScriptPrefix + mergedOptions.lang;\n                document.querySelectorAll(\"head script[id^=\\\"\".concat(i18nScriptPrefix, \"\\\"]\")).forEach(function (el) {\n                    if (el.id !== i18nScriptID_1) {\n                        document.head.removeChild(el);\n                    }\n                });\n                return [4 /*yield*/, (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js\"), i18nScriptID_1)];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [3 /*break*/, 6];\n            case 5:\n                window.VditorI18n = mergedOptions.i18n;\n                _a.label = 6;\n            case 6:\n                if (!mergedOptions.icon) return [3 /*break*/, 8];\n                return [4 /*yield*/, (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/icons/\").concat(mergedOptions.icon, \".js\"), \"vditorIconScript\")];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8:\n                (0,setContentTheme/* setContentTheme */.Z)(mergedOptions.theme.current, mergedOptions.theme.path);\n                if (mergedOptions.anchor === 1) {\n                    previewElement.classList.add(\"vditor-reset--anchor\");\n                }\n                (0,codeRender/* codeRender */.O)(previewElement, mergedOptions.hljs);\n                (0,highlightRender/* highlightRender */.s)(mergedOptions.hljs, previewElement, mergedOptions.cdn);\n                (0,mathRender/* mathRender */.H)(previewElement, {\n                    cdn: mergedOptions.cdn,\n                    math: mergedOptions.math,\n                });\n                (0,mermaidRender/* mermaidRender */.i)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,markmapRender/* markmapRender */.K)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,flowchartRender/* flowchartRender */.P)(previewElement, mergedOptions.cdn);\n                (0,graphvizRender/* graphvizRender */.v)(previewElement, mergedOptions.cdn);\n                (0,chartRender/* chartRender */.p)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,mindmapRender/* mindmapRender */.P)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,plantumlRender/* plantumlRender */.B)(previewElement, mergedOptions.cdn);\n                (0,abcRender/* abcRender */.Q)(previewElement, mergedOptions.cdn);\n                if (mergedOptions.render.media.enable) {\n                    (0,mediaRender/* mediaRender */.Y)(previewElement);\n                }\n                if (mergedOptions.speech.enable) {\n                    speechRender(previewElement);\n                }\n                if (mergedOptions.anchor !== 0) {\n                    anchorRender(mergedOptions.anchor);\n                }\n                if (mergedOptions.after) {\n                    mergedOptions.after();\n                }\n                if (mergedOptions.lazyLoadImage) {\n                    lazyLoadImageRender(previewElement);\n                }\n                previewElement.addEventListener(\"click\", function (event) {\n                    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n                    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                        var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                        if (headingElement) {\n                            window.scrollTo(window.scrollX, headingElement.offsetTop);\n                        }\n                        return;\n                    }\n                });\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(971);\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(34);\n;// CONCATENATED MODULE: ./src/method.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function () {\n    function Vditor() {\n    }\n    /** 点击图片放大 */\n    Vditor.adapterRender = adapterRender;\n    /** 点击图片放大 */\n    Vditor.previewImage = preview_image/* previewImage */.E;\n    /** 为 element 中的代码块添加复制按钮 */\n    Vditor.codeRender = codeRender/* codeRender */.O;\n    /** 对 graphviz 进行渲染 */\n    Vditor.graphvizRender = graphvizRender/* graphvizRender */.v;\n    /** 为 element 中的代码块进行高亮渲染 */\n    Vditor.highlightRender = highlightRender/* highlightRender */.s;\n    /** 对数学公式进行渲染 */\n    Vditor.mathRender = mathRender/* mathRender */.H;\n    /** 流程图/时序图/甘特图渲染 */\n    Vditor.mermaidRender = mermaidRender/* mermaidRender */.i;\n    /** 支持markdown的思维导图 */\n    Vditor.markmapRender = markmapRender/* markmapRender */.K;\n    /** flowchart.js 渲染 */\n    Vditor.flowchartRender = flowchartRender/* flowchartRender */.P;\n    /** 图表渲染 */\n    Vditor.chartRender = chartRender/* chartRender */.p;\n    /** 五线谱渲染 */\n    Vditor.abcRender = abcRender/* abcRender */.Q;\n    /** 脑图渲染 */\n    Vditor.mindmapRender = mindmapRender/* mindmapRender */.P;\n    /** plantuml渲染 */\n    Vditor.plantumlRender = plantumlRender/* plantumlRender */.B;\n    /** 大纲渲染 */\n    Vditor.outlineRender = outlineRender/* outlineRender */.k;\n    /** 为[特定链接](https://github.com/Vanessa219/vditor/issues/7)分别渲染为视频、音频、嵌入的 iframe */\n    Vditor.mediaRender = mediaRender/* mediaRender */.Y;\n    /** 对选中的文字进行阅读 */\n    Vditor.speechRender = speechRender;\n    /** 对图片进行懒加载 */\n    Vditor.lazyLoadImageRender = lazyLoadImageRender;\n    /** Markdown 文本转换为 HTML，该方法需使用[异步编程](https://ld246.com/article/1546828434083?r=Vaness) */\n    Vditor.md2html = md2html;\n    /** 页面 Markdown 文章渲染 */\n    Vditor.preview = previewRender;\n    /** 设置代码主题 */\n    Vditor.setCodeTheme = setCodeTheme/* setCodeTheme */.Y;\n    /** 设置内容主题 */\n    Vditor.setContentTheme = setContentTheme/* setContentTheme */.Z;\n    return Vditor;\n}());\n/* harmony default export */ const method = (Vditor);\n\n\n/***/ }),\n\n/***/ 793:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ _VDITOR_VERSION),\n/* harmony export */   \"g\": () => (/* binding */ Constants)\n/* harmony export */ });\nvar _VDITOR_VERSION = \"3.10.5\";\n\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.ZWSP = \"\\u200b\";\n    Constants.DROP_EDITOR = \"application/editor\";\n    Constants.MOBILE_WIDTH = 520;\n    Constants.CLASS_MENU_DISABLED = \"vditor-menu--disabled\";\n    Constants.EDIT_TOOLBARS = [\"emoji\", \"headings\", \"bold\", \"italic\", \"strike\", \"link\", \"list\",\n        \"ordered-list\", \"outdent\", \"indent\", \"check\", \"line\", \"quote\", \"code\", \"inline-code\", \"insert-after\",\n        \"insert-before\", \"upload\", \"record\", \"table\"];\n    Constants.CODE_THEME = [\"abap\", \"algol\", \"algol_nu\", \"arduino\", \"autumn\", \"borland\", \"bw\",\n        \"colorful\", \"dracula\", \"emacs\", \"friendly\", \"fruity\", \"github\", \"igor\", \"lovelace\", \"manni\", \"monokai\",\n        \"monokailight\", \"murphy\", \"native\", \"paraiso-dark\", \"paraiso-light\", \"pastie\", \"perldoc\", \"pygments\",\n        \"rainbow_dash\", \"rrt\", \"solarized-dark\", \"solarized-dark256\", \"solarized-light\", \"swapoff\", \"tango\", \"trac\",\n        \"vim\", \"vs\", \"xcode\", \"ant-design\"];\n    Constants.CODE_LANGUAGES = [\"mermaid\", \"echarts\", \"mindmap\", \"plantuml\", \"abc\", \"graphviz\", \"flowchart\", \"apache\",\n        \"js\", \"ts\", \"html\", \"markmap\",\n        // common\n        \"properties\", \"apache\", \"bash\", \"c\", \"csharp\", \"cpp\", \"css\", \"coffeescript\", \"diff\", \"go\", \"xml\", \"http\",\n        \"json\", \"java\", \"javascript\", \"kotlin\", \"less\", \"lua\", \"makefile\", \"markdown\", \"nginx\", \"objectivec\", \"php\",\n        \"php-template\", \"perl\", \"plaintext\", \"python\", \"python-repl\", \"r\", \"ruby\", \"rust\", \"scss\", \"sql\", \"shell\",\n        \"swift\", \"ini\", \"typescript\", \"vbnet\", \"yaml\",\n        \"ada\", \"clojure\", \"dart\", \"erb\", \"fortran\", \"gradle\", \"haskell\", \"julia\", \"julia-repl\", \"lisp\", \"matlab\",\n        \"pgsql\", \"powershell\", \"sql_more\", \"stata\", \"cmake\", \"mathematica\",\n        // ext\n        \"solidity\", \"yul\"\n    ];\n    Constants.CDN = \"https://unpkg.com/vditor@\".concat(\"3.10.5\");\n    Constants.MARKDOWN_OPTIONS = {\n        autoSpace: false,\n        gfmAutoLink: true,\n        codeBlockPreview: true,\n        fixTermTypo: false,\n        footnotes: true,\n        linkBase: \"\",\n        linkPrefix: \"\",\n        listStyle: false,\n        mark: false,\n        mathBlockPreview: true,\n        paragraphBeginningSpace: false,\n        sanitize: true,\n        toc: false,\n    };\n    Constants.HLJS_OPTIONS = {\n        enable: true,\n        lineNumber: false,\n        defaultLang: \"\",\n        style: \"github\",\n    };\n    Constants.MATH_OPTIONS = {\n        engine: \"KaTeX\",\n        inlineDigit: false,\n        macros: {},\n    };\n    Constants.THEME_OPTIONS = {\n        current: \"light\",\n        list: {\n            \"ant-design\": \"Ant Design\",\n            \"dark\": \"Dark\",\n            \"light\": \"Light\",\n            \"wechat\": \"WeChat\",\n        },\n        path: \"\".concat(Constants.CDN, \"/dist/css/content-theme\"),\n    };\n    return Constants;\n}());\n\n\n\n/***/ }),\n\n/***/ 386:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Q\": () => (/* binding */ abcRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar abcRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var abcElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getElements(element);\n    if (abcElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/abcjs/abcjs_basic.min.js\"), \"vditorAbcjsScript\").then(function () {\n            abcElements.forEach(function (item) {\n                if (item.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    item.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (item.getAttribute(\"data-processed\") === \"true\") {\n                    return;\n                }\n                ABCJS.renderAbc(item, _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getCode(item).trim());\n                item.style.overflowX = \"auto\";\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 781:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"abcRenderAdapter\": () => (/* binding */ abcRenderAdapter),\n/* harmony export */   \"chartRenderAdapter\": () => (/* binding */ chartRenderAdapter),\n/* harmony export */   \"flowchartRenderAdapter\": () => (/* binding */ flowchartRenderAdapter),\n/* harmony export */   \"graphvizRenderAdapter\": () => (/* binding */ graphvizRenderAdapter),\n/* harmony export */   \"markmapRenderAdapter\": () => (/* binding */ markmapRenderAdapter),\n/* harmony export */   \"mathRenderAdapter\": () => (/* binding */ mathRenderAdapter),\n/* harmony export */   \"mermaidRenderAdapter\": () => (/* binding */ mermaidRenderAdapter),\n/* harmony export */   \"mindmapRenderAdapter\": () => (/* binding */ mindmapRenderAdapter),\n/* harmony export */   \"plantumlRenderAdapter\": () => (/* binding */ plantumlRenderAdapter)\n/* harmony export */ });\nvar mathRenderAdapter = {\n    getCode: function (mathElement) { return mathElement.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-math\"); },\n};\nvar mermaidRenderAdapter = {\n    /** 不仅要返回code，并且需要将 code 设置为 el 的 innerHTML */\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-mermaid\"); },\n};\nvar markmapRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-markmap\"); },\n};\nvar mindmapRenderAdapter = {\n    getCode: function (el) { return el.getAttribute(\"data-code\"); },\n    getElements: function (el) { return el.querySelectorAll(\".language-mindmap\"); },\n};\nvar chartRenderAdapter = {\n    getCode: function (el) { return el.innerText; },\n    getElements: function (el) { return el.querySelectorAll(\".language-echarts\"); },\n};\nvar abcRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-abc\"); },\n};\nvar graphvizRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-graphviz\"); },\n};\nvar flowchartRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-flowchart\"); },\n};\nvar plantumlRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-plantuml\"); },\n};\n\n\n/***/ }),\n\n/***/ 379:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"p\": () => (/* binding */ chartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar chartRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var echartsElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getElements(element);\n    if (echartsElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/echarts/echarts.min.js\"), \"vditorEchartsScript\").then(function () {\n            echartsElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getCode(e).trim();\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    var option = JSON.parse(text);\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption(option);\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"echarts render error: <br>\".concat(error);\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 895:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"O\": () => (/* binding */ codeRender)\n/* harmony export */ });\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(528);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n\n\nvar codeRender = function (element, option) {\n    Array.from(element.querySelectorAll(\"pre > code\")).filter(function (e, index) {\n        if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n            e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n            return false;\n        }\n        if (e.classList.contains(\"language-mermaid\") || e.classList.contains(\"language-flowchart\") ||\n            e.classList.contains(\"language-echarts\") || e.classList.contains(\"language-mindmap\") ||\n            e.classList.contains(\"language-plantuml\") || e.classList.contains(\"language-markmap\") ||\n            e.classList.contains(\"language-abc\") || e.classList.contains(\"language-graphviz\") ||\n            e.classList.contains(\"language-math\")) {\n            return false;\n        }\n        if (e.style.maxHeight.indexOf(\"px\") > -1) {\n            return false;\n        }\n        // 避免预览区在渲染后由于代码块过多产生性能问题 https://github.com/b3log/vditor/issues/67\n        if (element.classList.contains(\"vditor-preview\") && index > 5) {\n            return false;\n        }\n        return true;\n    }).forEach(function (e) {\n        var _a, _b, _c;\n        var codeText = e.innerText;\n        if (e.classList.contains(\"highlight-chroma\")) {\n            var codeElement = e.cloneNode(true);\n            codeElement.querySelectorAll(\".highlight-ln\").forEach(function (item) {\n                item.remove();\n            });\n            codeText = codeElement.innerText;\n        }\n        else if (codeText.endsWith(\"\\n\")) {\n            codeText = codeText.substr(0, codeText.length - 1);\n        }\n        var iconHTML = '<svg><use xlink:href=\"#vditor-icon-copy\"></use></svg>';\n        if (!document.getElementById(\"vditorIconScript\")) {\n            iconHTML = '<svg viewBox=\"0 0 32 32\"><path d=\"M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z\"></path></svg>';\n        }\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-copy\";\n        divElement.innerHTML = \"<span aria-label=\\\"\".concat(((_a = window.VditorI18n) === null || _a === void 0 ? void 0 : _a.copy) || \"复制\", \"\\\"\\nonmouseover=\\\"this.setAttribute('aria-label', '\").concat(((_b = window.VditorI18n) === null || _b === void 0 ? void 0 : _b.copy) || \"复制\", \"')\\\"\\nclass=\\\"vditor-tooltipped vditor-tooltipped__w\\\"\\nonclick=\\\"this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '\").concat(((_c = window.VditorI18n) === null || _c === void 0 ? void 0 : _c.copied) || \"已复制\", \"');this.previousElementSibling.blur()\\\">\").concat(iconHTML, \"</span>\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_1__/* .code160to32 */ .X)(codeText);\n        divElement.insertAdjacentElement(\"afterbegin\", textarea);\n        if (option && option.renderMenu) {\n            option.renderMenu(e, divElement);\n        }\n        e.before(divElement);\n        e.style.maxHeight = (window.outerHeight - 40) + \"px\";\n        // https://github.com/Vanessa219/vditor/issues/1356\n        e.insertAdjacentHTML(\"afterend\", \"<span style=\\\"position: absolute\\\">\".concat(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP, \"</span>\"));\n    });\n};\n\n\n/***/ }),\n\n/***/ 169:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ flowchartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar flowchartRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var flowchartElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getElements(element);\n    if (flowchartElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/flowchart.js/flowchart.min.js\"), \"vditorFlowchartScript\").then(function () {\n        flowchartElements.forEach(function (item) {\n            if (item.getAttribute(\"data-processed\") === \"true\") {\n                return;\n            }\n            var flowchartObj = flowchart.parse(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getCode(item));\n            item.innerHTML = \"\";\n            flowchartObj.drawSVG(item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 572:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v\": () => (/* binding */ graphvizRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar graphvizRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var graphvizElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getElements(element);\n    if (graphvizElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/graphviz/viz.js\"), \"vditorGraphVizScript\").then(function () {\n        graphvizElements.forEach(function (e) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getCode(e);\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            if (e.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            try {\n                var blob = new Blob([\"importScripts('\".concat(document.getElementById(\"vditorGraphVizScript\").src.replace(\"viz.js\", \"full.render.js\"), \"');\")], { type: \"application/javascript\" });\n                var url = window.URL || window.webkitURL;\n                var blobUrl = url.createObjectURL(blob);\n                var worker = new Worker(blobUrl);\n                new Viz({ worker: worker })\n                    .renderSVGElement(code).then(function (result) {\n                    e.innerHTML = result.outerHTML;\n                }).catch(function (error) {\n                    e.innerHTML = \"graphviz render error: <br>\".concat(error);\n                    e.className = \"vditor-reset--error\";\n                });\n            }\n            catch (e) {\n                console.error(\"graphviz error\", e);\n            }\n            e.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 702:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"s\": () => (/* binding */ highlightRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(296);\n\n\n\nvar highlightRender = function (hljsOption, element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var style = hljsOption.style;\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(style)) {\n        style = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = \"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(style, \".css\");\n    if (vditorHljsStyle && vditorHljsStyle.getAttribute('href') !== href) {\n        vditorHljsStyle.remove();\n    }\n    (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(\"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(style, \".css\"), \"vditorHljsStyle\");\n    if (hljsOption.enable === false) {\n        return;\n    }\n    var codes = element.querySelectorAll(\"pre > code\");\n    if (codes.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/highlight.pack.js\"), \"vditorHljsScript\").then(function () {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/solidity.min.js\"), \"vditorHljsSolidityScript\").then(function () {\n            (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/highlight.js/yul.min.js\"), \"vditorHljsYulScript\").then(function () {\n                element.querySelectorAll(\"pre > code\").forEach(function (block) {\n                    // ir & wysiwyg 区域不渲染\n                    if (block.parentElement.classList.contains(\"vditor-ir__marker--pre\") ||\n                        block.parentElement.classList.contains(\"vditor-wysiwyg__pre\")) {\n                        return;\n                    }\n                    if (block.classList.contains(\"language-mermaid\") || block.classList.contains(\"language-flowchart\") ||\n                        block.classList.contains(\"language-echarts\") || block.classList.contains(\"language-mindmap\") ||\n                        block.classList.contains(\"language-plantuml\") ||\n                        block.classList.contains(\"language-abc\") || block.classList.contains(\"language-graphviz\") ||\n                        block.classList.contains(\"language-math\")) {\n                        return;\n                    }\n                    if (hljsOption.defaultLang !== \"\" && block.className.indexOf(\"language-\") === -1) {\n                        block.classList.add(\"language-\" + hljsOption.defaultLang);\n                    }\n                    hljs.highlightElement(block);\n                    if (!hljsOption.lineNumber) {\n                        return;\n                    }\n                    block.classList.add(\"vditor-linenumber\");\n                    var linenNumberTemp = block.querySelector(\".vditor-linenumber__temp\");\n                    if (!linenNumberTemp) {\n                        linenNumberTemp = document.createElement(\"div\");\n                        linenNumberTemp.className = \"vditor-linenumber__temp\";\n                        block.insertAdjacentElement(\"beforeend\", linenNumberTemp);\n                    }\n                    var whiteSpace = getComputedStyle(block).whiteSpace;\n                    var isSoftWrap = false;\n                    if (whiteSpace === \"pre-wrap\" || whiteSpace === \"pre-line\") {\n                        isSoftWrap = true;\n                    }\n                    var lineNumberHTML = \"\";\n                    var lineList = block.textContent.split(/\\r\\n|\\r|\\n/g);\n                    lineList.pop();\n                    lineList.map(function (line) {\n                        var lineHeight = \"\";\n                        if (isSoftWrap) {\n                            linenNumberTemp.textContent = line || \"\\n\";\n                            lineHeight = \" style=\\\"height:\".concat(linenNumberTemp.getBoundingClientRect().height, \"px\\\"\");\n                        }\n                        lineNumberHTML += \"<span\".concat(lineHeight, \"></span>\");\n                    });\n                    linenNumberTemp.style.display = \"none\";\n                    lineNumberHTML = \"<span class=\\\"vditor-linenumber__rows\\\">\".concat(lineNumberHTML, \"</span>\");\n                    block.insertAdjacentHTML(\"beforeend\", lineNumberHTML);\n                });\n            });\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 593:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"K\": () => (/* binding */ markmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar enabled = {};\nvar transform = function (transformer, content) {\n    var result = transformer.transform(content);\n    var keys = Object.keys(result.features).filter(function (key) { return !enabled[key]; });\n    keys.forEach(function (key) {\n        enabled[key] = true;\n    });\n    var _a = transformer.getAssets(keys), styles = _a.styles, scripts = _a.scripts;\n    var markmap = window.markmap;\n    if (styles)\n        markmap.loadCSS(styles);\n    if (scripts)\n        markmap.loadJS(scripts);\n    return result;\n};\nvar init = function (el, code) {\n    var _a = window.markmap, Transformer = _a.Transformer, Markmap = _a.Markmap, deriveOptions = _a.deriveOptions, globalCSS = _a.globalCSS;\n    var transformer = new Transformer();\n    el.innerHTML = '<svg style=\"width:100%\"></svg>';\n    var svg = el.firstChild;\n    var mm = Markmap.create(svg, null);\n    var _b = transform(transformer, code), root = _b.root, frontmatter = _b.frontmatter;\n    var markmapOptions = frontmatter === null || frontmatter === void 0 ? void 0 : frontmatter.markmap;\n    var frontmatterOptions = deriveOptions(markmapOptions);\n    mm.setData(root, frontmatterOptions);\n    mm.fit();\n};\nvar markmapRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var markmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.markmapRenderAdapter.getElements(element);\n    if (markmapElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/markmap/markmap.min.js\"), \"vditorMermaidScript\").then(function () {\n        markmapElements.forEach(function (item) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.markmapRenderAdapter.getCode(item);\n            if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            var render = document.createElement(\"div\");\n            render.className = \"language-markmap\";\n            item.parentNode.appendChild(render);\n            init(render, code);\n            if (item.parentNode.childNodes[0].nodeName == \"CODE\") {\n                item.parentNode.removeChild(item.parentNode.childNodes[0]);\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 982:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ mathRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(998);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(296);\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(528);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\n\n\nvar mathRender = function (element, options) {\n    var mathElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getElements(element);\n    if (mathElements.length === 0) {\n        return;\n    }\n    var defaultOptions = {\n        cdn: _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN,\n        math: {\n            engine: \"KaTeX\",\n            inlineDigit: false,\n            macros: {},\n        },\n    };\n    if (options && options.math) {\n        options.math =\n            Object.assign({}, defaultOptions.math, options.math);\n    }\n    options = Object.assign({}, defaultOptions, options);\n    if (options.math.engine === \"KaTeX\") {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_2__/* .addStyle */ .c)(\"\".concat(options.cdn, \"/dist/js/katex/katex.min.css?v=0.16.9\"), \"vditorKatexStyle\");\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(\"\".concat(options.cdn, \"/dist/js/katex/katex.min.js?v=0.16.9\"), \"vditorKatexScript\").then(function () {\n            (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(\"\".concat(options.cdn, \"/dist/js/katex/mhchem.min.js?v=0.16.9\"), \"vditorKatexChemScript\").then(function () {\n                mathElements.forEach(function (mathElement) {\n                    if (mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                        mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                        return;\n                    }\n                    if (mathElement.getAttribute(\"data-math\")) {\n                        return;\n                    }\n                    var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getCode(mathElement));\n                    mathElement.setAttribute(\"data-math\", math);\n                    try {\n                        mathElement.innerHTML = katex.renderToString(math, {\n                            displayMode: mathElement.tagName === \"DIV\",\n                            output: \"html\",\n                            macros: options.math.macros,\n                        });\n                    }\n                    catch (e) {\n                        mathElement.innerHTML = e.message;\n                        mathElement.className = \"language-math vditor-reset--error\";\n                    }\n                    mathElement.addEventListener(\"copy\", function (event) {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        var vditorMathElement = event.currentTarget.closest(\".language-math\");\n                        event.clipboardData.setData(\"text/html\", vditorMathElement.innerHTML);\n                        event.clipboardData.setData(\"text/plain\", vditorMathElement.getAttribute(\"data-math\"));\n                    });\n                });\n            });\n        });\n    }\n    else if (options.math.engine === \"MathJax\") {\n        var chainAsync_1 = function (fns) {\n            if (fns.length === 0) {\n                return;\n            }\n            var curr = 0;\n            var last = fns[fns.length - 1];\n            var next = function () {\n                var fn = fns[curr++];\n                fn === last ? fn() : fn(next);\n            };\n            next();\n        };\n        if (!window.MathJax) {\n            window.MathJax = {\n                loader: {\n                    paths: { mathjax: \"\".concat(options.cdn, \"/dist/js/mathjax\") },\n                },\n                startup: {\n                    typeset: false,\n                },\n                tex: {\n                    macros: options.math.macros,\n                },\n            };\n            // https://github.com/Vanessa219/vditor/issues/1453\n            Object.assign(window.MathJax, options.math.mathJaxOptions);\n        }\n        // 循环加载会抛异常\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScriptSync */ .J)(\"\".concat(options.cdn, \"/dist/js/mathjax/tex-svg-full.js\"), \"protyleMathJaxScript\");\n        var renderMath_1 = function (mathElement, next) {\n            var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim();\n            var mathOptions = window.MathJax.getMetricsFor(mathElement);\n            mathOptions.display = mathElement.tagName === \"DIV\";\n            window.MathJax.tex2svgPromise(math, mathOptions).then(function (node) {\n                mathElement.innerHTML = \"\";\n                mathElement.setAttribute(\"data-math\", math);\n                mathElement.append(node);\n                window.MathJax.startup.document.clear();\n                window.MathJax.startup.document.updateDocument();\n                var errorTextElement = node.querySelector('[data-mml-node=\"merror\"]');\n                if (errorTextElement && errorTextElement.textContent.trim() !== \"\") {\n                    mathElement.innerHTML = errorTextElement.textContent.trim();\n                    mathElement.className = \"vditor-reset--error\";\n                }\n                if (next) {\n                    next();\n                }\n            });\n        };\n        window.MathJax.startup.promise.then(function () {\n            var chains = [];\n            var _loop_1 = function (i) {\n                var mathElement = mathElements[i];\n                if (!mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") &&\n                    !mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\") &&\n                    !mathElement.getAttribute(\"data-math\") && (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim()) {\n                    chains.push(function (next) {\n                        if (i === mathElements.length - 1) {\n                            renderMath_1(mathElement);\n                        }\n                        else {\n                            renderMath_1(mathElement, next);\n                        }\n                    });\n                }\n            };\n            for (var i = 0; i < mathElements.length; i++) {\n                _loop_1(i);\n            }\n            chainAsync_1(chains);\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 431:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ mediaRender)\n/* harmony export */ });\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(446);\n\nvar videoRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<video controls=\\\"controls\\\" src=\\\"\".concat(url, \"\\\"></video>\"));\n    element.remove();\n};\nvar audioRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<audio controls=\\\"controls\\\" src=\\\"\".concat(url, \"\\\"></audio>\"));\n    element.remove();\n};\nvar iframeRender = function (element, url) {\n    var youtubeMatch = url.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?/);\n    var youkuMatch = url.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/);\n    var qqMatch = url.match(/\\/\\/v\\.qq\\.com\\/x\\/cover\\/.*\\/([^\\/]+)\\.html\\??.*/);\n    var coubMatch = url.match(/(?:www\\.|\\/\\/)coub\\.com\\/view\\/(\\w+)/);\n    var facebookMatch = url.match(/(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/);\n    var dailymotionMatch = url.match(/.+dailymotion.com\\/(video|hub)\\/(\\w+)\\?/);\n    var bilibiliMatch = url.match(/(?:www\\.|\\/\\/)bilibili\\.com\\/video\\/(\\w+)/);\n    var tedMatch = url.match(/(?:www\\.|\\/\\/)ted\\.com\\/talks\\/(\\w+)/);\n    if (youtubeMatch && youtubeMatch[1].length === 11) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//www.youtube.com/embed/\".concat(youtubeMatch[1] +\n            (youtubeMatch[2] ? \"?start=\" + youtubeMatch[2] : \"\"), \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (youkuMatch && youkuMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//player.youku.com/embed/\".concat(youkuMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (qqMatch && qqMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"https://v.qq.com/txp/iframe/player.html?vid=\".concat(qqMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (coubMatch && coubMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//coub.com/embed/\".concat(coubMatch[1], \"?muted=false&autostart=false&originalSize=true&startWithHD=true\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (facebookMatch && facebookMatch[0]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.facebook.com/plugins/video.php?href=\".concat(encodeURIComponent(facebookMatch[0]), \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (dailymotionMatch && dailymotionMatch[2]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.dailymotion.com/embed/video/\".concat(dailymotionMatch[2], \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (url.indexOf(\"bilibili.com\") > -1 && (url.indexOf(\"bvid=\") > -1 || (bilibiliMatch && bilibiliMatch[1]))) {\n        var params_1 = {\n            bvid: (0,_util_function__WEBPACK_IMPORTED_MODULE_0__/* .getSearch */ .o)(\"bvid\", url) || (bilibiliMatch && bilibiliMatch[1]),\n            page: \"1\",\n            high_quality: \"1\",\n            as_wide: \"1\",\n            allowfullscreen: \"true\",\n            autoplay: \"0\"\n        };\n        new URL(url.startsWith(\"http\") ? url : \"https:\" + url).search.split(\"&\").forEach(function (item, index) {\n            if (!item) {\n                return;\n            }\n            if (index === 0) {\n                item = item.substr(1);\n            }\n            var keyValue = item.split(\"=\");\n            params_1[keyValue[0]] = keyValue[1];\n        });\n        var src_1 = \"https://player.bilibili.com/player.html?\";\n        var keys_1 = Object.keys(params_1);\n        keys_1.forEach(function (key, index) {\n            src_1 += \"\".concat(key, \"=\").concat(params_1[key]);\n            if (index < keys_1.length - 1) {\n                src_1 += \"&\";\n            }\n        });\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"\".concat(src_1, \"\\\"></iframe>\"));\n        element.remove();\n    }\n    else if (tedMatch && tedMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//embed.ted.com/talks/\".concat(tedMatch[1], \"\\\"></iframe>\"));\n        element.remove();\n    }\n};\nvar mediaRender = function (element) {\n    if (!element) {\n        return;\n    }\n    element.querySelectorAll(\"a\").forEach(function (aElement) {\n        var url = aElement.getAttribute(\"href\");\n        if (!url) {\n            return;\n        }\n        if (url.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)) {\n            videoRender(aElement, url);\n        }\n        else if (url.match(/^.+.(mp3|wav|flac)$/)) {\n            audioRender(aElement, url);\n        }\n        else {\n            iframeRender(aElement, url);\n        }\n    });\n};\n\n\n/***/ }),\n\n/***/ 570:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ mermaidRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n/* harmony import */ var _util_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(446);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar mermaidRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mermaidElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getElements(element);\n    if (mermaidElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/mermaid/mermaid.min.js\"), \"vditorMermaidScript\").then(function () {\n        var config = {\n            securityLevel: \"loose\",\n            altFontFamily: \"sans-serif\",\n            fontFamily: \"sans-serif\",\n            startOnLoad: false,\n            flowchart: {\n                htmlLabels: true,\n                useMaxWidth: !0\n            },\n            sequence: {\n                useMaxWidth: true,\n                diagramMarginX: 8,\n                diagramMarginY: 8,\n                boxMargin: 8,\n                showSequenceNumbers: true // Mermaid 时序图增加序号 https://github.com/siyuan-note/siyuan/pull/6992 https://mermaid.js.org/syntax/sequenceDiagram.html#sequencenumbers\n            },\n            gantt: {\n                leftPadding: 75,\n                rightPadding: 20\n            }\n        };\n        if (theme === \"dark\") {\n            config.theme = \"dark\";\n        }\n        mermaid.initialize(config);\n        mermaidElements.forEach(function (item) { return __awaiter(void 0, void 0, void 0, function () {\n            var code, id, mermaidData, e_1, errorElement;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getCode(item);\n                        if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                            return [2 /*return*/];\n                        }\n                        id = \"mermaid\" + (0,_util_function__WEBPACK_IMPORTED_MODULE_3__/* .genUUID */ .W)();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, mermaid.render(id, item.textContent)];\n                    case 2:\n                        mermaidData = _a.sent();\n                        item.innerHTML = mermaidData.svg;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        errorElement = document.querySelector(\"#\" + id);\n                        item.innerHTML = \"\".concat(errorElement.outerHTML, \"<br>\\n<div style=\\\"text-align: left\\\"><small>\").concat(e_1.message.replace(/\\n/, \"<br>\"), \"</small></div>\");\n                        errorElement.parentElement.remove();\n                        return [3 /*break*/, 4];\n                    case 4:\n                        item.setAttribute(\"data-processed\", \"true\");\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    });\n};\n\n\n/***/ }),\n\n/***/ 558:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ mindmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar mindmapRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mindmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getElements(element);\n    if (mindmapElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/echarts/echarts.min.js\"), \"vditorEchartsScript\").then(function () {\n            mindmapElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getCode(e);\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption({\n                        series: [\n                            {\n                                data: [JSON.parse(decodeURIComponent(text))],\n                                initialTreeDepth: -1,\n                                itemStyle: {\n                                    borderWidth: 0,\n                                    color: \"#4285f4\",\n                                },\n                                label: {\n                                    backgroundColor: \"#f6f8fa\",\n                                    borderColor: \"#d1d5da\",\n                                    borderRadius: 5,\n                                    borderWidth: 0.5,\n                                    color: \"#586069\",\n                                    lineHeight: 20,\n                                    offset: [-5, 0],\n                                    padding: [0, 5],\n                                    position: \"insideRight\",\n                                },\n                                lineStyle: {\n                                    color: \"#d1d5da\",\n                                    width: 1,\n                                },\n                                roam: true,\n                                symbol: function (value, params) {\n                                    var _a;\n                                    if ((_a = params === null || params === void 0 ? void 0 : params.data) === null || _a === void 0 ? void 0 : _a.children) {\n                                        return \"circle\";\n                                    }\n                                    else {\n                                        return \"path://\";\n                                    }\n                                },\n                                type: \"tree\",\n                            },\n                        ],\n                        tooltip: {\n                            trigger: \"item\",\n                            triggerOn: \"mousemove\",\n                        },\n                    });\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"mindmap render error: <br>\".concat(error);\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 182:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"k\": () => (/* binding */ outlineRender)\n/* harmony export */ });\n/* harmony import */ var _util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n/* harmony import */ var _mathRender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(982);\n\n\nvar outlineRender = function (contentElement, targetElement, vditor) {\n    var tocHTML = \"\";\n    var ids = [];\n    Array.from(contentElement.children).forEach(function (item, index) {\n        if ((0,_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByHeadings */ .W)(item)) {\n            if (vditor) {\n                var lastIndex = item.id.lastIndexOf(\"_\");\n                item.id = item.id.substring(0, lastIndex === -1 ? undefined : lastIndex) + \"_\" + index;\n            }\n            ids.push(item.id);\n            tocHTML += item.outerHTML.replace(\"<wbr>\", \"\");\n        }\n    });\n    if (tocHTML === \"\") {\n        targetElement.innerHTML = \"\";\n        return \"\";\n    }\n    var tempElement = document.createElement(\"div\");\n    if (vditor) {\n        vditor.lute.SetToC(true);\n        if (vditor.currentMode === \"wysiwyg\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else if (vditor.currentMode === \"ir\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else {\n            tempElement.innerHTML = vditor.lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        vditor.lute.SetToC(vditor.options.preview.markdown.toc);\n    }\n    else {\n        targetElement.classList.add(\"vditor-outline\");\n        var lute = Lute.New();\n        lute.SetToC(true);\n        tempElement.innerHTML = lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n    }\n    var headingsElement = tempElement.firstElementChild.querySelectorAll(\"li > span[data-target-id]\");\n    headingsElement.forEach(function (item, index) {\n        if (item.nextElementSibling && item.nextElementSibling.tagName === \"UL\") {\n            var iconHTML = \"<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>\";\n            if (!document.getElementById(\"vditorIconScript\")) {\n                iconHTML = '<svg class=\"vditor-outline__action\" viewBox=\"0 0 32 32\"><path d=\"M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z\"></path></svg>';\n            }\n            item.innerHTML = \"\".concat(iconHTML, \"<span>\").concat(item.innerHTML, \"</span>\");\n        }\n        else {\n            item.innerHTML = \"<svg></svg><span>\".concat(item.innerHTML, \"</span>\");\n        }\n        item.setAttribute(\"data-target-id\", ids[index]);\n    });\n    tocHTML = tempElement.firstElementChild.innerHTML;\n    if (headingsElement.length === 0) {\n        targetElement.innerHTML = \"\";\n        return tocHTML;\n    }\n    targetElement.innerHTML = tocHTML;\n    if (vditor) {\n        (0,_mathRender__WEBPACK_IMPORTED_MODULE_0__/* .mathRender */ .H)(targetElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    }\n    targetElement.firstElementChild.addEventListener(\"click\", function (event) {\n        var target = event.target;\n        while (target && !target.isEqualNode(targetElement)) {\n            if (target.classList.contains(\"vditor-outline__action\")) {\n                if (target.classList.contains(\"vditor-outline__action--close\")) {\n                    target.classList.remove(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:block\");\n                }\n                else {\n                    target.classList.add(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            }\n            else if (target.getAttribute(\"data-target-id\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                var idElement = document.getElementById(target.getAttribute(\"data-target-id\"));\n                if (!idElement) {\n                    return;\n                }\n                if (vditor) {\n                    if (vditor.options.height === \"auto\") {\n                        var windowScrollY = idElement.offsetTop + vditor.element.offsetTop;\n                        if (!vditor.options.toolbarConfig.pin) {\n                            windowScrollY += vditor.toolbar.element.offsetHeight;\n                        }\n                        window.scrollTo(window.scrollX, windowScrollY);\n                    }\n                    else {\n                        if (vditor.element.offsetTop < window.scrollY) {\n                            window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                        }\n                        if (vditor.preview.element.contains(contentElement)) {\n                            contentElement.parentElement.scrollTop = idElement.offsetTop;\n                        }\n                        else {\n                            contentElement.scrollTop = idElement.offsetTop;\n                        }\n                    }\n                }\n                else {\n                    window.scrollTo(window.scrollX, idElement.offsetTop);\n                }\n                break;\n            }\n            target = target.parentElement;\n        }\n    });\n    return tocHTML;\n};\n\n\n/***/ }),\n\n/***/ 931:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": () => (/* binding */ plantumlRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(998);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(781);\n\n\n\nvar plantumlRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var plantumlElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getElements(element);\n    if (plantumlElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(\"\".concat(cdn, \"/dist/js/plantuml/plantuml-encoder.min.js\"), \"vditorPlantumlScript\").then(function () {\n        plantumlElements.forEach(function (e) {\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getCode(e).trim();\n            if (!text) {\n                return;\n            }\n            try {\n                e.innerHTML = \"<object type=\\\"image/svg+xml\\\" data=\\\"https://www.plantuml.com/plantuml/svg/~1\".concat(plantumlEncoder.encode(text), \"\\\"/>\");\n            }\n            catch (error) {\n                e.className = \"vditor-reset--error\";\n                e.innerHTML = \"plantuml render error: <br>\".concat(error);\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 65:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ setLute)\n/* harmony export */ });\nvar setLute = function (options) {\n    var lute = Lute.New();\n    lute.PutEmojis(options.emojis);\n    lute.SetEmojiSite(options.emojiSite);\n    lute.SetHeadingAnchor(options.headingAnchor);\n    lute.SetInlineMathAllowDigitAfterOpenMarker(options.inlineMathDigit);\n    lute.SetAutoSpace(options.autoSpace);\n    lute.SetToC(options.toc);\n    lute.SetFootnotes(options.footnotes);\n    lute.SetFixTermTypo(options.fixTermTypo);\n    lute.SetVditorCodeBlockPreview(options.codeBlockPreview);\n    lute.SetVditorMathBlockPreview(options.mathBlockPreview);\n    lute.SetSanitize(options.sanitize);\n    lute.SetChineseParagraphBeginningSpace(options.paragraphBeginningSpace);\n    lute.SetRenderListStyle(options.listStyle);\n    lute.SetLinkBase(options.linkBase);\n    lute.SetLinkPrefix(options.linkPrefix);\n    lute.SetMark(options.mark);\n    lute.SetGFMAutoLink(options.gfmAutoLink);\n    if (options.lazyLoadImage) {\n        lute.SetImageLazyLoading(options.lazyLoadImage);\n    }\n    return lute;\n};\n\n\n/***/ }),\n\n/***/ 971:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"E\": () => (/* binding */ previewImage)\n/* harmony export */ });\nvar previewImage = function (oldImgElement, lang, theme) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (theme === void 0) { theme = \"classic\"; }\n    var oldImgRect = oldImgElement.getBoundingClientRect();\n    var height = 36;\n    document.body.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"vditor vditor-img\".concat(theme === \"dark\" ? \" vditor--dark\" : \"\", \"\\\">\\n    <div class=\\\"vditor-img__bar\\\">\\n      <span class=\\\"vditor-img__btn\\\" data-deg=\\\"0\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-redo\\\"></use></svg>\\n        \").concat(window.VditorI18n.spin, \"\\n      </span>\\n      <span class=\\\"vditor-img__btn\\\"  onclick=\\\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n        X &nbsp;\").concat(window.VditorI18n.close, \"\\n      </span>\\n    </div>\\n    <div class=\\\"vditor-img__img\\\" onclick=\\\"this.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n      <img style=\\\"width: \").concat(oldImgElement.width, \"px;height:\").concat(oldImgElement.height, \"px;transform: translate3d(\").concat(oldImgRect.left, \"px, \").concat(oldImgRect.top - height, \"px, 0)\\\" src=\\\"\").concat(oldImgElement.getAttribute(\"src\"), \"\\\">\\n    </div>\\n</div>\"));\n    document.body.style.overflow = \"hidden\";\n    // 图片从原始位置移动到预览正中间的动画效果\n    var imgElement = document.querySelector(\".vditor-img img\");\n    var translate3d = \"translate3d(\".concat(Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2, \"px, \").concat(Math.max(0, window.innerHeight - height - oldImgElement.naturalHeight) / 2, \"px, 0)\");\n    setTimeout(function () {\n        imgElement.setAttribute(\"style\", \"transition: transform .3s ease-in-out;transform: \".concat(translate3d));\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n    // 旋转\n    var btnElement = document.querySelector(\".vditor-img__btn\");\n    btnElement.addEventListener(\"click\", function () {\n        var deg = parseInt(btnElement.getAttribute(\"data-deg\"), 10) + 90;\n        if ((deg / 90) % 2 === 1 && oldImgElement.naturalWidth > imgElement.parentElement.clientHeight) {\n            imgElement.style.transform = \"translate3d(\".concat(Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2, \"px, \").concat(oldImgElement.naturalWidth / 2 - oldImgElement.naturalHeight / 2, \"px, 0) rotateZ(\").concat(deg, \"deg)\");\n        }\n        else {\n            imgElement.style.transform = \"\".concat(translate3d, \" rotateZ(\").concat(deg, \"deg)\");\n        }\n        btnElement.setAttribute(\"data-deg\", deg.toString());\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n};\n\n\n/***/ }),\n\n/***/ 34:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ setCodeTheme)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(296);\n\n\nvar setCodeTheme = function (codeTheme, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(codeTheme)) {\n        codeTheme = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = \"\".concat(cdn, \"/dist/js/highlight.js/styles/\").concat(codeTheme, \".css\");\n    if (!vditorHljsStyle) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n    else if (vditorHljsStyle.getAttribute('href') !== href) {\n        vditorHljsStyle.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 652:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (/* binding */ setContentTheme)\n/* harmony export */ });\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(296);\n\nvar setContentTheme = function (contentTheme, path) {\n    if (!contentTheme || !path) {\n        return;\n    }\n    var vditorContentTheme = document.getElementById(\"vditorContentTheme\");\n    var cssPath = \"\".concat(path, \"/\").concat(contentTheme, \".css\");\n    if (!vditorContentTheme) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n    else if (vditorContentTheme.getAttribute(\"href\") !== cssPath) {\n        vditorContentTheme.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 998:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G\": () => (/* binding */ addScript),\n/* harmony export */   \"J\": () => (/* binding */ addScriptSync)\n/* harmony export */ });\nvar addScriptSync = function (path, id) {\n    if (document.getElementById(id)) {\n        return false;\n    }\n    var xhrObj = new XMLHttpRequest();\n    xhrObj.open(\"GET\", path, false);\n    xhrObj.setRequestHeader(\"Accept\", \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\");\n    xhrObj.send(\"\");\n    var scriptElement = document.createElement(\"script\");\n    scriptElement.type = \"text/javascript\";\n    scriptElement.text = xhrObj.responseText;\n    scriptElement.id = id;\n    document.head.appendChild(scriptElement);\n};\nvar addScript = function (path, id) {\n    return new Promise(function (resolve, reject) {\n        if (document.getElementById(id)) {\n            // 脚本加载后再次调用直接返回\n            resolve(true);\n            return false;\n        }\n        var scriptElement = document.createElement(\"script\");\n        scriptElement.src = path;\n        scriptElement.async = true;\n        // 循环调用时 Chrome 不会重复请求 js\n        document.head.appendChild(scriptElement);\n        scriptElement.onerror = function (event) {\n            reject(event);\n        };\n        scriptElement.onload = function () {\n            if (document.getElementById(id)) {\n                // 循环调用需清除 DOM 中的 script 标签\n                scriptElement.remove();\n                resolve(true);\n                return false;\n            }\n            scriptElement.id = id;\n            resolve(true);\n        };\n    });\n};\n\n\n/***/ }),\n\n/***/ 296:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"c\": () => (/* binding */ addStyle)\n/* harmony export */ });\nvar addStyle = function (url, id) {\n    if (!document.getElementById(id)) {\n        var styleElement = document.createElement(\"link\");\n        styleElement.id = id;\n        styleElement.rel = \"stylesheet\";\n        styleElement.type = \"text/css\";\n        styleElement.href = url;\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n};\n\n\n/***/ }),\n\n/***/ 528:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ code160to32)\n/* harmony export */ });\nvar code160to32 = function (text) {\n    // 非打断空格转换为空格\n    return text.replace(/\\u00a0/g, \" \");\n};\n\n\n/***/ }),\n\n/***/ 796:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G6\": () => (/* binding */ isSafari),\n/* harmony export */   \"Le\": () => (/* binding */ getEventName),\n/* harmony export */   \"i7\": () => (/* binding */ isChrome),\n/* harmony export */   \"ns\": () => (/* binding */ updateHotkeyTip),\n/* harmony export */   \"pK\": () => (/* binding */ accessLocalStorage),\n/* harmony export */   \"vU\": () => (/* binding */ isFirefox),\n/* harmony export */   \"yl\": () => (/* binding */ isCtrl)\n/* harmony export */ });\nvar isSafari = function () {\n    return navigator.userAgent.indexOf(\"Safari\") > -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n};\nvar isFirefox = function () {\n    return navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n};\nvar accessLocalStorage = function () {\n    try {\n        return typeof localStorage !== \"undefined\";\n    }\n    catch (e) {\n        return false;\n    }\n};\n// 用户 iPhone 点击延迟/需要双击的处理\nvar getEventName = function () {\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1) {\n        return \"touchstart\";\n    }\n    else {\n        return \"click\";\n    }\n};\n// 区别 mac 上的 ctrl 和 meta\nvar isCtrl = function (event) {\n    if (navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0) {\n        // mac\n        if (event.metaKey && !event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        if (!event.metaKey && event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n};\n// Mac，Windows 快捷键展示\nvar updateHotkeyTip = function (hotkey) {\n    if (/Mac/.test(navigator.platform) || navigator.platform === \"iPhone\") {\n        if (hotkey.indexOf(\"⇧\") > -1 && isFirefox()) {\n            // Mac Firefox 按下 shift 后，key 同 windows 系统\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    else {\n        if (hotkey.startsWith(\"⌘\")) {\n            hotkey = hotkey.replace(\"⌘\", \"⌘+\");\n        }\n        else if (hotkey.startsWith(\"⌥\") && hotkey.substr(1, 1) !== \"⌘\") {\n            hotkey = hotkey.replace(\"⌥\", \"⌥+\");\n        }\n        else {\n            hotkey = hotkey.replace(\"⇧⌘\", \"⌘+⇧+\").replace(\"⌥⌘\", \"⌥+⌘+\");\n        }\n        hotkey = hotkey.replace(\"⌘\", \"Ctrl\").replace(\"⇧\", \"Shift\")\n            .replace(\"⌥\", \"Alt\");\n        if (hotkey.indexOf(\"Shift\") > -1) {\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    return hotkey;\n};\nvar isChrome = function () {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n};\n\n\n/***/ }),\n\n/***/ 446:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"W\": () => (/* binding */ genUUID),\n/* harmony export */   \"o\": () => (/* binding */ getSearch)\n/* harmony export */ });\nvar genUUID = function () { return ([1e7].toString() + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n    return (parseInt(c, 10) ^ (window.crypto.getRandomValues(new Uint32Array(1))[0] & (15 >> (parseInt(c, 10) / 4)))).toString(16);\n}); };\nvar getSearch = function (key, link) {\n    if (link === void 0) { link = window.location.search; }\n    var params = link.substring(link.indexOf(\"?\"));\n    var hashIndex = params.indexOf(\"#\");\n    // REF https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams\n    var urlSearchParams = new URLSearchParams(params.substring(0, hashIndex >= 0 ? hashIndex : undefined));\n    return urlSearchParams.get(key);\n};\n\n\n/***/ }),\n\n/***/ 118:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DX\": () => (/* binding */ getLastNode),\n/* harmony export */   \"E2\": () => (/* binding */ hasTopClosestByTag),\n/* harmony export */   \"F9\": () => (/* binding */ hasClosestBlock),\n/* harmony export */   \"JQ\": () => (/* binding */ hasTopClosestByClassName),\n/* harmony export */   \"O9\": () => (/* binding */ getTopList),\n/* harmony export */   \"a1\": () => (/* binding */ hasClosestByAttribute),\n/* harmony export */   \"fb\": () => (/* binding */ hasClosestByClassName),\n/* harmony export */   \"lG\": () => (/* binding */ hasClosestByMatchTag)\n/* harmony export */ });\n/* unused harmony export hasTopClosestByAttribute */\n/* harmony import */ var _hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(946);\n\nvar hasTopClosestByClassName = function (element, className) {\n    var closest = hasClosestByClassName(element, className);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByClassName(closest.parentElement, className);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByAttribute = function (element, attr, value) {\n    var closest = hasClosestByAttribute(element, attr, value);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByAttribute(closest.parentElement, attr, value);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByTag = function (element, nodeName) {\n    var closest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(element, nodeName);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(closest.parentElement, nodeName);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar getTopList = function (element) {\n    var topUlElement = hasTopClosestByTag(element, \"UL\");\n    var topOlElement = hasTopClosestByTag(element, \"OL\");\n    var topListElement = topUlElement;\n    if (topOlElement && (!topUlElement || (topUlElement && topOlElement.contains(topUlElement)))) {\n        topListElement = topOlElement;\n    }\n    return topListElement;\n};\nvar hasClosestByAttribute = function (element, attr, value) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.getAttribute(attr) === value) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestBlock = function (element) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    var blockElement = hasClosestByAttribute(element, \"data-block\", \"0\");\n    if (blockElement) {\n        return blockElement;\n    }\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.tagName === \"H1\" ||\n            e.tagName === \"H2\" ||\n            e.tagName === \"H3\" ||\n            e.tagName === \"H4\" ||\n            e.tagName === \"H5\" ||\n            e.tagName === \"H6\" ||\n            e.tagName === \"P\" ||\n            e.tagName === \"BLOCKQUOTE\" ||\n            e.tagName === \"OL\" ||\n            e.tagName === \"UL\") {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByMatchTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName === nodeName) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByClassName = function (element, className) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.classList.contains(className)) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar getLastNode = function (node) {\n    while (node && node.lastChild) {\n        node = node.lastChild;\n    }\n    return node;\n};\n\n\n/***/ }),\n\n/***/ 946:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"S\": () => (/* binding */ hasClosestByTag),\n/* harmony export */   \"W\": () => (/* binding */ hasClosestByHeadings)\n/* harmony export */ });\n// NOTE: 减少 method.ts 打包，故从 hasClosest.ts 中拆分\nvar hasClosestByTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName.indexOf(nodeName) === 0) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByHeadings = function (element) {\n    var headingElement = hasClosestByTag(element, \"H\");\n    if (headingElement && headingElement.tagName.length === 2 && headingElement.tagName !== \"HR\") {\n        return headingElement;\n    }\n    return false;\n};\n\n\n/***/ }),\n\n/***/ 2:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ merge)\n/* harmony export */ });\nvar merge = function () {\n    var options = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        options[_i] = arguments[_i];\n    }\n    var target = {};\n    var merger = function (obj) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                if (Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\n                    target[prop] = merge(target[prop], obj[prop]);\n                }\n                else {\n                    target[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (var i = 0; i < options.length; i++) {\n        merger(options[i]);\n    }\n    return target;\n};\n\n\n/***/ }),\n\n/***/ 307:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"$j\": () => (/* binding */ setSelectionByPosition),\n/* harmony export */   \"Gb\": () => (/* binding */ selectIsEditor),\n/* harmony export */   \"Hc\": () => (/* binding */ setSelectionFocus),\n/* harmony export */   \"Ny\": () => (/* binding */ getCursorPosition),\n/* harmony export */   \"ib\": () => (/* binding */ setRangeByWbr),\n/* harmony export */   \"im\": () => (/* binding */ getSelectPosition),\n/* harmony export */   \"oC\": () => (/* binding */ insertHTML),\n/* harmony export */   \"zh\": () => (/* binding */ getEditorRange)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(793);\n/* harmony import */ var _compatibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(796);\n/* harmony import */ var _hasClosest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(118);\n\n\n\nvar getEditorRange = function (vditor) {\n    var range;\n    var element = vditor[vditor.currentMode].element;\n    if (getSelection().rangeCount > 0) {\n        range = getSelection().getRangeAt(0);\n        if (element.isEqualNode(range.startContainer) || element.contains(range.startContainer)) {\n            return range;\n        }\n    }\n    if (vditor[vditor.currentMode].range) {\n        return vditor[vditor.currentMode].range;\n    }\n    element.focus();\n    range = element.ownerDocument.createRange();\n    range.setStart(element, 0);\n    range.collapse(true);\n    return range;\n};\nvar getCursorPosition = function (editor) {\n    var range = window.getSelection().getRangeAt(0);\n    if (!editor.contains(range.startContainer) && !(0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByClassName */ .fb)(range.startContainer, \"vditor-panel--none\")) {\n        return {\n            left: 0,\n            top: 0,\n        };\n    }\n    var parentRect = editor.parentElement.getBoundingClientRect();\n    var cursorRect;\n    if (range.getClientRects().length === 0) {\n        if (range.startContainer.nodeType === 3) {\n            // 空行时，会出现没有 br 的情况，需要根据父元素 <p> 获取位置信息\n            var parent_1 = range.startContainer.parentElement;\n            if (parent_1 && parent_1.getClientRects().length > 0) {\n                cursorRect = parent_1.getClientRects()[0];\n            }\n            else {\n                return {\n                    left: 0,\n                    top: 0,\n                };\n            }\n        }\n        else {\n            var children = range.startContainer.children;\n            if (children[range.startOffset] &&\n                children[range.startOffset].getClientRects().length > 0) {\n                // markdown 模式回车\n                cursorRect = children[range.startOffset].getClientRects()[0];\n            }\n            else if (range.startContainer.childNodes.length > 0) {\n                // in table or code block\n                var cloneRange = range.cloneRange();\n                range.selectNode(range.startContainer.childNodes[Math.max(0, range.startOffset - 1)]);\n                cursorRect = range.getClientRects()[0];\n                range.setEnd(cloneRange.endContainer, cloneRange.endOffset);\n                range.setStart(cloneRange.startContainer, cloneRange.startOffset);\n            }\n            else {\n                cursorRect = range.startContainer.getClientRects()[0];\n            }\n            if (!cursorRect) {\n                var parentElement = range.startContainer.childNodes[range.startOffset];\n                while (!parentElement.getClientRects ||\n                    (parentElement.getClientRects && parentElement.getClientRects().length === 0)) {\n                    parentElement = parentElement.parentElement;\n                }\n                cursorRect = parentElement.getClientRects()[0];\n            }\n        }\n    }\n    else {\n        cursorRect = range.getClientRects()[0];\n    }\n    return {\n        left: cursorRect.left - parentRect.left,\n        top: cursorRect.top - parentRect.top,\n    };\n};\nvar selectIsEditor = function (editor, range) {\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return false;\n        }\n        else {\n            range = getSelection().getRangeAt(0);\n        }\n    }\n    var container = range.commonAncestorContainer;\n    return editor.isEqualNode(container) || editor.contains(container);\n};\nvar setSelectionFocus = function (range) {\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n};\nvar getSelectPosition = function (selectElement, editorElement, range) {\n    var position = {\n        end: 0,\n        start: 0,\n    };\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return position;\n        }\n        range = window.getSelection().getRangeAt(0);\n    }\n    if (selectIsEditor(editorElement, range)) {\n        var preSelectionRange = range.cloneRange();\n        if (selectElement.childNodes[0] && selectElement.childNodes[0].childNodes[0]) {\n            preSelectionRange.setStart(selectElement.childNodes[0].childNodes[0], 0);\n        }\n        else {\n            preSelectionRange.selectNodeContents(selectElement);\n        }\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        position.start = preSelectionRange.toString().length;\n        position.end = position.start + range.toString().length;\n    }\n    return position;\n};\nvar setSelectionByPosition = function (start, end, editor) {\n    var charIndex = 0;\n    var line = 0;\n    var pNode = editor.childNodes[line];\n    var foundStart = false;\n    var stop = false;\n    start = Math.max(0, start);\n    end = Math.max(0, end);\n    var range = editor.ownerDocument.createRange();\n    range.setStart(pNode || editor, 0);\n    range.collapse(true);\n    while (!stop && pNode) {\n        var nextCharIndex = charIndex + pNode.textContent.length;\n        if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n            if (start === 0) {\n                range.setStart(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setStart(pNode.childNodes[0], start - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setStartBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setStartAfter(pNode);\n                }\n            }\n            foundStart = true;\n            if (start === end) {\n                stop = true;\n                break;\n            }\n        }\n        if (foundStart && end >= charIndex && end <= nextCharIndex) {\n            if (end === 0) {\n                range.setEnd(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setEnd(pNode.childNodes[0], end - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setEndBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setEndAfter(pNode);\n                }\n            }\n            stop = true;\n        }\n        charIndex = nextCharIndex;\n        pNode = editor.childNodes[++line];\n    }\n    if (!stop && editor.childNodes[line - 1]) {\n        range.setStartBefore(editor.childNodes[line - 1]);\n    }\n    setSelectionFocus(range);\n    return range;\n};\nvar setRangeByWbr = function (element, range) {\n    var wbrElement = element.querySelector(\"wbr\");\n    if (!wbrElement) {\n        return;\n    }\n    if (!wbrElement.previousElementSibling) {\n        if (wbrElement.previousSibling) {\n            // text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n        else if (wbrElement.nextSibling) {\n            if (wbrElement.nextSibling.nodeType === 3) {\n                // <wbr>text\n                range.setStart(wbrElement.nextSibling, 0);\n            }\n            else {\n                // <wbr><br> https://github.com/Vanessa219/vditor/issues/400\n                range.setStartBefore(wbrElement.nextSibling);\n            }\n        }\n        else {\n            // 内容为空\n            range.setStart(wbrElement.parentElement, 0);\n        }\n    }\n    else {\n        if (wbrElement.previousElementSibling.isSameNode(wbrElement.previousSibling)) {\n            if (wbrElement.previousElementSibling.lastChild) {\n                // <em>text</em><wbr>\n                range.setStartBefore(wbrElement);\n                range.collapse(true);\n                setSelectionFocus(range);\n                // fix Chrome set range bug: **c**\n                if ((0,_compatibility__WEBPACK_IMPORTED_MODULE_2__/* .isChrome */ .i7)() && (wbrElement.previousElementSibling.tagName === \"EM\" ||\n                    wbrElement.previousElementSibling.tagName === \"STRONG\" ||\n                    wbrElement.previousElementSibling.tagName === \"S\")) {\n                    range.insertNode(document.createTextNode(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP));\n                    range.collapse(false);\n                }\n                wbrElement.remove();\n                return;\n            }\n            else {\n                // <br><wbr>\n                range.setStartAfter(wbrElement.previousElementSibling);\n            }\n        }\n        else {\n            // <em>text</em>text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n    }\n    range.collapse(true);\n    wbrElement.remove();\n    setSelectionFocus(range);\n};\nvar insertHTML = function (html, vditor) {\n    // 使用 lute 方法会添加 p 元素，只有一个 p 元素的时候进行删除\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var tempBlockElement = tempElement.querySelectorAll(\"p\");\n    if (tempBlockElement.length === 1 && !tempBlockElement[0].previousSibling && !tempBlockElement[0].nextSibling &&\n        vditor[vditor.currentMode].element.children.length > 0 && tempElement.firstElementChild.tagName === \"P\") {\n        html = tempBlockElement[0].innerHTML.trim();\n    }\n    var pasteElement = document.createElement(\"div\");\n    pasteElement.innerHTML = html;\n    var range = getEditorRange(vditor);\n    if (range.toString() !== \"\") {\n        vditor[vditor.currentMode].preventInput = true;\n        document.execCommand(\"delete\", false, \"\");\n    }\n    if (pasteElement.firstElementChild &&\n        pasteElement.firstElementChild.getAttribute(\"data-block\") === \"0\") {\n        // 粘贴内容为块元素时，应在下一段落中插入\n        pasteElement.lastElementChild.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        var blockElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestBlock */ .F9)(range.startContainer);\n        if (!blockElement) {\n            vditor[vditor.currentMode].element.insertAdjacentHTML(\"beforeend\", pasteElement.innerHTML);\n        }\n        else {\n            blockElement.insertAdjacentHTML(\"afterend\", pasteElement.innerHTML);\n        }\n        setRangeByWbr(vditor[vditor.currentMode].element, range);\n    }\n    else {\n        var pasteTemplate = document.createElement(\"template\");\n        pasteTemplate.innerHTML = html;\n        range.insertNode(pasteTemplate.content.cloneNode(true));\n        range.collapse(false);\n        setSelectionFocus(range);\n    }\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ src)\n});\n\n// EXTERNAL MODULE: ./src/method.ts + 4 modules\nvar method = __webpack_require__(664);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(793);\n// EXTERNAL MODULE: ./src/ts/util/code160to32.ts\nvar code160to32 = __webpack_require__(528);\n;// CONCATENATED MODULE: ./src/ts/markdown/getMarkdown.ts\n\nvar getMarkdown = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return (0,code160to32/* code160to32 */.X)(\"\".concat(vditor.sv.element.textContent, \"\\n\").replace(/\\n\\n$/, \"\\n\"));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2Md(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2Md(vditor.ir.element.innerHTML);\n    }\n    return \"\";\n};\n\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(998);\n;// CONCATENATED MODULE: ./src/ts/devtools/index.ts\n\n\nvar DevTools = /** @class */ (function () {\n    function DevTools() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-devtools\";\n        this.element.innerHTML = '<div class=\"vditor-reset--error\"></div><div style=\"height: 100%;\"></div>';\n    }\n    DevTools.prototype.renderEchart = function (vditor) {\n        var _this = this;\n        if (vditor.devtools.element.style.display !== \"block\") {\n            return;\n        }\n        (0,addScript/* addScript */.G)(\"\".concat(vditor.options.cdn, \"/dist/js/echarts/echarts.min.js\"), \"vditorEchartsScript\").then(function () {\n            if (!_this.ASTChart) {\n                _this.ASTChart = echarts.init(vditor.devtools.element.lastElementChild);\n            }\n            try {\n                _this.element.lastElementChild.style.display = \"block\";\n                _this.element.firstElementChild.innerHTML = \"\";\n                _this.ASTChart.setOption({\n                    series: [\n                        {\n                            data: JSON.parse(vditor.lute.RenderEChartsJSON(getMarkdown(vditor))),\n                            initialTreeDepth: -1,\n                            label: {\n                                align: \"left\",\n                                backgroundColor: \"rgba(68, 77, 86, .68)\",\n                                borderRadius: 3,\n                                color: \"#d1d5da\",\n                                fontSize: 12,\n                                lineHeight: 12,\n                                offset: [9, 12],\n                                padding: [2, 4, 2, 4],\n                                position: \"top\",\n                                verticalAlign: \"middle\",\n                            },\n                            lineStyle: {\n                                color: \"#4285f4\",\n                                type: \"curve\",\n                                width: 1,\n                            },\n                            orient: \"vertical\",\n                            roam: true,\n                            type: \"tree\",\n                        },\n                    ],\n                    toolbox: {\n                        bottom: 25,\n                        emphasis: {\n                            iconStyle: {\n                                color: \"#4285f4\",\n                            },\n                        },\n                        feature: {\n                            restore: {\n                                show: true,\n                            },\n                            saveAsImage: {\n                                show: true,\n                            },\n                        },\n                        right: 15,\n                        show: true,\n                    },\n                });\n                _this.ASTChart.resize();\n            }\n            catch (e) {\n                _this.element.lastElementChild.style.display = \"none\";\n                _this.element.firstElementChild.innerHTML = e;\n            }\n        });\n    };\n    return DevTools;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/compatibility.ts\nvar compatibility = __webpack_require__(796);\n;// CONCATENATED MODULE: ./src/ts/toolbar/setToolbar.ts\n\n\nvar removeCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.remove(\"vditor-menu--current\");\n        }\n    });\n};\nvar setCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.add(\"vditor-menu--current\");\n        }\n    });\n};\nvar enableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.remove(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar disableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.add(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar hideToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"none\";\n        }\n    });\n};\nvar showToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"block\";\n        }\n    });\n};\n// \"subToolbar\", \"hint\", \"popover\"\nvar hidePanel = function (vditor, panels, exceptElement) {\n    if (panels.includes(\"subToolbar\")) {\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint\").forEach(function (item) {\n            if (exceptElement && item.isEqualNode(exceptElement)) {\n                return;\n            }\n            item.style.display = \"none\";\n        });\n        if (vditor.toolbar.elements.emoji) {\n            vditor.toolbar.elements.emoji.lastElementChild.style.display = \"none\";\n        }\n    }\n    if (panels.includes(\"hint\")) {\n        vditor.hint.element.style.display = \"none\";\n    }\n    if (vditor.wysiwyg.popover && panels.includes(\"popover\")) {\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n};\nvar toggleSubMenu = function (vditor, panelElement, actionBtn, level) {\n    actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            return;\n        }\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint--current\").forEach(function (item) {\n            item.classList.remove(\"vditor-hint--current\");\n        });\n        if (panelElement.style.display === \"block\") {\n            panelElement.style.display = \"none\";\n        }\n        else {\n            hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"], actionBtn.parentElement.parentElement);\n            if (!actionBtn.classList.contains(\"vditor-tooltipped\")) {\n                actionBtn.classList.add(\"vditor-hint--current\");\n            }\n            panelElement.style.display = \"block\";\n            if (vditor.toolbar.element.getBoundingClientRect().right - actionBtn.getBoundingClientRect().right < 250) {\n                panelElement.classList.add(\"vditor-panel--left\");\n            }\n            else {\n                panelElement.classList.remove(\"vditor-panel--left\");\n            }\n        }\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(118);\n// EXTERNAL MODULE: ./src/ts/util/hasClosestByHeadings.ts\nvar hasClosestByHeadings = __webpack_require__(946);\n;// CONCATENATED MODULE: ./src/ts/util/log.ts\nvar log = function (method, content, type, print) {\n    if (print) {\n        // @ts-ignore\n        console.log(\"\".concat(method, \" - \").concat(type, \": \").concat(content));\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(386);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(379);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(895);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(169);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(572);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(702);\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(982);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(570);\n// EXTERNAL MODULE: ./src/ts/markdown/markmapRender.ts\nvar markmapRender = __webpack_require__(593);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(558);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(931);\n;// CONCATENATED MODULE: ./src/ts/util/processCode.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processPasteCode = function (html, text, type) {\n    if (type === void 0) { type = \"sv\"; }\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var isCode = false;\n    if (tempElement.childElementCount === 1 &&\n        tempElement.lastElementChild.style.fontFamily.indexOf(\"monospace\") > -1) {\n        // VS Code\n        isCode = true;\n    }\n    var pres = tempElement.querySelectorAll(\"pre\");\n    if (tempElement.childElementCount === 1 && pres.length === 1\n        && pres[0].className !== \"vditor-wysiwyg\"\n        && pres[0].className !== \"vditor-sv\") {\n        // IDE\n        isCode = true;\n    }\n    if (html.indexOf('\\n<p class=\"p1\">') === 0) {\n        // Xcode\n        isCode = true;\n    }\n    if (tempElement.childElementCount === 1 && tempElement.firstElementChild.tagName === \"TABLE\" &&\n        tempElement.querySelector(\".line-number\") && tempElement.querySelector(\".line-content\")) {\n        // 网页源码\n        isCode = true;\n    }\n    if (isCode) {\n        var code = text || html;\n        if (/\\n/.test(code) || pres.length === 1) {\n            if (type === \"wysiwyg\") {\n                return \"<div class=\\\"vditor-wysiwyg__block\\\" data-block=\\\"0\\\" data-type=\\\"code-block\\\"><pre><code>\".concat(code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"), \"<wbr></code></pre></div>\");\n            }\n            return \"\\n```\\n\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"\\n```\";\n        }\n        else {\n            if (type === \"wysiwyg\") {\n                return \"<code>\".concat(code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"), \"</code><wbr>\");\n            }\n            return \"`\".concat(code, \"`\");\n        }\n    }\n    return false;\n};\nvar processCodeRender = function (previewPanel, vditor) {\n    if (!previewPanel) {\n        return;\n    }\n    if (previewPanel.parentElement.getAttribute(\"data-type\") === \"html-block\") {\n        previewPanel.setAttribute(\"data-render\", \"1\");\n        return;\n    }\n    var language = previewPanel.firstElementChild.className.replace(\"language-\", \"\");\n    if (language === \"abc\") {\n        (0,abcRender/* abcRender */.Q)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"mermaid\") {\n        (0,mermaidRender/* mermaidRender */.i)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"markmap\") {\n        (0,markmapRender/* markmapRender */.K)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"flowchart\") {\n        (0,flowchartRender/* flowchartRender */.P)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"echarts\") {\n        (0,chartRender/* chartRender */.p)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"mindmap\") {\n        (0,mindmapRender/* mindmapRender */.P)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"plantuml\") {\n        (0,plantumlRender/* plantumlRender */.B)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"graphviz\") {\n        (0,graphvizRender/* graphvizRender */.v)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"math\") {\n        (0,mathRender/* mathRender */.H)(previewPanel, { cdn: vditor.options.cdn, math: vditor.options.preview.math });\n    }\n    else {\n        var cRender = vditor.options.customRenders.find(function (item) {\n            if (item.language === language) {\n                item.render(previewPanel, vditor);\n                return true;\n            }\n        });\n        if (!cRender) {\n            (0,highlightRender/* highlightRender */.s)(Object.assign({}, vditor.options.preview.hljs), previewPanel, vditor.options.cdn);\n            (0,codeRender/* codeRender */.O)(previewPanel, vditor.options.preview.hljs);\n        }\n    }\n    previewPanel.setAttribute(\"data-render\", \"1\");\n};\n\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(307);\n;// CONCATENATED MODULE: ./src/ts/util/toc.ts\n\n\n\n\nvar renderToc = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var tocHTML = vditor.outline.render(vditor);\n    if (tocHTML === \"\") {\n        tocHTML = \"[ToC]\";\n    }\n    editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n        item.innerHTML = tocHTML;\n        (0,mathRender/* mathRender */.H)(item, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    });\n};\nvar clickToc = function (event, vditor) {\n    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n        var headingElement = vditor[vditor.currentMode].element.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n        if (headingElement) {\n            if (vditor.options.height === \"auto\") {\n                var windowScrollY = headingElement.offsetTop + vditor.element.offsetTop;\n                if (!vditor.options.toolbarConfig.pin) {\n                    windowScrollY += vditor.toolbar.element.offsetHeight;\n                }\n                window.scrollTo(window.scrollX, windowScrollY);\n            }\n            else {\n                if (vditor.element.offsetTop < window.scrollY) {\n                    window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                }\n                vditor[vditor.currentMode].element.scrollTop = headingElement.offsetTop;\n            }\n        }\n        return;\n    }\n};\nvar keydownToc = function (blockElement, vditor, event, range) {\n    // toc 前无元素，插入空块\n    if (blockElement.previousElementSibling &&\n        blockElement.previousElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Backspace\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start === 0) {\n            blockElement.previousElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockElement, blockElement.previousElementSibling)) {\n            return true;\n        }\n    }\n    // toc 后无元素，插入空块\n    if (blockElement.nextElementSibling &&\n        blockElement.nextElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Delete\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start\n                >= blockElement.textContent.trimRight().length) {\n            blockElement.nextElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockElement, blockElement.nextElementSibling)) {\n            return true;\n        }\n    }\n    // toc 删除\n    if (event.key === \"Backspace\" || event.key === \"Delete\") {\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-toc\");\n        if (tocElement) {\n            tocElement.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/input.ts\n\n\n\n\n\n\n\n\n\n\nvar input = function (vditor, range, ignoreSpace, event) {\n    if (ignoreSpace === void 0) { ignoreSpace = false; }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    // 前后可以输入空格\n    if (blockElement && !ignoreSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\") {\n        if ((isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling) ||\n            isHeadingMD(blockElement.innerHTML)) {\n            return;\n        }\n        // 前后空格处理\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n        // 开始可以输入空格\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        // 结尾可以输入空格\n        var endSpace = true;\n        for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n            if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                endSpace = false;\n                break;\n            }\n        }\n        if (startSpace) {\n            if (typeof vditor.options.input === \"function\") {\n                vditor.options.input(getMarkdown(vditor));\n            }\n            return;\n        }\n        if (endSpace) {\n            var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker\");\n            if (markerElement) {\n                // inline marker space https://github.com/Vanessa219/vditor/issues/239\n            }\n            else {\n                var previousNode = range.startContainer.previousSibling;\n                if (previousNode && previousNode.nodeType !== 3 && previousNode.classList.contains(\"vditor-ir__node--expand\")) {\n                    // FireFox https://github.com/Vanessa219/vditor/issues/239\n                    previousNode.classList.remove(\"vditor-ir__node--expand\");\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n                return;\n            }\n        }\n    }\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.ir.element;\n    }\n    // document.exeComment insertHTML 会插入 wbr\n    if (!blockElement.querySelector(\"wbr\")) {\n        var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n        if (previewRenderElement) {\n            previewRenderElement.previousElementSibling.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        }\n        else {\n            range.insertNode(document.createElement(\"wbr\"));\n        }\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.ir.element;\n    }\n    var isIRElement = blockElement.isEqualNode(vditor.ir.element);\n    var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n    var html = \"\";\n    if (!isIRElement) {\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n        // 列表需要到最顶层\n        var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (topListElement) {\n            blockElement = topListElement;\n        }\n        // 应到引用层，否则 > --- 会解析为 front-matter；列表中有 blockquote 则解析 blockquote；blockquote 中有列表则解析列表\n        if (blockquoteElement && (!topListElement || (topListElement && !blockquoteElement.contains(topListElement)))) {\n            blockElement = blockquoteElement;\n        }\n        // 修改脚注\n        if (footnoteElement) {\n            blockElement = footnoteElement;\n        }\n        html = blockElement.outerHTML;\n        if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n            // 如果为列表的话，需要把上下的列表都重绘\n            var listPrevElement = blockElement.previousElementSibling;\n            var listNextElement = blockElement.nextElementSibling;\n            if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                html = listPrevElement.outerHTML + html;\n                listPrevElement.remove();\n            }\n            if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                html = html + listNextElement.outerHTML;\n                listNextElement.remove();\n            }\n            // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n            html = html.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n        }\n        else if (blockElement.previousElementSibling &&\n            blockElement.previousElementSibling.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") !== \"\" &&\n            event && event.inputType === \"insertParagraph\") {\n            // 换行时需要处理上一段落\n            html = blockElement.previousElementSibling.outerHTML + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (!blockElement.innerText.startsWith(\"```\")) {\n            // 添加链接引用\n            vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html += item.outerHTML;\n                    item.remove();\n                }\n            });\n            // 添加脚注\n            vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html += item.outerHTML;\n                    item.remove();\n                }\n            });\n        }\n    }\n    else {\n        html = blockElement.innerHTML;\n    }\n    log(\"SpinVditorIRDOM\", html, \"argument\", vditor.options.debugger);\n    html = vditor.lute.SpinVditorIRDOM(html);\n    log(\"SpinVditorIRDOM\", html, \"result\", vditor.options.debugger);\n    if (isIRElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n        // 更新正文中的 tip\n        if (footnoteElement) {\n            var footnoteItemElement = (0,hasClosest/* hasClosestByAttribute */.a1)(vditor.ir.element.querySelector(\"wbr\"), \"data-type\", \"footnotes-def\");\n            if (footnoteItemElement) {\n                var footnoteItemText = footnoteItemElement.textContent;\n                var marker = footnoteItemText.substring(1, footnoteItemText.indexOf(\"]:\"));\n                var footnoteRefElement = vditor.ir.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\".concat(marker, \"\\\"]\"));\n                if (footnoteRefElement) {\n                    footnoteRefElement.setAttribute(\"aria-label\", footnoteItemText.substr(marker.length + 3).trim().substr(0, 24));\n                }\n            }\n        }\n    }\n    //  linkref 合并及添加\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item;\n        }\n        else {\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n    }\n    // 脚注合并后添加的末尾\n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item;\n        }\n        else {\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n    });\n    renderToc(vditor);\n    process_processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/hotKey.ts\n\n// 是否匹配 ⇧⌘[] / ⌘[] / ⌥[] / ⌥⌘[] / ⇧Tab / []\nvar matchHotKey = function (hotKey, event) {\n    if (hotKey === \"\") {\n        return false;\n    }\n    // []\n    if (hotKey.indexOf(\"⇧\") === -1 && hotKey.indexOf(\"⌘\") === -1 && hotKey.indexOf(\"⌥\") === -1) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.code === hotKey) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧Tab\n    if (hotKey === \"⇧Tab\") {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.shiftKey && event.code === \"Tab\") {\n            return true;\n        }\n        return false;\n    }\n    var hotKeys = hotKey.split(\"\");\n    if (hotKey.startsWith(\"⌥\")) {\n        // 是否匹配 ⌥[] / ⌥⌘[]\n        var keyCode = hotKeys.length === 3 ? hotKeys[2] : hotKeys[1];\n        if ((hotKeys.length === 3 ? (0,compatibility/* isCtrl */.yl)(event) : !(0,compatibility/* isCtrl */.yl)(event)) && event.altKey && !event.shiftKey &&\n            event.code === (/^[0-9]$/.test(keyCode) ? \"Digit\" : \"Key\") + keyCode) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧⌘[] / ⌘[]\n    if (hotKey === \"⌘Enter\") {\n        hotKeys = [\"⌘\", \"Enter\"];\n    }\n    var hasShift = hotKeys.length > 2 && (hotKeys[0] === \"⇧\");\n    var key = (hasShift ? hotKeys[2] : hotKeys[1]);\n    if (hasShift && ((0,compatibility/* isFirefox */.vU)() || !/Mac/.test(navigator.platform))) {\n        if (key === \"-\") {\n            key = \"_\";\n        }\n        else if (key === \"=\") {\n            key = \"+\";\n        }\n    }\n    if ((0,compatibility/* isCtrl */.yl)(event) && event.key.toLowerCase() === key.toLowerCase() && !event.altKey\n        && ((!hasShift && !event.shiftKey) || (hasShift && event.shiftKey))) {\n        return true;\n    }\n    return false;\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/expandMarker.ts\n\n\nvar nextIsNode = function (range) {\n    var startContainer = range.startContainer;\n    if (startContainer.nodeType === 3 && startContainer.nodeValue.length !== range.startOffset) {\n        return false;\n    }\n    var nextNode = startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (!nextNode) {\n        // *em*|**string**\n        var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker\");\n        if (markerElement && !markerElement.nextSibling) {\n            var parentNextNode = startContainer.parentElement.parentElement.nextSibling;\n            if (parentNextNode && parentNextNode.nodeType !== 3 &&\n                parentNextNode.classList.contains(\"vditor-ir__node\")) {\n                return parentNextNode;\n            }\n        }\n        return false;\n    }\n    else if (nextNode && nextNode.nodeType !== 3 && nextNode.classList.contains(\"vditor-ir__node\") &&\n        !nextNode.getAttribute(\"data-block\")) {\n        // test|*em*\n        return nextNode;\n    }\n    return false;\n};\nvar previousIsNode = function (range) {\n    var startContainer = range.startContainer;\n    var previousNode = startContainer.previousSibling;\n    if (startContainer.nodeType === 3 && range.startOffset === 0 && previousNode && previousNode.nodeType !== 3 &&\n        // *em*|text\n        previousNode.classList.contains(\"vditor-ir__node\") && !previousNode.getAttribute(\"data-block\")) {\n        return previousNode;\n    }\n    return false;\n};\nvar expandMarker = function (range, vditor) {\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    var nodeElement = (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.startContainer, \"vditor-ir__node\");\n    var nodeElementEnd = !range.collapsed && (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.endContainer, \"vditor-ir__node\");\n    // 选中文本为同一个 nodeElement 内时，需要展开\n    if (!range.collapsed && (!nodeElement || nodeElement !== nodeElementEnd)) {\n        return;\n    }\n    if (nodeElement) {\n        nodeElement.classList.add(\"vditor-ir__node--expand\");\n        nodeElement.classList.remove(\"vditor-ir__node--hidden\");\n        // https://github.com/Vanessa219/vditor/issues/615 safari中光标位置跳动\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    var nextNode = nextIsNode(range);\n    if (nextNode) {\n        nextNode.classList.add(\"vditor-ir__node--expand\");\n        nextNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n    var previousNode = previousIsNode(range);\n    if (previousNode) {\n        previousNode.classList.add(\"vditor-ir__node--expand\");\n        previousNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processKeydown = function (vditor, event) {\n    vditor.ir.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    // 斜体、粗体、内联代码块中换行\n    var newlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-newline\", \"1\");\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.key === \"Enter\" && newlineElement\n        && range.startOffset < newlineElement.textContent.length) {\n        var beforeMarkerElement = newlineElement.previousElementSibling;\n        if (beforeMarkerElement) {\n            range.insertNode(document.createTextNode(beforeMarkerElement.textContent));\n            range.collapse(false);\n        }\n        var afterMarkerElement = newlineElement.nextSibling;\n        if (afterMarkerElement) {\n            range.insertNode(document.createTextNode(afterMarkerElement.textContent));\n            range.collapse(true);\n        }\n    }\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 代码块\n    var preRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker--pre\");\n    if (preRenderElement && preRenderElement.tagName === \"PRE\") {\n        var codeRenderElement = preRenderElement.firstChild;\n        if (fixCodeBlock(vditor, event, preRenderElement, range)) {\n            return true;\n        }\n        // 数学公式上无元素，按上或左将添加新块\n        if ((codeRenderElement.getAttribute(\"data-type\") === \"math-block\"\n            || codeRenderElement.getAttribute(\"data-type\") === \"html-block\") &&\n            insertBeforeBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n        // 代码块下无元素或者为代码块/table 元素，添加空块\n        if (insertAfterBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n    }\n    // 代码块语言\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (event.key === \"Enter\" || event.key === \"Tab\") {\n            range.selectNodeContents(preBeforeElement.nextElementSibling.firstChild);\n            range.collapse(true);\n            event.preventDefault();\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n        if (event.key === \"Backspace\") {\n            var start = (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start;\n            if (start === 1) { // 删除零宽空格\n                range.setStart(startContainer, 0);\n            }\n            if (start === 2) { // 删除时清空自动补全语言\n                vditor.hint.recentLanguage = \"\";\n            }\n        }\n        if (insertBeforeBlock(vditor, event, range, preBeforeElement, preBeforeElement.parentElement)) {\n            // 上无元素，按上或左将添加新块\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n    }\n    // table\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (event.key.indexOf(\"Arrow\") > -1 && cellElement) {\n        var tableElement = isFirstCell(cellElement);\n        if (tableElement && insertBeforeBlock(vditor, event, range, cellElement, tableElement)) {\n            return true;\n        }\n        var table2Element = isLastCell(cellElement);\n        if (table2Element && insertAfterBlock(vditor, event, range, cellElement, table2Element)) {\n            return true;\n        }\n    }\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length > 1) {\n                process_processHeading(vditor, headingMarkerElement.textContent.substr(1));\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length < 6) {\n                process_processHeading(vditor, headingMarkerElement.textContent.trim() + \"# \");\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement && blockElement.previousElementSibling\n            && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\"\n            && (blockElement.previousElementSibling.getAttribute(\"data-type\") === \"code-block\" ||\n                blockElement.previousElementSibling.getAttribute(\"data-type\") === \"math-block\")) {\n            var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n            if (rangeStart === 0 || (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                range.selectNodeContents(blockElement.previousElementSibling.querySelector(\".vditor-ir__marker--pre code\"));\n                range.collapse(false);\n                expandMarker(range, vditor);\n                if (blockElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    // 当前块为空且不是最后一个时，需要删除\n                    blockElement.remove();\n                    process_processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n        // 光标位于标题前，marker 后\n        if (headingElement) {\n            var headingLength = headingElement.firstElementChild.textContent.length;\n            if ((0,selection/* getSelectPosition */.im)(headingElement, vditor.ir.element).start === headingLength) {\n                range.setStart(headingElement.firstElementChild.firstChild, headingLength - 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n    }\n    if ((event.key === \"ArrowUp\" || event.key === \"ArrowDown\") && blockElement) {\n        // https://github.com/Vanessa219/vditor/issues/358\n        blockElement.querySelectorAll(\".vditor-ir__node\").forEach(function (item) {\n            if (!item.contains(startContainer)) {\n                item.classList.add(\"vditor-ir__node--hidden\");\n            }\n        });\n        if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n            return true;\n        }\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(971);\n;// CONCATENATED MODULE: ./src/ts/sv/combineFootnote.ts\n/**\n * 合并脚注\n * @param elements vditor.sv.element\n * @param afterCombine 每个脚注块合并完成后的回调, param: root为合并后的脚注块\n */\nvar combineFootnote = function (elements, afterCombine) {\n    elements.querySelectorAll(\"[data-type=footnotes-link]\").forEach(function (el) {\n        var root = el.parentElement;\n        var footnote = root.nextSibling;\n        // 寻找所有该脚注的块\n        while (footnote) {\n            if (footnote.textContent.startsWith(\"    \")) {\n                // 解析到四个空格，加入到root并继续解析\n                var thisNode = footnote;\n                thisNode.childNodes.forEach(function (node) {\n                    root.append(node.cloneNode(true));\n                });\n                footnote = footnote.nextSibling;\n                thisNode.remove();\n            }\n            else {\n                // 非空格停止解析\n                break;\n            }\n        }\n        afterCombine && afterCombine(root);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/inputEvent.ts\n\n\n\n\n\nvar inputEvent = function (vditor, event) {\n    var _a;\n    var range = getSelection().getRangeAt(0).cloneRange();\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    // 不调用 lute 解析\n    if (blockElement && event && (event.inputType === \"deleteContentBackward\" || event.data === \" \")) {\n        // 开始可以输入空格\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start;\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        if (startSpace) {\n            processAfterRender(vditor);\n            return;\n        }\n        if (event.inputType === \"deleteContentBackward\") {\n            // https://github.com/Vanessa219/vditor/issues/584 代码块 marker 删除\n            var codeBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-open-marker\") ||\n                (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-close-marker\");\n            if (codeBlockMarkerElement) {\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-close-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-open-marker\");\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-open-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-close-marker\", false);\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/877 数学公式输入删除生成节点\n            var mathBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"math-block-open-marker\");\n            if (mathBlockMarkerElement) {\n                var mathBlockCloseElement = mathBlockMarkerElement.nextElementSibling.nextElementSibling;\n                if (mathBlockCloseElement && mathBlockCloseElement.getAttribute(\"data-type\") === \"math-block-close-marker\") {\n                    mathBlockCloseElement.remove();\n                    processAfterRender(vditor);\n                }\n                return;\n            }\n            blockElement.querySelectorAll('[data-type=\"code-block-open-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            blockElement.querySelectorAll('[data-type=\"code-block-close-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            // 标题删除\n            var headingElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"heading-marker\");\n            if (headingElement && headingElement.textContent.indexOf(\"#\") === -1) {\n                processAfterRender(vditor);\n                return;\n            }\n        }\n        // 删除或空格不解析，否则会 format 回去\n        if ((event.data === \" \" || event.inputType === \"deleteContentBackward\") &&\n            ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"padding\") // 场景：b 前进行删除 [> 1. a\\n>   b]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\") // 场景：删除最后一个字符 [* 1\\n* ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\") // 场景：删除最后一个字符 [* [ ] ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\") // 场景：删除最后一个字符 [> ]\n            )) {\n            processAfterRender(vditor);\n            return;\n        }\n    }\n    if (blockElement && blockElement.textContent.trimRight() === \"$$\") {\n        // 内联数学公式\n        processAfterRender(vditor);\n        return;\n    }\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    if (((_a = blockElement.firstElementChild) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.sv.element;\n    }\n    if ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-link\")) {\n        // 修改脚注角标\n        blockElement = vditor.sv.element;\n    }\n    // 添加光标位置\n    if (blockElement.textContent.indexOf(Lute.Caret) === -1) {\n        // 点击工具栏会插入 Caret\n        range.insertNode(document.createTextNode(Lute.Caret));\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    blockElement.querySelectorAll(\"font\").forEach(function (item) {\n        item.outerHTML = item.innerHTML;\n    });\n    var html = blockElement.textContent;\n    var isSVElement = blockElement.isEqualNode(vditor.sv.element);\n    if (isSVElement) {\n        html = blockElement.textContent;\n    }\n    else {\n        // 添加前一个块元素\n        if (blockElement.previousElementSibling) {\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (blockElement.previousElementSibling && html.indexOf(\"---\\n\") === 0) {\n            // 确认 yaml-front 是否为首行\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // 添加链接引用\n        var footnotes_1 = \"\";\n        vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item, index) {\n            if (item && !blockElement.isEqualNode(item.parentElement)) {\n                footnotes_1 += item.parentElement.textContent + \"\\n\";\n                item.parentElement.remove();\n            }\n        });\n        // 添加脚注到文章头，便于lute处理\n        vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\").forEach(function (item, index) {\n            if (item && !blockElement.isEqualNode(item.parentElement)) {\n                footnotes_1 += item.parentElement.textContent + \"\\n\";\n                item.parentElement.remove();\n            }\n        });\n        html = footnotes_1 + html;\n    }\n    html = processSpinVditorSVDOM(html, vditor);\n    if (isSVElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", item.parentElement);\n    });\n    // 合并脚注\n    combineFootnote(vditor.sv.element, function (root) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", root);\n    });\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n    processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/processKeydown.ts\n\n\n\n\n\n\n\nvar processKeydown_processKeydown = function (vditor, event) {\n    var _a, _b, _c, _d, _e;\n    vditor.sv.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\") {\n        return false;\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var textElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"text\");\n    // blockquote\n    var blockquoteMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\");\n    if (!blockquoteMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        textElement.previousElementSibling.getAttribute(\"data-type\") === \"blockquote-marker\") {\n        blockquoteMarkerElement = textElement.previousElementSibling;\n    }\n    // 回车逐个删除 blockquote marker 标记\n    if (blockquoteMarkerElement) {\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey &&\n            blockquoteMarkerElement.nextElementSibling.textContent.trim() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(blockquoteMarkerElement, vditor.sv.element, range).start ===\n                blockquoteMarkerElement.textContent.length) {\n            if (((_a = blockquoteMarkerElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"padding\") {\n                // 列表中存在多行 BQ 时，标记回车需跳出列表\n                blockquoteMarkerElement.previousElementSibling.setAttribute(\"data-action\", \"enter-remove\");\n            }\n            blockquoteMarkerElement.remove();\n            processAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // list item\n    var listMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\");\n    var taskMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\");\n    var listLastMarkerElement = listMarkerElement;\n    if (!listLastMarkerElement) {\n        if (taskMarkerElement && taskMarkerElement.nextElementSibling.getAttribute(\"data-type\") !== \"task-marker\") {\n            listLastMarkerElement = taskMarkerElement;\n        }\n    }\n    if (!listLastMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        (textElement.previousElementSibling.getAttribute(\"data-type\") === \"li-marker\" ||\n            textElement.previousElementSibling.getAttribute(\"data-type\") === \"task-marker\")) {\n        listLastMarkerElement = textElement.previousElementSibling;\n    }\n    if (listLastMarkerElement) {\n        var startIndex = (0,selection/* getSelectPosition */.im)(listLastMarkerElement, vditor.sv.element, range).start;\n        var isTask = listLastMarkerElement.getAttribute(\"data-type\") === \"task-marker\";\n        var listFirstMarkerElement = listLastMarkerElement;\n        if (isTask) {\n            listFirstMarkerElement = listLastMarkerElement.previousElementSibling.previousElementSibling\n                .previousElementSibling;\n        }\n        if (startIndex === listLastMarkerElement.textContent.length) {\n            // 回车清空列表标记符\n            if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n                listLastMarkerElement.nextElementSibling.textContent.trim() === \"\") {\n                if (((_b = listFirstMarkerElement.previousElementSibling) === null || _b === void 0 ? void 0 : _b.getAttribute(\"data-type\")) === \"padding\") {\n                    listFirstMarkerElement.previousElementSibling.remove();\n                    inputEvent(vditor);\n                }\n                else {\n                    if (isTask) {\n                        listFirstMarkerElement.remove();\n                        listLastMarkerElement.previousElementSibling.previousElementSibling.remove();\n                        listLastMarkerElement.previousElementSibling.remove();\n                    }\n                    listLastMarkerElement.nextElementSibling.remove();\n                    listLastMarkerElement.remove();\n                    processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n            // 第一个 marker 后 tab 进行缩进\n            if (event.key === \"Tab\") {\n                if (event.shiftKey) {\n                    if (listFirstMarkerElement.previousElementSibling.getAttribute(\"data-type\") === \"padding\") {\n                        listFirstMarkerElement.previousElementSibling.remove();\n                    }\n                }\n                else {\n                    listFirstMarkerElement.insertAdjacentHTML(\"beforebegin\", \"<span data-type=\\\"padding\\\">\".concat(listFirstMarkerElement.textContent.replace(/\\S/g, \" \"), \"</span>\"));\n                }\n                if (/^\\d/.test(listFirstMarkerElement.textContent)) {\n                    listFirstMarkerElement.textContent = listFirstMarkerElement.textContent.replace(/^\\d{1,}/, \"1\");\n                    range.selectNodeContents(listLastMarkerElement.firstChild);\n                    range.collapse(false);\n                }\n                inputEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(startContainer, \"SPAN\");\n    // 回车\n    if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && blockElement) {\n        var isFirst = false;\n        var newLineMatch = blockElement.textContent.match(/^\\n+/);\n        if ((0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element).start <= (newLineMatch ? newLineMatch[0].length : 0)) {\n            // 允许段落开始换行\n            isFirst = true;\n        }\n        var newLineText = \"\\n\";\n        if (spanElement) {\n            if (((_c = spanElement.previousElementSibling) === null || _c === void 0 ? void 0 : _c.getAttribute(\"data-action\")) === \"enter-remove\") {\n                // https://github.com/Vanessa219/vditor/issues/596\n                spanElement.previousElementSibling.remove();\n                processAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                newLineText += processPreviousMarkers(spanElement);\n            }\n        }\n        range.insertNode(document.createTextNode(newLineText));\n        range.collapse(false);\n        if (blockElement && blockElement.textContent.trim() !== \"\" && !isFirst) {\n            inputEvent(vditor);\n        }\n        else {\n            processAfterRender(vditor);\n        }\n        event.preventDefault();\n        return true;\n    }\n    // 删除后光标前有 newline 的处理\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey) {\n        if (spanElement && ((_d = spanElement.previousElementSibling) === null || _d === void 0 ? void 0 : _d.getAttribute(\"data-type\")) === \"newline\" &&\n            (0,selection/* getSelectPosition */.im)(spanElement, vditor.sv.element, range).start === 1 &&\n            // 飘号的处理需在 inputEvent 中，否则上下飘号对不齐\n            spanElement.getAttribute(\"data-type\").indexOf(\"code-block-\") === -1) {\n            // 光标在每一行的第一个字符后\n            range.setStart(spanElement, 0);\n            range.extractContents();\n            if (spanElement.textContent.trim() !== \"\") {\n                inputEvent(vditor);\n            }\n            else {\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 每一段第一个字符前\n        if (blockElement && (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start === 0 &&\n            blockElement.previousElementSibling) {\n            range.extractContents();\n            var previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            if (previousLastElement.getAttribute(\"data-type\") === \"newline\") {\n                previousLastElement.remove();\n                previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            }\n            // 场景：末尾无法删除 [```\\ntext\\n```\\n\\n]\n            if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                previousLastElement.insertAdjacentHTML(\"afterend\", blockElement.innerHTML);\n                blockElement.remove();\n            }\n            if (blockElement.textContent.trim() !== \"\" && !((_e = blockElement.previousElementSibling) === null || _e === void 0 ? void 0 : _e.querySelector('[data-type=\"code-block-open-marker\"]'))) {\n                inputEvent(vditor);\n            }\n            else {\n                if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                    // https://github.com/Vanessa219/vditor/issues/597\n                    range.selectNodeContents(previousLastElement.lastChild);\n                    range.collapse(false);\n                }\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(652);\n;// CONCATENATED MODULE: ./src/ts/ui/setTheme.ts\nvar setTheme = function (vditor) {\n    if (vditor.options.theme === \"dark\") {\n        vditor.element.classList.add(\"vditor--dark\");\n    }\n    else {\n        vditor.element.classList.remove(\"vditor--dark\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ui/initUI.ts\n\n\n\n\n\n\nvar initUI = function (vditor) {\n    vditor.element.innerHTML = \"\";\n    vditor.element.classList.add(\"vditor\");\n    // 支持 RTL\n    if (vditor.options.rtl) {\n        vditor.element.setAttribute(\"dir\", \"rtl\");\n    }\n    setTheme(vditor);\n    (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n    if (typeof vditor.options.height === \"number\") {\n        vditor.element.style.height = vditor.options.height + \"px\";\n    }\n    else {\n        vditor.element.style.height = vditor.options.height;\n    }\n    if (typeof vditor.options.minHeight === \"number\") {\n        vditor.element.style.minHeight = vditor.options.minHeight + \"px\";\n    }\n    if (typeof vditor.options.width === \"number\") {\n        vditor.element.style.width = vditor.options.width + \"px\";\n    }\n    else {\n        vditor.element.style.width = vditor.options.width;\n    }\n    vditor.element.appendChild(vditor.toolbar.element);\n    var contentElement = document.createElement(\"div\");\n    contentElement.className = \"vditor-content\";\n    if (vditor.options.outline.position === \"left\") {\n        contentElement.appendChild(vditor.outline.element);\n    }\n    contentElement.appendChild(vditor.wysiwyg.element.parentElement);\n    contentElement.appendChild(vditor.sv.element);\n    contentElement.appendChild(vditor.ir.element.parentElement);\n    contentElement.appendChild(vditor.preview.element);\n    if (vditor.toolbar.elements.devtools) {\n        contentElement.appendChild(vditor.devtools.element);\n    }\n    if (vditor.options.outline.position === \"right\") {\n        vditor.outline.element.classList.add(\"vditor-outline--right\");\n        contentElement.appendChild(vditor.outline.element);\n    }\n    if (vditor.upload) {\n        contentElement.appendChild(vditor.upload.element);\n    }\n    if (vditor.options.resize.enable) {\n        contentElement.appendChild(vditor.resize.element);\n    }\n    contentElement.appendChild(vditor.hint.element);\n    contentElement.appendChild(vditor.tip.element);\n    vditor.element.appendChild(contentElement);\n    contentElement.addEventListener(\"click\", function () {\n        hidePanel(vditor, [\"subToolbar\"]);\n    });\n    if (vditor.toolbar.elements.export) {\n        // for export pdf\n        vditor.element.insertAdjacentHTML(\"beforeend\", '<iframe id=\"vditorExportIframe\" style=\"width: 100%;height: 0;border: 0\"></iframe>');\n    }\n    setEditMode(vditor, vditor.options.mode, afterRender(vditor));\n    document.execCommand(\"DefaultParagraphSeparator\", false, \"p\");\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1 && typeof window.visualViewport !== \"undefined\") {\n        // https://github.com/Vanessa219/vditor/issues/379\n        var pendingUpdate_1 = false;\n        var viewportHandler = function (event) {\n            if (pendingUpdate_1) {\n                return;\n            }\n            pendingUpdate_1 = true;\n            requestAnimationFrame(function () {\n                pendingUpdate_1 = false;\n                var layoutViewport = vditor.toolbar.element;\n                layoutViewport.style.transform = \"none\";\n                if (layoutViewport.getBoundingClientRect().top < 0) {\n                    layoutViewport.style.transform = \"translate(0, \".concat(-layoutViewport.getBoundingClientRect().top, \"px)\");\n                }\n            });\n        };\n        window.visualViewport.addEventListener(\"scroll\", viewportHandler);\n        window.visualViewport.addEventListener(\"resize\", viewportHandler);\n    }\n};\nvar setPadding = function (vditor) {\n    var minPadding = window.innerWidth <= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH ? 10 : 35;\n    if (vditor.wysiwyg.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.wysiwyg.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.wysiwyg.element.style.padding = \"10px \".concat(Math.max(minPadding, padding), \"px\");\n    }\n    if (vditor.ir.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.ir.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.ir.element.style.padding = \"10px \".concat(Math.max(minPadding, padding), \"px\");\n    }\n    if (vditor.preview.element.style.display !== \"block\") {\n        vditor.toolbar.element.style.paddingLeft = Math.max(5, parseInt(vditor[vditor.currentMode].element.style.paddingLeft || \"0\", 10) +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n    else {\n        vditor.toolbar.element.style.paddingLeft = (5 +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n};\nvar setTypewriterPosition = function (vditor) {\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var height = window.innerHeight;\n    if (typeof vditor.options.height === \"number\") {\n        height = vditor.options.height;\n        if (typeof vditor.options.minHeight === \"number\") {\n            height = Math.max(height, vditor.options.minHeight);\n        }\n        height = Math.min(window.innerHeight, height);\n    }\n    else {\n        height = vditor.element.clientHeight;\n    }\n    if (vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        height = window.innerHeight;\n    }\n    // 由于 Firefox padding-bottom bug，只能使用 :after\n    vditor[vditor.currentMode].element.style.setProperty(\"--editor-bottom\", ((height - vditor.toolbar.element.offsetHeight) / 2) + \"px\");\n};\nvar resizeCb;\nfunction UIUnbindListener() {\n    window.removeEventListener(\"resize\", resizeCb);\n}\nvar afterRender = function (vditor) {\n    setTypewriterPosition(vditor);\n    UIUnbindListener();\n    window.addEventListener(\"resize\", resizeCb = function () {\n        setPadding(vditor);\n        setTypewriterPosition(vditor);\n    });\n    // set default value\n    var initValue = (0,compatibility/* accessLocalStorage */.pK)() && localStorage.getItem(vditor.options.cache.id);\n    if (!vditor.options.cache.enable || !initValue) {\n        if (vditor.options.value) {\n            initValue = vditor.options.value;\n        }\n        else if (vditor.originalInnerHTML) {\n            initValue = vditor.lute.HTML2Md(vditor.originalInnerHTML);\n        }\n        else if (!vditor.options.cache.enable) {\n            initValue = \"\";\n        }\n    }\n    return initValue || \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/highlightToolbarIR.ts\n\n\n\n\n\nvar highlightToolbarIR = function (vditor) {\n    clearTimeout(vditor[vditor.currentMode].hlToolbarTimeoutId);\n    vditor[vditor.currentMode].hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor[vditor.currentMode].element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        if (typeElement.classList.contains(\"vditor-reset\")) {\n            typeElement = typeElement.childNodes[range.startOffset];\n        }\n        var headingElement = vditor.currentMode === \"sv\" ?\n            (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"heading\") : (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if (headingElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        var quoteElement = vditor.currentMode === \"sv\" ? (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"blockquote\") :\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n        if (quoteElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        var strongElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"strong\");\n        if (strongElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        var emElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"em\");\n        if (emElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        var sElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"s\");\n        if (sElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"a\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        var codeBlockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code-block\");\n        if (codeBlockElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"inline-code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n        }\n        var codeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code\");\n        if (codeElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"table\");\n        if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"list\", \"ordered-list\", \"check\", \"line\",\n                \"quote\", \"code\", \"table\"]);\n        }\n    }, 200);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/afterRenderEvent.ts\n\n\nvar afterRenderEvent = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n    vditor.wysiwyg.afterRenderTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/inlineTag.ts\n\n\nvar previoueIsEmptyA = function (node) {\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType !== 3 && previousNode.tagName === \"A\" && !previousNode.previousSibling\n            && previousNode.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && previousNode.nextSibling) {\n            return previousNode;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return false;\n};\nvar nextIsCode = function (range) {\n    var nextNode = range.startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (nextNode && nextNode.nodeType !== 3 && (nextNode.tagName === \"CODE\" ||\n        nextNode.getAttribute(\"data-type\") === \"math-inline\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-entity\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-inline\")) {\n        return true;\n    }\n    return false;\n};\nvar getNextHTML = function (node) {\n    var html = \"\";\n    var nextNode = node.nextSibling;\n    while (nextNode) {\n        if (nextNode.nodeType === 3) {\n            html += nextNode.textContent;\n        }\n        else {\n            html += nextNode.outerHTML;\n        }\n        nextNode = nextNode.nextSibling;\n    }\n    return html;\n};\nvar getPreviousHTML = function (node) {\n    var html = \"\";\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType === 3) {\n            html = previousNode.textContent + html;\n        }\n        else {\n            html = previousNode.outerHTML + html;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return html;\n};\nvar getRenderElementNextNode = function (blockCodeElement) {\n    var nextNode = blockCodeElement;\n    while (nextNode && !nextNode.nextSibling) {\n        nextNode = nextNode.parentElement;\n    }\n    return nextNode.nextSibling;\n};\nvar splitElement = function (range) {\n    var previousHTML = getPreviousHTML(range.startContainer);\n    var nextHTML = getNextHTML(range.startContainer);\n    var text = range.startContainer.textContent;\n    var offset = range.startOffset;\n    var beforeHTML = \"\";\n    var afterHTML = \"\";\n    if (text.substr(0, offset) !== \"\" && text.substr(0, offset) !== constants/* Constants.ZWSP */.g.ZWSP || previousHTML) {\n        beforeHTML = \"\".concat(previousHTML).concat(text.substr(0, offset));\n    }\n    if (text.substr(offset) !== \"\" && text.substr(offset) !== constants/* Constants.ZWSP */.g.ZWSP || nextHTML) {\n        afterHTML = \"\".concat(text.substr(offset)).concat(nextHTML);\n    }\n    return {\n        afterHTML: afterHTML,\n        beforeHTML: beforeHTML,\n    };\n};\nvar modifyPre = function (vditor, range) {\n    // 没有被块元素包裹\n    Array.from(vditor.wysiwyg.element.childNodes).find(function (node) {\n        if (node.nodeType === 3) {\n            var pElement = document.createElement(\"p\");\n            pElement.setAttribute(\"data-block\", \"0\");\n            pElement.textContent = node.textContent;\n            // 为空按下 tab 且 tab = '    ' 时，range.startContainer 不为 node\n            var cloneRangeOffset = range.startContainer.nodeType === 3 ? range.startOffset : node.textContent.length;\n            node.parentNode.insertBefore(pElement, node);\n            node.remove();\n            range.setStart(pElement.firstChild, Math.min(pElement.firstChild.textContent.length, cloneRangeOffset));\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        else if (!node.getAttribute(\"data-block\")) {\n            if (node.tagName === \"P\") {\n                node.remove();\n            }\n            else {\n                if (node.tagName === \"DIV\") {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    // firefox 列表换行产生 div\n                    node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.innerHTML, \"</p>\");\n                }\n                else {\n                    if (node.tagName === \"BR\") {\n                        // firefox 空换行产生 BR\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.outerHTML, \"<wbr></p>\");\n                    }\n                    else {\n                        range.insertNode(document.createElement(\"wbr\"));\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\".concat(node.outerHTML, \"</p>\");\n                    }\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                range = getSelection().getRangeAt(0);\n            }\n            return true;\n        }\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/setHeading.ts\n\n\n\nvar setHeading = function (vditor, tagName) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (!blockElement && vditor.wysiwyg.element.children.length === 0) {\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (blockElement && !blockElement.classList.contains(\"vditor-wysiwyg__block\")) {\n        range.insertNode(document.createElement(\"wbr\"));\n        // Firefox 需要 trim https://github.com/Vanessa219/vditor/issues/207\n        if (blockElement.innerHTML.trim() === \"<wbr>\") {\n            // Firefox 光标对不齐 https://github.com/Vanessa219/vditor/issues/199 1\n            blockElement.innerHTML = \"<wbr><br>\";\n        }\n        if (blockElement.tagName === \"BLOCKQUOTE\" || blockElement.classList.contains(\"vditor-reset\")) {\n            blockElement.innerHTML = \"<\".concat(tagName, \" data-block=\\\"0\\\">\").concat(blockElement.innerHTML.trim(), \"</\").concat(tagName, \">\");\n        }\n        else {\n            blockElement.outerHTML = \"<\".concat(tagName, \" data-block=\\\"0\\\">\").concat(blockElement.innerHTML.trim(), \"</\").concat(tagName, \">\");\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        renderToc(vditor);\n    }\n};\nvar removeHeading = function (vditor) {\n    var range = getSelection().getRangeAt(0);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (blockElement) {\n        range.insertNode(document.createElement(\"wbr\"));\n        blockElement.outerHTML = \"<p data-block=\\\"0\\\">\".concat(blockElement.innerHTML, \"</p>\");\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n    }\n    vditor.wysiwyg.popover.style.display = \"none\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/showCode.ts\n\n\nvar showCode = function (previewElement, vditor, first) {\n    if (first === void 0) { first = true; }\n    var previousElement = previewElement.previousElementSibling;\n    var range = previousElement.ownerDocument.createRange();\n    if (previousElement.tagName === \"CODE\") {\n        previousElement.style.display = \"inline-block\";\n        if (first) {\n            range.setStart(previousElement.firstChild, 1);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n        }\n    }\n    else {\n        previousElement.style.display = \"block\";\n        if (!previousElement.firstChild.firstChild) {\n            previousElement.firstChild.appendChild(document.createTextNode(\"\"));\n        }\n        range.selectNodeContents(previousElement.firstChild);\n    }\n    if (first) {\n        range.collapse(true);\n    }\n    else {\n        range.collapse(false);\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    if (previewElement.firstElementChild.classList.contains(\"language-mindmap\")) {\n        return;\n    }\n    scrollCenter(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar wysiwyg_processKeydown_processKeydown = function (vditor, event) {\n    // Chrome firefox 触发 compositionend 机制不一致 https://github.com/Vanessa219/vditor/issues/188\n    vditor.wysiwyg.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // table\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // code render\n    var codeRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-wysiwyg__block\");\n    if (codeRenderElement) {\n        // esc: 退出编辑，仅展示渲染\n        if (event.key === \"Escape\" && codeRenderElement.children.length === 2) {\n            vditor.wysiwyg.popover.style.display = \"none\";\n            codeRenderElement.firstElementChild.style.display = \"none\";\n            vditor.wysiwyg.element.blur();\n            event.preventDefault();\n            return true;\n        }\n        // alt+enter: 代码块切换到语言 https://github.com/Vanessa219/vditor/issues/54\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.altKey && event.key === \"Enter\" &&\n            codeRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n            var inputElemment = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElemment.focus();\n            inputElemment.select();\n            event.preventDefault();\n            return true;\n        }\n        if (codeRenderElement.getAttribute(\"data-block\") === \"0\") {\n            if (fixCodeBlock(vditor, event, codeRenderElement.firstElementChild, range)) {\n                return true;\n            }\n            if (insertAfterBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n            if (codeRenderElement.getAttribute(\"data-type\") !== \"yaml-front-matter\" &&\n                insertBeforeBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n        }\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 顶层 blockquote\n    var topBQElement = (0,hasClosest/* hasTopClosestByTag */.E2)(startContainer, \"BLOCKQUOTE\");\n    if (topBQElement) {\n        if (!event.shiftKey && event.altKey && event.key === \"Enter\") {\n            if (!(0,compatibility/* isCtrl */.yl)(event)) {\n                // alt+enter: 跳出多层 blockquote 嵌套之后 https://github.com/Vanessa219/vditor/issues/51\n                range.setStartAfter(topBQElement);\n            }\n            else {\n                // ctrl+alt+enter: 跳出多层 blockquote 嵌套之前\n                range.setStartBefore(topBQElement);\n            }\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            var node = document.createElement(\"p\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.innerHTML = \"\\n\";\n            range.insertNode(node);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // h1-h6\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        if (headingElement.tagName === \"H6\" && startContainer.textContent.length === range.startOffset &&\n            !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\") {\n            // enter: H6 回车解析问题 https://github.com/Vanessa219/vditor/issues/48\n            var pTempElement = document.createElement(\"p\");\n            pTempElement.textContent = \"\\n\";\n            pTempElement.setAttribute(\"data-block\", \"0\");\n            startContainer.parentElement.insertAdjacentElement(\"afterend\", pTempElement);\n            range.setStart(pTempElement, 0);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) - 1;\n            if (index > 0) {\n                setHeading(vditor, \"h\".concat(index));\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) + 1;\n            if (index < 7) {\n                setHeading(vditor, \"h\".concat(index));\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && headingElement.textContent.length === 1) {\n            // 删除后变为空\n            removeHeading(vditor);\n        }\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // alt+enter\n    if (event.altKey && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey) {\n        // 切换到链接、链接引用、脚注引用弹出的输入框中\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"A\");\n        var linRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"link-ref\");\n        var footnoteRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-ref\");\n        if (aElement || linRefElement || footnoteRefElement ||\n            (headingElement && headingElement.tagName.length === 2)) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n            inputElement.focus();\n            inputElement.select();\n        }\n    }\n    // 删除有子工具栏的块\n    if (removeBlockElement(vditor, event)) {\n        return true;\n    }\n    // 对有子工具栏的块上移\n    if (matchHotKey(\"⇧⌘U\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"up\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 对有子工具栏的块下移\n    if (matchHotKey(\"⇧⌘D\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"down\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    // shift+enter：软换行，但 table/hr/heading 处理、cell 内换行、block render 换行处理单独写在上面，li & p 使用浏览器默认\n    if (!(0,compatibility/* isCtrl */.yl)(event) && event.shiftKey && !event.altKey && event.key === \"Enter\" &&\n        startContainer.parentElement.tagName !== \"LI\" && startContainer.parentElement.tagName !== \"P\") {\n        if ([\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n            // 行内元素软换行需继续 https://github.com/Vanessa219/vditor/issues/170\n            range.insertNode(document.createTextNode(\"\\n\" + constants/* Constants.ZWSP */.g.ZWSP));\n        }\n        else {\n            range.insertNode(document.createTextNode(\"\\n\"));\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        afterRenderEvent(vditor);\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // 删除\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement) {\n            if (blockElement.previousElementSibling\n                && blockElement.previousElementSibling.classList.contains(\"vditor-wysiwyg__block\")\n                && blockElement.previousElementSibling.getAttribute(\"data-block\") === \"0\"\n                // https://github.com/Vanessa219/vditor/issues/946\n                && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\") {\n                var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n                if ((rangeStart === 0 && range.startOffset === 0) || // https://github.com/Vanessa219/vditor/issues/894\n                    (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                    // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                    showCode(blockElement.previousElementSibling.lastElementChild, vditor, false);\n                    if (blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        // 当前块为空且不是最后一个时，需要删除\n                        blockElement.remove();\n                        afterRenderEvent(vditor);\n                    }\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            var rangeStartOffset = range.startOffset;\n            if (range.toString() === \"\" && startContainer.nodeType === 3 &&\n                startContainer.textContent.charAt(rangeStartOffset - 2) === \"\\n\" &&\n                startContainer.textContent.charAt(rangeStartOffset - 1) !== constants/* Constants.ZWSP */.g.ZWSP\n                && [\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n                // 保持行内元素软换行需继续的一致性\n                startContainer.textContent = startContainer.textContent.substring(0, rangeStartOffset - 1) +\n                    constants/* Constants.ZWSP */.g.ZWSP;\n                range.setStart(startContainer, rangeStartOffset);\n                range.collapse(true);\n                afterRenderEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n            // inline code、math、html 行前零宽字符后进行删除\n            if (startContainer.textContent === constants/* Constants.ZWSP */.g.ZWSP && range.startOffset === 1\n                && !startContainer.previousSibling && nextIsCode(range)) {\n                startContainer.textContent = \"\";\n                // 不能返回，其前面为代码渲染块时需进行以下处理：修正光标位于 inline math/html 前，按下删除按钮 code 中内容会被删除\n            }\n            // 修正光标位于 inline math/html, html-entity 前，按下删除按钮 code 中内容会被删除, 不能返回，还需要进行后续处理\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='math-inline']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='html-entity']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n        }\n    }\n    if ((0,compatibility/* isFirefox */.vU)() && range.startOffset === 1 && startContainer.textContent.indexOf(constants/* Constants.ZWSP */.g.ZWSP) > -1 &&\n        startContainer.previousSibling && startContainer.previousSibling.nodeType !== 3 &&\n        startContainer.previousSibling.tagName === \"CODE\" &&\n        (event.key === \"Backspace\" || event.key === \"ArrowLeft\")) {\n        // https://github.com/Vanessa219/vditor/issues/410\n        range.selectNodeContents(startContainer.previousSibling);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n        event.preventDefault();\n        return true;\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (event.key === \"ArrowDown\") {\n        // 光标位于内联数学公式前，按下键无作用\n        var nextElement = startContainer.nextSibling;\n        if (nextElement && nextElement.nodeType !== 3 && nextElement.getAttribute(\"data-type\") === \"math-inline\") {\n            range.setStartAfter(nextElement);\n        }\n    }\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar removeBlockElement = function (vditor, event) {\n    // 删除有子工具栏的块\n    if (matchHotKey(\"⇧⌘X\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"remove\"]');\n        if (itemElement) {\n            itemElement.click();\n        }\n        event.preventDefault();\n        return true;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/highlightToolbarWYSIWYG.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar highlightToolbarWYSIWYG = function (vditor) {\n    clearTimeout(vditor.wysiwyg.hlToolbarTimeoutId);\n    vditor.wysiwyg.hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor.wysiwyg.element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = getSelection().getRangeAt(0);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        else {\n            typeElement = typeElement.childNodes[range.startOffset >= typeElement.childNodes.length\n                ? typeElement.childNodes.length - 1\n                : range.startOffset];\n        }\n        var footnotesElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-block\");\n        if (footnotesElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(footnotesElement, vditor);\n            setPopoverPosition(vditor, footnotesElement);\n            return;\n        }\n        // 工具栏高亮和禁用\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"B\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRONG\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"I\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"EM\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRIKE\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"S\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        // comments\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment--focus\")\n            .forEach(function (item) {\n            item.classList.remove(\"vditor-comment--focus\");\n        });\n        var commentElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-comment\");\n        if (commentElement) {\n            var ids_1 = commentElement.getAttribute(\"data-cmtids\").split(\" \");\n            if (ids_1.length > 1 && commentElement.nextSibling.isSameNode(commentElement.nextElementSibling)) {\n                var nextIds_1 = commentElement.nextElementSibling\n                    .getAttribute(\"data-cmtids\")\n                    .split(\" \");\n                ids_1.find(function (id) {\n                    if (nextIds_1.includes(id)) {\n                        ids_1 = [id];\n                        return true;\n                    }\n                });\n            }\n            vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(ids_1[0]) > -1) {\n                    item.classList.add(\"vditor-comment--focus\");\n                }\n            });\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"A\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TABLE\");\n        var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"CODE\")) {\n            if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"PRE\")) {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"inline-code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n            }\n        }\n        else if (headingElement) {\n            disableToolbar(vditor.toolbar.elements, [\"bold\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        else if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"table\"]);\n        }\n        // toc popover\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-toc\");\n        if (tocElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(tocElement, vditor);\n            setPopoverPosition(vditor, tocElement);\n            return;\n        }\n        // quote popover\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(typeElement, \"BLOCKQUOTE\");\n        if (blockquoteElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockquoteElement, vditor);\n            genDown(range, blockquoteElement, vditor);\n            genClose(blockquoteElement, vditor);\n            setPopoverPosition(vditor, blockquoteElement);\n        }\n        // list item popover\n        if (liElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, liElement, vditor);\n            genDown(range, liElement, vditor);\n            genClose(liElement, vditor);\n            setPopoverPosition(vditor, liElement);\n        }\n        // table popover\n        if (tableElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var updateTable_1 = function () {\n                var oldRow = tableElement.rows.length;\n                var oldColumn = tableElement.rows[0].cells.length;\n                var row = parseInt(input_1.value, 10) || oldRow;\n                var column = parseInt(input2_1.value, 10) || oldColumn;\n                if (row === oldRow && oldColumn === column) {\n                    return;\n                }\n                if (oldColumn !== column) {\n                    var columnDiff = column - oldColumn;\n                    for (var i = 0; i < tableElement.rows.length; i++) {\n                        if (columnDiff > 0) {\n                            for (var j = 0; j < columnDiff; j++) {\n                                if (i === 0) {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<th> </th>\");\n                                }\n                                else {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<td> </td>\");\n                                }\n                            }\n                        }\n                        else {\n                            for (var k = oldColumn - 1; k >= column; k--) {\n                                tableElement.rows[i].cells[k].remove();\n                            }\n                        }\n                    }\n                }\n                if (oldRow !== row) {\n                    var rowDiff = row - oldRow;\n                    if (rowDiff > 0) {\n                        var rowHTML = \"<tr>\";\n                        for (var m = 0; m < column; m++) {\n                            rowHTML += \"<td> </td>\";\n                        }\n                        for (var l = 0; l < rowDiff; l++) {\n                            if (tableElement.querySelector(\"tbody\")) {\n                                tableElement\n                                    .querySelector(\"tbody\")\n                                    .insertAdjacentHTML(\"beforeend\", rowHTML);\n                            }\n                            else {\n                                tableElement\n                                    .querySelector(\"thead\")\n                                    .insertAdjacentHTML(\"afterend\", rowHTML + \"</tr>\");\n                            }\n                        }\n                    }\n                    else {\n                        for (var m = oldRow - 1; m >= row; m--) {\n                            tableElement.rows[m].remove();\n                            if (tableElement.rows.length === 1) {\n                                tableElement.querySelector(\"tbody\").remove();\n                            }\n                        }\n                    }\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            var setAlign_1 = function (type) {\n                setTableAlign(tableElement, type);\n                if (type === \"right\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.add(\"vditor-icon--current\");\n                }\n                else if (type === \"center\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.add(\"vditor-icon--current\");\n                }\n                else {\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    left_1.classList.add(\"vditor-icon--current\");\n                }\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                afterRenderEvent(vditor);\n            };\n            var td = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TD\");\n            var th = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TH\");\n            var alignType = \"left\";\n            if (td) {\n                alignType = td.getAttribute(\"align\") || \"left\";\n            }\n            else if (th) {\n                alignType = th.getAttribute(\"align\") || \"center\";\n            }\n            var left_1 = document.createElement(\"button\");\n            left_1.setAttribute(\"type\", \"button\");\n            left_1.setAttribute(\"aria-label\", window.VditorI18n.alignLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘L\") + \">\");\n            left_1.setAttribute(\"data-type\", \"left\");\n            left_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-left\"></use></svg>';\n            left_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"left\" ? \" vditor-icon--current\" : \"\");\n            left_1.onclick = function () {\n                setAlign_1(\"left\");\n            };\n            var center_1 = document.createElement(\"button\");\n            center_1.setAttribute(\"type\", \"button\");\n            center_1.setAttribute(\"aria-label\", window.VditorI18n.alignCenter + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘C\") + \">\");\n            center_1.setAttribute(\"data-type\", \"center\");\n            center_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>';\n            center_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"center\" ? \" vditor-icon--current\" : \"\");\n            center_1.onclick = function () {\n                setAlign_1(\"center\");\n            };\n            var right_1 = document.createElement(\"button\");\n            right_1.setAttribute(\"type\", \"button\");\n            right_1.setAttribute(\"aria-label\", window.VditorI18n.alignRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘R\") + \">\");\n            right_1.setAttribute(\"data-type\", \"right\");\n            right_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-right\"></use></svg>';\n            right_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"right\" ? \" vditor-icon--current\" : \"\");\n            right_1.onclick = function () {\n                setAlign_1(\"right\");\n            };\n            var insertRowElement = document.createElement(\"button\");\n            insertRowElement.setAttribute(\"type\", \"button\");\n            insertRowElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowBelow + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘=\") + \">\");\n            insertRowElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-row\"></use></svg>';\n            insertRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRow(vditor, range, cellElement);\n                }\n            };\n            var insertRowBElement = document.createElement(\"button\");\n            insertRowBElement.setAttribute(\"type\", \"button\");\n            insertRowBElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowAbove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘F\") + \">\");\n            insertRowBElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-rowb\"></use></svg>';\n            insertRowBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRowAbove(vditor, range, cellElement);\n                }\n            };\n            var insertColumnElement = document.createElement(\"button\");\n            insertColumnElement.setAttribute(\"type\", \"button\");\n            insertColumnElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘=\") + \">\");\n            insertColumnElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-column\"></use></svg>';\n            insertColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement);\n                }\n            };\n            var insertColumnBElement = document.createElement(\"button\");\n            insertColumnBElement.setAttribute(\"type\", \"button\");\n            insertColumnBElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘G\") + \">\");\n            insertColumnBElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-columnb\"></use></svg>';\n            insertColumnBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n                }\n            };\n            var deleteRowElement = document.createElement(\"button\");\n            deleteRowElement.setAttribute(\"type\", \"button\");\n            deleteRowElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-row\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘-\") + \">\");\n            deleteRowElement.setAttribute(\"data-type\", \"deleteRow\");\n            deleteRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-row\"></use></svg>';\n            deleteRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteRow(vditor, range, cellElement);\n                }\n            };\n            var deleteColumnElement = document.createElement(\"button\");\n            deleteColumnElement.setAttribute(\"type\", \"button\");\n            deleteColumnElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-column\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘-\") + \">\");\n            deleteColumnElement.setAttribute(\"data-type\", \"deleteColumn\");\n            deleteColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-column\"></use></svg>';\n            deleteColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteColumn(vditor, range, tableElement, cellElement);\n                }\n            };\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.row);\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_1 = document.createElement(\"input\");\n            inputWrap.appendChild(input_1);\n            input_1.type = \"number\";\n            input_1.min = \"1\";\n            input_1.className = \"vditor-input\";\n            input_1.style.width = \"42px\";\n            input_1.style.textAlign = \"center\";\n            input_1.setAttribute(\"placeholder\", window.VditorI18n.row);\n            input_1.value = tableElement.rows.length.toString();\n            input_1.oninput = function () {\n                updateTable_1();\n            };\n            input_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input2_1.focus();\n                    input2_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            var input2Wrap = document.createElement(\"span\");\n            input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.column);\n            input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input2_1 = document.createElement(\"input\");\n            input2Wrap.appendChild(input2_1);\n            input2_1.type = \"number\";\n            input2_1.min = \"1\";\n            input2_1.className = \"vditor-input\";\n            input2_1.style.width = \"42px\";\n            input2_1.style.textAlign = \"center\";\n            input2_1.setAttribute(\"placeholder\", window.VditorI18n.column);\n            input2_1.value = tableElement.rows[0].cells.length.toString();\n            input2_1.oninput = function () {\n                updateTable_1();\n            };\n            input2_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input_1.focus();\n                    input_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genUp(range, tableElement, vditor);\n            genDown(range, tableElement, vditor);\n            genClose(tableElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", left_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", center_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", right_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            vditor.wysiwyg.popover.insertAdjacentHTML(\"beforeend\", \" x \");\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n            setPopoverPosition(vditor, tableElement);\n        }\n        // link ref popover\n        var linkRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"link-ref\");\n        if (linkRefElement) {\n            genLinkRefPopover(vditor, linkRefElement, range);\n        }\n        // footnote popover\n        var footnotesRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-ref\");\n        if (footnotesRefElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_2 = document.createElement(\"input\");\n            inputWrap.appendChild(input_2);\n            input_2.className = \"vditor-input\";\n            input_2.setAttribute(\"placeholder\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_2.style.width = \"120px\";\n            input_2.value = footnotesRefElement.getAttribute(\"data-footnotes-label\");\n            input_2.oninput = function () {\n                if (input_2.value.trim() !== \"\") {\n                    footnotesRefElement.setAttribute(\"data-footnotes-label\", input_2.value);\n                }\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            input_2.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genClose(footnotesRefElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, footnotesRefElement);\n        }\n        // block popover: math-inline, math-block, html-block, html-inline, code-block, html-entity\n        var blockRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-wysiwyg__block\");\n        var isBlock = blockRenderElement ? blockRenderElement.getAttribute(\"data-type\").indexOf(\"block\") > -1 : false;\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-wysiwyg__preview\")\n            .forEach(function (itemElement) {\n            if (!blockRenderElement || (blockRenderElement && isBlock && !blockRenderElement.contains(itemElement))) {\n                var previousElement = itemElement.previousElementSibling;\n                previousElement.style.display = \"none\";\n            }\n        });\n        if (blockRenderElement && isBlock) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockRenderElement, vditor);\n            genDown(range, blockRenderElement, vditor);\n            genClose(blockRenderElement, vditor);\n            if (blockRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n                var languageWrap = document.createElement(\"span\");\n                languageWrap.setAttribute(\"aria-label\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                languageWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n                var language_1 = document.createElement(\"input\");\n                languageWrap.appendChild(language_1);\n                var codeElement_1 = blockRenderElement.firstElementChild.firstElementChild;\n                language_1.className = \"vditor-input\";\n                language_1.setAttribute(\"placeholder\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                language_1.value =\n                    codeElement_1.className.indexOf(\"language-\") > -1\n                        ? codeElement_1.className.split(\"-\")[1].split(\" \")[0]\n                        : \"\";\n                language_1.oninput = function (e) {\n                    if (language_1.value.trim() !== \"\") {\n                        codeElement_1.className = \"language-\".concat(language_1.value);\n                    }\n                    else {\n                        codeElement_1.className = \"\";\n                        vditor.hint.recentLanguage = \"\";\n                    }\n                    if (blockRenderElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                        blockRenderElement.lastElementChild.innerHTML =\n                            blockRenderElement.firstElementChild.innerHTML;\n                        processCodeRender(blockRenderElement.lastElementChild, vditor);\n                    }\n                    afterRenderEvent(vditor);\n                    // 当鼠标点选语言时，触发自定义input事件\n                    if (e.detail === 1) {\n                        // 选择语言后，输入焦点切换到代码输入框\n                        range.setStart(codeElement_1.firstChild, 0);\n                        range.collapse(true);\n                        (0,selection/* setSelectionFocus */.Hc)(range);\n                    }\n                };\n                language_1.onkeydown = function (event) {\n                    if (event.isComposing) {\n                        return;\n                    }\n                    if (removeBlockElement(vditor, event)) {\n                        return;\n                    }\n                    if (event.key === \"Escape\" &&\n                        vditor.hint.element.style.display === \"block\") {\n                        vditor.hint.element.style.display = \"none\";\n                        event.preventDefault();\n                        return;\n                    }\n                    vditor.hint.select(event, vditor);\n                    focusToElement(event, range);\n                };\n                language_1.onkeyup = function (event) {\n                    if (event.isComposing ||\n                        event.key === \"Enter\" ||\n                        event.key === \"ArrowUp\" ||\n                        event.key === \"Escape\" ||\n                        event.key === \"ArrowDown\") {\n                        return;\n                    }\n                    var matchLangData = [];\n                    var key = language_1.value.substring(0, language_1.selectionStart);\n                    (vditor.options.preview.hljs.langs || constants/* Constants.CODE_LANGUAGES */.g.CODE_LANGUAGES).forEach(function (keyName) {\n                        if (keyName.indexOf(key.toLowerCase()) > -1) {\n                            matchLangData.push({\n                                html: keyName,\n                                value: keyName,\n                            });\n                        }\n                    });\n                    vditor.hint.genHTML(matchLangData, key, vditor);\n                    event.preventDefault();\n                };\n                vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", languageWrap);\n            }\n            setPopoverPosition(vditor, blockRenderElement);\n        }\n        else {\n            blockRenderElement = undefined;\n        }\n        if (headingElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_3 = document.createElement(\"input\");\n            inputWrap.appendChild(input_3);\n            input_3.className = \"vditor-input\";\n            input_3.setAttribute(\"placeholder\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_3.style.width = \"120px\";\n            input_3.value = headingElement.getAttribute(\"data-id\") || \"\";\n            input_3.oninput = function () {\n                headingElement.setAttribute(\"data-id\", input_3.value);\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n            };\n            input_3.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (removeBlockElement(vditor, event)) {\n                    return;\n                }\n                if (focusToElement(event, range)) {\n                    return;\n                }\n            };\n            genUp(range, headingElement, vditor);\n            genDown(range, headingElement, vditor);\n            genClose(headingElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, headingElement);\n        }\n        // a popover\n        if (aElement) {\n            genAPopover(vditor, aElement, range);\n        }\n        if (!blockquoteElement &&\n            !liElement &&\n            !tableElement &&\n            !blockRenderElement &&\n            !aElement &&\n            !linkRefElement &&\n            !footnotesRefElement &&\n            !headingElement &&\n            !tocElement) {\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-block\", \"0\");\n            if (blockElement &&\n                blockElement.parentElement.isEqualNode(vditor.wysiwyg.element)) {\n                vditor.wysiwyg.popover.innerHTML = \"\";\n                genUp(range, blockElement, vditor);\n                genDown(range, blockElement, vditor);\n                genClose(blockElement, vditor);\n                setPopoverPosition(vditor, blockElement);\n            }\n            else {\n                vditor.wysiwyg.popover.style.display = \"none\";\n            }\n        }\n        // 反斜杠特殊处理\n        vditor.wysiwyg.element\n            .querySelectorAll('span[data-type=\"backslash\"] > span')\n            .forEach(function (item) {\n            item.style.display = \"none\";\n        });\n        var backslashElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"backslash\");\n        if (backslashElement) {\n            backslashElement.querySelector(\"span\").style.display = \"inline\";\n        }\n    }, 200);\n};\nvar setPopoverPosition = function (vditor, element) {\n    var targetElement = element;\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(element, \"TABLE\");\n    if (tableElement) {\n        targetElement = tableElement;\n    }\n    vditor.wysiwyg.popover.style.left = \"0\";\n    vditor.wysiwyg.popover.style.display = \"block\";\n    vditor.wysiwyg.popover.style.top =\n        Math.max(-8, targetElement.offsetTop - 21 - vditor.wysiwyg.element.scrollTop) + \"px\";\n    vditor.wysiwyg.popover.style.left =\n        Math.min(targetElement.offsetLeft, vditor.wysiwyg.element.clientWidth - vditor.wysiwyg.popover.clientWidth) + \"px\";\n    vditor.wysiwyg.popover.setAttribute(\"data-top\", (targetElement.offsetTop - 21).toString());\n};\nvar genLinkRefPopover = function (vditor, linkRefElement, range) {\n    if (range === void 0) { range = getSelection().getRangeAt(0); }\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateLinkRef = function () {\n        if (input.value.trim() !== \"\") {\n            if (linkRefElement.tagName === \"IMG\") {\n                linkRefElement.setAttribute(\"alt\", input.value);\n            }\n            else {\n                linkRefElement.textContent = input.value;\n            }\n        }\n        // data-link-label\n        if (input1.value.trim() !== \"\") {\n            linkRefElement.setAttribute(\"data-link-label\", input1.value);\n        }\n        if (typeof vditor.options.input === \"function\") {\n            vditor.options.input(getMarkdown(vditor));\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value =\n        linkRefElement.getAttribute(\"alt\") || linkRefElement.textContent;\n    input.oninput = function () {\n        updateLinkRef();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.linkRef);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.linkRef);\n    input1.value = linkRefElement.getAttribute(\"data-link-label\");\n    input1.oninput = function () {\n        updateLinkRef();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input);\n    };\n    genClose(linkRefElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    setPopoverPosition(vditor, linkRefElement);\n};\nvar genUp = function (range, element, vditor) {\n    var previousElement = element.previousElementSibling;\n    if (!previousElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var upElement = document.createElement(\"button\");\n    upElement.setAttribute(\"type\", \"button\");\n    upElement.setAttribute(\"data-type\", \"up\");\n    upElement.setAttribute(\"aria-label\", window.VditorI18n.up + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘U\") + \">\");\n    upElement.innerHTML = '<svg><use xlink:href=\"#vditor-icon-up\"></use></svg>';\n    upElement.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    upElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        previousElement.insertAdjacentElement(\"beforebegin\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", upElement);\n};\nvar genDown = function (range, element, vditor) {\n    var nextElement = element.nextElementSibling;\n    if (!nextElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var downElement = document.createElement(\"button\");\n    downElement.setAttribute(\"type\", \"button\");\n    downElement.setAttribute(\"data-type\", \"down\");\n    downElement.setAttribute(\"aria-label\", window.VditorI18n.down + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘D\") + \">\");\n    downElement.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-down\"></use></svg>';\n    downElement.className =\n        \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    downElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        nextElement.insertAdjacentElement(\"afterend\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", downElement);\n};\nvar genClose = function (element, vditor) {\n    var close = document.createElement(\"button\");\n    close.setAttribute(\"type\", \"button\");\n    close.setAttribute(\"data-type\", \"remove\");\n    close.setAttribute(\"aria-label\", window.VditorI18n.remove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘X\") + \">\");\n    close.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-trashcan\"></use></svg>';\n    close.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    close.onclick = function () {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        range.setStartAfter(element);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        element.remove();\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        if ([\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"].includes(element.tagName)) {\n            renderToc(vditor);\n        }\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", close);\n};\nvar linkHotkey = function (vditor, element, event, nextInputElement) {\n    if (event.isComposing) {\n        return;\n    }\n    if (event.key === \"Tab\") {\n        nextInputElement.focus();\n        nextInputElement.select();\n        event.preventDefault();\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n        !event.shiftKey &&\n        event.altKey &&\n        event.key === \"Enter\") {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        // firefox 不会打断 link https://github.com/Vanessa219/vditor/issues/193\n        element.insertAdjacentHTML(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n        range.setStartAfter(element.nextSibling);\n        range.collapse(true);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        event.preventDefault();\n    }\n};\nvar genAPopover = function (vditor, aElement, range) {\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateA = function () {\n        if (input.value.trim() !== \"\") {\n            aElement.innerHTML = input.value;\n        }\n        aElement.setAttribute(\"href\", input1.value);\n        aElement.setAttribute(\"title\", input2.value);\n        afterRenderEvent(vditor);\n    };\n    aElement.querySelectorAll(\"[data-marker]\").forEach(function (item) {\n        item.removeAttribute(\"data-marker\");\n    });\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value = aElement.innerHTML || \"\";\n    input.oninput = function () {\n        updateA();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.link);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.link);\n    input1.value = aElement.getAttribute(\"href\") || \"\";\n    input1.oninput = function () {\n        updateA();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input2);\n    };\n    var input2Wrap = document.createElement(\"span\");\n    input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.tooltipText);\n    input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input2 = document.createElement(\"input\");\n    input2Wrap.appendChild(input2);\n    input2.className = \"vditor-input\";\n    input2.setAttribute(\"placeholder\", window.VditorI18n.tooltipText);\n    input2.style.width = \"60px\";\n    input2.value = aElement.getAttribute(\"title\") || \"\";\n    input2.oninput = function () {\n        updateA();\n    };\n    input2.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        if (focusToElement(event, range)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input);\n    };\n    genClose(aElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n    setPopoverPosition(vditor, aElement);\n};\nvar genImagePopover = function (event, vditor) {\n    var imgElement = event.target;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateImg = function () {\n        imgElement.setAttribute(\"src\", inputElement.value);\n        imgElement.setAttribute(\"alt\", alt.value);\n        imgElement.setAttribute(\"title\", title.value);\n        if (typeof vditor.options.input === \"function\") {\n            vditor.options.input(getMarkdown(vditor));\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.imageURL);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var inputElement = document.createElement(\"input\");\n    inputWrap.appendChild(inputElement);\n    inputElement.className = \"vditor-input\";\n    inputElement.setAttribute(\"placeholder\", window.VditorI18n.imageURL);\n    inputElement.value = imgElement.getAttribute(\"src\") || \"\";\n    inputElement.oninput = function () {\n        updateImg();\n    };\n    inputElement.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var altWrap = document.createElement(\"span\");\n    altWrap.setAttribute(\"aria-label\", window.VditorI18n.alternateText);\n    altWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var alt = document.createElement(\"input\");\n    altWrap.appendChild(alt);\n    alt.className = \"vditor-input\";\n    alt.setAttribute(\"placeholder\", window.VditorI18n.alternateText);\n    alt.style.width = \"52px\";\n    alt.value = imgElement.getAttribute(\"alt\") || \"\";\n    alt.oninput = function () {\n        updateImg();\n    };\n    alt.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var titleWrap = document.createElement(\"span\");\n    titleWrap.setAttribute(\"aria-label\", window.VditorI18n.title);\n    titleWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var title = document.createElement(\"input\");\n    titleWrap.appendChild(title);\n    title.className = \"vditor-input\";\n    title.setAttribute(\"placeholder\", window.VditorI18n.title);\n    title.value = imgElement.getAttribute(\"title\") || \"\";\n    title.oninput = function () {\n        updateImg();\n    };\n    title.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    genClose(imgElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", altWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", titleWrap);\n    setPopoverPosition(vditor, imgElement);\n};\nvar focusToElement = function (event, range) {\n    if ((!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.key === \"Enter\") || event.key === \"Escape\") {\n        if (range) {\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        return true;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/highlightToolbar.ts\n\n\nvar highlightToolbar = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\") {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/renderDomByMd.ts\n\n\nvar renderDomByMd = function (vditor, md, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    var editorElement = vditor.wysiwyg.element;\n    editorElement.innerHTML = vditor.lute.Md2VditorDOM(md);\n    editorElement.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n        item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n    });\n    afterRenderEvent(vditor, options);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/toolbarEvent.ts\n\n\n\n\n\n\n\n\n\nvar cancelBES = function (range, vditor, commandName) {\n    var element = range.startContainer.parentElement;\n    var jump = false;\n    var lastTagName = \"\";\n    var lastEndTagName = \"\";\n    var splitHTML = splitElement(range);\n    var lastBeforeHTML = splitHTML.beforeHTML;\n    var lastAfterHTML = splitHTML.afterHTML;\n    while (element && !jump) {\n        var tagName = element.tagName;\n        if (tagName === \"STRIKE\") {\n            tagName = \"S\";\n        }\n        if (tagName === \"I\") {\n            tagName = \"EM\";\n        }\n        if (tagName === \"B\") {\n            tagName = \"STRONG\";\n        }\n        if (tagName === \"S\" || tagName === \"STRONG\" || tagName === \"EM\") {\n            var insertHTML = \"\";\n            var previousHTML = \"\";\n            var nextHTML = \"\";\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                previousHTML = getPreviousHTML(element);\n                nextHTML = getNextHTML(element);\n            }\n            if (lastBeforeHTML || previousHTML) {\n                insertHTML = \"\".concat(previousHTML, \"<\").concat(tagName, \">\").concat(lastBeforeHTML, \"</\").concat(tagName, \">\");\n                lastBeforeHTML = insertHTML;\n            }\n            if ((commandName === \"bold\" && tagName === \"STRONG\") ||\n                (commandName === \"italic\" && tagName === \"EM\") ||\n                (commandName === \"strikeThrough\" && tagName === \"S\")) {\n                // 取消\n                insertHTML += \"\".concat(lastTagName).concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\").concat(lastEndTagName);\n                jump = true;\n            }\n            if (lastAfterHTML || nextHTML) {\n                lastAfterHTML = \"<\".concat(tagName, \">\").concat(lastAfterHTML, \"</\").concat(tagName, \">\").concat(nextHTML);\n                insertHTML += lastAfterHTML;\n            }\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                element = element.parentElement;\n                element.innerHTML = insertHTML;\n            }\n            else {\n                element.outerHTML = insertHTML;\n                element = element.parentElement;\n            }\n            lastTagName = \"<\".concat(tagName, \">\") + lastTagName;\n            lastEndTagName = \"</\".concat(tagName, \">\") + lastEndTagName;\n        }\n        else {\n            jump = true;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n};\nvar toolbarEvent = function (vditor, actionBtn, event) {\n    if (vditor.wysiwyg.composingLock // Mac Chrome 中韩文结束会出发此事件，导致重复末尾字符 https://github.com/Vanessa219/vditor/issues/188\n        && event instanceof CustomEvent // 点击按钮应忽略输入法 https://github.com/Vanessa219/vditor/issues/473\n    ) {\n        return;\n    }\n    var useHighlight = true;\n    var useRender = true;\n    if (vditor.wysiwyg.element.querySelector(\"wbr\")) {\n        vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"strike\") {\n            commandName = \"strikeThrough\";\n        }\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"BLOCKQUOTE\");\n            if (!quoteElement) {\n                quoteElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (quoteElement) {\n                useHighlight = false;\n                actionBtn.classList.remove(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\".concat(quoteElement.innerHTML, \"</p>\") : quoteElement.innerHTML;\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"inline-code\") {\n            var inlineCodeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n            if (!inlineCodeElement) {\n                inlineCodeElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (inlineCodeElement) {\n                inlineCodeElement.outerHTML = inlineCodeElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") + \"<wbr>\";\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"link\") {\n            if (!range.collapsed) {\n                document.execCommand(\"unlink\", false, \"\");\n            }\n            else {\n                range.selectNode(range.startContainer.parentElement);\n                document.execCommand(\"unlink\", false, \"\");\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n            if (range.toString() === \"\") {\n                cancelBES(range, vditor, commandName);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    else {\n        // 添加\n        if (vditor.wysiwyg.element.childNodes.length === 0) {\n            vditor.wysiwyg.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"quote\") {\n            if (!blockElement) {\n                blockElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (blockElement) {\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n                // li 中软换行\n                if (liElement && blockElement.contains(liElement)) {\n                    liElement.innerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(liElement.innerHTML, \"</blockquote>\");\n                }\n                else {\n                    blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"inline-code\") {\n            if (range.toString() === \"\") {\n                var node = document.createElement(\"code\");\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else if (range.startContainer.nodeType === 3) {\n                var node = document.createElement(\"code\");\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"code\") {\n            var node = document.createElement(\"div\");\n            node.className = \"vditor-wysiwyg__block\";\n            node.setAttribute(\"data-type\", \"code-block\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.setAttribute(\"data-marker\", \"```\");\n            if (range.toString() === \"\") {\n                node.innerHTML = \"<pre><code><wbr>\\n</code></pre>\";\n            }\n            else {\n                node.innerHTML = \"<pre><code>\".concat(range.toString(), \"<wbr></code></pre>\");\n                range.deleteContents();\n            }\n            range.insertNode(node);\n            if (blockElement) {\n                blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n                processCodeRender(item, vditor);\n            });\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"link\") {\n            if (range.toString() === \"\") {\n                var aElement = document.createElement(\"a\");\n                aElement.innerText = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(aElement);\n                range.setStart(aElement.firstChild, 1);\n                range.collapse(true);\n                genAPopover(vditor, aElement, range);\n                var textInputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n                textInputElement.value = \"\";\n                textInputElement.focus();\n                useRender = false;\n            }\n            else {\n                var node = document.createElement(\"a\");\n                node.setAttribute(\"href\", \"\");\n                node.innerHTML = range.toString();\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                genAPopover(vditor, node, range);\n                var textInputElements = vditor.wysiwyg.popover.querySelectorAll(\"input\");\n                textInputElements[0].value = node.innerText;\n                textInputElements[1].focus();\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"table\") {\n            var tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>\";\n            if (range.toString().trim() === \"\") {\n                if (blockElement && blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    blockElement.outerHTML = tableHTML_1;\n                }\n                else {\n                    document.execCommand(\"insertHTML\", false, tableHTML_1);\n                }\n                range.selectNode(vditor.wysiwyg.element.querySelector(\"wbr\").previousSibling);\n                vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr>\";\n                var tableText = range.toString().split(\"\\n\");\n                var delimiter_1 = tableText[0].split(\",\").length > tableText[0].split(\"\\t\").length ? \",\" : \"\\t\";\n                tableText.forEach(function (rows, index) {\n                    if (index === 0) {\n                        rows.split(delimiter_1).forEach(function (header, subIndex) {\n                            if (subIndex === 0) {\n                                tableHTML_1 += \"<th>\".concat(header, \"<wbr></th>\");\n                            }\n                            else {\n                                tableHTML_1 += \"<th>\".concat(header, \"</th>\");\n                            }\n                        });\n                        tableHTML_1 += \"</tr></thead>\";\n                    }\n                    else {\n                        if (index === 1) {\n                            tableHTML_1 += \"<tbody><tr>\";\n                        }\n                        else {\n                            tableHTML_1 += \"<tr>\";\n                        }\n                        rows.split(delimiter_1).forEach(function (cell) {\n                            tableHTML_1 += \"<td>\".concat(cell, \"</td>\");\n                        });\n                        tableHTML_1 += \"</tr>\";\n                    }\n                });\n                tableHTML_1 += \"</tbody></table>\";\n                document.execCommand(\"insertHTML\", false, tableHTML_1);\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n            if (commandName === \"strike\") {\n                commandName = \"strikeThrough\";\n            }\n            if (range.toString() === \"\" && (commandName === \"bold\" || commandName === \"italic\" || commandName === \"strikeThrough\")) {\n                var tagName = \"strong\";\n                if (commandName === \"italic\") {\n                    tagName = \"em\";\n                }\n                else if (commandName === \"strikeThrough\") {\n                    tagName = \"s\";\n                }\n                var node = document.createElement(tagName);\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                if (node.previousSibling && node.previousSibling.textContent === constants/* Constants.ZWSP */.g.ZWSP) {\n                    // 移除多层嵌套中的 zwsp\n                    node.previousSibling.textContent = \"\";\n                }\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    if (useHighlight) {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    if (useRender) {\n        afterRenderEvent(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/MenuItem.ts\n\n\n\n\n\n\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(vditor, menuItem) {\n        var _a;\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        if (menuItem.className) {\n            (_a = this.element.classList).add.apply(_a, menuItem.className.split(\" \"));\n        }\n        var hotkey = menuItem.hotkey ? \" <\".concat((0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey), \">\") : \"\";\n        if (menuItem.level === 2) {\n            hotkey = menuItem.hotkey ? \" &lt;\".concat((0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey), \"&gt;\") : \"\";\n        }\n        var tip = menuItem.tip ? menuItem.tip + hotkey : \"\".concat(window.VditorI18n[menuItem.name]).concat(hotkey);\n        var tagName = menuItem.name === \"upload\" ? \"div\" : \"button\";\n        if (menuItem.level === 2) {\n            this.element.innerHTML = \"<\".concat(tagName, \" data-type=\\\"\").concat(menuItem.name, \"\\\">\").concat(tip, \"</\").concat(tagName, \">\");\n        }\n        else {\n            this.element.classList.add(\"vditor-toolbar__item\");\n            var iconElement = document.createElement(tagName);\n            iconElement.setAttribute(\"data-type\", menuItem.name);\n            iconElement.className = \"vditor-tooltipped vditor-tooltipped__\".concat(menuItem.tipPosition);\n            iconElement.setAttribute(\"aria-label\", tip);\n            iconElement.innerHTML = menuItem.icon;\n            this.element.appendChild(iconElement);\n        }\n        if (!menuItem.prefix) {\n            return;\n        }\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            if (vditor.currentMode === \"wysiwyg\") {\n                toolbarEvent(vditor, _this.element.children[0], event);\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n            else {\n                processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n        });\n    }\n    return MenuItem;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/EditMode.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar setEditMode = function (vditor, type, event) {\n    var markdownText;\n    if (typeof event !== \"string\") {\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n        event.preventDefault();\n        markdownText = getMarkdown(vditor);\n    }\n    else {\n        markdownText = event;\n    }\n    if (vditor.currentMode === type && typeof event !== \"string\") {\n        return;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    if (vditor.options.preview.mode === \"both\" && type === \"sv\") {\n        vditor.preview.element.style.display = \"block\";\n    }\n    else {\n        vditor.preview.element.style.display = \"none\";\n    }\n    enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n    if (type === \"ir\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"block\";\n        vditor.lute.SetVditorIR(true);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"ir\";\n        vditor.ir.element.innerHTML = vditor.lute.Md2VditorIRDOM(markdownText);\n        process_processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n        vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        vditor.ir.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n    }\n    else if (type === \"wysiwyg\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"block\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(true);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"wysiwyg\";\n        setPadding(vditor);\n        renderDomByMd(vditor, markdownText, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n    else if (type === \"sv\") {\n        showToolbar(vditor.toolbar.elements, [\"both\"]);\n        hideToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        if (vditor.options.preview.mode === \"both\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        else if (vditor.options.preview.mode === \"editor\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(true);\n        vditor.currentMode = \"sv\";\n        var svHTML = processSpinVditorSVDOM(markdownText, vditor);\n        if (svHTML === \"<div data-block='0'></div>\") {\n            // https://github.com/Vanessa219/vditor/issues/654 SV 模式 Placeholder 显示问题\n            svHTML = \"\";\n        }\n        vditor.sv.element.innerHTML = svHTML;\n        combineFootnote(vditor.sv.element);\n        processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n    }\n    vditor.undo.resetIcon(vditor);\n    if (typeof event !== \"string\") {\n        // 初始化不 focus\n        vditor[vditor.currentMode].element.focus();\n        highlightToolbar(vditor);\n    }\n    renderToc(vditor);\n    setTypewriterPosition(vditor);\n    if (vditor.toolbar.elements[\"edit-mode\"]) {\n        vditor.toolbar.elements[\"edit-mode\"].querySelectorAll(\"button\").forEach(function (item) {\n            item.classList.remove(\"vditor-menu--current\");\n        });\n        vditor.toolbar.elements[\"edit-mode\"].querySelector(\"button[data-mode=\\\"\".concat(vditor.currentMode, \"\\\"]\")).classList.add(\"vditor-menu--current\");\n    }\n    vditor.outline.toggle(vditor, vditor.currentMode !== \"sv\" && vditor.options.outline.enable, typeof event !== \"string\");\n};\nvar EditMode = /** @class */ (function (_super) {\n    __extends(EditMode, _super);\n    function EditMode(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-mode=\\\"wysiwyg\\\">\".concat(window.VditorI18n.wysiwyg, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘7\"), \"></button>\\n<button data-mode=\\\"ir\\\">\").concat(window.VditorI18n.instantRendering, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘8\"), \"></button>\\n<button data-mode=\\\"sv\\\">\").concat(window.VditorI18n.splitView, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘9\"), \"></button>\");\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement, menuItem);\n        return _this;\n    }\n    EditMode.prototype._bindEvent = function (vditor, panelElement, menuItem) {\n        var actionBtn = this.element.children[0];\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        panelElement.children.item(0).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // wysiwyg\n            setEditMode(vditor, \"wysiwyg\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(1).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // ir\n            setEditMode(vditor, \"ir\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(2).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // markdown\n            setEditMode(vditor, \"sv\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    return EditMode;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/getSelectText.ts\n\nvar getSelectText = function (editor, range) {\n    if ((0,selection/* selectIsEditor */.Gb)(editor, range)) {\n        return getSelection().toString();\n    }\n    return \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/editorCommonEvent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar focusEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"focus\", function () {\n        if (vditor.options.focus) {\n            vditor.options.focus(getMarkdown(vditor));\n        }\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n    });\n};\nvar dblclickEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dblclick\", function (event) {\n        if (event.target.tagName === \"IMG\") {\n            if (vditor.options.image.preview) {\n                vditor.options.image.preview(event.target);\n            }\n            else if (vditor.options.image.isPreview) {\n                (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n            }\n        }\n    });\n};\nvar blurEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"blur\", function (event) {\n        if (vditor.currentMode === \"ir\") {\n            var expandElement = vditor.ir.element.querySelector(\".vditor-ir__node--expand\");\n            if (expandElement) {\n                expandElement.classList.remove(\"vditor-ir__node--expand\");\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\" &&\n            !vditor.wysiwyg.selectPopover.contains(event.relatedTarget)) {\n            vditor.wysiwyg.hideComment();\n        }\n        vditor[vditor.currentMode].range = (0,selection/* getEditorRange */.zh)(vditor);\n        if (vditor.options.blur) {\n            vditor.options.blur(getMarkdown(vditor));\n        }\n    });\n};\nvar dropEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dragstart\", function (event) {\n        // 选中编辑器中的文字进行拖拽\n        event.dataTransfer.setData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR, constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR);\n    });\n    editorElement.addEventListener(\"drop\", function (event) {\n        if (event.dataTransfer.getData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR)) {\n            // 编辑器内选中文字拖拽\n            execAfterRender(vditor);\n        }\n        else if (event.dataTransfer.types.includes(\"Files\") || event.dataTransfer.types.includes(\"text/html\")) {\n            // 外部文件拖入编辑器中或者编辑器内选中文字拖拽\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        }\n    });\n};\nvar copyEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"copy\", function (event) { return copy(event, vditor); });\n};\nvar cutEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"cut\", function (event) {\n        copy(event, vditor);\n        // 获取 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\") {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        document.execCommand(\"delete\");\n    });\n};\nvar scrollCenter = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n        vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n    }\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var cursorTop = (0,selection/* getCursorPosition */.Ny)(editorElement).top;\n    if (vditor.options.height === \"auto\" && !vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        window.scrollTo(window.scrollX, cursorTop + vditor.element.offsetTop + vditor.toolbar.element.offsetHeight - window.innerHeight / 2 + 10);\n    }\n    if (vditor.options.height !== \"auto\" || vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        editorElement.scrollTop = cursorTop + editorElement.scrollTop - editorElement.clientHeight / 2 + 10;\n    }\n};\nvar hotkeyEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"keydown\", function (event) {\n        if (!event.isComposing && vditor.options.keydown) {\n            vditor.options.keydown(event);\n        }\n        // hint: 上下选择\n        if ((vditor.options.hint.extend.length > 1 || vditor.toolbar.elements.emoji) &&\n            vditor.hint.select(event, vditor)) {\n            return;\n        }\n        // 重置 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\" &&\n            (event.key === \"Backspace\" || matchHotKey(\"⌘X\", event))) {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        if (vditor.currentMode === \"sv\") {\n            if (processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\") {\n            if (wysiwyg_processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"ir\") {\n            if (processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        if (vditor.options.ctrlEnter && matchHotKey(\"⌘Enter\", event)) {\n            vditor.options.ctrlEnter(getMarkdown(vditor));\n            event.preventDefault();\n            return;\n        }\n        // undo\n        if (matchHotKey(\"⌘Z\", event) && !vditor.toolbar.elements.undo) {\n            vditor.undo.undo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // redo\n        if (matchHotKey(\"⌘Y\", event) && !vditor.toolbar.elements.redo) {\n            vditor.undo.redo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // esc\n        if (event.key === \"Escape\") {\n            if (vditor.hint.element.style.display === \"block\") {\n                vditor.hint.element.style.display = \"none\";\n            }\n            else if (vditor.options.esc && !event.isComposing) {\n                vditor.options.esc(getMarkdown(vditor));\n            }\n            event.preventDefault();\n            return;\n        }\n        // h1 - h6 hotkey\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[1-6]$/.test(event.code)) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                var tagName = event.code.replace(\"Digit\", \"H\");\n                if ((0,hasClosest/* hasClosestByMatchTag */.lG)(getSelection().getRangeAt(0).startContainer, tagName)) {\n                    removeHeading(vditor);\n                }\n                else {\n                    setHeading(vditor, tagName);\n                }\n                afterRenderEvent(vditor);\n            }\n            else if (vditor.currentMode === \"sv\") {\n                processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            event.preventDefault();\n            return true;\n        }\n        // toggle edit mode\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[7-9]$/.test(event.code)) {\n            if (event.code === \"Digit7\") {\n                setEditMode(vditor, \"wysiwyg\", event);\n            }\n            else if (event.code === \"Digit8\") {\n                setEditMode(vditor, \"ir\", event);\n            }\n            else if (event.code === \"Digit9\") {\n                setEditMode(vditor, \"sv\", event);\n            }\n            return true;\n        }\n        // toolbar action\n        vditor.options.toolbar.find(function (menuItem) {\n            if (!menuItem.hotkey || menuItem.toolbar) {\n                if (menuItem.toolbar) {\n                    var sub = menuItem.toolbar.find(function (subMenuItem) {\n                        if (!subMenuItem.hotkey) {\n                            return false;\n                        }\n                        if (matchHotKey(subMenuItem.hotkey, event)) {\n                            vditor.toolbar.elements[subMenuItem.name].children[0]\n                                .dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                            event.preventDefault();\n                            return true;\n                        }\n                    });\n                    return sub ? true : false;\n                }\n                return false;\n            }\n            if (matchHotKey(menuItem.hotkey, event)) {\n                vditor.toolbar.elements[menuItem.name].children[0].dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                event.preventDefault();\n                return true;\n            }\n        });\n    });\n};\nvar selectEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"selectstart\", function (event) {\n        editorElement.onmouseup = function () {\n            setTimeout(function () {\n                var selectText = getSelectText(vditor[vditor.currentMode].element);\n                if (selectText.trim()) {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        if (!(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"footnotes-block\") &&\n                            !(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"link-ref-defs-block\")) {\n                            vditor.wysiwyg.showComment();\n                        }\n                        else {\n                            vditor.wysiwyg.hideComment();\n                        }\n                    }\n                    if (vditor.options.select) {\n                        vditor.options.select(selectText);\n                    }\n                }\n                else {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        vditor.wysiwyg.hideComment();\n                    }\n                }\n            });\n        };\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/process.ts\n\n\n\n\n\n\n\n\n\nvar processPaste = function (vditor, text) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    range.extractContents();\n    range.insertNode(document.createTextNode(Lute.Caret));\n    range.insertNode(document.createTextNode(text));\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    var spinHTML = vditor.lute.SpinVditorSVDOM(blockElement.textContent);\n    spinHTML = \"<div data-block='0'>\" +\n        spinHTML.replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    if (blockElement.isEqualNode(vditor.sv.element)) {\n        blockElement.innerHTML = spinHTML;\n    }\n    else {\n        blockElement.outerHTML = spinHTML;\n    }\n    combineFootnote(vditor.sv.element);\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n};\nvar getSideByType = function (spanNode, type, isPrevious) {\n    if (isPrevious === void 0) { isPrevious = true; }\n    var sideElement = spanNode;\n    if (sideElement.nodeType === 3) {\n        sideElement = sideElement.parentElement;\n    }\n    while (sideElement) {\n        if (sideElement.getAttribute(\"data-type\") === type) {\n            return sideElement;\n        }\n        if (isPrevious) {\n            sideElement = sideElement.previousElementSibling;\n        }\n        else {\n            sideElement = sideElement.nextElementSibling;\n        }\n    }\n    return false;\n};\nvar processSpinVditorSVDOM = function (html, vditor) {\n    log(\"SpinVditorSVDOM\", html, \"argument\", vditor.options.debugger);\n    var spinHTML = vditor.lute.SpinVditorSVDOM(html);\n    html = \"<div data-block='0'>\" +\n        spinHTML.replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    log(\"SpinVditorSVDOM\", html, \"result\", vditor.options.debugger);\n    return html;\n};\nvar processPreviousMarkers = function (spanElement) {\n    var spanType = spanElement.getAttribute(\"data-type\");\n    var previousElement = spanElement.previousElementSibling;\n    // 有内容的子列表/标题，在其 marker 后换行\n    var markerText = (spanType && spanType !== \"text\" && spanType !== \"table\" && spanType !== \"heading-marker\" &&\n        spanType !== \"newline\" && spanType !== \"yaml-front-matter-open-marker\" && spanType !== \"yaml-front-matter-close-marker\"\n        && spanType !== \"code-block-info\" && spanType !== \"code-block-close-marker\" && spanType !== \"code-block-open-marker\") ?\n        spanElement.textContent : \"\";\n    var hasNL = false;\n    if (spanType === \"newline\") {\n        hasNL = true;\n    }\n    while (previousElement && !hasNL) {\n        var previousType = previousElement.getAttribute(\"data-type\");\n        if (previousType === \"li-marker\" || previousType === \"blockquote-marker\" || previousType === \"task-marker\" ||\n            previousType === \"padding\") {\n            var previousText = previousElement.textContent;\n            if (previousType === \"li-marker\" &&\n                (spanType === \"code-block-open-marker\" || spanType === \"code-block-info\")) {\n                // https://github.com/Vanessa219/vditor/issues/586\n                markerText = previousText.replace(/\\S/g, \" \") + markerText;\n            }\n            else if (spanType === \"code-block-close-marker\" &&\n                previousElement.nextElementSibling.isSameNode(spanElement)) {\n                // https://github.com/Vanessa219/vditor/issues/594\n                var openMarker = getSideByType(spanElement, \"code-block-open-marker\");\n                if (openMarker && openMarker.previousElementSibling) {\n                    previousElement = openMarker.previousElementSibling;\n                    markerText = previousText + markerText;\n                }\n            }\n            else {\n                markerText = previousText + markerText;\n            }\n        }\n        else if (previousType === \"newline\") {\n            hasNL = true;\n        }\n        previousElement = previousElement.previousElementSibling;\n    }\n    return markerText;\n};\nvar processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    vditor.preview.render(vditor);\n    var text = getMarkdown(vditor);\n    if (typeof vditor.options.input === \"function\" && options.enableInput) {\n        vditor.options.input(text);\n    }\n    if (vditor.options.counter.enable) {\n        vditor.counter.render(vditor, text);\n    }\n    if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n        localStorage.setItem(vditor.options.cache.id, text);\n        if (vditor.options.cache.after) {\n            vditor.options.cache.after(text);\n        }\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    clearTimeout(vditor.sv.processTimeoutId);\n    vditor.sv.processTimeoutId = window.setTimeout(function () {\n        if (options.enableAddUndoStack && !vditor.sv.composingLock) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (headingElement && headingElement.textContent.trim() !== \"\") {\n        value = \"\\n\" + value;\n    }\n    range.collapse(true);\n    document.execCommand(\"insertHTML\", false, value);\n};\nvar processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 添加\n    if (vditor.sv.element.childNodes.length === 0) {\n        vditor.sv.element.innerHTML = \"<span data-type=\\\"p\\\" data-block=\\\"0\\\"><span data-type=\\\"text\\\"><wbr></span></span><span data-type=\\\"newline\\\"><br><span style=\\\"display: none\\\">\\n</span></span>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (!blockElement) {\n        return;\n    }\n    if (commandName === \"link\") {\n        var html = void 0;\n        if (range.toString() === \"\") {\n            html = \"\".concat(prefix).concat(Lute.Caret).concat(suffix);\n        }\n        else {\n            html = \"\".concat(prefix).concat(range.toString()).concat(suffix.replace(\")\", Lute.Caret + \")\"));\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\" ||\n        commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\" || commandName === \"line\") {\n        var html = void 0;\n        // https://github.com/Vanessa219/vditor/issues/563 代码块不需要后面的 ```\n        if (range.toString() === \"\") {\n            html = \"\".concat(prefix).concat(Lute.Caret).concat(commandName === \"code\" ? \"\" : suffix);\n        }\n        else {\n            html = \"\".concat(prefix).concat(range.toString()).concat(Lute.Caret).concat(commandName === \"code\" ? \"\" : suffix);\n        }\n        if (commandName === \"table\" || (commandName === \"code\" && spanElement && spanElement.textContent !== \"\")) {\n            html = \"\\n\\n\" + html;\n        }\n        else if (commandName === \"line\") {\n            html = \"\\n\\n\".concat(prefix, \"\\n\").concat(Lute.Caret);\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\" ||\n        commandName === \"quote\") {\n        if (spanElement) {\n            var marker = \"* \";\n            if (commandName === \"check\") {\n                marker = \"* [ ] \";\n            }\n            else if (commandName === \"ordered-list\") {\n                marker = \"1. \";\n            }\n            else if (commandName === \"quote\") {\n                marker = \"> \";\n            }\n            var newLine = getSideByType(spanElement, \"newline\");\n            if (newLine) {\n                newLine.insertAdjacentText(\"afterend\", marker);\n            }\n            else {\n                blockElement.insertAdjacentText(\"afterbegin\", marker);\n            }\n            inputEvent(vditor);\n            return;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    processAfterRender(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/getElement.ts\nvar getElement = function (vditor) {\n    switch (vditor.currentMode) {\n        case \"ir\":\n            return vditor.ir.element;\n        case \"wysiwyg\":\n            return vditor.wysiwyg.element;\n        case \"sv\":\n            return vditor.sv.element;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/setHeaders.ts\nvar setHeaders = function (vditor, xhr) {\n    if (vditor.options.upload.setHeaders) {\n        vditor.options.upload.headers = vditor.options.upload.setHeaders();\n    }\n    if (vditor.options.upload.headers) {\n        Object.keys(vditor.options.upload.headers).forEach(function (key) {\n            xhr.setRequestHeader(key, vditor.options.upload.headers[key]);\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/index.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Upload = /** @class */ (function () {\n    function Upload() {\n        this.isUploading = false;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-upload\";\n    }\n    return Upload;\n}());\nvar validateFile = function (vditor, files) {\n    vditor.tip.hide();\n    var uploadFileList = [];\n    var errorTip = \"\";\n    var uploadingStr = \"\";\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    var _loop_1 = function (iMax, i) {\n        var file = files[i];\n        var validate = true;\n        if (!file.name) {\n            errorTip += \"<li>\".concat(window.VditorI18n.nameEmpty, \"</li>\");\n            validate = false;\n        }\n        if (file.size > vditor.options.upload.max) {\n            errorTip += \"<li>\".concat(file.name, \" \").concat(window.VditorI18n.over, \" \").concat(vditor.options.upload.max / 1024 / 1024, \"M</li>\");\n            validate = false;\n        }\n        var lastIndex = file.name.lastIndexOf(\".\");\n        var fileExt = file.name.substr(lastIndex);\n        var filename = vditor.options.upload.filename(file.name.substr(0, lastIndex)) + fileExt;\n        if (vditor.options.upload.accept) {\n            var isAccept = vditor.options.upload.accept.split(\",\").some(function (item) {\n                var type = item.trim();\n                if (type.indexOf(\".\") === 0) {\n                    if (fileExt.toLowerCase() === type.toLowerCase()) {\n                        return true;\n                    }\n                }\n                else {\n                    if (file.type.split(\"/\")[0] === type.split(\"/\")[0]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (!isAccept) {\n                errorTip += \"<li>\".concat(file.name, \" \").concat(window.VditorI18n.fileTypeError, \"</li>\");\n                validate = false;\n            }\n        }\n        if (validate) {\n            uploadFileList.push(file);\n            uploadingStr += \"<li>\".concat(filename, \" \").concat(window.VditorI18n.uploading, \"</li>\");\n        }\n    };\n    for (var iMax = files.length, i = 0; i < iMax; i++) {\n        _loop_1(iMax, i);\n    }\n    vditor.tip.show(\"<ul>\".concat(errorTip).concat(uploadingStr, \"</ul>\"));\n    return uploadFileList;\n};\nvar genUploadedLabel = function (responseText, vditor) {\n    var editorElement = getElement(vditor);\n    editorElement.focus();\n    var response = JSON.parse(responseText);\n    var errorTip = \"\";\n    if (response.code === 1) {\n        errorTip = \"\".concat(response.msg);\n    }\n    if (response.data.errFiles && response.data.errFiles.length > 0) {\n        errorTip = \"<ul><li>\".concat(errorTip, \"</li>\");\n        response.data.errFiles.forEach(function (data) {\n            var lastIndex = data.lastIndexOf(\".\");\n            var filename = vditor.options.upload.filename(data.substr(0, lastIndex)) + data.substr(lastIndex);\n            errorTip += \"<li>\".concat(filename, \" \").concat(window.VditorI18n.uploadError, \"</li>\");\n        });\n        errorTip += \"</ul>\";\n    }\n    if (errorTip) {\n        vditor.tip.show(errorTip);\n    }\n    else {\n        vditor.tip.hide();\n    }\n    var succFileText = \"\";\n    Object.keys(response.data.succMap).forEach(function (key) {\n        var path = response.data.succMap[key];\n        var lastIndex = key.lastIndexOf(\".\");\n        var type = key.substr(lastIndex);\n        var filename = vditor.options.upload.filename(key.substr(0, lastIndex)) + type;\n        type = type.toLowerCase();\n        if (type.indexOf(\".wav\") === 0 || type.indexOf(\".mp3\") === 0 || type.indexOf(\".ogg\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<div class=\\\"vditor-wysiwyg__block\\\" data-type=\\\"html-block\\\"\\n data-block=\\\"0\\\"><pre><code>&lt;audio controls=\\\"controls\\\" src=\\\"\".concat(path, \"\\\"&gt;&lt;/audio&gt;</code></pre><pre class=\\\"vditor-wysiwyg__preview\\\" data-render=\\\"1\\\"><audio controls=\\\"controls\\\" src=\\\"\").concat(path, \"\\\"></audio></pre></div>\\n\");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                succFileText += \"<audio controls=\\\"controls\\\" src=\\\"\".concat(path, \"\\\"></audio>\\n\");\n            }\n            else {\n                succFileText += \"[\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n        else if (type.indexOf(\".apng\") === 0\n            || type.indexOf(\".bmp\") === 0\n            || type.indexOf(\".gif\") === 0\n            || type.indexOf(\".ico\") === 0 || type.indexOf(\".cur\") === 0\n            || type.indexOf(\".jpg\") === 0 || type.indexOf(\".jpeg\") === 0 || type.indexOf(\".jfif\") === 0 || type.indexOf(\".pjp\") === 0 || type.indexOf(\".pjpeg\") === 0\n            || type.indexOf(\".png\") === 0\n            || type.indexOf(\".svg\") === 0\n            || type.indexOf(\".webp\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<img alt=\\\"\".concat(filename, \"\\\" src=\\\"\").concat(path, \"\\\">\\n\");\n            }\n            else {\n                succFileText += \"![\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n        else {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<a href=\\\"\".concat(path, \"\\\">\").concat(filename, \"</a>\\n\");\n            }\n            else {\n                succFileText += \"[\".concat(filename, \"](\").concat(path, \")\\n\");\n            }\n        }\n    });\n    (0,selection/* setSelectionFocus */.Hc)(vditor.upload.range);\n    document.execCommand(\"insertHTML\", false, succFileText);\n    vditor.upload.range = getSelection().getRangeAt(0).cloneRange();\n};\nvar uploadFiles = function (vditor, files, element) { return __awaiter(void 0, void 0, void 0, function () {\n    var fileList, filesMax, i, fileItem, isValidate, isValidate, editorElement, validateResult, formData, extraData, _i, _a, key, i, iMax, xhr;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                fileList = [];\n                filesMax = vditor.options.upload.multiple === true ? files.length : 1;\n                for (i = 0; i < filesMax; i++) {\n                    fileItem = files[i];\n                    if (fileItem instanceof DataTransferItem) {\n                        fileItem = fileItem.getAsFile();\n                    }\n                    fileList.push(fileItem);\n                }\n                if (!vditor.options.upload.handler) return [3 /*break*/, 2];\n                return [4 /*yield*/, vditor.options.upload.handler(fileList)];\n            case 1:\n                isValidate = _b.sent();\n                if (element) {\n                    element.value = \"\";\n                }\n                if (typeof isValidate === \"string\") {\n                    vditor.tip.show(isValidate);\n                    return [2 /*return*/];\n                }\n                return [2 /*return*/];\n            case 2:\n                if (!vditor.options.upload.url || !vditor.upload) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    vditor.tip.show(\"please config: options.upload.url\");\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.file) return [3 /*break*/, 4];\n                return [4 /*yield*/, vditor.options.upload.file(fileList)];\n            case 3:\n                fileList = _b.sent();\n                _b.label = 4;\n            case 4:\n                if (vditor.options.upload.validate) {\n                    isValidate = vditor.options.upload.validate(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                }\n                editorElement = getElement(vditor);\n                vditor.upload.range = (0,selection/* getEditorRange */.zh)(vditor);\n                validateResult = validateFile(vditor, fileList);\n                if (validateResult.length === 0) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    return [2 /*return*/];\n                }\n                formData = new FormData();\n                extraData = vditor.options.upload.extraData;\n                for (_i = 0, _a = Object.keys(extraData); _i < _a.length; _i++) {\n                    key = _a[_i];\n                    formData.append(key, extraData[key]);\n                }\n                for (i = 0, iMax = validateResult.length; i < iMax; i++) {\n                    formData.append(vditor.options.upload.fieldName, validateResult[i]);\n                }\n                xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", vditor.options.upload.url);\n                if (vditor.options.upload.token) {\n                    xhr.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                }\n                if (vditor.options.upload.withCredentials) {\n                    xhr.withCredentials = true;\n                }\n                setHeaders(vditor, xhr);\n                vditor.upload.isUploading = true;\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === XMLHttpRequest.DONE) {\n                        vditor.upload.isUploading = false;\n                        editorElement.setAttribute(\"contenteditable\", \"true\");\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (vditor.options.upload.success) {\n                                vditor.options.upload.success(editorElement, xhr.responseText);\n                            }\n                            else {\n                                var responseText = xhr.responseText;\n                                if (vditor.options.upload.format) {\n                                    responseText = vditor.options.upload.format(files, xhr.responseText);\n                                }\n                                genUploadedLabel(responseText, vditor);\n                            }\n                        }\n                        else {\n                            if (vditor.options.upload.error) {\n                                vditor.options.upload.error(xhr.responseText);\n                            }\n                            else {\n                                vditor.tip.show(xhr.responseText);\n                            }\n                        }\n                        if (element) {\n                            element.value = \"\";\n                        }\n                        vditor.upload.element.style.display = \"none\";\n                    }\n                };\n                xhr.upload.onprogress = function (event) {\n                    if (!event.lengthComputable) {\n                        return;\n                    }\n                    var progress = event.loaded / event.total * 100;\n                    vditor.upload.element.style.display = \"block\";\n                    var progressBar = vditor.upload.element;\n                    progressBar.style.width = progress + \"%\";\n                };\n                xhr.send(formData);\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/input.ts\n\n\n\n\n\n\n\n\nvar input_input = function (vditor, range, event) {\n    var _a;\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (event && event.inputType !== \"formatItalic\"\n        && event.inputType !== \"deleteByDrag\"\n        && event.inputType !== \"insertFromDrop\"\n        && event.inputType !== \"formatBold\"\n        && event.inputType !== \"formatRemove\"\n        && event.inputType !== \"formatStrikeThrough\"\n        && event.inputType !== \"insertUnorderedList\"\n        && event.inputType !== \"insertOrderedList\"\n        && event.inputType !== \"formatOutdent\"\n        && event.inputType !== \"formatIndent\"\n        && event.inputType !== \"\" // document.execCommand('unlink', false)\n        || !event) {\n        var previousAEmptyElement = previoueIsEmptyA(range.startContainer);\n        if (previousAEmptyElement) {\n            // 链接结尾回车不应该复制到下一行 https://github.com/Vanessa219/vditor/issues/163\n            previousAEmptyElement.remove();\n        }\n        // 保存光标\n        vditor.wysiwyg.element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        // 在行首进行删除，后面的元素会带有样式，需清除\n        blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n            item.removeAttribute(\"style\");\n        });\n        // 移除空评论\n        blockElement.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        //  在有评论的行首换行后，该行的前一段会带有评论标识\n        (_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        var html_1 = \"\";\n        if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n            // 修改链接引用\n            blockElement = vditor.wysiwyg.element;\n        }\n        var isWYSIWYGElement = blockElement.isEqualNode(vditor.wysiwyg.element);\n        var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n        if (!isWYSIWYGElement) {\n            // 列表需要到最顶层\n            var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n            if (topListElement && !footnoteElement) {\n                var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n                if (blockquoteElement) {\n                    // li 中有 blockquote 就只渲染 blockquote\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || blockElement;\n                }\n                else {\n                    blockElement = topListElement;\n                }\n            }\n            // 修改脚注\n            if (footnoteElement) {\n                blockElement = footnoteElement;\n            }\n            html_1 = blockElement.outerHTML;\n            if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n                // 如果为列表的话，需要把上下的列表都重绘\n                var listPrevElement = blockElement.previousElementSibling;\n                var listNextElement = blockElement.nextElementSibling;\n                if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                    html_1 = listPrevElement.outerHTML + html_1;\n                    listPrevElement.remove();\n                }\n                if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                    html_1 = html_1 + listNextElement.outerHTML;\n                    listNextElement.remove();\n                }\n                // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n                html_1 = html_1.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n            }\n            if (!blockElement.innerText.startsWith(\"```\")) {\n                // 添加链接引用\n                vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                    if (item && !blockElement.isEqualNode(item)) {\n                        html_1 += item.outerHTML;\n                        item.remove();\n                    }\n                });\n                // 添加脚注\n                vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                    if (item && !blockElement.isEqualNode(item)) {\n                        html_1 += item.outerHTML;\n                        item.remove();\n                    }\n                });\n            }\n        }\n        else {\n            html_1 = blockElement.innerHTML;\n        }\n        // 合并多个 em， strong，s。以防止多个相同元素在一起时不满足 commonmark 规范，出现标记符\n        html_1 = html_1.replace(/<\\/(strong|b)><strong data-marker=\"\\W{2}\">/g, \"\")\n            .replace(/<\\/(em|i)><em data-marker=\"\\W{1}\">/g, \"\")\n            .replace(/<\\/(s|strike)><s data-marker=\"~{1,2}\">/g, \"\");\n        if (html_1 === '<p data-block=\"0\">```<wbr></p>' && vditor.hint.recentLanguage) {\n            html_1 = '<p data-block=\"0\">```<wbr></p>'.replace(\"```\", \"```\" + vditor.hint.recentLanguage);\n        }\n        log(\"SpinVditorDOM\", html_1, \"argument\", vditor.options.debugger);\n        html_1 = vditor.lute.SpinVditorDOM(html_1);\n        log(\"SpinVditorDOM\", html_1, \"result\", vditor.options.debugger);\n        if (isWYSIWYGElement) {\n            blockElement.innerHTML = html_1;\n        }\n        else {\n            blockElement.outerHTML = html_1;\n            if (footnoteElement) {\n                // 更新正文中的 tip\n                var footnoteItemElement = (0,hasClosest/* hasTopClosestByTag */.E2)(vditor.wysiwyg.element.querySelector(\"wbr\"), \"LI\");\n                if (footnoteItemElement) {\n                    var footnoteRefElement = vditor.wysiwyg.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\".concat(footnoteItemElement.getAttribute(\"data-marker\"), \"\\\"]\"));\n                    if (footnoteRefElement) {\n                        footnoteRefElement.setAttribute(\"aria-label\", footnoteItemElement.textContent.trim().substr(0, 24));\n                    }\n                }\n            }\n        }\n        var firstLinkRefDefElement_1;\n        var allLinkRefDefsElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n        allLinkRefDefsElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstLinkRefDefElement_1 = item;\n            }\n            else {\n                firstLinkRefDefElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allLinkRefDefsElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n        }\n        // 脚注合并后添加的末尾\n        var firstFootnoteElement_1;\n        var allFootnoteElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\");\n        allFootnoteElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstFootnoteElement_1 = item;\n            }\n            else {\n                firstFootnoteElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allFootnoteElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n        }\n        // 设置光标\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (event && (event.inputType === \"deleteContentBackward\" || event.inputType === \"deleteContentForward\") &&\n            vditor.options.comment.enable) {\n            vditor.wysiwyg.triggerRemoveComment(vditor);\n            vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n        }\n    }\n    renderToc(vditor);\n    afterRenderEvent(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/fixBrowserBehavior.ts\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar fixBrowserBehavior_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar fixBrowserBehavior_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://github.com/Vanessa219/vditor/issues/508 软键盘无法删除空块\nvar fixGSKeyBackspace = function (event, vditor, startContainer) {\n    if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\" && vditor.currentMode !== \"sv\") {\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        // 移动端的标点符号都显示为 299，因此需限定为空删除的条件\n        if (blockElement && blockElement.textContent.trim() === \"\") {\n            vditor[vditor.currentMode].composingLock = true;\n            return false;\n        }\n    }\n    return true;\n};\n// https://github.com/Vanessa219/vditor/issues/361 代码块后输入中文\nvar fixCJKPosition = function (range, vditor, event) {\n    if (event.key === \"Enter\" || event.key === \"Tab\" || event.key === \"Backspace\" || event.key.indexOf(\"Arrow\") > -1\n        || (0,compatibility/* isCtrl */.yl)(event) || event.key === \"Escape\" || event.shiftKey || event.altKey) {\n        return;\n    }\n    var pLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"P\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    if (pLiElement && (0,selection/* getSelectPosition */.im)(pLiElement, vditor[vditor.currentMode].element, range).start === 0) {\n        // https://github.com/Vanessa219/vditor/issues/1289 WKWebView切换输入法产生六分之一空格，造成光标错位\n        if (pLiElement.nodeValue) {\n            pLiElement.nodeValue = pLiElement.nodeValue.replace(/\\u2006/g, '');\n        }\n        var zwspNode = document.createTextNode(constants/* Constants.ZWSP */.g.ZWSP);\n        range.insertNode(zwspNode);\n        range.setStartAfter(zwspNode);\n    }\n};\n// https://github.com/Vanessa219/vditor/issues/381 光标在内联数学公式中无法向下移动\nvar fixCursorDownInlineMath = function (range, key) {\n    if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n        var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"math-inline\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-entity\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-inline\");\n        if (inlineElement) {\n            if (key === \"ArrowDown\") {\n                range.setStartAfter(inlineElement.parentElement);\n            }\n            if (key === \"ArrowUp\") {\n                range.setStartBefore(inlineElement.parentElement);\n            }\n        }\n    }\n};\nvar insertEmptyBlock = function (vditor, position) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (blockElement) {\n        blockElement.insertAdjacentHTML(position, \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\\n</p>\"));\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        highlightToolbar(vditor);\n        execAfterRender(vditor);\n    }\n};\nvar isFirstCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.rows[0].cells[0].isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\nvar isLastCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.lastElementChild.lastElementChild.lastElementChild.isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\n// 光标设置到前一个表格中\nvar goPreviousCell = function (cellElement, range, isSelected) {\n    if (isSelected === void 0) { isSelected = true; }\n    var previousElement = cellElement.previousElementSibling;\n    if (!previousElement) {\n        if (cellElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement.previousElementSibling.lastElementChild;\n        }\n        else if (cellElement.parentElement.parentElement.tagName === \"TBODY\" &&\n            cellElement.parentElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement\n                .parentElement.previousElementSibling.lastElementChild.lastElementChild;\n        }\n        else {\n            previousElement = null;\n        }\n    }\n    if (previousElement) {\n        range.selectNodeContents(previousElement);\n        if (!isSelected) {\n            range.collapse(false);\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    return previousElement;\n};\nvar insertAfterBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowDown\" && element.textContent.trimRight().substr(position.start).indexOf(\"\\n\") === -1) ||\n        (event.key === \"ArrowRight\" && position.start >= element.textContent.trimRight().length)) {\n        var nextElement = blockElement.nextElementSibling;\n        if (!nextElement ||\n            (nextElement && (nextElement.tagName === \"TABLE\" || nextElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(nextElement);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar insertBeforeBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowUp\" && element.textContent.substr(0, position.start).indexOf(\"\\n\") === -1) ||\n        ((event.key === \"ArrowLeft\" || (event.key === \"Backspace\" && range.toString() === \"\")) &&\n            position.start === 0)) {\n        var previousElement = blockElement.previousElementSibling;\n        // table || code\n        if (!previousElement ||\n            (previousElement && (previousElement.tagName === \"TABLE\" || previousElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar listToggle = function (vditor, range, type, cancel) {\n    if (cancel === void 0) { cancel = true; }\n    var itemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n        wbr.remove();\n    });\n    range.insertNode(document.createElement(\"wbr\"));\n    if (cancel && itemElement) {\n        // 取消\n        var pHTML = \"\";\n        for (var i = 0; i < itemElement.parentElement.childElementCount; i++) {\n            var inputElement = itemElement.parentElement.children[i].querySelector(\"input\");\n            if (inputElement) {\n                inputElement.remove();\n            }\n            pHTML += \"<p data-block=\\\"0\\\">\".concat(itemElement.parentElement.children[i].innerHTML.trimLeft(), \"</p>\");\n        }\n        itemElement.parentElement.insertAdjacentHTML(\"beforebegin\", pHTML);\n        itemElement.parentElement.remove();\n    }\n    else {\n        if (!itemElement) {\n            // 添加\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n            if (!blockElement) {\n                vditor[vditor.currentMode].element.querySelector(\"wbr\").remove();\n                blockElement = vditor[vditor.currentMode].element.querySelector(\"p\");\n                blockElement.innerHTML = \"<wbr>\";\n            }\n            if (type === \"check\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li class=\\\"vditor-task\\\"><input type=\\\"checkbox\\\" /> \".concat(blockElement.innerHTML, \"</li></ul>\"));\n                blockElement.remove();\n            }\n            else if (type === \"list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li>\".concat(blockElement.innerHTML, \"</li></ul>\"));\n                blockElement.remove();\n            }\n            else if (type === \"ordered-list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ol data-block=\\\"0\\\"><li>\".concat(blockElement.innerHTML, \"</li></ol>\"));\n                blockElement.remove();\n            }\n        }\n        else {\n            // 切换\n            if (type === \"check\") {\n                itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                    item.insertAdjacentHTML(\"afterbegin\", \"<input type=\\\"checkbox\\\" />\".concat(item.textContent.indexOf(\" \") === 0 ? \"\" : \" \"));\n                    item.classList.add(\"vditor-task\");\n                });\n            }\n            else {\n                if (itemElement.querySelector(\"input\")) {\n                    itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                        item.querySelector(\"input\").remove();\n                        item.classList.remove(\"vditor-task\");\n                    });\n                }\n                var element = void 0;\n                if (type === \"list\") {\n                    element = document.createElement(\"ul\");\n                    element.setAttribute(\"data-marker\", \"*\");\n                }\n                else {\n                    element = document.createElement(\"ol\");\n                    element.setAttribute(\"data-marker\", \"1.\");\n                }\n                element.setAttribute(\"data-block\", \"0\");\n                element.setAttribute(\"data-tight\", itemElement.parentElement.getAttribute(\"data-tight\"));\n                element.innerHTML = itemElement.parentElement.innerHTML;\n                itemElement.parentElement.parentNode.replaceChild(element, itemElement.parentElement);\n            }\n        }\n    }\n};\nvar listIndent = function (vditor, liElement, range) {\n    var previousElement = liElement.previousElementSibling;\n    if (liElement && previousElement) {\n        var liElements_1 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\"\n                && liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_1.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = previousElement.parentElement;\n        var liHTML_1 = \"\";\n        liElements_1.forEach(function (item) {\n            var marker = item.getAttribute(\"data-marker\");\n            if (marker.length !== 1) {\n                marker = \"1\".concat(marker.slice(-1));\n            }\n            liHTML_1 += \"<li data-node-id=\\\"\".concat(item.getAttribute(\"data-node-id\"), \"\\\" data-marker=\\\"\").concat(marker, \"\\\">\").concat(item.innerHTML, \"</li>\");\n            item.remove();\n        });\n        previousElement.insertAdjacentHTML(\"beforeend\", \"<\".concat(liParentElement.tagName, \" data-block=\\\"0\\\">\").concat(liHTML_1, \"</\").concat(liParentElement.tagName, \">\"));\n        if (vditor.currentMode === \"wysiwyg\") {\n            liParentElement.outerHTML = vditor.lute.SpinVditorDOM(liParentElement.outerHTML);\n        }\n        else {\n            liParentElement.outerHTML = vditor.lute.SpinVditorIRDOM(liParentElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar listOutdent = function (vditor, liElement, range, topListElement) {\n    var liParentLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(liElement.parentElement, \"LI\");\n    if (liParentLiElement) {\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = liElement.parentElement;\n        var liParentAfterElement = liParentElement.cloneNode();\n        var liElements_2 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\" &&\n                liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_2.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        var isMatch_1 = false;\n        var afterHTML_1 = \"\";\n        liParentElement.querySelectorAll(\"li\").forEach(function (item) {\n            if (isMatch_1) {\n                afterHTML_1 += item.outerHTML;\n                if (!item.nextElementSibling && !item.previousElementSibling) {\n                    item.parentElement.remove();\n                }\n                else {\n                    item.remove();\n                }\n            }\n            if (item.isSameNode(liElements_2[liElements_2.length - 1])) {\n                isMatch_1 = true;\n            }\n        });\n        liElements_2.reverse().forEach(function (item) {\n            liParentLiElement.insertAdjacentElement(\"afterend\", item);\n        });\n        if (afterHTML_1) {\n            liParentAfterElement.innerHTML = afterHTML_1;\n            liElements_2[0].insertAdjacentElement(\"beforeend\", liParentAfterElement);\n        }\n        if (vditor.currentMode === \"wysiwyg\") {\n            topListElement.outerHTML = vditor.lute.SpinVditorDOM(topListElement.outerHTML);\n        }\n        else {\n            topListElement.outerHTML = vditor.lute.SpinVditorIRDOM(topListElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar setTableAlign = function (tableElement, type) {\n    var cell = getSelection().getRangeAt(0).startContainer.parentElement;\n    var columnCnt = tableElement.rows[0].cells.length;\n    var rowCnt = tableElement.rows.length;\n    var currentColumn = 0;\n    for (var i = 0; i < rowCnt; i++) {\n        for (var j = 0; j < columnCnt; j++) {\n            if (tableElement.rows[i].cells[j].isSameNode(cell)) {\n                currentColumn = j;\n                break;\n            }\n        }\n    }\n    for (var k = 0; k < rowCnt; k++) {\n        tableElement.rows[k].cells[currentColumn].setAttribute(\"align\", type);\n    }\n};\nvar isHrMD = function (text) {\n    // - _ *\n    var marker = text.trimRight().split(\"\\n\").pop();\n    if (marker === \"\") {\n        return false;\n    }\n    if (marker.replace(/ |-/g, \"\") === \"\"\n        || marker.replace(/ |_/g, \"\") === \"\"\n        || marker.replace(/ |\\*/g, \"\") === \"\") {\n        if (marker.replace(/ /g, \"\").length > 2) {\n            if (marker.indexOf(\"-\") > -1 && marker.trimLeft().indexOf(\" \") === -1\n                && text.trimRight().split(\"\\n\").length > 1) {\n                // 满足 heading\n                return false;\n            }\n            if (marker.indexOf(\"    \") === 0 || marker.indexOf(\"\\t\") === 0) {\n                // 代码块\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\nvar isHeadingMD = function (text) {\n    // - =\n    var textArray = text.trimRight().split(\"\\n\");\n    text = textArray.pop();\n    if (text.indexOf(\"    \") === 0 || text.indexOf(\"\\t\") === 0) {\n        return false;\n    }\n    text = text.trimLeft();\n    if (text === \"\" || textArray.length === 0) {\n        return false;\n    }\n    if (text.replace(/-/g, \"\") === \"\"\n        || text.replace(/=/g, \"\") === \"\") {\n        return true;\n    }\n    return false;\n};\nvar execAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (vditor.currentMode === \"wysiwyg\") {\n        afterRenderEvent(vditor, options);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        process_processAfterRender(vditor, options);\n    }\n    else if (vditor.currentMode === \"sv\") {\n        processAfterRender(vditor, options);\n    }\n};\nvar fixList = function (range, vditor, pElement, event) {\n    var _a;\n    var startContainer = range.startContainer;\n    var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (liElement) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\" &&\n            // fix li 中有多个 P 时，在第一个 P 中换行会在下方生成新的 li\n            (!event.shiftKey && pElement && liElement.contains(pElement) && pElement.nextElementSibling)) {\n            if (liElement && !liElement.textContent.endsWith(\"\\n\")) {\n                // li 结尾需 \\n\n                liElement.insertAdjacentText(\"beforeend\", \"\\n\");\n            }\n            range.insertNode(document.createTextNode(\"\\n\\n\"));\n            range.collapse(false);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            !liElement.previousElementSibling && range.toString() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(liElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // 光标位于点和第一个字符中间时，无法删除 li 元素\n            if (liElement.nextElementSibling) {\n                liElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\".concat(liElement.innerHTML, \"</p>\"));\n                liElement.remove();\n            }\n            else {\n                liElement.parentElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\".concat(liElement.innerHTML, \"</p>\");\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // 空列表删除后与上一级段落对齐\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            liElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" &&\n            range.toString() === \"\" && ((_a = liElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"LI\") {\n            liElement.previousElementSibling.insertAdjacentText(\"beforeend\", \"\\n\\n\");\n            range.selectNodeContents(liElement.previousElementSibling);\n            range.collapse(false);\n            liElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Tab\") {\n            // 光标位于第一/零字符时，tab 用于列表的缩进\n            var isFirst = false;\n            if (range.startOffset === 0\n                && ((startContainer.nodeType === 3 && !startContainer.previousSibling)\n                    || (startContainer.nodeType !== 3 && startContainer.nodeName === \"LI\"))) {\n                // 有序/无序列表\n                isFirst = true;\n            }\n            else if (liElement.classList.contains(\"vditor-task\") && range.startOffset === 1\n                && startContainer.previousSibling.nodeType !== 3\n                && startContainer.previousSibling.tagName === \"INPUT\") {\n                // 任务列表\n                isFirst = true;\n            }\n            if (isFirst || range.toString() !== \"\") {\n                if (event.shiftKey) {\n                    listOutdent(vditor, liElement, range, liElement.parentElement);\n                }\n                else {\n                    listIndent(vditor, liElement, range);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    return false;\n};\n// tab 处理: block code render, table, 列表第一个字符中的 tab 处理单独写在上面\nvar fixTab = function (vditor, range, event) {\n    if (vditor.options.tab && event.key === \"Tab\") {\n        if (event.shiftKey) {\n            // TODO shift+tab\n        }\n        else {\n            if (range.toString() === \"\") {\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n            else {\n                range.extractContents();\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n};\nvar fixMarkdown = function (event, vditor, pElement, range) {\n    if (!pElement) {\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        var pText = String.raw(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), pElement.textContent).replace(/\\\\\\|/g, \"\").trim();\n        var pTextList = pText.split(\"|\");\n        if (pText.startsWith(\"|\") && pText.endsWith(\"|\") && pTextList.length > 3) {\n            // table 自动完成\n            var tableHeaderMD = pTextList.map(function () { return \"---\"; }).join(\"|\");\n            tableHeaderMD =\n                pElement.textContent + \"\\n\" + tableHeaderMD.substring(3, tableHeaderMD.length - 3) + \"\\n|<wbr>\";\n            pElement.outerHTML = vditor.lute.SpinVditorDOM(tableHeaderMD);\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // hr 渲染\n        if (isHrMD(pElement.innerHTML) && pElement.previousElementSibling) {\n            // 软换行后 hr 前有内容\n            var pInnerHTML = \"\";\n            var innerHTMLList = pElement.innerHTML.trimRight().split(\"\\n\");\n            if (innerHTMLList.length > 1) {\n                innerHTMLList.pop();\n                pInnerHTML = \"<p data-block=\\\"0\\\">\".concat(innerHTMLList.join(\"\\n\"), \"</p>\");\n            }\n            pElement.insertAdjacentHTML(\"afterend\", \"\".concat(pInnerHTML, \"<hr data-block=\\\"0\\\"><p data-block=\\\"0\\\"><wbr>\\n</p>\"));\n            pElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (isHeadingMD(pElement.innerHTML)) {\n            // heading 渲染\n            if (vditor.currentMode === \"wysiwyg\") {\n                pElement.outerHTML = vditor.lute.SpinVditorDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            else {\n                pElement.outerHTML = vditor.lute.SpinVditorIRDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 软换行会被切割 https://github.com/Vanessa219/vditor/issues/220\n    if (range.collapsed && pElement.previousElementSibling && event.key === \"Backspace\" &&\n        !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n        pElement.textContent.trimRight().split(\"\\n\").length > 1 &&\n        (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var lastElement = (0,hasClosest/* getLastNode */.DX)(pElement.previousElementSibling);\n        if (!lastElement.textContent.endsWith(\"\\n\")) {\n            lastElement.textContent = lastElement.textContent + \"\\n\";\n        }\n        lastElement.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\".concat(pElement.innerHTML));\n        pElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        return false;\n    }\n    return false;\n};\nvar insertRow = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        rowHTML += \"<td align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </td>\");\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tbody><tr>\".concat(rowHTML, \"</tr></tbody>\"));\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tr>\".concat(rowHTML, \"</tr>\"));\n    }\n    execAfterRender(vditor);\n};\nvar insertRowAbove = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        if (cellElement.tagName === \"TH\") {\n            rowHTML += \"<th align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </th>\");\n        }\n        else {\n            rowHTML += \"<td align=\\\"\".concat(cellElement.parentElement.children[m].getAttribute(\"align\"), \"\\\"> </td>\");\n        }\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<thead><tr>\".concat(rowHTML, \"</tr></thead>\"));\n        range.insertNode(document.createElement(\"wbr\"));\n        var theadHTML = cellElement.parentElement.innerHTML.replace(/<th>/g, \"<td>\").replace(/<\\/th>/g, \"</td>\");\n        cellElement.parentElement.parentElement.nextElementSibling.insertAdjacentHTML(\"afterbegin\", theadHTML);\n        cellElement.parentElement.parentElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<tr>\".concat(rowHTML, \"</tr>\"));\n    }\n    execAfterRender(vditor);\n};\nvar insertColumn = function (vditor, tableElement, cellElement, type) {\n    if (type === void 0) { type = \"afterend\"; }\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        if (i === 0) {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<th> </th>\");\n        }\n        else {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<td> </td>\");\n        }\n    }\n    execAfterRender(vditor);\n};\nvar deleteRow = function (vditor, range, cellElement) {\n    if (cellElement.tagName === \"TD\") {\n        var tbodyElement = cellElement.parentElement.parentElement;\n        if (cellElement.parentElement.previousElementSibling) {\n            range.selectNodeContents(cellElement.parentElement.previousElementSibling.lastElementChild);\n        }\n        else {\n            range.selectNodeContents(tbodyElement.previousElementSibling.lastElementChild.lastElementChild);\n        }\n        if (tbodyElement.childElementCount === 1) {\n            tbodyElement.remove();\n        }\n        else {\n            cellElement.parentElement.remove();\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n    }\n};\nvar deleteColumn = function (vditor, range, tableElement, cellElement) {\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    if (cellElement.previousElementSibling || cellElement.nextElementSibling) {\n        range.selectNodeContents(cellElement.previousElementSibling || cellElement.nextElementSibling);\n        range.collapse(true);\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        var cells = tableElement.rows[i].cells;\n        if (cells.length === 1) {\n            tableElement.remove();\n            highlightToolbar(vditor);\n            break;\n        }\n        cells[index].remove();\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    execAfterRender(vditor);\n};\nvar fixTable = function (vditor, event, range) {\n    var startContainer = range.startContainer;\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (cellElement) {\n        // 换行或软换行：在 cell 中添加 br\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n            if (!cellElement.lastElementChild ||\n                (cellElement.lastElementChild && (!cellElement.lastElementChild.isSameNode(cellElement.lastChild) ||\n                    cellElement.lastElementChild.tagName !== \"BR\"))) {\n                cellElement.insertAdjacentHTML(\"beforeend\", \"<br>\");\n            }\n            var brElement = document.createElement(\"br\");\n            range.insertNode(brElement);\n            range.setStartAfter(brElement);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // tab：光标移向下一个 cell\n        if (event.key === \"Tab\") {\n            if (event.shiftKey) {\n                // shift + tab 光标移动到前一个 cell\n                goPreviousCell(cellElement, range);\n                event.preventDefault();\n                return true;\n            }\n            var nextElement = cellElement.nextElementSibling;\n            if (!nextElement) {\n                if (cellElement.parentElement.nextElementSibling) {\n                    nextElement = cellElement.parentElement.nextElementSibling.firstElementChild;\n                }\n                else if (cellElement.parentElement.parentElement.tagName === \"THEAD\" &&\n                    cellElement.parentElement.parentElement.nextElementSibling) {\n                    nextElement =\n                        cellElement.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild;\n                }\n                else {\n                    nextElement = null;\n                }\n            }\n            if (nextElement) {\n                range.selectNodeContents(nextElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            event.preventDefault();\n            return true;\n        }\n        var tableElement = cellElement.parentElement.parentElement.parentElement;\n        if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (cellElement.tagName === \"TH\") {\n                if (tableElement.previousElementSibling) {\n                    range.selectNodeContents(tableElement.previousElementSibling);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"beforebegin\");\n                }\n                return true;\n            }\n            var m = 0;\n            var trElement = cellElement.parentElement;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var previousElement = trElement.previousElementSibling;\n            if (!previousElement) {\n                previousElement = trElement.parentElement.previousElementSibling.firstChild;\n            }\n            range.selectNodeContents(previousElement.cells[m]);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            var trElement = cellElement.parentElement;\n            if (!trElement.nextElementSibling && cellElement.tagName === \"TD\") {\n                if (tableElement.nextElementSibling) {\n                    range.selectNodeContents(tableElement.nextElementSibling);\n                    range.collapse(true);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"afterend\");\n                }\n                return true;\n            }\n            var m = 0;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var nextElement = trElement.nextElementSibling;\n            if (!nextElement) {\n                nextElement = trElement.parentElement.nextElementSibling.firstChild;\n            }\n            range.selectNodeContents(nextElement.cells[m]);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        // focus row input, only wysiwyg\n        if (vditor.currentMode === \"wysiwyg\" &&\n            !(0,compatibility/* isCtrl */.yl)(event) && event.key === \"Enter\" && !event.shiftKey && event.altKey) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElement.focus();\n            inputElement.select();\n            event.preventDefault();\n            return true;\n        }\n        // Backspace：光标移动到前一个 cell\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\"\n            && range.startOffset === 0 && range.toString() === \"\") {\n            var previousCellElement = goPreviousCell(cellElement, range, false);\n            if (!previousCellElement && tableElement) {\n                if (tableElement.textContent.trim() === \"\") {\n                    tableElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\\n</p>\";\n                    (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                }\n                else {\n                    range.setStartBefore(tableElement);\n                    range.collapse(true);\n                }\n                execAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 上方新添加一行\n        if (matchHotKey(\"⇧⌘F\", event)) {\n            insertRowAbove(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 下方新添加一行 https://github.com/Vanessa219/vditor/issues/46\n        if (matchHotKey(\"⌘=\", event)) {\n            insertRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 左方新添加一列\n        if (matchHotKey(\"⇧⌘G\", event)) {\n            insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n            event.preventDefault();\n            return true;\n        }\n        // 后方新添加一列\n        if (matchHotKey(\"⇧⌘=\", event)) {\n            insertColumn(vditor, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前行\n        if (matchHotKey(\"⌘-\", event)) {\n            deleteRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前列\n        if (matchHotKey(\"⇧⌘-\", event)) {\n            deleteColumn(vditor, range, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 剧左\n        if (matchHotKey(\"⇧⌘L\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"left\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"left\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧中\n        if (matchHotKey(\"⇧⌘C\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"center\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"center\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧右\n        if (matchHotKey(\"⇧⌘R\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"right\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"right\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n};\nvar fixCodeBlock = function (vditor, event, codeRenderElement, range) {\n    // 行级代码块中 command + a，近对当前代码块进行全选\n    if (codeRenderElement.tagName === \"PRE\" && matchHotKey(\"⌘A\", event)) {\n        range.selectNodeContents(codeRenderElement.firstElementChild);\n        event.preventDefault();\n        return true;\n    }\n    // tab\n    // TODO shift + tab, shift and 选中文字\n    if (vditor.options.tab && event.key === \"Tab\" && !event.shiftKey && range.toString() === \"\") {\n        range.insertNode(document.createTextNode(vditor.options.tab));\n        range.collapse(false);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // Backspace: 光标位于第零个字符，仅删除代码块标签\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n        var codePosition = (0,selection/* getSelectPosition */.im)(codeRenderElement, vditor[vditor.currentMode].element, range);\n        if ((codePosition.start === 0 ||\n            (codePosition.start === 1 && codeRenderElement.innerText === \"\\n\")) // 空代码块，光标在 \\n 后\n            && range.toString() === \"\") {\n            codeRenderElement.parentElement.outerHTML =\n                \"<p data-block=\\\"0\\\"><wbr>\".concat(codeRenderElement.firstElementChild.innerHTML, \"</p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 换行\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        if (!codeRenderElement.firstElementChild.textContent.endsWith(\"\\n\")) {\n            codeRenderElement.firstElementChild.insertAdjacentText(\"beforeend\", \"\\n\");\n        }\n        range.extractContents();\n        range.insertNode(document.createTextNode(\"\\n\"));\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        if (!(0,compatibility/* isFirefox */.vU)()) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                input_input(vditor, range);\n            }\n            else {\n                input(vditor, range);\n            }\n        }\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar fixBlockquote = function (vditor, range, event, pElement) {\n    var startContainer = range.startContainer;\n    var blockquoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"BLOCKQUOTE\");\n    if (blockquoteElement && range.toString() === \"\") {\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey &&\n            (0,selection/* getSelectPosition */.im)(blockquoteElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // Backspace: 光标位于引用中的第零个字符，仅删除引用标签\n            range.insertNode(document.createElement(\"wbr\"));\n            blockquoteElement.outerHTML = blockquoteElement.innerHTML;\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (pElement && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && pElement.parentElement.tagName === \"BLOCKQUOTE\") {\n            // Enter: 空行回车应逐层跳出\n            var isEmpty = false;\n            if (pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\\n\" ||\n                pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                // 空 P\n                isEmpty = true;\n                pElement.remove();\n            }\n            else if (pElement.innerHTML.endsWith(\"\\n\\n\") &&\n                (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start ===\n                    pElement.textContent.length - 1) {\n                // 软换行\n                pElement.innerHTML = pElement.innerHTML.substr(0, pElement.innerHTML.length - 2);\n                isEmpty = true;\n            }\n            if (isEmpty) {\n                // 需添加零宽字符，否则的话无法记录 undo\n                blockquoteElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr>\\n</p>\"));\n                (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        if (vditor.currentMode === \"wysiwyg\" && blockElement && matchHotKey(\"⇧⌘;\", event)) {\n            // 插入 blockquote\n            range.insertNode(document.createElement(\"wbr\"));\n            blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            afterRenderEvent(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n    }\n    return false;\n};\nvar fixTask = function (vditor, range, event) {\n    var startContainer = range.startContainer;\n    var taskItemElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-task\");\n    if (taskItemElement) {\n        if (matchHotKey(\"⇧⌘J\", event)) {\n            // ctrl + shift: toggle checked\n            var inputElement = taskItemElement.firstElementChild;\n            if (inputElement.checked) {\n                inputElement.removeAttribute(\"checked\");\n            }\n            else {\n                inputElement.setAttribute(\"checked\", \"checked\");\n            }\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // Backspace: 在选择框前进行删除\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\"\n            && range.startOffset === 1\n            && ((startContainer.nodeType === 3 && startContainer.previousSibling &&\n                startContainer.previousSibling.tagName === \"INPUT\")\n                || startContainer.nodeType !== 3)) {\n            var previousElement = taskItemElement.previousElementSibling;\n            taskItemElement.querySelector(\"input\").remove();\n            if (previousElement) {\n                var lastNode = (0,hasClosest/* getLastNode */.DX)(previousElement);\n                lastNode.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + taskItemElement.innerHTML.trim());\n                taskItemElement.remove();\n            }\n            else {\n                taskItemElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\".concat(taskItemElement.innerHTML.trim() || \"\\n\", \"</p>\"));\n                if (taskItemElement.nextElementSibling) {\n                    taskItemElement.remove();\n                }\n                else {\n                    taskItemElement.parentElement.remove();\n                }\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n            if (taskItemElement.textContent.trim() === \"\") {\n                // 当前任务列表无文字\n                if ((0,hasClosest/* hasClosestByClassName */.fb)(taskItemElement.parentElement, \"vditor-task\")) {\n                    // 为子元素时，需进行反向缩进\n                    var topListElement = (0,hasClosest/* getTopList */.O9)(startContainer);\n                    if (topListElement) {\n                        listOutdent(vditor, taskItemElement, range, topListElement);\n                    }\n                }\n                else {\n                    // 仅有一级任务列表\n                    if (taskItemElement.nextElementSibling) {\n                        // 任务列表下方还有元素，需要使用用段落隔断\n                        var afterHTML_2 = \"\";\n                        var beforeHTML_1 = \"\";\n                        var isAfter_1 = false;\n                        Array.from(taskItemElement.parentElement.children).forEach(function (taskItem) {\n                            if (taskItemElement.isSameNode(taskItem)) {\n                                isAfter_1 = true;\n                            }\n                            else {\n                                if (isAfter_1) {\n                                    afterHTML_2 += taskItem.outerHTML;\n                                }\n                                else {\n                                    beforeHTML_1 += taskItem.outerHTML;\n                                }\n                            }\n                        });\n                        var parentTagName = taskItemElement.parentElement.tagName;\n                        var dataMarker = taskItemElement.parentElement.tagName === \"OL\" ? \"\" : \" data-marker=\\\"\".concat(taskItemElement.parentElement.getAttribute(\"data-marker\"), \"\\\"\");\n                        var startAttribute = \"\";\n                        if (beforeHTML_1) {\n                            startAttribute = taskItemElement.parentElement.tagName === \"UL\" ? \"\" : \" start=\\\"1\\\"\";\n                            beforeHTML_1 = \"<\".concat(parentTagName, \" data-tight=\\\"true\\\"\").concat(dataMarker, \" data-block=\\\"0\\\">\").concat(beforeHTML_1, \"</\").concat(parentTagName, \">\");\n                        }\n                        // <p data-block=\"0\">\\n<wbr></p> => <p data-block=\"0\"><wbr>\\n</p>\n                        // https://github.com/Vanessa219/vditor/issues/430\n                        taskItemElement.parentElement.outerHTML = \"\".concat(beforeHTML_1, \"<p data-block=\\\"0\\\"><wbr>\\n</p><\").concat(parentTagName, \"\\n data-tight=\\\"true\\\"\").concat(dataMarker, \" data-block=\\\"0\\\"\").concat(startAttribute, \">\").concat(afterHTML_2, \"</\").concat(parentTagName, \">\");\n                    }\n                    else {\n                        // 任务列表下方无任务列表元素\n                        taskItemElement.parentElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\"><wbr>\\n</p>\");\n                        if (taskItemElement.parentElement.querySelectorAll(\"li\").length === 1) {\n                            // 任务列表仅有一项时，使用 p 元素替换\n                            taskItemElement.parentElement.remove();\n                        }\n                        else {\n                            // 任务列表有多项时，当前任务列表位于最后一项，移除该任务列表\n                            taskItemElement.remove();\n                        }\n                    }\n                }\n            }\n            else if (startContainer.nodeType !== 3 && range.startOffset === 0 &&\n                startContainer.firstChild.tagName === \"INPUT\") {\n                // 光标位于 input 之前\n                range.setStart(startContainer.childNodes[1], 1);\n            }\n            else {\n                // 当前任务列表有文字，光标后的文字需添加到新任务列表中\n                range.setEndAfter(taskItemElement.lastChild);\n                taskItemElement.insertAdjacentHTML(\"afterend\", \"<li class=\\\"vditor-task\\\" data-marker=\\\"\".concat(taskItemElement.getAttribute(\"data-marker\"), \"\\\"><input type=\\\"checkbox\\\"> <wbr></li>\"));\n                document.querySelector(\"wbr\").after(range.extractContents());\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixDelete = function (vditor, range, event, pElement) {\n    if (range.startContainer.nodeType !== 3) {\n        // 光标位于 hr 前，hr 前有内容\n        var rangeElement = range.startContainer.children[range.startOffset];\n        if (rangeElement && rangeElement.tagName === \"HR\") {\n            range.selectNodeContents(rangeElement.previousElementSibling);\n            range.collapse(false);\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (pElement) {\n        var previousElement = pElement.previousElementSibling;\n        if (previousElement && (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0 &&\n            (((0,compatibility/* isFirefox */.vU)() && previousElement.tagName === \"HR\") || previousElement.tagName === \"TABLE\")) {\n            if (previousElement.tagName === \"TABLE\") {\n                // table 后删除 https://github.com/Vanessa219/vditor/issues/243\n                var lastCellElement = previousElement.lastElementChild.lastElementChild.lastElementChild;\n                lastCellElement.innerHTML =\n                    lastCellElement.innerHTML.trimLeft() + \"<wbr>\" + pElement.textContent.trim();\n                pElement.remove();\n            }\n            else {\n                // 光标位于 hr 后进行删除\n                previousElement.remove();\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixHR = function (range) {\n    if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.nodeType !== 3 &&\n        range.startContainer.tagName === \"HR\") {\n        range.setStartBefore(range.startContainer);\n    }\n};\n// firefox https://github.com/Vanessa219/vditor/issues/407\nvar fixFirefoxArrowUpTable = function (event, blockElement, range) {\n    var _a, _b;\n    if (!(0,compatibility/* isFirefox */.vU)()) {\n        return false;\n    }\n    if (event.key === \"ArrowUp\" && blockElement && ((_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"TABLE\") {\n        var tableElement = blockElement.previousElementSibling;\n        range.selectNodeContents(tableElement.rows[tableElement.rows.length - 1].lastElementChild);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (event.key === \"ArrowDown\" && blockElement && ((_b = blockElement.nextElementSibling) === null || _b === void 0 ? void 0 : _b.tagName) === \"TABLE\") {\n        range.selectNodeContents(blockElement.nextElementSibling.rows[0].cells[0]);\n        range.collapse(true);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar paste = function (vditor, event, callback) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var textHTML, textPlain, files, renderers, renderLinkDest, doc, height, code, codeElement, position, tempElement, fileReader_1, file_1, range, blockElement, range;\n    var _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") !== \"true\") {\n                    return [2 /*return*/];\n                }\n                event.stopPropagation();\n                event.preventDefault();\n                if (\"clipboardData\" in event) {\n                    textHTML = event.clipboardData.getData(\"text/html\");\n                    textPlain = event.clipboardData.getData(\"text/plain\");\n                    files = event.clipboardData.files;\n                }\n                else {\n                    textHTML = event.dataTransfer.getData(\"text/html\");\n                    textPlain = event.dataTransfer.getData(\"text/plain\");\n                    if (event.dataTransfer.types.includes(\"Files\")) {\n                        files = event.dataTransfer.items;\n                    }\n                }\n                renderers = {};\n                renderLinkDest = function (node, entering) {\n                    if (!entering) {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    if (vditor.options.upload.renderLinkDest) {\n                        return vditor.options.upload.renderLinkDest(vditor, node, entering);\n                    }\n                    var src = node.TokensStr();\n                    if (node.__internal_object__.Parent.Type === 34 && src && src.indexOf(\"file://\") === -1 &&\n                        vditor.options.upload.linkToImgUrl) {\n                        var xhr_1 = new XMLHttpRequest();\n                        xhr_1.open(\"POST\", vditor.options.upload.linkToImgUrl);\n                        if (vditor.options.upload.token) {\n                            xhr_1.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                        }\n                        if (vditor.options.upload.withCredentials) {\n                            xhr_1.withCredentials = true;\n                        }\n                        setHeaders(vditor, xhr_1);\n                        xhr_1.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n                        xhr_1.onreadystatechange = function () {\n                            if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                                if (xhr_1.status === 200) {\n                                    var responseText = xhr_1.responseText;\n                                    if (vditor.options.upload.linkToImgFormat) {\n                                        responseText = vditor.options.upload.linkToImgFormat(xhr_1.responseText);\n                                    }\n                                    var responseJSON_1 = JSON.parse(responseText);\n                                    if (responseJSON_1.code !== 0) {\n                                        vditor.tip.show(responseJSON_1.msg);\n                                        return;\n                                    }\n                                    var original_1 = responseJSON_1.data.originalURL;\n                                    if (vditor.currentMode === \"sv\") {\n                                        vditor.sv.element.querySelectorAll(\".vditor-sv__marker--link\")\n                                            .forEach(function (item) {\n                                            if (item.textContent === original_1) {\n                                                item.textContent = responseJSON_1.data.url;\n                                            }\n                                        });\n                                    }\n                                    else {\n                                        var imgElement = vditor[vditor.currentMode].element.querySelector(\"img[src=\\\"\".concat(original_1, \"\\\"]\"));\n                                        imgElement.src = responseJSON_1.data.url;\n                                        if (vditor.currentMode === \"ir\") {\n                                            imgElement.previousElementSibling.previousElementSibling.innerHTML =\n                                                responseJSON_1.data.url;\n                                        }\n                                    }\n                                    execAfterRender(vditor);\n                                }\n                                else {\n                                    vditor.tip.show(xhr_1.responseText);\n                                }\n                                if (vditor.options.upload.linkToImgCallback) {\n                                    vditor.options.upload.linkToImgCallback(xhr_1.responseText);\n                                }\n                            }\n                        };\n                        xhr_1.send(JSON.stringify({ url: src }));\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        return [\"<span class=\\\"vditor-ir__marker vditor-ir__marker--link\\\">\".concat(Lute.EscapeHTMLStr(src), \"</span>\"), Lute.WalkContinue];\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    else {\n                        return [\"<span class=\\\"vditor-sv__marker--link\\\">\".concat(Lute.EscapeHTMLStr(src), \"</span>\"), Lute.WalkContinue];\n                    }\n                };\n                // 浏览器地址栏拷贝处理\n                if (textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                    \"<a href=\\\"\".concat(textPlain, \"\\\">\").concat(textPlain, \"</a>\") ||\n                    textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                        \"<!--StartFragment--><a href=\\\"\".concat(textPlain, \"\\\">\").concat(textPlain, \"</a><!--EndFragment-->\")) {\n                    textHTML = \"\";\n                }\n                doc = new DOMParser().parseFromString(textHTML, \"text/html\");\n                if (doc.body) {\n                    textHTML = doc.body.innerHTML;\n                }\n                textHTML = Lute.Sanitize(textHTML);\n                vditor.wysiwyg.getComments(vditor);\n                height = vditor[vditor.currentMode].element.scrollHeight;\n                code = processPasteCode(textHTML, textPlain, vditor.currentMode);\n                codeElement = vditor.currentMode === \"sv\" ?\n                    (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"code-block\") :\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"CODE\");\n                if (!codeElement) return [3 /*break*/, 1];\n                // 粘贴在代码位置\n                if (vditor.currentMode === \"sv\") {\n                    document.execCommand(\"insertHTML\", false, textPlain.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"));\n                }\n                else {\n                    position = (0,selection/* getSelectPosition */.im)(event.target, vditor[vditor.currentMode].element);\n                    if (codeElement.parentElement.tagName !== \"PRE\") {\n                        // https://github.com/Vanessa219/vditor/issues/463\n                        textPlain += constants/* Constants.ZWSP */.g.ZWSP;\n                    }\n                    codeElement.textContent = codeElement.textContent.substring(0, position.start)\n                        + textPlain + codeElement.textContent.substring(position.end);\n                    (0,selection/* setSelectionByPosition */.$j)(position.start + textPlain.length, position.start + textPlain.length, codeElement.parentElement);\n                    if ((_a = codeElement.parentElement) === null || _a === void 0 ? void 0 : _a.nextElementSibling.classList.contains(\"vditor-\".concat(vditor.currentMode, \"__preview\"))) {\n                        codeElement.parentElement.nextElementSibling.innerHTML = codeElement.outerHTML;\n                        processCodeRender(codeElement.parentElement.nextElementSibling, vditor);\n                    }\n                }\n                return [3 /*break*/, 8];\n            case 1:\n                if (!code) return [3 /*break*/, 2];\n                callback.pasteCode(code);\n                return [3 /*break*/, 8];\n            case 2:\n                if (!(textHTML.trim() !== \"\")) return [3 /*break*/, 3];\n                tempElement = document.createElement(\"div\");\n                tempElement.innerHTML = textHTML;\n                tempElement.querySelectorAll(\"[style]\").forEach(function (e) {\n                    e.removeAttribute(\"style\");\n                });\n                tempElement.querySelectorAll(\".vditor-copy\").forEach(function (e) {\n                    e.remove();\n                });\n                if (vditor.currentMode === \"ir\") {\n                    renderers.HTML2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorIRDOM(tempElement.innerHTML), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    renderers.HTML2VditorDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorDOM(tempElement.innerHTML), vditor);\n                }\n                else {\n                    renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    processPaste(vditor, vditor.lute.HTML2Md(tempElement.innerHTML).trimRight());\n                }\n                vditor.outline.render(vditor);\n                return [3 /*break*/, 8];\n            case 3:\n                if (!(files.length > 0)) return [3 /*break*/, 7];\n                if (!(vditor.options.upload.url || vditor.options.upload.handler)) return [3 /*break*/, 5];\n                return [4 /*yield*/, uploadFiles(vditor, files)];\n            case 4:\n                _b.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                fileReader_1 = new FileReader();\n                if (\"clipboardData\" in event) {\n                    files = event.clipboardData.files;\n                    file_1 = files[0];\n                }\n                else if (event.dataTransfer.types.includes(\"Files\")) {\n                    files = event.dataTransfer.items;\n                    file_1 = files[0].getAsFile();\n                }\n                if (file_1 && file_1.type.startsWith(\"image\")) {\n                    fileReader_1.readAsDataURL(file_1);\n                    fileReader_1.onload = function () {\n                        var imgHTML = '';\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            imgHTML += \"<img alt=\\\"\".concat(file_1.name, \"\\\" src=\\\"\").concat(fileReader_1.result.toString(), \"\\\">\\n\");\n                        }\n                        else {\n                            imgHTML += \"![\".concat(file_1.name, \"](\").concat(fileReader_1.result.toString(), \")\\n\");\n                        }\n                        document.execCommand(\"insertHTML\", false, imgHTML);\n                    };\n                }\n                _b.label = 6;\n            case 6: return [3 /*break*/, 8];\n            case 7:\n                if (textPlain.trim() !== \"\" && files.length === 0) {\n                    range = (0,selection/* getEditorRange */.zh)(vditor);\n                    if (range.toString() !== \"\" && vditor.lute.IsValidLinkDest(textPlain)) {\n                        textPlain = \"[\".concat(range.toString(), \"](\").concat(textPlain, \")\");\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        renderers.Md2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorIRDOM(textPlain), vditor);\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        renderers.Md2VditorDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorDOM(textPlain), vditor);\n                    }\n                    else {\n                        renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        processPaste(vditor, textPlain);\n                    }\n                    vditor.outline.render(vditor);\n                }\n                _b.label = 8;\n            case 8:\n                if (vditor.currentMode !== \"sv\") {\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)((0,selection/* getEditorRange */.zh)(vditor).startContainer);\n                    if (blockElement) {\n                        range = (0,selection/* getEditorRange */.zh)(vditor);\n                        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n                            wbr.remove();\n                        });\n                        range.insertNode(document.createElement(\"wbr\"));\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                        }\n                        else {\n                            blockElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.outerHTML);\n                        }\n                        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                    }\n                    vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                        .forEach(function (item) {\n                        processCodeRender(item, vditor);\n                    });\n                }\n                vditor.wysiwyg.triggerRemoveComment(vditor);\n                execAfterRender(vditor);\n                if (vditor[vditor.currentMode].element.scrollHeight - height >\n                    Math.min(vditor[vditor.currentMode].element.clientHeight, window.innerHeight) / 2) {\n                    scrollCenter(vditor);\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar templateObject_1;\n\n;// CONCATENATED MODULE: ./src/ts/ir/process.ts\n\n\n\n\n\n\n\n\n\nvar processHint = function (vditor) {\n    vditor.hint.render(vditor);\n    var startContainer = (0,selection/* getEditorRange */.zh)(vditor).startContainer;\n    // 代码块语言提示\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (preBeforeElement.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && vditor.hint.recentLanguage) {\n            preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + vditor.hint.recentLanguage;\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            range.selectNodeContents(preBeforeElement);\n        }\n        else {\n            var matchLangData_1 = [];\n            var key_1 = preBeforeElement.textContent.substring(0, (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start)\n                .replace(constants/* Constants.ZWSP */.g.ZWSP, \"\");\n            (vditor.options.preview.hljs.langs || constants/* Constants.CODE_LANGUAGES */.g.CODE_LANGUAGES).forEach(function (keyName) {\n                if (keyName.indexOf(key_1.toLowerCase()) > -1) {\n                    matchLangData_1.push({\n                        html: keyName,\n                        value: keyName,\n                    });\n                }\n            });\n            vditor.hint.genHTML(matchLangData_1, key_1, vditor);\n        }\n    }\n};\nvar process_processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        processHint(vditor);\n    }\n    clearTimeout(vditor.ir.processTimeoutId);\n    vditor.ir.processTimeoutId = window.setTimeout(function () {\n        if (vditor.ir.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar process_processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || range.startContainer;\n    if (headingElement) {\n        var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n        if (headingMarkerElement) {\n            headingMarkerElement.innerHTML = value;\n        }\n        else {\n            headingElement.insertAdjacentText(\"afterbegin\", value);\n            range.selectNodeContents(headingElement);\n            range.collapse(false);\n        }\n        input(vditor, range.cloneRange());\n        highlightToolbarIR(vditor);\n    }\n};\nvar removeInline = function (range, vditor, type) {\n    var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", type);\n    if (inlineElement) {\n        inlineElement.firstElementChild.remove();\n        inlineElement.lastElementChild.remove();\n        range.insertNode(document.createElement(\"wbr\"));\n        var tempElement = document.createElement(\"div\");\n        tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(inlineElement.outerHTML);\n        inlineElement.outerHTML = tempElement.firstElementChild.innerHTML.trim();\n    }\n};\nvar process_processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    var typeElement = range.startContainer;\n    if (typeElement.nodeType === 3) {\n        typeElement = typeElement.parentElement;\n    }\n    var useHighlight = true;\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n            if (quoteElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\".concat(quoteElement.innerHTML, \"</p>\") : quoteElement.innerHTML;\n            }\n        }\n        else if (commandName === \"link\") {\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"a\");\n            if (aElement) {\n                var aTextElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__link\");\n                if (aTextElement) {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    aElement.outerHTML = aTextElement.innerHTML;\n                }\n                else {\n                    aElement.outerHTML = aElement.querySelector(\".vditor-ir__link\").innerHTML + \"<wbr>\";\n                }\n            }\n        }\n        else if (commandName === \"italic\") {\n            removeInline(range, vditor, \"em\");\n        }\n        else if (commandName === \"bold\") {\n            removeInline(range, vditor, \"strong\");\n        }\n        else if (commandName === \"strike\") {\n            removeInline(range, vditor, \"s\");\n        }\n        else if (commandName === \"inline-code\") {\n            removeInline(range, vditor, \"code\");\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n    }\n    else {\n        // 添加\n        if (vditor.ir.element.childNodes.length === 0) {\n            vditor.ir.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n            }\n        }\n        else if (commandName === \"quote\") {\n            if (blockElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\".concat(blockElement.outerHTML, \"</blockquote>\");\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n            }\n        }\n        else if (commandName === \"link\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = \"\".concat(prefix, \"<wbr>\").concat(suffix);\n            }\n            else {\n                html = \"\".concat(prefix).concat(range.toString()).concat(suffix.replace(\")\", \"<wbr>)\"));\n            }\n            document.execCommand(\"insertHTML\", false, html);\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\"\n            || commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = \"\".concat(prefix, \"<wbr>\").concat(suffix);\n            }\n            else {\n                if (commandName === \"code\") {\n                    html = \"\".concat(prefix, \"\\n\").concat(range.toString(), \"<wbr>\").concat(suffix);\n                }\n                else if (commandName === \"table\") {\n                    html = \"\".concat(prefix).concat(range.toString(), \"<wbr>\").concat(suffix);\n                }\n                else {\n                    html = \"\".concat(prefix).concat(range.toString()).concat(suffix, \"<wbr>\");\n                }\n                range.deleteContents();\n            }\n            if (commandName === \"table\" || commandName === \"code\") {\n                html = \"\\n\" + html + \"\\n\\n\";\n            }\n            var spanElement = document.createElement(\"span\");\n            spanElement.innerHTML = html;\n            range.insertNode(spanElement);\n            input(vditor, range);\n            if (commandName === \"table\") {\n                range.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    process_processAfterRender(vditor);\n    if (useHighlight) {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/hint/index.ts\nvar hint_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar hint_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\nvar Hint = /** @class */ (function () {\n    function Hint(hintExtends) {\n        var _this = this;\n        this.splitChar = \"\";\n        this.lastIndex = -1;\n        this.fillEmoji = function (element, vditor) {\n            _this.element.style.display = \"none\";\n            var value = decodeURIComponent(element.getAttribute(\"data-value\"));\n            var range = window.getSelection().getRangeAt(0);\n            // 代码提示\n            if (vditor.currentMode === \"ir\") {\n                var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"code-block-info\");\n                if (preBeforeElement) {\n                    preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + value.trimRight();\n                    range.selectNodeContents(preBeforeElement);\n                    range.collapse(false);\n                    process_processAfterRender(vditor);\n                    preBeforeElement.parentElement.querySelectorAll(\"code\").forEach(function (item) {\n                        item.className = \"language-\" + value.trimRight();\n                    });\n                    processCodeRender(preBeforeElement.parentElement.querySelector(\".vditor-ir__preview\"), vditor);\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            if (vditor.currentMode === \"wysiwyg\" && range.startContainer.nodeType !== 3) {\n                var startContainer = range.startContainer;\n                var inputElement = void 0;\n                if (startContainer.classList.contains(\"vditor-input\")) {\n                    inputElement = startContainer;\n                }\n                else {\n                    inputElement = startContainer.firstElementChild;\n                }\n                if (inputElement && inputElement.classList.contains(\"vditor-input\")) {\n                    inputElement.value = value.trimRight();\n                    range.selectNodeContents(inputElement);\n                    range.collapse(false);\n                    // {detail: 1}用于标识这个自定义事件是在编程语言选择后触发的\n                    // 用于在鼠标选择语言后，自动聚焦到代码输入框\n                    inputElement.dispatchEvent(new CustomEvent(\"input\", { detail: 1 }));\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            range.setStart(range.startContainer, _this.lastIndex);\n            range.deleteContents();\n            if (vditor.options.hint.parse) {\n                if (vditor.currentMode === \"sv\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorSVDOM(value), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorDOM(value), vditor);\n                }\n                else {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorIRDOM(value), vditor);\n                }\n            }\n            else {\n                (0,selection/* insertHTML */.oC)(value, vditor);\n            }\n            if (_this.splitChar === \":\" && value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                range.insertNode(document.createTextNode(\" \"));\n            }\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            if (vditor.currentMode === \"wysiwyg\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__block\");\n                if (preElement && preElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                    preElement.lastElementChild.innerHTML = preElement.firstElementChild.innerHTML;\n                    processCodeRender(preElement.lastElementChild, vditor);\n                }\n            }\n            else if (vditor.currentMode === \"ir\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker--pre\");\n                if (preElement && preElement.nextElementSibling.classList.contains(\"vditor-ir__preview\")) {\n                    preElement.nextElementSibling.innerHTML = preElement.innerHTML;\n                    processCodeRender(preElement.nextElementSibling, vditor);\n                }\n            }\n            execAfterRender(vditor);\n        };\n        this.timeId = -1;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-hint\";\n        this.recentLanguage = \"\";\n        hintExtends.push({ key: \":\" });\n    }\n    Hint.prototype.render = function (vditor) {\n        var _this = this;\n        if (!window.getSelection().focusNode) {\n            return;\n        }\n        var currentLineValue;\n        var range = getSelection().getRangeAt(0);\n        currentLineValue = range.startContainer.textContent.substring(0, range.startOffset) || \"\";\n        var key = this.getKey(currentLineValue, vditor.options.hint.extend);\n        if (typeof key === \"undefined\") {\n            this.element.style.display = \"none\";\n            clearTimeout(this.timeId);\n        }\n        else {\n            if (this.splitChar === \":\") {\n                var emojiHint_1 = key === \"\" ? vditor.options.hint.emoji : vditor.lute.GetEmojis();\n                var matchEmojiData_1 = [];\n                Object.keys(emojiHint_1).forEach(function (keyName) {\n                    if (keyName.indexOf(key.toLowerCase()) === 0) {\n                        if (emojiHint_1[keyName].indexOf(\".\") > -1) {\n                            matchEmojiData_1.push({\n                                html: \"<img src=\\\"\".concat(emojiHint_1[keyName], \"\\\" title=\\\":\").concat(keyName, \":\\\"/> :\").concat(keyName, \":\"),\n                                value: \":\".concat(keyName, \":\"),\n                            });\n                        }\n                        else {\n                            matchEmojiData_1.push({\n                                html: \"<span class=\\\"vditor-hint__emoji\\\">\".concat(emojiHint_1[keyName], \"</span>\").concat(keyName),\n                                value: emojiHint_1[keyName],\n                            });\n                        }\n                    }\n                });\n                this.genHTML(matchEmojiData_1, key, vditor);\n            }\n            else {\n                vditor.options.hint.extend.forEach(function (item) {\n                    if (item.key === _this.splitChar) {\n                        clearTimeout(_this.timeId);\n                        _this.timeId = window.setTimeout(function () { return hint_awaiter(_this, void 0, void 0, function () {\n                            var _a;\n                            return hint_generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        _a = this.genHTML;\n                                        return [4 /*yield*/, item.hint(key)];\n                                    case 1:\n                                        _a.apply(this, [_b.sent(), key, vditor]);\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); }, vditor.options.hint.delay);\n                    }\n                });\n            }\n        }\n    };\n    Hint.prototype.genHTML = function (data, key, vditor) {\n        var _this = this;\n        if (data.length === 0) {\n            this.element.style.display = \"none\";\n            return;\n        }\n        var editorElement = vditor[vditor.currentMode].element;\n        var textareaPosition = (0,selection/* getCursorPosition */.Ny)(editorElement);\n        var x = textareaPosition.left +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0);\n        var y = textareaPosition.top;\n        var hintsHTML = \"\";\n        data.forEach(function (hintData, i) {\n            if (i > 7) {\n                return;\n            }\n            // process high light\n            var html = hintData.html;\n            if (key !== \"\") {\n                var lastIndex = html.lastIndexOf(\">\") + 1;\n                var replaceHtml = html.substr(lastIndex);\n                var replaceIndex = replaceHtml.toLowerCase().indexOf(key.toLowerCase());\n                if (replaceIndex > -1) {\n                    replaceHtml = replaceHtml.substring(0, replaceIndex) + \"<b>\" +\n                        replaceHtml.substring(replaceIndex, replaceIndex + key.length) + \"</b>\" +\n                        replaceHtml.substring(replaceIndex + key.length);\n                    html = html.substr(0, lastIndex) + replaceHtml;\n                }\n            }\n            hintsHTML += \"<button type=\\\"button\\\" data-value=\\\"\".concat(encodeURIComponent(hintData.value), \" \\\"\\n\").concat(i === 0 ? \"class='vditor-hint--current'\" : \"\", \"> \").concat(html, \"</button>\");\n        });\n        this.element.innerHTML = hintsHTML;\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(editorElement, null)\n            .getPropertyValue(\"line-height\"), 10);\n        this.element.style.top = \"\".concat(y + (lineHeight || 22), \"px\");\n        this.element.style.left = \"\".concat(x, \"px\");\n        this.element.style.display = \"block\";\n        this.element.style.right = \"auto\";\n        this.element.querySelectorAll(\"button\").forEach(function (element) {\n            element.addEventListener(\"click\", function (event) {\n                _this.fillEmoji(element, vditor);\n                event.preventDefault();\n            });\n        });\n        // hint 展现在上部\n        if (this.element.getBoundingClientRect().bottom > window.innerHeight) {\n            this.element.style.top = \"\".concat(y - this.element.offsetHeight, \"px\");\n        }\n        if (this.element.getBoundingClientRect().right > window.innerWidth) {\n            this.element.style.left = \"auto\";\n            this.element.style.right = \"0\";\n        }\n    };\n    Hint.prototype.select = function (event, vditor) {\n        if (this.element.querySelectorAll(\"button\").length === 0 ||\n            this.element.style.display === \"none\") {\n            return false;\n        }\n        var currentHintElement = this.element.querySelector(\".vditor-hint--current\");\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.nextElementSibling) {\n                this.element.children[0].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.nextElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.previousElementSibling) {\n                var length_1 = this.element.children.length;\n                this.element.children[length_1 - 1].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.previousElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\" && !event.isComposing) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fillEmoji(currentHintElement, vditor);\n            return true;\n        }\n        return false;\n    };\n    Hint.prototype.getKey = function (currentLineValue, extend) {\n        var _this = this;\n        this.lastIndex = -1;\n        this.splitChar = \"\";\n        extend.forEach(function (item) {\n            var currentLastIndex = currentLineValue.lastIndexOf(item.key);\n            if (_this.lastIndex < currentLastIndex) {\n                _this.splitChar = item.key;\n                _this.lastIndex = currentLastIndex;\n            }\n        });\n        var key;\n        if (this.lastIndex === -1) {\n            return key;\n        }\n        var lineArray = currentLineValue.split(this.splitChar);\n        var lastItem = lineArray[lineArray.length - 1];\n        var maxLength = 32;\n        if (lineArray.length > 1 && lastItem.trim() === lastItem) {\n            if (lineArray.length === 2 && lineArray[0] === \"\" && lineArray[1].length < maxLength) {\n                key = lineArray[1];\n            }\n            else {\n                var preChar = lineArray[lineArray.length - 2].slice(-1);\n                if ((0,code160to32/* code160to32 */.X)(preChar) === \" \" && lastItem.length < maxLength) {\n                    key = lastItem;\n                }\n            }\n        }\n        return key;\n    };\n    return Hint;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ir/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar IR = /** @class */ (function () {\n    function IR(vditor) {\n        this.composingLock = false;\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-ir\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\".concat(vditor.options.placeholder, \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\");\n        this.element = divElement.firstElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    IR.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorIRDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    IR.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input(vditor, getSelection().getRangeAt(0).cloneRange());\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                process_processAfterRender(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: true,\n                    enableInput: true,\n                });\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            input(vditor, getSelection().getRangeAt(0).cloneRange(), false, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                if (event.target.checked) {\n                    event.target.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    event.target.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                process_processAfterRender(vditor);\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            // 点击后光标落于预览区\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-ir__preview\");\n            if (!previewElement) {\n                previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            }\n            if (previewElement) {\n                if (previewElement.previousElementSibling.firstElementChild) {\n                    range.selectNodeContents(previewElement.previousElementSibling.firstElementChild);\n                }\n                else {\n                    // 行内数学公式\n                    range.selectNodeContents(previewElement.previousElementSibling);\n                }\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                scrollCenter(vditor);\n            }\n            // 点击图片光标选中图片地址\n            if (event.target.tagName === \"IMG\") {\n                var linkElement = event.target.parentElement.querySelector(\".vditor-ir__marker--link\");\n                if (linkElement) {\n                    range.selectNode(linkElement);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n            }\n            // 打开链接\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"a\");\n            if (aElement && (!aElement.classList.contains(\"vditor-ir__node--expand\"))) {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(aElement.querySelector(\":scope > .vditor-ir__marker--link\"));\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(aElement.querySelector(\":scope > .vditor-ir__marker--link\").textContent);\n                }\n                return;\n            }\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            if (range.toString() === \"\") {\n                expandMarker(range, vditor);\n            }\n            else {\n                // https://github.com/Vanessa219/vditor/pull/681 当点击选中区域时 eventTarget 与 range 不一致，需延迟等待 range 发生变化\n                setTimeout(function () {\n                    expandMarker((0,selection/* getEditorRange */.zh)(vditor), vditor);\n                });\n            }\n            clickToc(event, vditor);\n            highlightToolbarIR(vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            highlightToolbarIR(vditor);\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.ir.element.innerHTML !== \"\" && vditor.ir.element.childNodes.length === 1 &&\n                vditor.ir.element.firstElementChild && vditor.ir.element.firstElementChild.tagName === \"P\"\n                && vditor.ir.element.firstElementChild.childElementCount === 0\n                && (vditor.ir.element.textContent === \"\" || vditor.ir.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.ir.element.innerHTML = \"\";\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                    expandMarker(range, vditor);\n                }\n                // 数学公式前是空块，空块前是 table，在空块前删除，数学公式会多一个 br\n                _this.element.querySelectorAll(\".language-math\").forEach(function (item) {\n                    var brElement = item.querySelector(\"br\");\n                    if (brElement) {\n                        brElement.remove();\n                    }\n                });\n            }\n            else if (event.key.indexOf(\"Arrow\") > -1) {\n                if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                    processHint(vditor);\n                }\n                expandMarker(range, vditor);\n            }\n            else if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\") {\n                // https://github.com/Vanessa219/vditor/issues/508 IR 删除到节点需展开\n                expandMarker(range, vditor);\n            }\n            var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            if (previewRenderElement) {\n                if (event.key === \"ArrowUp\" || event.key === \"ArrowLeft\") {\n                    if (previewRenderElement.previousElementSibling.firstElementChild) {\n                        range.selectNodeContents(previewRenderElement.previousElementSibling.firstElementChild);\n                    }\n                    else {\n                        // 行内数学公式/html entity\n                        range.selectNodeContents(previewRenderElement.previousElementSibling);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n                if (previewRenderElement.tagName === \"SPAN\" &&\n                    (event.key === \"ArrowDown\" || event.key === \"ArrowRight\")) {\n                    if (previewRenderElement.parentElement.getAttribute(\"data-type\") === \"html-entity\") {\n                        // html entity\n                        previewRenderElement.parentElement.insertAdjacentText(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n                        range.setStart(previewRenderElement.parentElement.nextSibling, 1);\n                    }\n                    else {\n                        range.selectNodeContents(previewRenderElement.parentElement.lastElementChild);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        });\n    };\n    return IR;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/markdown/getHTML.ts\n\nvar getHTML = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return vditor.lute.Md2HTML(getMarkdown(vditor));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2HTML(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2HTML(vditor.ir.element.innerHTML);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(65);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(182);\n;// CONCATENATED MODULE: ./src/ts/outline/index.ts\n\n\n\n\nvar Outline = /** @class */ (function () {\n    function Outline(outlineLabel) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-outline\";\n        this.element.innerHTML = \"<div class=\\\"vditor-outline__title\\\">\".concat(outlineLabel, \"</div>\\n<div class=\\\"vditor-outline__content\\\"></div>\");\n    }\n    Outline.prototype.render = function (vditor) {\n        var html = \"\";\n        if (vditor.preview.element.style.display === \"block\") {\n            html = (0,outlineRender/* outlineRender */.k)(vditor.preview.previewElement, this.element.lastElementChild, vditor);\n        }\n        else {\n            html = (0,outlineRender/* outlineRender */.k)(vditor[vditor.currentMode].element, this.element.lastElementChild, vditor);\n        }\n        return html;\n    };\n    Outline.prototype.toggle = function (vditor, show, focus) {\n        var _a;\n        if (show === void 0) { show = true; }\n        if (focus === void 0) { focus = true; }\n        var btnElement = (_a = vditor.toolbar.elements.outline) === null || _a === void 0 ? void 0 : _a.firstElementChild;\n        if (show && window.innerWidth >= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH) {\n            this.element.style.display = \"block\";\n            this.render(vditor);\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.add(\"vditor-menu--current\");\n        }\n        else {\n            this.element.style.display = \"none\";\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.remove(\"vditor-menu--current\");\n        }\n        if (focus && getSelection().rangeCount > 0) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        setPadding(vditor);\n    };\n    return Outline;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(431);\n;// CONCATENATED MODULE: ./src/ts/preview/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Preview = /** @class */ (function () {\n    function Preview(vditor) {\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-preview\";\n        this.previewElement = document.createElement(\"div\");\n        this.previewElement.className = \"vditor-reset\";\n        if (vditor.options.classes.preview) {\n            this.previewElement.classList.add(vditor.options.classes.preview);\n        }\n        this.previewElement.style.maxWidth = vditor.options.preview.maxWidth + \"px\";\n        this.previewElement.addEventListener(\"copy\", function (event) {\n            if (event.target.tagName === \"TEXTAREA\") {\n                // https://github.com/Vanessa219/vditor/issues/901\n                return;\n            }\n            var tempElement = document.createElement(\"div\");\n            tempElement.className = \"vditor-reset\";\n            tempElement.appendChild(getSelection().getRangeAt(0).cloneContents());\n            _this.copyToX(vditor, tempElement, \"default\");\n            event.preventDefault();\n        });\n        this.previewElement.addEventListener(\"click\", function (event) {\n            var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n            if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                var headingElement = _this.previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                if (headingElement) {\n                    _this.element.scrollTop = headingElement.offsetTop;\n                }\n                return;\n            }\n            if (event.target.tagName === \"A\") {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(event.target);\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(event.target.getAttribute(\"href\"));\n                }\n                event.preventDefault();\n                return;\n            }\n            if (event.target.tagName === \"IMG\") {\n                if (vditor.options.image.preview) {\n                    vditor.options.image.preview(event.target);\n                }\n                else if (vditor.options.image.isPreview) {\n                    (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n                }\n            }\n        });\n        this.element.appendChild(this.previewElement);\n        var actions = vditor.options.preview.actions;\n        if (actions.length === 0) {\n            return;\n        }\n        var actionElement = document.createElement(\"div\");\n        actionElement.className = \"vditor-preview__action\";\n        var actionHtml = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (typeof action === \"object\") {\n                actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"\".concat(action.key, \"\\\" class=\\\"\").concat(action.className, \"\\\"\").concat(action.tooltip ? \" aria-label=\\\"\".concat(action.tooltip, \"\\\"\") : \"\", \"\\\">\").concat(action.text, \"</button>\"));\n                continue;\n            }\n            switch (action) {\n                case \"desktop\":\n                    actionHtml.push(\"<button type=\\\"button\\\" class=\\\"vditor-preview__action--current\\\" data-type=\\\"desktop\\\">Desktop</button>\");\n                    break;\n                case \"tablet\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"tablet\\\">Tablet</button>\");\n                    break;\n                case \"mobile\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mobile\\\">Mobile/Wechat</button>\");\n                    break;\n                case \"mp-wechat\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mp-wechat\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u516C\\u4F17\\u53F7\\\"><svg><use xlink:href=\\\"#vditor-icon-mp-wechat\\\"></use></svg></button>\");\n                    break;\n                case \"zhihu\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"zhihu\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u77E5\\u4E4E\\\"><svg><use xlink:href=\\\"#vditor-icon-zhihu\\\"></use></svg></button>\");\n                    break;\n            }\n        }\n        actionElement.innerHTML = actionHtml.join(\"\");\n        actionElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btn = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (!btn) {\n                return;\n            }\n            var type = btn.getAttribute(\"data-type\");\n            var actionCustom = actions.find(function (w) { return (w === null || w === void 0 ? void 0 : w.key) === type; });\n            if (actionCustom) {\n                actionCustom.click(type);\n                return;\n            }\n            if (type === \"mp-wechat\" || type === \"zhihu\") {\n                _this.copyToX(vditor, _this.previewElement.cloneNode(true), type);\n                return;\n            }\n            if (type === \"desktop\") {\n                _this.previewElement.style.width = \"auto\";\n            }\n            else if (type === \"tablet\") {\n                _this.previewElement.style.width = \"780px\";\n            }\n            else {\n                _this.previewElement.style.width = \"360px\";\n            }\n            if (_this.previewElement.scrollWidth > _this.previewElement.parentElement.clientWidth) {\n                _this.previewElement.style.width = \"auto\";\n            }\n            _this.render(vditor);\n            actionElement.querySelectorAll(\"button\").forEach(function (item) {\n                item.classList.remove(\"vditor-preview__action--current\");\n            });\n            btn.classList.add(\"vditor-preview__action--current\");\n        });\n        this.element.insertBefore(actionElement, this.previewElement);\n    }\n    Preview.prototype.render = function (vditor, value) {\n        var _this = this;\n        clearTimeout(this.mdTimeoutId);\n        if (this.element.style.display === \"none\") {\n            if (this.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n                vditor.tip.hide();\n            }\n            return;\n        }\n        if (value) {\n            this.previewElement.innerHTML = value;\n            return;\n        }\n        if (getMarkdown(vditor)\n            .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\") === \"\") {\n            this.previewElement.innerHTML = \"\";\n            return;\n        }\n        var renderStartTime = new Date().getTime();\n        var markdownText = getMarkdown(vditor);\n        this.mdTimeoutId = window.setTimeout(function () {\n            if (vditor.options.preview.url) {\n                var xhr_1 = new XMLHttpRequest();\n                xhr_1.open(\"POST\", vditor.options.preview.url);\n                xhr_1.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                xhr_1.onreadystatechange = function () {\n                    if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                        if (xhr_1.status === 200) {\n                            var responseJSON = JSON.parse(xhr_1.responseText);\n                            if (responseJSON.code !== 0) {\n                                vditor.tip.show(responseJSON.msg);\n                                return;\n                            }\n                            if (vditor.options.preview.transform) {\n                                responseJSON.data = vditor.options.preview.transform(responseJSON.data);\n                            }\n                            _this.previewElement.innerHTML = responseJSON.data;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                        else {\n                            var html = vditor.lute.Md2HTML(markdownText);\n                            if (vditor.options.preview.transform) {\n                                html = vditor.options.preview.transform(html);\n                            }\n                            _this.previewElement.innerHTML = html;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                    }\n                };\n                xhr_1.send(JSON.stringify({ markdownText: markdownText }));\n            }\n            else {\n                var html = vditor.lute.Md2HTML(markdownText);\n                if (vditor.options.preview.transform) {\n                    html = vditor.options.preview.transform(html);\n                }\n                _this.previewElement.innerHTML = html;\n                _this.afterRender(vditor, renderStartTime);\n            }\n        }, vditor.options.preview.delay);\n    };\n    Preview.prototype.afterRender = function (vditor, startTime) {\n        if (vditor.options.preview.parse) {\n            vditor.options.preview.parse(this.element);\n        }\n        var time = (new Date().getTime() - startTime);\n        if ((new Date().getTime() - startTime) > 2600) {\n            // https://github.com/b3log/vditor/issues/67\n            vditor.tip.show(window.VditorI18n.performanceTip.replace(\"${x}\", time.toString()));\n            vditor.preview.element.setAttribute(\"data-type\", \"renderPerformance\");\n        }\n        else if (vditor.preview.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n            vditor.tip.hide();\n            vditor.preview.element.removeAttribute(\"data-type\");\n        }\n        var cmtFocusElement = vditor.preview.element.querySelector(\".vditor-comment--focus\");\n        if (cmtFocusElement) {\n            cmtFocusElement.classList.remove(\"vditor-comment--focus\");\n        }\n        (0,codeRender/* codeRender */.O)(vditor.preview.previewElement, vditor.options.preview.hljs);\n        (0,highlightRender/* highlightRender */.s)(vditor.options.preview.hljs, vditor.preview.previewElement, vditor.options.cdn);\n        (0,mermaidRender/* mermaidRender */.i)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,markmapRender/* markmapRender */.K)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,flowchartRender/* flowchartRender */.P)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,graphvizRender/* graphvizRender */.v)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,chartRender/* chartRender */.p)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,mindmapRender/* mindmapRender */.P)(vditor.preview.previewElement, vditor.options.cdn, vditor.options.theme);\n        (0,plantumlRender/* plantumlRender */.B)(vditor.preview.previewElement, vditor.options.cdn);\n        (0,abcRender/* abcRender */.Q)(vditor.preview.previewElement, vditor.options.cdn);\n        if (vditor.options.preview.render.media.enable) {\n            (0,mediaRender/* mediaRender */.Y)(vditor.preview.previewElement);\n        }\n        vditor.options.customRenders.forEach(function (item) {\n            item.render(vditor.preview.previewElement, vditor);\n        });\n        // toc render\n        var editorElement = vditor.preview.element;\n        var tocHTML = vditor.outline.render(vditor);\n        if (tocHTML === \"\") {\n            tocHTML = \"[ToC]\";\n        }\n        editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n            item.innerHTML = tocHTML;\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        (0,mathRender/* mathRender */.H)(vditor.preview.previewElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    };\n    Preview.prototype.copyToX = function (vditor, copyElement, type) {\n        if (type === void 0) { type = \"mp-wechat\"; }\n        // fix math render\n        if (type !== \"zhihu\") {\n            copyElement.querySelectorAll(\".katex-html .base\").forEach(function (item) {\n                item.style.display = \"initial\";\n            });\n        }\n        else {\n            copyElement.querySelectorAll(\".language-math\").forEach(function (item) {\n                item.outerHTML = \"<img class=\\\"Formula-image\\\" data-eeimg=\\\"true\\\" src=\\\"//www.zhihu.com/equation?tex=\\\" alt=\\\"\".concat(item.getAttribute(\"data-math\"), \"\\\\\\\" style=\\\"display: block; margin: 0 auto; max-width: 100%;\\\">\");\n            });\n        }\n        // 防止背景色被粘贴到公众号中\n        copyElement.style.backgroundColor = \"#fff\";\n        // 代码背景\n        copyElement.querySelectorAll(\"code\").forEach(function (item) {\n            item.style.backgroundImage = \"none\";\n        });\n        this.element.append(copyElement);\n        var range = copyElement.ownerDocument.createRange();\n        range.selectNode(copyElement);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        document.execCommand(\"copy\");\n        copyElement.remove();\n        vditor.tip.show(['zhihu', 'mp-wechat'].includes(type) ? \"\\u5DF2\\u590D\\u5236\\uFF0C\\u53EF\\u5230\".concat(type === \"zhihu\" ? \"知乎\" : \"微信公众号平台\", \"\\u8FDB\\u884C\\u7C98\\u8D34\") : \"\\u5DF2\\u590D\\u5236\\u5230\\u526A\\u5207\\u677F\");\n    };\n    return Preview;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/resize/index.ts\nvar Resize = /** @class */ (function () {\n    function Resize(vditor) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-resize vditor-resize--\".concat(vditor.options.resize.position);\n        this.element.innerHTML = \"<div><svg><use xlink:href=\\\"#vditor-icon-resize\\\"></use></svg></div>\";\n        this.bindEvent(vditor);\n    }\n    Resize.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"mousedown\", function (event) {\n            var documentSelf = document;\n            var y = event.clientY;\n            var height = vditor.element.offsetHeight;\n            var minHeight = 63 + vditor.element.querySelector(\".vditor-toolbar\").clientHeight;\n            documentSelf.ondragstart = function () { return false; };\n            if (window.captureEvents) {\n                window.captureEvents();\n            }\n            _this.element.classList.add(\"vditor-resize--selected\");\n            documentSelf.onmousemove = function (moveEvent) {\n                if (vditor.options.resize.position === \"top\") {\n                    vditor.element.style.height = Math.max(minHeight, height + (y - moveEvent.clientY)) + \"px\";\n                }\n                else {\n                    vditor.element.style.height = Math.max(minHeight, height + (moveEvent.clientY - y)) + \"px\";\n                }\n                if (vditor.options.typewriterMode) {\n                    vditor.sv.element.style.paddingBottom =\n                        vditor.sv.element.parentElement.offsetHeight / 2 + \"px\";\n                }\n            };\n            documentSelf.onmouseup = function () {\n                if (vditor.options.resize.after) {\n                    vditor.options.resize.after(vditor.element.offsetHeight - height);\n                }\n                if (window.captureEvents) {\n                    window.captureEvents();\n                }\n                documentSelf.onmousemove = null;\n                documentSelf.onmouseup = null;\n                documentSelf.ondragstart = null;\n                documentSelf.onselectstart = null;\n                documentSelf.onselect = null;\n                _this.element.classList.remove(\"vditor-resize--selected\");\n            };\n        });\n    };\n    return Resize;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/sv/index.ts\n\n\n\n\n\n\nvar Editor = /** @class */ (function () {\n    function Editor(vditor) {\n        this.composingLock = false;\n        this.element = document.createElement(\"pre\");\n        this.element.className = \"vditor-sv vditor-reset\";\n        this.element.setAttribute(\"placeholder\", vditor.options.placeholder);\n        this.element.setAttribute(\"contenteditable\", \"true\");\n        this.element.setAttribute(\"spellcheck\", \"false\");\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    Editor.prototype.copy = function (event, vditor) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.clipboardData.setData(\"text/plain\", getSelectText(vditor[vditor.currentMode].element));\n    };\n    Editor.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            if (vditor.preview.element.style.display !== \"block\") {\n                return;\n            }\n            var textScrollTop = _this.element.scrollTop;\n            var textHeight = _this.element.clientHeight;\n            var textScrollHeight = _this.element.scrollHeight - parseFloat(_this.element.style.paddingBottom || \"0\");\n            var preview = vditor.preview.element;\n            if ((textScrollTop / textHeight > 0.5)) {\n                preview.scrollTop = (textScrollTop + textHeight) *\n                    preview.scrollHeight / textScrollHeight - textHeight;\n            }\n            else {\n                preview.scrollTop = textScrollTop *\n                    preview.scrollHeight / textScrollHeight;\n            }\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                inputEvent(vditor, event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                processAfterRender(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: true,\n                    enableInput: true,\n                });\n                return;\n            }\n            inputEvent(vditor, event);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.sv.element.innerHTML !== \"\" && vditor.sv.element.childNodes.length === 1 &&\n                vditor.sv.element.firstElementChild && vditor.sv.element.firstElementChild.tagName === \"DIV\"\n                && vditor.sv.element.firstElementChild.childElementCount === 2\n                && (vditor.sv.element.firstElementChild.textContent === \"\" || vditor.sv.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.sv.element.innerHTML = \"\";\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n        });\n    };\n    return Editor;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/tip/index.ts\nvar Tip = /** @class */ (function () {\n    function Tip() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-tip\";\n    }\n    Tip.prototype.show = function (text, time) {\n        var _this = this;\n        if (time === void 0) { time = 6000; }\n        this.element.className = \"vditor-tip vditor-tip--show\";\n        if (time === 0) {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\".concat(text, \"\\n<div class=\\\"vditor-tip__close\\\">X</div></div>\");\n            this.element.querySelector(\".vditor-tip__close\").addEventListener(\"click\", function () {\n                _this.hide();\n            });\n        }\n        else {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\".concat(text, \"</div>\");\n            setTimeout(function () {\n                _this.hide();\n            }, time);\n        }\n        // 需在动画结束后才能确定位置\n        this.element.removeAttribute(\"style\");\n        setTimeout(function () {\n            var rect = _this.element.getBoundingClientRect();\n            if (rect.top < 46) {\n                _this.element.style.position = \"fixed\";\n                _this.element.style.top = \"46px\";\n            }\n        }, 150);\n    };\n    Tip.prototype.hide = function () {\n        this.element.className = \"vditor-messageElementtip\";\n        this.element.innerHTML = \"\";\n    };\n    return Tip;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ui/setPreviewMode.ts\n\n\nvar setPreviewMode = function (mode, vditor) {\n    if (vditor.options.preview.mode === mode) {\n        return;\n    }\n    vditor.options.preview.mode = mode;\n    switch (mode) {\n        case \"both\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"block\";\n            vditor.preview.render(vditor);\n            setCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        case \"editor\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"none\";\n            removeCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        default:\n            break;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Both.ts\nvar Both_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Both = /** @class */ (function (_super) {\n    Both_extends(Both, _super);\n    function Both(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.preview.mode === \"both\") {\n            _this.element.children[0].classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (vditor.currentMode !== \"sv\") {\n                return;\n            }\n            if (vditor.options.preview.mode === \"both\") {\n                setPreviewMode(\"editor\", vditor);\n            }\n            else {\n                setPreviewMode(\"both\", vditor);\n            }\n        });\n        return _this;\n    }\n    return Both;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Br.ts\nvar Br = /** @class */ (function () {\n    function Br() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__br\";\n    }\n    return Br;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(34);\n;// CONCATENATED MODULE: ./src/ts/toolbar/CodeTheme.ts\nvar CodeTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CodeTheme = /** @class */ (function (_super) {\n    CodeTheme_extends(CodeTheme, _super);\n    function CodeTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        constants/* Constants.CODE_THEME.forEach */.g.CODE_THEME.forEach(function (theme) {\n            innerHTML += \"<button>\".concat(theme, \"</button>\");\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\".concat(window.innerHeight / 2, \"px\\\">\").concat(innerHTML, \"</div>\");\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.hljs.style = event.target.textContent;\n                (0,setCodeTheme/* setCodeTheme */.Y)(event.target.textContent, vditor.options.cdn);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return CodeTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/ContentTheme.ts\nvar ContentTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ContentTheme = /** @class */ (function (_super) {\n    ContentTheme_extends(ContentTheme, _super);\n    function ContentTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        Object.keys(vditor.options.preview.theme.list).forEach(function (key) {\n            innerHTML += \"<button data-type=\\\"\".concat(key, \"\\\">\").concat(vditor.options.preview.theme.list[key], \"</button>\");\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\".concat(window.innerHeight / 2, \"px\\\">\").concat(innerHTML, \"</div>\");\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.theme.current = event.target.getAttribute(\"data-type\");\n                (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return ContentTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Counter.ts\nvar Counter = /** @class */ (function () {\n    function Counter(vditor) {\n        this.element = document.createElement(\"span\");\n        this.element.className = \"vditor-counter vditor-tooltipped vditor-tooltipped__nw\";\n        this.render(vditor, \"\");\n    }\n    Counter.prototype.render = function (vditor, mdText) {\n        var length = mdText.endsWith(\"\\n\") ? mdText.length - 1 : mdText.length;\n        if (vditor.options.counter.type === \"text\" && vditor[vditor.currentMode]) {\n            var tempElement = vditor[vditor.currentMode].element.cloneNode(true);\n            tempElement.querySelectorAll(\".vditor-wysiwyg__preview\").forEach(function (item) {\n                item.remove();\n            });\n            length = tempElement.textContent.length;\n        }\n        if (typeof vditor.options.counter.max === \"number\") {\n            if (length > vditor.options.counter.max) {\n                this.element.className = \"vditor-counter vditor-counter--error\";\n            }\n            else {\n                this.element.className = \"vditor-counter\";\n            }\n            this.element.innerHTML = \"\".concat(length, \"/\").concat(vditor.options.counter.max);\n        }\n        else {\n            this.element.innerHTML = \"\".concat(length);\n        }\n        this.element.setAttribute(\"aria-label\", vditor.options.counter.type);\n        if (vditor.options.counter.after) {\n            vditor.options.counter.after(length, {\n                enable: vditor.options.counter.enable,\n                max: vditor.options.counter.max,\n                type: vditor.options.counter.type,\n            });\n        }\n    };\n    return Counter;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Custom.ts\nvar Custom_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Custom = /** @class */ (function (_super) {\n    Custom_extends(Custom, _super);\n    function Custom(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].innerHTML = menuItem.icon;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (event.currentTarget.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            menuItem.click(event, vditor);\n        });\n        return _this;\n    }\n    return Custom;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Devtools.ts\nvar Devtools_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Devtools = /** @class */ (function (_super) {\n    Devtools_extends(Devtools, _super);\n    function Devtools(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.firstElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"none\";\n                setPadding(vditor);\n            }\n            else {\n                btnElement.classList.add(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"block\";\n                setPadding(vditor);\n                vditor.devtools.renderEchart(vditor);\n            }\n        });\n        return _this;\n    }\n    return Devtools;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Divider.ts\nvar Divider = /** @class */ (function () {\n    function Divider() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__divider\";\n    }\n    return Divider;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Emoji.ts\nvar Emoji_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Emoji = /** @class */ (function (_super) {\n    Emoji_extends(Emoji, _super);\n    function Emoji(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-panel vditor-panel--arrow\";\n        var commonEmojiHTML = \"\";\n        Object.keys(vditor.options.hint.emoji).forEach(function (key) {\n            var emojiValue = vditor.options.hint.emoji[key];\n            if (emojiValue.indexOf(\".\") > -1) {\n                commonEmojiHTML += \"<button data-value=\\\":\".concat(key, \": \\\" data-key=\\\":\").concat(key, \":\\\"><img\\ndata-value=\\\":\").concat(key, \": \\\" data-key=\\\":\").concat(key, \":\\\" class=\\\"vditor-emojis__icon\\\" src=\\\"\").concat(emojiValue, \"\\\"/></button>\");\n            }\n            else {\n                commonEmojiHTML += \"<button data-value=\\\"\".concat(emojiValue, \" \\\"\\n data-key=\\\"\").concat(key, \"\\\"><span class=\\\"vditor-emojis__icon\\\">\").concat(emojiValue, \"</span></button>\");\n            }\n        });\n        panelElement.innerHTML = \"<div class=\\\"vditor-emojis\\\" style=\\\"max-height: \".concat(vditor.options.height === \"auto\" ? \"auto\" : vditor.options.height - 80, \"px\\\">\").concat(commonEmojiHTML, \"</div><div class=\\\"vditor-emojis__tail\\\">\\n    <span class=\\\"vditor-emojis__tip\\\"></span><span>\").concat(vditor.options.hint.emojiTail || \"\", \"</span>\\n</div>\");\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, _this.element.firstElementChild, menuItem.level);\n        _this.bindEvent(vditor);\n        return _this;\n    }\n    Emoji.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.lastElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (btnElement) {\n                event.preventDefault();\n                var value = btnElement.getAttribute(\"data-value\");\n                var range = (0,selection/* getEditorRange */.zh)(vditor);\n                var html = value;\n                if (vditor.currentMode === \"wysiwyg\") {\n                    html = vditor.lute.SpinVditorDOM(value);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    html = vditor.lute.SpinVditorIRDOM(value);\n                }\n                if (value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                    var tempElement = document.createElement(\"div\");\n                    tempElement.innerHTML = html;\n                    html = tempElement.firstElementChild.firstElementChild.outerHTML + \" \";\n                    (0,selection/* insertHTML */.oC)(html, vditor);\n                }\n                else {\n                    range.extractContents();\n                    range.insertNode(document.createTextNode(value));\n                }\n                range.collapse(false);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                _this.element.lastElementChild.style.display = \"none\";\n                execAfterRender(vditor);\n            }\n        });\n        this.element.lastElementChild.addEventListener(\"mouseover\", function (event) {\n            var btnElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (btnElement) {\n                _this.element.querySelector(\".vditor-emojis__tip\").innerHTML = btnElement.getAttribute(\"data-key\");\n            }\n        });\n    };\n    return Emoji;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/export/index.ts\n\n\nvar download = function (vditor, content, filename) {\n    var aElement = document.createElement(\"a\");\n    if (\"download\" in aElement) {\n        aElement.download = filename;\n        aElement.style.display = \"none\";\n        aElement.href = URL.createObjectURL(new Blob([content]));\n        document.body.appendChild(aElement);\n        aElement.click();\n        aElement.remove();\n    }\n    else {\n        vditor.tip.show(window.VditorI18n.downloadTip, 0);\n    }\n};\nvar exportMarkdown = function (vditor) {\n    var content = getMarkdown(vditor);\n    download(vditor, content, content.substr(0, 10) + \".md\");\n};\nvar exportPDF = function (vditor) {\n    vditor.tip.show(window.VditorI18n.generate, 3800);\n    var iframe = document.querySelector(\"#vditorExportIframe\");\n    iframe.contentDocument.open();\n    iframe.contentDocument.write(\"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(vditor.options.cdn, \"/dist/index.css\\\"/>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/method.min.js\\\"></script>\\n<div id=\\\"preview\\\" style=\\\"width: 800px\\\"></div>\\n<script>\\nwindow.addEventListener(\\\"message\\\", (e) => {\\n  if(!e.data) {\\n    return;\\n  }\\n  Vditor.preview(document.getElementById('preview'), e.data, {\\n    cdn: \\\"\").concat(vditor.options.cdn, \"\\\",\\n    markdown: {\\n      theme: \").concat(JSON.stringify(vditor.options.preview.theme), \"\\n    },\\n    hljs: {\\n      style: \\\"\").concat(vditor.options.preview.hljs.style, \"\\\"\\n    }\\n  });\\n  setTimeout(() => {\\n        window.print();\\n    }, 3600);\\n}, false);\\n</script>\"));\n    iframe.contentDocument.close();\n    setTimeout(function () {\n        iframe.contentWindow.postMessage(getMarkdown(vditor), \"*\");\n    }, 200);\n};\nvar exportHTML = function (vditor) {\n    var content = getHTML(vditor);\n    var html = \"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\".concat(vditor.options.cdn, \"/dist/index.css\\\"/>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/js/i18n/\").concat(vditor.options.lang, \".js\\\"></script>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/method.min.js\\\"></script></head>\\n<body><div class=\\\"vditor-reset\\\" id=\\\"preview\\\">\").concat(content, \"</div>\\n<script>\\n    const previewElement = document.getElementById('preview')\\n    Vditor.setContentTheme('\").concat(vditor.options.preview.theme.current, \"', '\").concat(vditor.options.preview.theme.path, \"');\\n    Vditor.codeRender(previewElement);\\n    Vditor.highlightRender(\").concat(JSON.stringify(vditor.options.preview.hljs), \", previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.mathRender(previewElement, {\\n        cdn: '\").concat(vditor.options.cdn, \"',\\n        math: \").concat(JSON.stringify(vditor.options.preview.math), \",\\n    });\\n    Vditor.mermaidRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.markmapRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.flowchartRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.graphvizRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    Vditor.chartRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.mindmapRender(previewElement, '\").concat(vditor.options.cdn, \"', '\").concat(vditor.options.theme, \"');\\n    Vditor.abcRender(previewElement, '\").concat(vditor.options.cdn, \"');\\n    \").concat(vditor.options.preview.render.media.enable ? 'Vditor.mediaRender(previewElement);' : \"\", \"\\n    Vditor.speechRender(previewElement);\\n</script>\\n<script src=\\\"\").concat(vditor.options.cdn, \"/dist/js/icons/\").concat(vditor.options.icon, \".js\\\"></script></body></html>\");\n    download(vditor, html, content.substr(0, 10) + \".html\");\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Export.ts\nvar Export_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Export = /** @class */ (function (_super) {\n    Export_extends(Export, _super);\n    function Export(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\".concat(menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-type=\\\"markdown\\\">Markdown</button>\\n<button data-type=\\\"pdf\\\">PDF</button>\\n<button data-type=\\\"html\\\">HTML</button>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = event.target;\n            if (btnElement.tagName === \"BUTTON\") {\n                switch (btnElement.getAttribute(\"data-type\")) {\n                    case \"markdown\":\n                        exportMarkdown(vditor);\n                        break;\n                    case \"pdf\":\n                        exportPDF(vditor);\n                        break;\n                    case \"html\":\n                        exportHTML(vditor);\n                        break;\n                    default:\n                        break;\n                }\n                hidePanel(vditor, [\"subToolbar\"]);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return Export;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Fullscreen.ts\nvar Fullscreen_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    Fullscreen_extends(Fullscreen, _super);\n    function Fullscreen(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor, menuItem);\n        return _this;\n    }\n    Fullscreen.prototype._bindEvent = function (vditor, menuItem) {\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (vditor.element.className.includes(\"vditor--fullscreen\")) {\n                if (!menuItem.level) {\n                    this.innerHTML = menuItem.icon;\n                }\n                vditor.element.style.zIndex = \"\";\n                document.body.style.overflow = \"\";\n                vditor.element.classList.remove(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__s\", \"__n\");\n                        vditor.options.toolbar.forEach(function (item) {\n                            if (typeof item !== \"string\" && item.tipPosition && item.name === svgElement.dataset.type) {\n                                svgElement.className = \"vditor-tooltipped vditor-tooltipped__\".concat(item.tipPosition);\n                            }\n                        });\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__s\", \"__n\");\n                }\n            }\n            else {\n                if (!menuItem.level) {\n                    this.innerHTML = '<svg><use xlink:href=\"#vditor-icon-contract\"></use></svg>';\n                }\n                vditor.element.style.zIndex = vditor.options.fullscreen.index.toString();\n                document.body.style.overflow = \"hidden\";\n                vditor.element.classList.add(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__n\", \"__s\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__n\", \"__s\");\n                }\n            }\n            if (vditor.devtools) {\n                vditor.devtools.renderEchart(vditor);\n            }\n            if (menuItem.click) {\n                menuItem.click(event, vditor);\n            }\n            setPadding(vditor);\n            setTypewriterPosition(vditor);\n        });\n    };\n    return Fullscreen;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Headings.ts\nvar Headings_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Headings = /** @class */ (function (_super) {\n    Headings_extends(Headings, _super);\n    function Headings(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint vditor-panel--arrow\";\n        panelElement.innerHTML = \"<button data-tag=\\\"h1\\\" data-value=\\\"# \\\">\".concat(window.VditorI18n.heading1, \" \").concat((0,compatibility/* updateHotkeyTip */.ns)(\"&lt;⌥⌘1>\"), \"</button>\\n<button data-tag=\\\"h2\\\" data-value=\\\"## \\\">\").concat(window.VditorI18n.heading2, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘2\"), \"></button>\\n<button data-tag=\\\"h3\\\" data-value=\\\"### \\\">\").concat(window.VditorI18n.heading3, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘3\"), \"></button>\\n<button data-tag=\\\"h4\\\" data-value=\\\"#### \\\">\").concat(window.VditorI18n.heading4, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘4\"), \"></button>\\n<button data-tag=\\\"h5\\\" data-value=\\\"##### \\\">\").concat(window.VditorI18n.heading5, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘5\"), \"></button>\\n<button data-tag=\\\"h6\\\" data-value=\\\"###### \\\">\").concat(window.VditorI18n.heading6, \" &lt;\").concat((0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘6\"), \"></button>\");\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Headings.prototype._bindEvent = function (vditor, panelElement) {\n        var actionBtn = this.element.children[0];\n        actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            // https://github.com/Vanessa219/vditor/issues/1391\n            clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n            clearTimeout(vditor.ir.processTimeoutId);\n            clearTimeout(vditor.sv.processTimeoutId);\n            if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            actionBtn.blur();\n            if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n                if (vditor.currentMode === \"wysiwyg\") {\n                    removeHeading(vditor);\n                    afterRenderEvent(vditor);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, \"\");\n                }\n                actionBtn.classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                hidePanel(vditor, [\"subToolbar\"]);\n                panelElement.style.display = \"block\";\n            }\n        });\n        for (var i = 0; i < 6; i++) {\n            panelElement.children.item(i).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                if (vditor.currentMode === \"wysiwyg\") {\n                    setHeading(vditor, event.target.getAttribute(\"data-tag\"));\n                    afterRenderEvent(vditor);\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else {\n                    processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                }\n                panelElement.style.display = \"none\";\n            });\n        }\n    };\n    return Headings;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Help.ts\nvar Help_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Help = /** @class */ (function (_super) {\n    Help_extends(Help, _super);\n    function Help(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;\\\">\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Markdown \\u4F7F\\u7528\\u6307\\u5357</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://ld246.com/article/1583308420519\\\" target=\\\"_blank\\\">\\u8BED\\u6CD5\\u901F\\u67E5\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583129520165\\\" target=\\\"_blank\\\">\\u57FA\\u7840\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583305480675\\\" target=\\\"_blank\\\">\\u6269\\u5C55\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1582778815353\\\" target=\\\"_blank\\\">\\u952E\\u76D8\\u5FEB\\u6377\\u952E</a></li>\\n    </ul>\\n</div>\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Vditor \\u652F\\u6301</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://github.com/Vanessa219/vditor/issues\\\" target=\\\"_blank\\\">Issues</a></li>\\n        <li><a href=\\\"https://ld246.com/tag/vditor\\\" target=\\\"_blank\\\">\\u5B98\\u65B9\\u8BA8\\u8BBA\\u533A</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1549638745630\\\" target=\\\"_blank\\\">\\u5F00\\u53D1\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/guide/markdown\\\" target=\\\"_blank\\\">\\u6F14\\u793A\\u5730\\u5740</a></li>\\n    </ul>\\n</div></div>\", 0);\n        });\n        return _this;\n    }\n    return Help;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Indent.ts\nvar Indent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Indent = /** @class */ (function (_super) {\n    Indent_extends(Indent, _super);\n    function Indent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listIndent(vditor, liElement, range);\n            }\n        });\n        return _this;\n    }\n    return Indent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Info.ts\nvar Info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Info = /** @class */ (function (_super) {\n    Info_extends(Info, _super);\n    function Info(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;\\\">\\n<p style=\\\"text-align: center;margin: 14px 0\\\">\\n    <em>\\u4E0B\\u4E00\\u4EE3\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u4E3A\\u672A\\u6765\\u800C\\u6784\\u5EFA</em>\\n</p>\\n<div style=\\\"display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center\\\">\\n    <img src=\\\"https://unpkg.com/vditor/dist/images/logo.png\\\" style=\\\"margin: 0 auto;height: 68px\\\"/>\\n    <div>&nbsp;&nbsp;</div>\\n    <div style=\\\"flex: 1;min-width: 250px\\\">\\n        Vditor \\u662F\\u4E00\\u6B3E\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u652F\\u6301\\u6240\\u89C1\\u5373\\u6240\\u5F97\\u3001\\u5373\\u65F6\\u6E32\\u67D3\\uFF08\\u7C7B\\u4F3C Typora\\uFF09\\u548C\\u5206\\u5C4F\\u9884\\u89C8\\u6A21\\u5F0F\\u3002\\n        \\u5B83\\u4F7F\\u7528 TypeScript \\u5B9E\\u73B0\\uFF0C\\u652F\\u6301\\u539F\\u751F JavaScript \\u4EE5\\u53CA Vue\\u3001React\\u3001Angular \\u548C Svelte \\u7B49\\u6846\\u67B6\\u3002\\n    </div>\\n</div>\\n<div style=\\\"display: flex;flex-wrap: wrap;\\\">\\n    <ul style=\\\"list-style: none;flex: 1;min-width:148px\\\">\\n        <li>\\n        \\u9879\\u76EE\\u5730\\u5740\\uFF1A<a href=\\\"https://b3log.org/vditor\\\" target=\\\"_blank\\\">b3log.org/vditor</a>\\n        </li>\\n        <li>\\n        \\u5F00\\u6E90\\u534F\\u8BAE\\uFF1AMIT\\n        </li>\\n    </ul>\\n    <ul style=\\\"list-style: none;margin-right: 18px\\\">\\n        <li>\\n        \\u7EC4\\u4EF6\\u7248\\u672C\\uFF1AVditor v\".concat(constants/* VDITOR_VERSION */.H, \" / Lute v\").concat(Lute.Version, \"\\n        </li>\\n        <li>\\n        \\u8D5E\\u52A9\\u6350\\u8D60\\uFF1A<a href=\\\"https://ld246.com/sponsor\\\" target=\\\"_blank\\\">https://ld246.com/sponsor</a>\\n        </li>\\n    </ul>\\n</div>\\n</div>\"), 0);\n        });\n        return _this;\n    }\n    return Info;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertAfter.ts\nvar InsertAfter_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertAfter = /** @class */ (function (_super) {\n    InsertAfter_extends(InsertAfter, _super);\n    function InsertAfter(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"afterend\");\n        });\n        return _this;\n    }\n    return InsertAfter;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertBefore.ts\nvar InsertBefore_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertBefore = /** @class */ (function (_super) {\n    InsertBefore_extends(InsertBefore, _super);\n    function InsertBefore(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"beforebegin\");\n        });\n        return _this;\n    }\n    return InsertBefore;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outdent.ts\nvar Outdent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Outdent = /** @class */ (function (_super) {\n    Outdent_extends(Outdent, _super);\n    function Outdent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listOutdent(vditor, liElement, range, liElement.parentElement);\n            }\n        });\n        return _this;\n    }\n    return Outdent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outline.ts\nvar Outline_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Outline_Outline = /** @class */ (function (_super) {\n    Outline_extends(Outline, _super);\n    function Outline(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.outline) {\n            _this.element.firstElementChild.classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = vditor.toolbar.elements.outline.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.options.outline.enable = !_this.element.firstElementChild.classList.contains(\"vditor-menu--current\");\n            vditor.outline.toggle(vditor, vditor.options.outline.enable);\n        });\n        return _this;\n    }\n    return Outline;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Preview.ts\nvar Preview_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Preview_Preview = /** @class */ (function (_super) {\n    Preview_extends(Preview, _super);\n    function Preview(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Preview.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var toolbars = constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"both\", \"edit-mode\", \"devtools\"]);\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"block\";\n                    if (vditor.options.preview.mode === \"both\") {\n                        vditor.preview.element.style.display = \"block\";\n                    }\n                    else {\n                        vditor.preview.element.style.display = \"none\";\n                    }\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"block\";\n                    vditor.preview.element.style.display = \"none\";\n                }\n                enableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.outline.render(vditor);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.preview.element.style.display = \"block\";\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"none\";\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"none\";\n                }\n                vditor.preview.render(vditor);\n                btnElement.classList.add(\"vditor-menu--current\");\n                hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n                setTimeout(function () {\n                    vditor.outline.render(vditor);\n                }, vditor.options.preview.delay + 10);\n            }\n            setPadding(vditor);\n        });\n    };\n    return Preview;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/RecordMedia.ts\nvar RecordMedia = /** @class */ (function () {\n    function RecordMedia(e) {\n        this.SAMPLE_RATE = 5000; // 44100 suggested by demos;\n        this.isRecording = false;\n        this.readyFlag = false;\n        this.leftChannel = [];\n        this.rightChannel = [];\n        this.recordingLength = 0;\n        var context;\n        // creates the audio context\n        if (typeof AudioContext !== \"undefined\") {\n            context = new AudioContext();\n        }\n        else if (webkitAudioContext) {\n            context = new webkitAudioContext();\n        }\n        else {\n            return;\n        }\n        this.DEFAULT_SAMPLE_RATE = context.sampleRate;\n        // creates a gain node\n        var volume = context.createGain();\n        // creates an audio node from the microphone incoming stream\n        var audioInput = context.createMediaStreamSource(e);\n        // connect the stream to the gain node\n        audioInput.connect(volume);\n        /* From the spec: The size of the buffer controls how frequently the audioprocess event is\n         dispatched and how many sample-frames need to be processed each call.\n         Lower values for buffer size will result in a lower (better) latency.\n         Higher values will be necessary to avoid audio breakup and glitches */\n        this.recorder = context.createScriptProcessor(2048, 2, 1);\n        // The onaudioprocess event needs to be defined externally, so make sure it is not set:\n        this.recorder.onaudioprocess = null;\n        // we connect the recorder\n        volume.connect(this.recorder);\n        this.recorder.connect(context.destination);\n        this.readyFlag = true;\n    }\n    // Publicly accessible methods:\n    RecordMedia.prototype.cloneChannelData = function (leftChannelData, rightChannelData) {\n        this.leftChannel.push(new Float32Array(leftChannelData));\n        this.rightChannel.push(new Float32Array(rightChannelData));\n        this.recordingLength += 2048;\n    };\n    RecordMedia.prototype.startRecordingNewWavFile = function () {\n        if (this.readyFlag) {\n            this.isRecording = true;\n            this.leftChannel.length = this.rightChannel.length = 0;\n            this.recordingLength = 0;\n        }\n    };\n    RecordMedia.prototype.stopRecording = function () {\n        this.isRecording = false;\n    };\n    RecordMedia.prototype.buildWavFileBlob = function () {\n        // we flat the left and right channels down\n        var leftBuffer = this.mergeBuffers(this.leftChannel);\n        var rightBuffer = this.mergeBuffers(this.rightChannel);\n        // Interleave the left and right channels together:\n        var interleaved = new Float32Array(leftBuffer.length);\n        for (var i = 0; i < leftBuffer.length; ++i) {\n            interleaved[i] = 0.5 * (leftBuffer[i] + rightBuffer[i]);\n        }\n        // Downsample the audio data if necessary:\n        if (this.DEFAULT_SAMPLE_RATE > this.SAMPLE_RATE) {\n            interleaved = this.downSampleBuffer(interleaved, this.SAMPLE_RATE);\n        }\n        var totalByteCount = (44 + interleaved.length * 2);\n        var buffer = new ArrayBuffer(totalByteCount);\n        var view = new DataView(buffer);\n        // Build the RIFF chunk descriptor:\n        this.writeUTFBytes(view, 0, \"RIFF\");\n        view.setUint32(4, totalByteCount, true);\n        this.writeUTFBytes(view, 8, \"WAVE\");\n        // Build the FMT sub-chunk:\n        this.writeUTFBytes(view, 12, \"fmt \"); // subchunk1 ID is format\n        view.setUint32(16, 16, true); // The sub-chunk size is 16.\n        view.setUint16(20, 1, true); // The audio format is 1.\n        view.setUint16(22, 1, true); // Number of interleaved channels.\n        view.setUint32(24, this.SAMPLE_RATE, true); // Sample rate.\n        view.setUint32(28, this.SAMPLE_RATE * 2, true); // Byte rate.\n        view.setUint16(32, 2, true); // Block align\n        view.setUint16(34, 16, true); // Bits per sample.\n        // Build the data sub-chunk:\n        var subChunk2ByteCount = interleaved.length * 2;\n        this.writeUTFBytes(view, 36, \"data\");\n        view.setUint32(40, subChunk2ByteCount, true);\n        // Write the PCM samples to the view:\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var j = 0; j < lng; j++) {\n            view.setInt16(index, interleaved[j] * (0x7FFF * volume), true);\n            index += 2;\n        }\n        return new Blob([view], { type: \"audio/wav\" });\n    };\n    RecordMedia.prototype.downSampleBuffer = function (buffer, rate) {\n        if (rate === this.DEFAULT_SAMPLE_RATE) {\n            return buffer;\n        }\n        if (rate > this.DEFAULT_SAMPLE_RATE) {\n            // throw \"downsampling rate show be smaller than original sample rate\";\n            return buffer;\n        }\n        var sampleRateRatio = this.DEFAULT_SAMPLE_RATE / rate;\n        var newLength = Math.round(buffer.length / sampleRateRatio);\n        var result = new Float32Array(newLength);\n        var offsetResult = 0;\n        var offsetBuffer = 0;\n        while (offsetResult < result.length) {\n            var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n            var accum = 0;\n            var count = 0;\n            for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n                accum += buffer[i];\n                count++;\n            }\n            result[offsetResult] = accum / count;\n            offsetResult++;\n            offsetBuffer = nextOffsetBuffer;\n        }\n        return result;\n    };\n    RecordMedia.prototype.mergeBuffers = function (desiredChannelBuffer) {\n        var result = new Float32Array(this.recordingLength);\n        var offset = 0;\n        var lng = desiredChannelBuffer.length;\n        for (var i = 0; i < lng; ++i) {\n            var buffer = desiredChannelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    };\n    RecordMedia.prototype.writeUTFBytes = function (view, offset, value) {\n        var lng = value.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, value.charCodeAt(i));\n        }\n    };\n    return RecordMedia;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Record.ts\nvar Record_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Record = /** @class */ (function (_super) {\n    Record_extends(Record, _super);\n    function Record(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Record.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        var mediaRecorder;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var editorElement = vditor[vditor.currentMode].element;\n            if (!mediaRecorder) {\n                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (mediaStream) {\n                    mediaRecorder = new RecordMedia(mediaStream);\n                    mediaRecorder.recorder.onaudioprocess = function (e) {\n                        // Do nothing if not recording:\n                        if (!mediaRecorder.isRecording) {\n                            return;\n                        }\n                        // Copy the data from the input buffers;\n                        var left = e.inputBuffer.getChannelData(0);\n                        var right = e.inputBuffer.getChannelData(1);\n                        mediaRecorder.cloneChannelData(left, right);\n                    };\n                    mediaRecorder.startRecordingNewWavFile();\n                    vditor.tip.show(window.VditorI18n.recording);\n                    editorElement.setAttribute(\"contenteditable\", \"false\");\n                    _this.element.children[0].classList.add(\"vditor-menu--current\");\n                }).catch(function () {\n                    vditor.tip.show(window.VditorI18n[\"record-tip\"]);\n                });\n                return;\n            }\n            if (mediaRecorder.isRecording) {\n                mediaRecorder.stopRecording();\n                vditor.tip.hide();\n                var file = new File([mediaRecorder.buildWavFileBlob()], \"record\".concat((new Date()).getTime(), \".wav\"), { type: \"video/webm\" });\n                uploadFiles(vditor, [file]);\n                _this.element.children[0].classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                vditor.tip.show(window.VditorI18n.recording);\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                mediaRecorder.startRecordingNewWavFile();\n                _this.element.children[0].classList.add(\"vditor-menu--current\");\n            }\n        });\n    };\n    return Record;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Redo.ts\nvar Redo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Redo = /** @class */ (function (_super) {\n    Redo_extends(Redo, _super);\n    function Redo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ redo: _this.element }, [\"redo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.redo(vditor);\n        });\n        return _this;\n    }\n    return Redo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Undo.ts\nvar Undo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Undo = /** @class */ (function (_super) {\n    Undo_extends(Undo, _super);\n    function Undo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ undo: _this.element }, [\"undo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.undo(vditor);\n        });\n        return _this;\n    }\n    return Undo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Upload.ts\nvar Upload_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Upload_Upload = /** @class */ (function (_super) {\n    Upload_extends(Upload, _super);\n    function Upload(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var inputHTML = '<input type=\"file\"';\n        if (vditor.options.upload.multiple) {\n            inputHTML += ' multiple=\"multiple\"';\n        }\n        if (vditor.options.upload.accept) {\n            inputHTML += \" accept=\\\"\".concat(vditor.options.upload.accept, \"\\\"\");\n        }\n        _this.element.children[0].innerHTML = \"\".concat((menuItem.icon || '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>')).concat(inputHTML, \">\");\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Upload.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n        });\n        this.element.querySelector(\"input\").addEventListener(\"change\", function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n            if (event.target.files.length === 0) {\n                return;\n            }\n            uploadFiles(vditor, event.target.files, event.target);\n        });\n    };\n    return Upload;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(vditor) {\n        var _this = this;\n        var options = vditor.options;\n        this.elements = {};\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar\";\n        options.toolbar.forEach(function (menuItem, i) {\n            var itemElement = _this.genItem(vditor, menuItem, i);\n            _this.element.appendChild(itemElement);\n            if (menuItem.toolbar) {\n                var panelElement_1 = document.createElement(\"div\");\n                panelElement_1.className = \"vditor-hint vditor-panel--arrow\";\n                panelElement_1.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                    panelElement_1.style.display = \"none\";\n                });\n                menuItem.toolbar.forEach(function (subMenuItem, subI) {\n                    subMenuItem.level = 2;\n                    panelElement_1.appendChild(_this.genItem(vditor, subMenuItem, i + subI));\n                });\n                itemElement.appendChild(panelElement_1);\n                toggleSubMenu(vditor, panelElement_1, itemElement.children[0], 2);\n            }\n        });\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter = new Counter(vditor);\n            this.element.appendChild(vditor.counter.element);\n        }\n    }\n    Toolbar.prototype.updateConfig = function (vditor, options) {\n        vditor.options.toolbarConfig = Object.assign({\n            hide: false,\n            pin: false,\n        }, options);\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        else {\n            this.element.classList.remove(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        else {\n            this.element.classList.remove(\"vditor-toolbar--pin\");\n        }\n    };\n    Toolbar.prototype.genItem = function (vditor, menuItem, index) {\n        var menuItemObj;\n        switch (menuItem.name) {\n            case \"bold\":\n            case \"italic\":\n            case \"more\":\n            case \"strike\":\n            case \"line\":\n            case \"quote\":\n            case \"list\":\n            case \"ordered-list\":\n            case \"check\":\n            case \"code\":\n            case \"inline-code\":\n            case \"link\":\n            case \"table\":\n                menuItemObj = new MenuItem(vditor, menuItem);\n                break;\n            case \"emoji\":\n                menuItemObj = new Emoji(vditor, menuItem);\n                break;\n            case \"headings\":\n                menuItemObj = new Headings(vditor, menuItem);\n                break;\n            case \"|\":\n                menuItemObj = new Divider();\n                break;\n            case \"br\":\n                menuItemObj = new Br();\n                break;\n            case \"undo\":\n                menuItemObj = new Undo(vditor, menuItem);\n                break;\n            case \"redo\":\n                menuItemObj = new Redo(vditor, menuItem);\n                break;\n            case \"help\":\n                menuItemObj = new Help(vditor, menuItem);\n                break;\n            case \"both\":\n                menuItemObj = new Both(vditor, menuItem);\n                break;\n            case \"preview\":\n                menuItemObj = new Preview_Preview(vditor, menuItem);\n                break;\n            case \"fullscreen\":\n                menuItemObj = new Fullscreen(vditor, menuItem);\n                break;\n            case \"upload\":\n                menuItemObj = new Upload_Upload(vditor, menuItem);\n                break;\n            case \"record\":\n                menuItemObj = new Record(vditor, menuItem);\n                break;\n            case \"info\":\n                menuItemObj = new Info(vditor, menuItem);\n                break;\n            case \"edit-mode\":\n                menuItemObj = new EditMode(vditor, menuItem);\n                break;\n            case \"devtools\":\n                menuItemObj = new Devtools(vditor, menuItem);\n                break;\n            case \"outdent\":\n                menuItemObj = new Outdent(vditor, menuItem);\n                break;\n            case \"indent\":\n                menuItemObj = new Indent(vditor, menuItem);\n                break;\n            case \"outline\":\n                menuItemObj = new Outline_Outline(vditor, menuItem);\n                break;\n            case \"insert-after\":\n                menuItemObj = new InsertAfter(vditor, menuItem);\n                break;\n            case \"insert-before\":\n                menuItemObj = new InsertBefore(vditor, menuItem);\n                break;\n            case \"code-theme\":\n                menuItemObj = new CodeTheme(vditor, menuItem);\n                break;\n            case \"content-theme\":\n                menuItemObj = new ContentTheme(vditor, menuItem);\n                break;\n            case \"export\":\n                menuItemObj = new Export(vditor, menuItem);\n                break;\n            default:\n                menuItemObj = new Custom(vditor, menuItem);\n                break;\n        }\n        if (!menuItemObj) {\n            return;\n        }\n        var key = menuItem.name;\n        if (key === \"br\" || key === \"|\") {\n            key = key + index;\n        }\n        this.elements[key] = menuItemObj.element;\n        return menuItemObj.element;\n    };\n    return Toolbar;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/.pnpm/diff-match-patch@1.0.5/node_modules/diff-match-patch/index.js\nvar diff_match_patch = __webpack_require__(85);\n;// CONCATENATED MODULE: ./src/ts/undo/index.ts\n\n\n\n\n\n\n\n\n\nvar undo_Undo = /** @class */ (function () {\n    function Undo() {\n        this.stackSize = 50;\n        this.resetStack();\n        // @ts-ignore\n        this.dmp = new diff_match_patch();\n    }\n    Undo.prototype.clearStack = function (vditor) {\n        this.resetStack();\n        this.resetIcon(vditor);\n    };\n    Undo.prototype.resetIcon = function (vditor) {\n        if (!vditor.toolbar) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.undo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length < 2) {\n            return;\n        }\n        var state = this[vditor.currentMode].undoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].redoStack.push(state);\n        this.renderDiff(state, vditor);\n        this[vditor.currentMode].hasUndo = true;\n        // undo 操作后，需要关闭 hint\n        hidePanel(vditor, [\"hint\"]);\n    };\n    Undo.prototype.redo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        var state = this[vditor.currentMode].redoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].undoStack.push(state);\n        this.renderDiff(state, vditor, true);\n    };\n    Undo.prototype.recordFirstPosition = function (vditor, event) {\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length !== 1 || this[vditor.currentMode].undoStack[0].length === 0 ||\n            this[vditor.currentMode].redoStack.length > 0) {\n            return;\n        }\n        if ((0,compatibility/* isFirefox */.vU)() && event.key === \"Backspace\") {\n            // Firefox 第一次删除无效\n            return;\n        }\n        if ((0,compatibility/* isSafari */.G6)()) {\n            // Safari keydown 在 input 之后，不需要重复记录历史\n            return;\n        }\n        var text = this.addCaret(vditor);\n        if (text.replace(\"<wbr>\", \"\").replace(\" vditor-ir__node--expand\", \"\")\n            !== this[vditor.currentMode].undoStack[0][0].diffs[0][1].replace(\"<wbr>\", \"\")) {\n            // 当还不没有存入 undo 栈时，按下 ctrl 后会覆盖 lastText\n            return;\n        }\n        this[vditor.currentMode].undoStack[0][0].diffs[0][1] = text;\n        this[vditor.currentMode].lastText = text;\n        // 不能添加 setSelectionFocus(cloneRange); 否则 windows chrome 首次输入会烂\n    };\n    Undo.prototype.addToUndoStack = function (vditor) {\n        // afterRenderEvent.ts 已经 debounce\n        var text = this.addCaret(vditor, true);\n        var diff = this.dmp.diff_main(text, this[vditor.currentMode].lastText, true);\n        var patchList = this.dmp.patch_make(text, this[vditor.currentMode].lastText, diff);\n        if (patchList.length === 0 && this[vditor.currentMode].undoStack.length > 0) {\n            return;\n        }\n        this[vditor.currentMode].lastText = text;\n        this[vditor.currentMode].undoStack.push(patchList);\n        if (this[vditor.currentMode].undoStack.length > this.stackSize) {\n            this[vditor.currentMode].undoStack.shift();\n        }\n        if (this[vditor.currentMode].hasUndo) {\n            this[vditor.currentMode].redoStack = [];\n            this[vditor.currentMode].hasUndo = false;\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n    };\n    Undo.prototype.renderDiff = function (state, vditor, isRedo) {\n        if (isRedo === void 0) { isRedo = false; }\n        var text;\n        if (isRedo) {\n            var redoPatchList = this.dmp.patch_deepCopy(state).reverse();\n            redoPatchList.forEach(function (patch) {\n                patch.diffs.forEach(function (diff) {\n                    diff[0] = -diff[0];\n                });\n            });\n            text = this.dmp.patch_apply(redoPatchList, this[vditor.currentMode].lastText)[0];\n        }\n        else {\n            text = this.dmp.patch_apply(state, this[vditor.currentMode].lastText)[0];\n        }\n        this[vditor.currentMode].lastText = text;\n        vditor[vditor.currentMode].element.innerHTML = text;\n        if (vditor.currentMode !== \"sv\") {\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n                .forEach(function (blockElement) {\n                processCodeRender(blockElement, vditor);\n            });\n        }\n        if (!vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            // Safari 第一次输入没有光标，需手动定位到结尾\n            var range = getSelection().getRangeAt(0);\n            range.setEndBefore(vditor[vditor.currentMode].element);\n            range.collapse(false);\n        }\n        else {\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, vditor[vditor.currentMode].element.ownerDocument.createRange());\n            scrollCenter(vditor);\n        }\n        renderToc(vditor);\n        execAfterRender(vditor, {\n            enableAddUndoStack: false,\n            enableHint: false,\n            enableInput: true,\n        });\n        highlightToolbar(vditor);\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='2']\"))\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.resetStack = function () {\n        this.ir = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.sv = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.wysiwyg = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n    };\n    Undo.prototype.addCaret = function (vditor, setFocus) {\n        if (setFocus === void 0) { setFocus = false; }\n        var cloneRange;\n        if (getSelection().rangeCount !== 0 && !vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                cloneRange = range.cloneRange();\n                var wbrElement = document.createElement(\"span\");\n                wbrElement.className = \"vditor-wbr\";\n                range.insertNode(wbrElement);\n            }\n        }\n        // 移除数学公式、echart 渲染 https://github.com/siyuan-note/siyuan/issues/537\n        var cloneElement = vditor.ir.element.cloneNode(true);\n        cloneElement.querySelectorAll(\".vditor-\".concat(vditor.currentMode, \"__preview[data-render='1']\"))\n            .forEach(function (item) {\n            if (!item.firstElementChild) {\n                return;\n            }\n            if (item.firstElementChild.classList.contains(\"language-echarts\") ||\n                item.firstElementChild.classList.contains(\"language-plantuml\") ||\n                item.firstElementChild.classList.contains(\"language-mindmap\")) {\n                item.firstElementChild.removeAttribute(\"_echarts_instance_\");\n                item.firstElementChild.removeAttribute(\"data-processed\");\n                item.firstElementChild.innerHTML = item.previousElementSibling.firstElementChild.innerHTML;\n                item.setAttribute(\"data-render\", \"2\");\n            }\n            else if (item.firstElementChild.classList.contains(\"language-math\")) {\n                item.setAttribute(\"data-render\", \"2\");\n                item.firstElementChild.textContent = item.firstElementChild.getAttribute(\"data-math\");\n                item.firstElementChild.removeAttribute(\"data-math\");\n            }\n        });\n        var text = vditor[vditor.currentMode].element.innerHTML;\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-wbr\").forEach(function (item) {\n            item.remove();\n            // 使用 item.outerHTML = \"\" 会产生 https://github.com/Vanessa219/vditor/pull/686;\n        });\n        if (setFocus && cloneRange) {\n            (0,selection/* setSelectionFocus */.Hc)(cloneRange);\n        }\n        return text.replace('<span class=\"vditor-wbr\"></span>', \"<wbr>\");\n    };\n    return Undo;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(2);\n;// CONCATENATED MODULE: ./src/ts/util/Options.ts\n\n\nvar Options = /** @class */ (function () {\n    function Options(options) {\n        this.defaultOptions = {\n            rtl: false,\n            after: undefined,\n            cache: {\n                enable: true,\n            },\n            cdn: constants/* Constants.CDN */.g.CDN,\n            classes: {\n                preview: \"\",\n            },\n            comment: {\n                enable: false,\n            },\n            counter: {\n                enable: false,\n                type: \"markdown\",\n            },\n            customRenders: [],\n            debugger: false,\n            fullscreen: {\n                index: 90,\n            },\n            height: \"auto\",\n            hint: {\n                delay: 200,\n                emoji: {\n                    \"+1\": \"👍\",\n                    \"-1\": \"👎\",\n                    \"confused\": \"😕\",\n                    \"eyes\": \"👀️\",\n                    \"heart\": \"❤️\",\n                    \"rocket\": \"🚀️\",\n                    \"smile\": \"😄\",\n                    \"tada\": \"🎉️\",\n                },\n                emojiPath: \"\".concat(constants/* Constants.CDN */.g.CDN, \"/dist/images/emoji\"),\n                extend: [],\n                parse: true,\n            },\n            icon: \"ant\",\n            lang: \"zh_CN\",\n            mode: \"ir\",\n            outline: {\n                enable: false,\n                position: \"left\",\n            },\n            placeholder: \"\",\n            preview: {\n                actions: [\"desktop\", \"tablet\", \"mobile\", \"mp-wechat\", \"zhihu\"],\n                delay: 1000,\n                hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n                markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n                math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n                maxWidth: 800,\n                mode: \"both\",\n                theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n                render: {\n                    media: {\n                        enable: true,\n                    }\n                }\n            },\n            link: {\n                isOpen: true,\n            },\n            image: {\n                isPreview: true,\n            },\n            resize: {\n                enable: false,\n                position: \"bottom\",\n            },\n            theme: \"classic\",\n            toolbar: [\n                \"emoji\",\n                \"headings\",\n                \"bold\",\n                \"italic\",\n                \"strike\",\n                \"link\",\n                \"|\",\n                \"list\",\n                \"ordered-list\",\n                \"check\",\n                \"outdent\",\n                \"indent\",\n                \"|\",\n                \"quote\",\n                \"line\",\n                \"code\",\n                \"inline-code\",\n                \"insert-before\",\n                \"insert-after\",\n                \"|\",\n                \"upload\",\n                \"record\",\n                \"table\",\n                \"|\",\n                \"undo\",\n                \"redo\",\n                \"|\",\n                \"fullscreen\",\n                \"edit-mode\",\n                {\n                    name: \"more\",\n                    toolbar: [\n                        \"both\",\n                        \"code-theme\",\n                        \"content-theme\",\n                        \"export\",\n                        \"outline\",\n                        \"preview\",\n                        \"devtools\",\n                        \"info\",\n                        \"help\",\n                    ],\n                },\n            ],\n            toolbarConfig: {\n                hide: false,\n                pin: false,\n            },\n            typewriterMode: false,\n            undoDelay: 800,\n            upload: {\n                extraData: {},\n                fieldName: \"file[]\",\n                filename: function (name) { return name.replace(/\\W/g, \"\"); },\n                linkToImgUrl: \"\",\n                max: 10 * 1024 * 1024,\n                multiple: true,\n                url: \"\",\n                withCredentials: false,\n            },\n            value: \"\",\n            width: \"auto\",\n        };\n        this.options = options;\n    }\n    Options.prototype.merge = function () {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (this.options) {\n            if (this.options.toolbar) {\n                this.options.toolbar = this.mergeToolbar(this.options.toolbar);\n            }\n            else {\n                this.options.toolbar = this.mergeToolbar(this.defaultOptions.toolbar);\n            }\n            if ((_b = (_a = this.options.preview) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.list) {\n                this.defaultOptions.preview.theme.list = this.options.preview.theme.list;\n            }\n            if ((_e = (_d = (_c = this.options.preview) === null || _c === void 0 ? void 0 : _c.render) === null || _d === void 0 ? void 0 : _d.media) === null || _e === void 0 ? void 0 : _e.enable) {\n                this.defaultOptions.preview.render.media.enable = this.options.preview.render.media.enable;\n            }\n            if ((_f = this.options.hint) === null || _f === void 0 ? void 0 : _f.emoji) {\n                this.defaultOptions.hint.emoji = this.options.hint.emoji;\n            }\n            if (this.options.comment) {\n                this.defaultOptions.comment = this.options.comment;\n            }\n            if (this.options.cdn) {\n                if (!((_h = (_g = this.options.preview) === null || _g === void 0 ? void 0 : _g.theme) === null || _h === void 0 ? void 0 : _h.path)) {\n                    this.defaultOptions.preview.theme.path = \"\".concat(this.options.cdn, \"/dist/css/content-theme\");\n                }\n                if (!((_j = this.options.hint) === null || _j === void 0 ? void 0 : _j.emojiPath)) {\n                    this.defaultOptions.hint.emojiPath = \"\".concat(this.options.cdn, \"/dist/images/emoji\");\n                }\n            }\n        }\n        var mergedOptions = (0,merge/* merge */.T)(this.defaultOptions, this.options);\n        if (mergedOptions.cache.enable && !mergedOptions.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        return mergedOptions;\n    };\n    Options.prototype.mergeToolbar = function (toolbar) {\n        var _this = this;\n        var toolbarItem = [\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-export\"></use></svg>',\n                name: \"export\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-emoji\"></use></svg>',\n                name: \"emoji\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-headings\"></use></svg>',\n                name: \"headings\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-bold\"></use></svg>',\n                name: \"bold\",\n                prefix: \"**\",\n                suffix: \"**\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-italic\"></use></svg>',\n                name: \"italic\",\n                prefix: \"*\",\n                suffix: \"*\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘D\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-strike\"></use></svg>',\n                name: \"strike\",\n                prefix: \"~~\",\n                suffix: \"~~\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘K\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-link\"></use></svg>',\n                name: \"link\",\n                prefix: \"[\",\n                suffix: \"](https://)\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘L\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-list\"></use></svg>',\n                name: \"list\",\n                prefix: \"* \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-ordered-list\"></use></svg>',\n                name: \"ordered-list\",\n                prefix: \"1. \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘J\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-check\"></use></svg>',\n                name: \"check\",\n                prefix: \"* [ ] \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-outdent\"></use></svg>',\n                name: \"outdent\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-indent\"></use></svg>',\n                name: \"indent\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘;\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-quote\"></use></svg>',\n                name: \"quote\",\n                prefix: \"> \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-line\"></use></svg>',\n                name: \"line\",\n                prefix: \"---\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘U\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-code\"></use></svg>',\n                name: \"code\",\n                prefix: \"```\",\n                suffix: \"\\n```\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘G\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-inline-code\"></use></svg>',\n                name: \"inline-code\",\n                prefix: \"`\",\n                suffix: \"`\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-before\"></use></svg>',\n                name: \"insert-before\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-after\"></use></svg>',\n                name: \"insert-after\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>',\n                name: \"upload\",\n                tipPosition: \"n\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-record\"></use></svg>',\n                name: \"record\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘M\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-table\"></use></svg>',\n                name: \"table\",\n                prefix: \"| col1\",\n                suffix: \" | col2 | col3 |\\n| --- | --- | --- |\\n|  |  |  |\\n|  |  |  |\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘Z\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-undo\"></use></svg>',\n                name: \"undo\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘Y\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-redo\"></use></svg>',\n                name: \"redo\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-more\"></use></svg>',\n                name: \"more\",\n                tipPosition: \"e\",\n            },\n            {\n                hotkey: \"⌘'\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-fullscreen\"></use></svg>',\n                name: \"fullscreen\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-edit\"></use></svg>',\n                name: \"edit-mode\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘P\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-both\"></use></svg>',\n                name: \"both\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-preview\"></use></svg>',\n                name: \"preview\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>',\n                name: \"outline\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-theme\"></use></svg>',\n                name: \"content-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-code-theme\"></use></svg>',\n                name: \"code-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-bug\"></use></svg>',\n                name: \"devtools\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-info\"></use></svg>',\n                name: \"info\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-help\"></use></svg>',\n                name: \"help\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"br\",\n            },\n        ];\n        var toolbarResult = [];\n        toolbar.forEach(function (menuItem) {\n            var currentMenuItem = menuItem;\n            toolbarItem.forEach(function (defaultMenuItem) {\n                if (typeof menuItem === \"string\" &&\n                    defaultMenuItem.name === menuItem) {\n                    currentMenuItem = defaultMenuItem;\n                }\n                if (typeof menuItem === \"object\" &&\n                    defaultMenuItem.name === menuItem.name) {\n                    currentMenuItem = Object.assign({}, defaultMenuItem, menuItem);\n                }\n            });\n            if (menuItem.toolbar) {\n                currentMenuItem.toolbar = _this.mergeToolbar(menuItem.toolbar);\n            }\n            toolbarResult.push(currentMenuItem);\n        });\n        return toolbarResult;\n    };\n    return Options;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar WYSIWYG = /** @class */ (function () {\n    function WYSIWYG(vditor) {\n        var _this = this;\n        this.composingLock = false;\n        this.commentIds = [];\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-wysiwyg\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\".concat(vditor.options.placeholder, \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\\n<div class=\\\"vditor-panel vditor-panel--none\\\"></div>\\n<div class=\\\"vditor-panel vditor-panel--none\\\">\\n    <button type=\\\"button\\\" aria-label=\\\"\").concat(window.VditorI18n.comment, \"\\\" class=\\\"vditor-icon vditor-tooltipped vditor-tooltipped__n\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-comment\\\"></use></svg>\\n    </button>\\n</div>\");\n        this.element = divElement.firstElementChild;\n        this.popover = divElement.firstElementChild.nextElementSibling;\n        this.selectPopover = divElement.lastElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n        if (vditor.options.comment.enable) {\n            this.selectPopover.querySelector(\"button\").onclick = function () {\n                var id = Lute.NewNodeID();\n                var range = getSelection().getRangeAt(0);\n                var rangeClone = range.cloneRange();\n                var contents = range.extractContents();\n                var blockStartElement;\n                var blockEndElement;\n                var removeStart = false;\n                var removeEnd = false;\n                contents.childNodes.forEach(function (item, index) {\n                    var wrap = false;\n                    if (item.nodeType === 3) {\n                        wrap = true;\n                    }\n                    else if (!item.classList.contains(\"vditor-comment\")) {\n                        wrap = true;\n                    }\n                    else if (item.classList.contains(\"vditor-comment\")) {\n                        item.setAttribute(\"data-cmtids\", item.getAttribute(\"data-cmtids\") + \" \" + id);\n                    }\n                    if (wrap) {\n                        if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === 0 && rangeClone.startOffset > 0) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                            blockStartElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === contents.childNodes.length - 1\n                            && rangeClone.endOffset < rangeClone.endContainer.textContent.length) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                            blockEndElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\") {\n                            if (index === 0) {\n                                removeStart = true;\n                            }\n                            else if (index === contents.childNodes.length - 1) {\n                                removeEnd = true;\n                            }\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\".concat(id, \"\\\">\").concat(item.innerHTML, \"</span>\");\n                        }\n                        else {\n                            var commentElement = document.createElement(\"span\");\n                            commentElement.classList.add(\"vditor-comment\");\n                            commentElement.setAttribute(\"data-cmtids\", id);\n                            item.parentNode.insertBefore(commentElement, item);\n                            commentElement.appendChild(item);\n                        }\n                    }\n                });\n                var startElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.startContainer);\n                if (startElement) {\n                    if (blockStartElement) {\n                        startElement.insertAdjacentHTML(\"beforeend\", blockStartElement.innerHTML);\n                        blockStartElement.remove();\n                    }\n                    else if (startElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeStart) {\n                        startElement.remove();\n                    }\n                }\n                var endElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.endContainer);\n                if (endElement) {\n                    if (blockEndElement) {\n                        endElement.insertAdjacentHTML(\"afterbegin\", blockEndElement.innerHTML);\n                        blockEndElement.remove();\n                    }\n                    else if (endElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeEnd) {\n                        endElement.remove();\n                    }\n                }\n                range.insertNode(contents);\n                vditor.options.comment.add(id, range.toString(), _this.getComments(vditor, true));\n                afterRenderEvent(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: false,\n                    enableInput: false,\n                });\n                _this.hideComment();\n            };\n        }\n    }\n    WYSIWYG.prototype.getComments = function (vditor, getData) {\n        var _this = this;\n        if (getData === void 0) { getData = false; }\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n            this.commentIds = [];\n            this.element.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n                _this.commentIds =\n                    _this.commentIds.concat(item.getAttribute(\"data-cmtids\").split(\" \"));\n            });\n            this.commentIds = Array.from(new Set(this.commentIds));\n            var comments_1 = [];\n            if (getData) {\n                this.commentIds.forEach(function (id) {\n                    comments_1.push({\n                        id: id,\n                        top: _this.element.querySelector(\".vditor-comment[data-cmtids=\\\"\".concat(id, \"\\\"]\")).offsetTop,\n                    });\n                });\n                return comments_1;\n            }\n        }\n        else {\n            return [];\n        }\n    };\n    WYSIWYG.prototype.triggerRemoveComment = function (vditor) {\n        var difference = function (a, b) {\n            var s = new Set(b);\n            return a.filter(function (x) { return !s.has(x); });\n        };\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable && vditor.wysiwyg.commentIds.length > 0) {\n            var oldIds = JSON.parse(JSON.stringify(this.commentIds));\n            this.getComments(vditor);\n            var removedIds = difference(oldIds, this.commentIds);\n            if (removedIds.length > 0) {\n                vditor.options.comment.remove(removedIds);\n            }\n        }\n    };\n    WYSIWYG.prototype.showComment = function () {\n        var position = (0,selection/* getCursorPosition */.Ny)(this.element);\n        this.selectPopover.setAttribute(\"style\", \"left:\".concat(position.left, \"px;display:block;top:\").concat(Math.max(-8, position.top - 21), \"px\"));\n    };\n    WYSIWYG.prototype.hideComment = function () {\n        this.selectPopover.setAttribute(\"style\", \"display:none\");\n    };\n    WYSIWYG.prototype.unbindListener = function () {\n        window.removeEventListener(\"scroll\", this.scrollListener);\n    };\n    WYSIWYG.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var codeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n        var codeEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"CODE\");\n        if (codeElement && codeEndElement && codeEndElement.isSameNode(codeElement)) {\n            var codeText = \"\";\n            if (codeElement.parentElement.tagName === \"PRE\") {\n                codeText = range.toString();\n            }\n            else {\n                codeText = \"`\" + range.toString() + \"`\";\n            }\n            event.clipboardData.setData(\"text/plain\", codeText);\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"A\");\n        var aEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"A\");\n        if (aElement && aEndElement && aEndElement.isSameNode(aElement)) {\n            var aTitle = aElement.getAttribute(\"title\") || \"\";\n            if (aTitle) {\n                aTitle = \" \\\"\".concat(aTitle, \"\\\"\");\n            }\n            event.clipboardData.setData(\"text/plain\", \"[\".concat(range.toString(), \"](\").concat(aElement.getAttribute(\"href\")).concat(aTitle, \")\"));\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    WYSIWYG.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.unbindListener();\n        window.addEventListener(\"scroll\", this.scrollListener = function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (_this.popover.style.display !== \"block\" || _this.selectPopover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10);\n            if (vditor.options.height !== \"auto\") {\n                if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                    var popoverTop = Math.max(window.scrollY - vditor.element.offsetTop - 8, Math.min(top - vditor.wysiwyg.element.scrollTop, _this.element.clientHeight - 21)) + \"px\";\n                    if (_this.popover.style.display === \"block\") {\n                        _this.popover.style.top = popoverTop;\n                    }\n                    if (_this.selectPopover.style.display === \"block\") {\n                        _this.selectPopover.style.top = popoverTop;\n                    }\n                }\n                return;\n            }\n            else if (!vditor.options.toolbarConfig.pin) {\n                return;\n            }\n            var popoverTop1 = Math.max(top, (window.scrollY - vditor.element.offsetTop - 8)) + \"px\";\n            if (_this.popover.style.display === \"block\") {\n                _this.popover.style.top = popoverTop1;\n            }\n            if (_this.selectPopover.style.display === \"block\") {\n                _this.selectPopover.style.top = popoverTop1;\n            }\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (vditor.options.comment && vditor.options.comment.enable && vditor.options.comment.scroll) {\n                vditor.options.comment.scroll(vditor.wysiwyg.element.scrollTop);\n            }\n            if (_this.popover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10) - vditor.wysiwyg.element.scrollTop;\n            var max = -8;\n            if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                max = window.scrollY - vditor.element.offsetTop + max;\n            }\n            var topPx = Math.max(max, Math.min(top, _this.element.clientHeight - 21)) + \"px\";\n            _this.popover.style.top = topPx;\n            _this.selectPopover.style.top = topPx;\n        });\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    var range = (0,selection/* getEditorRange */.zh)(vditor);\n                    var node = document.createElement(\"template\");\n                    node.innerHTML = code;\n                    range.insertNode(node.content.cloneNode(true));\n                    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n                    if (blockElement) {\n                        blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                    }\n                    else {\n                        vditor.wysiwyg.element.innerHTML = vditor.lute.SpinVditorDOM(vditor.wysiwyg.element.innerHTML);\n                    }\n                    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                },\n            });\n        });\n        // 中文处理\n        this.element.addEventListener(\"compositionstart\", function () {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                return;\n            }\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input_input(vditor, getSelection().getRangeAt(0).cloneRange(), event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                afterRenderEvent(vditor);\n                return;\n            }\n            var range = getSelection().getRangeAt(0);\n            var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            if (!blockElement) {\n                // 没有被块元素包裹\n                modifyPre(vditor, range);\n                blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            }\n            if (!blockElement) {\n                return;\n            }\n            // 前后空格处理\n            var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n            // 开始可以输入空格\n            var startSpace = true;\n            for (var i = startOffset - 1; i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n                if (blockElement.textContent.charAt(i) !== \" \" &&\n                    // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                    blockElement.textContent.charAt(i) !== \"\\t\") {\n                    startSpace = false;\n                    break;\n                }\n            }\n            if (startOffset === 0) {\n                startSpace = false;\n            }\n            // 结尾可以输入空格\n            var endSpace = true;\n            for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n                if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                    endSpace = false;\n                    break;\n                }\n            }\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                headingElement.remove();\n            }\n            if ((startSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\")\n                || endSpace || isHeadingMD(blockElement.innerHTML) ||\n                (isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling)) {\n                if (typeof vditor.options.input === \"function\") {\n                    vditor.options.input(getMarkdown(vditor));\n                }\n                return;\n            }\n            // https://github.com/Vanessa219/vditor/issues/1565\n            if (event.inputType === \"insertParagraph\" && _this.element.innerHTML === '<p><br></p><p><br></p>') {\n                blockElement.previousElementSibling.remove();\n            }\n            input_input(vditor, range, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                var checkElement = event.target;\n                if (checkElement.checked) {\n                    checkElement.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    checkElement.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (event.target.tagName === \"IMG\" &&\n                // plantuml 图片渲染不进行提示\n                !event.target.parentElement.classList.contains(\"vditor-wysiwyg__preview\")) {\n                if (event.target.getAttribute(\"data-type\") === \"link-ref\") {\n                    genLinkRefPopover(vditor, event.target);\n                }\n                else {\n                    genImagePopover(event, vditor);\n                }\n                return;\n            }\n            // 打开链接\n            var a = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"A\");\n            if (a) {\n                if (vditor.options.link.click) {\n                    vditor.options.link.click(a);\n                }\n                else if (vditor.options.link.isOpen) {\n                    window.open(a.getAttribute(\"href\"));\n                }\n                event.preventDefault();\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\".concat(constants/* Constants.ZWSP */.g.ZWSP, \"<wbr></p>\"));\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            highlightToolbarWYSIWYG(vditor);\n            // 点击后光标落于预览区，需展开代码块\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-wysiwyg__preview\");\n            if (!previewElement) {\n                previewElement =\n                    (0,hasClosest/* hasClosestByClassName */.fb)((0,selection/* getEditorRange */.zh)(vditor).startContainer, \"vditor-wysiwyg__preview\");\n            }\n            if (previewElement) {\n                showCode(previewElement, vditor);\n            }\n            clickToc(event, vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            // 除 md 处理、cell 内换行、table 添加新行/列、代码块语言切换、block render 换行、跳出/逐层跳出 blockquote、h6 换行、\n            // 任务列表换行、软换行外需在换行时调整文档位置\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.wysiwyg.element.innerHTML !== \"\" && vditor.wysiwyg.element.childNodes.length === 1 &&\n                vditor.wysiwyg.element.firstElementChild && vditor.wysiwyg.element.firstElementChild.tagName === \"P\"\n                && vditor.wysiwyg.element.firstElementChild.childElementCount === 0\n                && (vditor.wysiwyg.element.textContent === \"\" || vditor.wysiwyg.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.wysiwyg.element.innerHTML = \"\";\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                }\n            }\n            // 没有被块元素包裹\n            modifyPre(vditor, range);\n            highlightToolbarWYSIWYG(vditor);\n            if (event.key !== \"ArrowDown\" && event.key !== \"ArrowRight\" && event.key !== \"Backspace\"\n                && event.key !== \"ArrowLeft\" && event.key !== \"ArrowUp\") {\n                return;\n            }\n            if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                vditor.hint.render(vditor);\n            }\n            // 上下左右，删除遇到块预览的处理\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__preview\");\n            if (!previewElement && range.startContainer.nodeType !== 3 && range.startOffset > 0) {\n                // table 前删除遇到代码块\n                var blockRenderElement = range.startContainer;\n                if (blockRenderElement.classList.contains(\"vditor-wysiwyg__block\")) {\n                    previewElement = blockRenderElement.lastElementChild;\n                }\n            }\n            if (!previewElement) {\n                return;\n            }\n            var previousElement = previewElement.previousElementSibling;\n            if (previousElement.style.display === \"none\") {\n                if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                    showCode(previewElement, vditor);\n                }\n                else {\n                    showCode(previewElement, vditor, false);\n                }\n                return;\n            }\n            var codeElement = previewElement.previousElementSibling;\n            if (codeElement.tagName === \"PRE\") {\n                codeElement = codeElement.firstElementChild;\n            }\n            if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                var blockRenderElement = previewElement.parentElement;\n                var nextNode = getRenderElementNextNode(blockRenderElement);\n                if (nextNode && nextNode.nodeType !== 3) {\n                    // 下一节点依旧为代码渲染块\n                    var nextRenderElement = nextNode.querySelector(\".vditor-wysiwyg__preview\");\n                    if (nextRenderElement) {\n                        showCode(nextRenderElement, vditor);\n                        return;\n                    }\n                }\n                // 跳过渲染块，光标移动到下一个节点\n                if (nextNode.nodeType === 3) {\n                    // inline\n                    while (nextNode.textContent.length === 0 && nextNode.nextSibling) {\n                        // https://github.com/Vanessa219/vditor/issues/100 2\n                        nextNode = nextNode.nextSibling;\n                    }\n                    range.setStart(nextNode, 1);\n                }\n                else {\n                    // block\n                    range.setStart(nextNode.firstChild, 0);\n                }\n            }\n            else {\n                range.selectNodeContents(codeElement);\n                range.collapse(false);\n            }\n        });\n    };\n    return WYSIWYG;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function (_super) {\n    src_extends(Vditor, _super);\n    /**\n     * @param id 要挂载 Vditor 的元素或者元素 ID。\n     * @param options Vditor 参数\n     */\n    function Vditor(id, options) {\n        var _this = _super.call(this) || this;\n        _this.version = constants/* VDITOR_VERSION */.H;\n        if (typeof id === \"string\") {\n            if (!options) {\n                options = {\n                    cache: {\n                        id: \"vditor\".concat(id),\n                    },\n                };\n            }\n            else if (!options.cache) {\n                options.cache = { id: \"vditor\".concat(id) };\n            }\n            else if (!options.cache.id) {\n                options.cache.id = \"vditor\".concat(id);\n            }\n            if (!document.getElementById(id)) {\n                _this.showErrorTip(\"Failed to get element by id: \".concat(id));\n                return _this;\n            }\n            id = document.getElementById(id);\n        }\n        var getOptions = new Options(options);\n        var mergedOptions = getOptions.merge();\n        // 支持自定义国际化\n        if (!mergedOptions.i18n) {\n            if (![\"en_US\", \"fr_FR\", \"pt_BR\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"sv_SE\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            }\n            else {\n                var i18nScriptPrefix = \"vditorI18nScript\";\n                var i18nScriptID_1 = i18nScriptPrefix + mergedOptions.lang;\n                document.querySelectorAll(\"head script[id^=\\\"\".concat(i18nScriptPrefix, \"\\\"]\")).forEach(function (el) {\n                    if (el.id !== i18nScriptID_1) {\n                        document.head.removeChild(el);\n                    }\n                });\n                (0,addScript/* addScript */.G)(\"\".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js\"), i18nScriptID_1).then(function () {\n                    _this.init(id, mergedOptions);\n                }).catch(function (error) {\n                    _this.showErrorTip(\"GET \".concat(mergedOptions.cdn, \"/dist/js/i18n/\").concat(mergedOptions.lang, \".js net::ERR_ABORTED 404 (Not Found)\"));\n                });\n            }\n        }\n        else {\n            window.VditorI18n = mergedOptions.i18n;\n            _this.init(id, mergedOptions);\n        }\n        return _this;\n    }\n    Vditor.prototype.showErrorTip = function (error) {\n        var tip = new Tip();\n        document.body.appendChild(tip.element);\n        tip.show(error, 0);\n    };\n    Vditor.prototype.updateToolbarConfig = function (options) {\n        this.vditor.toolbar.updateConfig(this.vditor, options);\n    };\n    /** 设置主题 */\n    Vditor.prototype.setTheme = function (theme, contentTheme, codeTheme, contentThemePath) {\n        this.vditor.options.theme = theme;\n        setTheme(this.vditor);\n        if (contentTheme) {\n            this.vditor.options.preview.theme.current = contentTheme;\n            (0,setContentTheme/* setContentTheme */.Z)(contentTheme, contentThemePath || this.vditor.options.preview.theme.path);\n        }\n        if (codeTheme) {\n            this.vditor.options.preview.hljs.style = codeTheme;\n            (0,setCodeTheme/* setCodeTheme */.Y)(codeTheme, this.vditor.options.cdn);\n        }\n    };\n    /** 获取 Markdown 内容 */\n    Vditor.prototype.getValue = function () {\n        return getMarkdown(this.vditor);\n    };\n    /** 获取编辑器当前编辑模式 */\n    Vditor.prototype.getCurrentMode = function () {\n        return this.vditor.currentMode;\n    };\n    /** 聚焦到编辑器 */\n    Vditor.prototype.focus = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.focus();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.focus();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.focus();\n        }\n    };\n    /** 让编辑器失焦 */\n    Vditor.prototype.blur = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.blur();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.blur();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.blur();\n        }\n    };\n    /** 禁用编辑器 */\n    Vditor.prototype.disabled = function () {\n        hidePanel(this.vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n        disableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"false\");\n    };\n    /** 解除编辑器禁用 */\n    Vditor.prototype.enable = function () {\n        enableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor.undo.resetIcon(this.vditor);\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"true\");\n    };\n    /** 返回选中的字符串 */\n    Vditor.prototype.getSelection = function () {\n        if (this.vditor.currentMode === \"wysiwyg\") {\n            return getSelectText(this.vditor.wysiwyg.element);\n        }\n        else if (this.vditor.currentMode === \"sv\") {\n            return getSelectText(this.vditor.sv.element);\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            return getSelectText(this.vditor.ir.element);\n        }\n    };\n    /** 设置预览区域内容 */\n    Vditor.prototype.renderPreview = function (value) {\n        this.vditor.preview.render(this.vditor, value);\n    };\n    /** 获取焦点位置 */\n    Vditor.prototype.getCursorPosition = function () {\n        return (0,selection/* getCursorPosition */.Ny)(this.vditor[this.vditor.currentMode].element);\n    };\n    /** 上传是否还在进行中 */\n    Vditor.prototype.isUploading = function () {\n        return this.vditor.upload.isUploading;\n    };\n    /** 清除缓存 */\n    Vditor.prototype.clearCache = function () {\n        localStorage.removeItem(this.vditor.options.cache.id);\n    };\n    /** 禁用缓存 */\n    Vditor.prototype.disabledCache = function () {\n        this.vditor.options.cache.enable = false;\n    };\n    /** 启用缓存 */\n    Vditor.prototype.enableCache = function () {\n        if (!this.vditor.options.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        this.vditor.options.cache.enable = true;\n    };\n    /** HTML 转 md */\n    Vditor.prototype.html2md = function (value) {\n        return this.vditor.lute.HTML2Md(value);\n    };\n    /** markdown 转 JSON 输出 */\n    Vditor.prototype.exportJSON = function (value) {\n        return this.vditor.lute.RenderJSON(value);\n    };\n    /** 获取 HTML */\n    Vditor.prototype.getHTML = function () {\n        return getHTML(this.vditor);\n    };\n    /** 消息提示。time 为 0 将一直显示 */\n    Vditor.prototype.tip = function (text, time) {\n        this.vditor.tip.show(text, time);\n    };\n    /** 设置预览模式 */\n    Vditor.prototype.setPreviewMode = function (mode) {\n        setPreviewMode(mode, this.vditor);\n    };\n    /** 删除选中内容 */\n    Vditor.prototype.deleteValue = function () {\n        if (window.getSelection().isCollapsed) {\n            return;\n        }\n        document.execCommand(\"delete\", false);\n    };\n    /** 更新选中内容 */\n    Vditor.prototype.updateValue = function (value) {\n        document.execCommand(\"insertHTML\", false, value);\n    };\n    /** 在焦点处插入内容，并默认进行 Markdown 渲染 */\n    Vditor.prototype.insertValue = function (value, render) {\n        if (render === void 0) { render = true; }\n        var range = (0,selection/* getEditorRange */.zh)(this.vditor);\n        range.collapse(true);\n        var tmpElement = document.createElement(\"template\");\n        tmpElement.innerHTML = value;\n        range.insertNode(tmpElement.content.cloneNode(true));\n        range.collapse(false);\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.preventInput = true;\n            if (render) {\n                inputEvent(this.vditor);\n            }\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            // 由于 https://github.com/Vanessa219/vditor/issues/1566 不能使用 this.vditor.wysiwyg.preventInput = true;\n            if (render) {\n                input_input(this.vditor, getSelection().getRangeAt(0));\n            }\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.preventInput = true;\n            if (render) {\n                input(this.vditor, getSelection().getRangeAt(0), true);\n            }\n        }\n    };\n    /** 设置编辑器内容 */\n    Vditor.prototype.setValue = function (markdown, clearStack) {\n        var _this = this;\n        if (clearStack === void 0) { clearStack = false; }\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.innerHTML = \"<div data-block='0'>\".concat(this.vditor.lute.SpinVditorSVDOM(markdown), \"</div>\");\n            processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            renderDomByMd(this.vditor, markdown, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else {\n            this.vditor.ir.element.innerHTML = this.vditor.lute.Md2VditorIRDOM(markdown);\n            this.vditor.ir.element\n                .querySelectorAll(\".vditor-ir__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, _this.vditor);\n            });\n            process_processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        this.vditor.outline.render(this.vditor);\n        if (!markdown) {\n            hidePanel(this.vditor, [\"emoji\", \"headings\", \"submenu\", \"hint\"]);\n            if (this.vditor.wysiwyg.popover) {\n                this.vditor.wysiwyg.popover.style.display = \"none\";\n            }\n            this.clearCache();\n        }\n        if (clearStack) {\n            this.clearStack();\n        }\n    };\n    /** 清空 undo & redo 栈 */\n    Vditor.prototype.clearStack = function () {\n        this.vditor.undo.clearStack(this.vditor);\n        this.vditor.undo.addToUndoStack(this.vditor);\n    };\n    /** 销毁编辑器 */\n    Vditor.prototype.destroy = function () {\n        this.vditor.element.innerHTML = this.vditor.originalInnerHTML;\n        this.vditor.element.classList.remove(\"vditor\");\n        this.vditor.element.removeAttribute(\"style\");\n        var iconScript = document.getElementById(\"vditorIconScript\");\n        if (iconScript) {\n            iconScript.remove();\n        }\n        this.clearCache();\n        UIUnbindListener();\n        this.vditor.wysiwyg.unbindListener();\n    };\n    /** 获取评论 ID */\n    Vditor.prototype.getCommentIds = function () {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return [];\n        }\n        return this.vditor.wysiwyg.getComments(this.vditor, true);\n    };\n    /** 高亮评论 */\n    Vditor.prototype.hlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var hlItem = function (item) {\n            item.classList.remove(\"vditor-comment--hover\");\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.add(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            hlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                hlItem(item);\n            });\n        }\n    };\n    /** 取消评论高亮 */\n    Vditor.prototype.unHlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var unHlItem = function (item) {\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.remove(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            unHlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                unHlItem(item);\n            });\n        }\n    };\n    /** 删除评论 */\n    Vditor.prototype.removeCommentIds = function (removeIds) {\n        var _this = this;\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var removeItem = function (item, removeId) {\n            var ids = item.getAttribute(\"data-cmtids\").split(\" \");\n            ids.find(function (id, index) {\n                if (id === removeId) {\n                    ids.splice(index, 1);\n                    return true;\n                }\n            });\n            if (ids.length === 0) {\n                item.outerHTML = item.innerHTML;\n                (0,selection/* getEditorRange */.zh)(_this.vditor).collapse(true);\n            }\n            else {\n                item.setAttribute(\"data-cmtids\", ids.join(\" \"));\n            }\n        };\n        removeIds.forEach(function (removeId) {\n            _this.vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                removeItem(item, removeId);\n            });\n            if (_this.vditor.preview.element.style.display !== \"none\") {\n                _this.vditor.preview.element\n                    .querySelectorAll(\".vditor-comment\")\n                    .forEach(function (item) {\n                    removeItem(item, removeId);\n                });\n            }\n        });\n        afterRenderEvent(this.vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n    };\n    Vditor.prototype.init = function (id, mergedOptions) {\n        var _this = this;\n        this.vditor = {\n            currentMode: mergedOptions.mode,\n            element: id,\n            hint: new Hint(mergedOptions.hint.extend),\n            lute: undefined,\n            options: mergedOptions,\n            originalInnerHTML: id.innerHTML,\n            outline: new Outline(window.VditorI18n.outline),\n            tip: new Tip(),\n        };\n        this.vditor.sv = new Editor(this.vditor);\n        this.vditor.undo = new undo_Undo();\n        this.vditor.wysiwyg = new WYSIWYG(this.vditor);\n        this.vditor.ir = new IR(this.vditor);\n        this.vditor.toolbar = new Toolbar(this.vditor);\n        if (mergedOptions.resize.enable) {\n            this.vditor.resize = new Resize(this.vditor);\n        }\n        if (this.vditor.toolbar.elements.devtools) {\n            this.vditor.devtools = new DevTools();\n        }\n        if (mergedOptions.upload.url || mergedOptions.upload.handler) {\n            this.vditor.upload = new Upload();\n        }\n        (0,addScript/* addScript */.G)(mergedOptions._lutePath ||\n            \"\".concat(mergedOptions.cdn, \"/dist/js/lute/lute.min.js\"), \"vditorLuteScript\").then(function () {\n            _this.vditor.lute = (0,setLute/* setLute */.X)({\n                autoSpace: _this.vditor.options.preview.markdown.autoSpace,\n                gfmAutoLink: _this.vditor.options.preview.markdown.gfmAutoLink,\n                codeBlockPreview: _this.vditor.options.preview.markdown\n                    .codeBlockPreview,\n                emojiSite: _this.vditor.options.hint.emojiPath,\n                emojis: _this.vditor.options.hint.emoji,\n                fixTermTypo: _this.vditor.options.preview.markdown.fixTermTypo,\n                footnotes: _this.vditor.options.preview.markdown.footnotes,\n                headingAnchor: false,\n                inlineMathDigit: _this.vditor.options.preview.math.inlineDigit,\n                linkBase: _this.vditor.options.preview.markdown.linkBase,\n                linkPrefix: _this.vditor.options.preview.markdown.linkPrefix,\n                listStyle: _this.vditor.options.preview.markdown.listStyle,\n                mark: _this.vditor.options.preview.markdown.mark,\n                mathBlockPreview: _this.vditor.options.preview.markdown\n                    .mathBlockPreview,\n                paragraphBeginningSpace: _this.vditor.options.preview.markdown\n                    .paragraphBeginningSpace,\n                sanitize: _this.vditor.options.preview.markdown.sanitize,\n                toc: _this.vditor.options.preview.markdown.toc,\n            });\n            _this.vditor.preview = new Preview(_this.vditor);\n            initUI(_this.vditor);\n            if (mergedOptions.after) {\n                mergedOptions.after();\n            }\n            if (mergedOptions.icon) {\n                // 防止初始化 2 个编辑器时加载 2 次\n                (0,addScript/* addScriptSync */.J)(\"\".concat(mergedOptions.cdn, \"/dist/js/icons/\").concat(mergedOptions.icon, \".js\"), \"vditorIconScript\");\n            }\n        });\n    };\n    return Vditor;\n}(method[\"default\"]));\n/* harmony default export */ const src = (Vditor);\n\n})();\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["props","ref","AntdIcon","A","icon","token","componentCls","iconCls","antCls","zIndexPopup","colorText","colorWarning","marginXXS","marginXS","fontSize","fontWeightStrong","colorTextHeading","zIndex","marginBottom","display","flexWrap","alignItems","color","lineHeight","marginInlineEnd","fontWeight","marginTop","textAlign","whiteSpace","button","marginInlineStart","genBaseStyle","zIndexPopupBase","resetStyle","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Overlay","prefixCls","okButtonProps","cancelButtonProps","title","description","cancelText","okText","okType","ExclamationCircleFilled","showCancel","close","onConfirm","onCancel","onPopupClick","getPrefixCls","contextLocale","useLocale","Popconfirm","titleNode","getRenderPropValue","descriptionNode","className","onClick","assign","size","ActionButton","buttonProps","actionFn","quitOnNullishReturnValue","emitEvent","customizePrefixCls","placement","style","restProps","wrapCSSVar","content","_a","_b","trigger","children","overlayClassName","onOpenChange","onVisibleChange","open","setOpen","useMergedState","value","visible","defaultValue","defaultOpen","defaultVisible","settingOpen","overlayClassNames","omit","disabled","_InternalPanelDoNotUseOrYouWillBeFired","undefined","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","join","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","g","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","apply","func","thisArg","args","arrayAggregator","array","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","Array","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","key","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","n","baseTrim","string","slice","trimmedEndIndex","replace","baseUnary","baseValues","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","test","mapToArray","map","forEach","overArg","transform","arg","replaceHolders","placeholder","setToArray","set","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","match","unicodeToArray","split","asciiToArray","charAt","unescapeHtmlChar","_","runInContext","context","uid","defaults","pick","Date","Error","Math","String","TypeError","arrayProto","funcProto","objectProto","coreJsData","funcToString","toString","idCounter","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","create","splice","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","defineProperty","getNative","ctxClearTimeout","clearTimeout","ctxNow","now","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","Map","Promise","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","this","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","push","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","get","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","constructor","input","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","name","message","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othProps","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","comparer","sort","baseSortBy","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","fn","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","type","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bind","bindKey","WRAP_BIND_FLAG","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","toLowerCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","concat","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","substring","global","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","factory","__webpack_modules__","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","text","diff_main","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","a","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","j","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","x","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","y1","x1","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineStart","lineEnd","lineArrayLength","line","fromCharCode","maxLines","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","param","decodeURI","ex","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","abs","score_threshold","best_loc","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","m","sign","DIFF_INSERT","DIFF_EQUAL","__unused_webpack_module","abcRender","adapterRender","chartRender","codeRender","flowchartRender","graphvizRender","highlightRender","lazyLoadImageRender","element","document","loadImg","it","testImage","createElement","src","getAttribute","addEventListener","naturalHeight","naturalWidth","querySelector","clientWidth","window","innerHeight","height","removeAttribute","querySelectorAll","imgElement","vditorImageIntersectionObserver","disconnect","observe","IntersectionObserver","entrie","isIntersecting","intersectionRatio","mathRender","mediaRender","mermaidRender","markmapRender","mindmapRender","outlineRender","plantumlRender","constants","setContentTheme","addScript","hasClosest","setLute","selection","speechRender","lang","speechSynthesis","SpeechSynthesisUtterance","getVoice","currentVoice","defaultVoice","getVoices","item","default","playSVG","pauseSVG","getElementById","speechDom","insertAdjacentElement","onvoiceschanged","voice","utterThis","onend","onerror","classList","innerHTML","ontouchstart","event","contains","parentElement","speaking","paused","resume","pause","speak","Hc","vditorSpeechRange","focus","getSelection","rangeCount","getRangeAt","cloneRange","rect","getBoundingClientRect","top","scrollTop","left","changedTouches","pageX","clientX","setAttribute","__awaiter","_arguments","P","generator","fulfilled","rejected","then","__generator","body","f","label","sent","trys","ops","verb","v","mergeOptions","defaultOption","anchor","cdn","CDN","customEmoji","emojiPath","hljs","HLJS_OPTIONS","markdown","MARKDOWN_OPTIONS","math","MATH_OPTIONS","mode","speech","enable","render","media","theme","THEME_OPTIONS","T","md2html","mdText","mergedOptions","G","lute","X","autoSpace","gfmAutoLink","codeBlockPreview","emojiSite","emojis","fixTermTypo","footnotes","headingAnchor","inlineMathDigit","inlineDigit","lazyLoadImage","linkBase","linkPrefix","listStyle","mark","mathBlockPreview","paragraphBeginningSpace","sanitize","toc","renderers","SetJSRenderers","Md2HTML","SetHeadingID","previewRender","previewElement","i18nScriptPrefix","i18nScriptID_1","i18n","el","removeChild","VditorI18n","Z","O","H","K","B","Q","Y","onclick","substr","offsetTop","onhashchange","decodeURIComponent","location","hash","spanElement","lG","fb","headingElement","scrollTo","scrollX","preview_image","setCodeTheme","Vditor","previewImage","E","k","preview","_VDITOR_VERSION","Constants","ZWSP","DROP_EDITOR","MOBILE_WIDTH","CLASS_MENU_DISABLED","EDIT_TOOLBARS","CODE_THEME","CODE_LANGUAGES","lineNumber","defaultLang","engine","macros","list","_constants__WEBPACK_IMPORTED_MODULE_0__","_util_addScript__WEBPACK_IMPORTED_MODULE_2__","_adapterRender__WEBPACK_IMPORTED_MODULE_1__","abcElements","abcRenderAdapter","getElements","ABCJS","renderAbc","getCode","overflowX","r","mathRenderAdapter","mathElement","textContent","mermaidRenderAdapter","markmapRenderAdapter","mindmapRenderAdapter","chartRenderAdapter","innerText","graphvizRenderAdapter","flowchartRenderAdapter","plantumlRenderAdapter","echartsElements","option","JSON","parse","echarts","init","setOption","error","_util_code160to32__WEBPACK_IMPORTED_MODULE_1__","from","maxHeight","_c","codeText","codeElement","cloneNode","iconHTML","divElement","copied","textarea","renderMenu","outerHeight","insertAdjacentHTML","flowchartElements","flowchartObj","flowchart","drawSVG","graphvizElements","code","blob","Blob","blobUrl","URL","webkitURL","createObjectURL","worker","Worker","Viz","renderSVGElement","outerHTML","catch","console","_util_addStyle__WEBPACK_IMPORTED_MODULE_1__","hljsOption","vditorHljsStyle","href","c","block","highlightElement","linenNumberTemp","getComputedStyle","isSoftWrap","lineNumberHTML","lineList","enabled","markmap","Transformer","Markmap","deriveOptions","transformer","globalCSS","svg","firstChild","mm","features","getAssets","styles","scripts","loadCSS","loadJS","frontmatter","frontmatterOptions","fit","markmapElements","parentNode","appendChild","childNodes","nodeName","_util_addScript__WEBPACK_IMPORTED_MODULE_3__","_util_addStyle__WEBPACK_IMPORTED_MODULE_2__","_util_code160to32__WEBPACK_IMPORTED_MODULE_4__","mathElements","defaultOptions","katex","renderToString","displayMode","tagName","output","stopPropagation","preventDefault","vditorMathElement","currentTarget","closest","clipboardData","MathJax","loader","mathjax","startup","typeset","tex","mathJaxOptions","J","renderMath_1","mathOptions","getMetricsFor","tex2svgPromise","node","append","updateDocument","errorTextElement","promise","chains","_loop_1","fns","curr","chainAsync_1","_util_function__WEBPACK_IMPORTED_MODULE_0__","aElement","url","videoRender","audioRender","youtubeMatch","youkuMatch","qqMatch","coubMatch","facebookMatch","dailymotionMatch","bilibiliMatch","tedMatch","encodeURIComponent","params_1","bvid","o","page","high_quality","as_wide","allowfullscreen","autoplay","keyValue","src_1","keys_1","iframeRender","_util_function__WEBPACK_IMPORTED_MODULE_3__","mermaidElements","config","securityLevel","altFontFamily","fontFamily","startOnLoad","htmlLabels","useMaxWidth","sequence","diagramMarginX","diagramMarginY","boxMargin","showSequenceNumbers","gantt","leftPadding","rightPadding","mermaid","initialize","mermaidData","e_1","errorElement","W","mindmapElements","series","initialTreeDepth","itemStyle","borderWidth","backgroundColor","borderColor","borderRadius","lineStyle","width","roam","params","tooltip","triggerOn","_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__","_mathRender__WEBPACK_IMPORTED_MODULE_0__","contentElement","targetElement","vditor","tocHTML","ids","tempElement","SetToC","currentMode","HTML2VditorDOM","SpinVditorIRDOM","SpinVditorDOM","Lute","New","headingsElement","firstElementChild","nextElementSibling","isEqualNode","idElement","windowScrollY","toolbarConfig","pin","toolbar","offsetHeight","scrollY","plantumlElements","plantumlEncoder","encode","PutEmojis","SetEmojiSite","SetHeadingAnchor","SetInlineMathAllowDigitAfterOpenMarker","SetAutoSpace","SetFootnotes","SetFixTermTypo","SetVditorCodeBlockPreview","SetVditorMathBlockPreview","SetSanitize","SetChineseParagraphBeginningSpace","SetRenderListStyle","SetLinkBase","SetLinkPrefix","SetMark","SetGFMAutoLink","SetImageLazyLoading","oldImgElement","oldImgRect","spin","overflow","translate3d","innerWidth","scrollWidth","scrollHeight","clientHeight","btnElement","deg","codeTheme","_util_addStyle__WEBPACK_IMPORTED_MODULE_0__","contentTheme","vditorContentTheme","cssPath","addScriptSync","xhrObj","XMLHttpRequest","setRequestHeader","send","scriptElement","responseText","async","onload","addStyle","styleElement","rel","getElementsByTagName","code160to32","isSafari","navigator","userAgent","isFirefox","accessLocalStorage","localStorage","getEventName","isCtrl","platform","metaKey","ctrlKey","updateHotkeyTip","hotkey","isChrome","vendor","genUUID","crypto","getRandomValues","Uint32Array","getSearch","link","hashIndex","URLSearchParams","_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__","hasTopClosestByClassName","hasClosestByClassName","parentClosest","findTop","hasTopClosestByTag","S","getTopList","topUlElement","topOlElement","topListElement","hasClosestByAttribute","attr","isClosest","hasClosestBlock","blockElement","hasClosestByMatchTag","getLastNode","lastChild","hasClosestByTag","hasClosestByHeadings","_i","merger","obj","_compatibility__WEBPACK_IMPORTED_MODULE_2__","_hasClosest__WEBPACK_IMPORTED_MODULE_1__","getEditorRange","startContainer","ownerDocument","setStart","collapse","getCursorPosition","editor","cursorRect","parentRect","getClientRects","parent_1","startOffset","selectNode","setEnd","endContainer","endOffset","selectIsEditor","container","commonAncestorContainer","setSelectionFocus","removeAllRanges","addRange","getSelectPosition","selectElement","editorElement","preSelectionRange","selectNodeContents","setSelectionByPosition","charIndex","pNode","foundStart","stop","nextCharIndex","nextSibling","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setRangeByWbr","wbrElement","previousElementSibling","isSameNode","previousSibling","i7","insertNode","createTextNode","insertHTML","tempBlockElement","pasteElement","preventInput","execCommand","lastElementChild","F9","pasteTemplate","__webpack_module_cache__","moduleId","cachedModule","definition","enumerable","resizeCb","getMarkdown","sv","VditorDOM2Md","wysiwyg","VditorIRDOM2Md","ir","DevTools","renderEchart","_this","devtools","ASTChart","RenderEChartsJSON","align","verticalAlign","orient","toolbox","bottom","emphasis","iconStyle","feature","restore","show","saveAsImage","right","resize","compatibility","removeCurrentToolbar","names","itemElement","setCurrentToolbar","enableToolbar","disableToolbar","hideToolbar","showToolbar","hidePanel","panels","exceptElement","elements","emoji","hint","popover","toggleSubMenu","panelElement","actionBtn","level","Le","log","print","processCodeRender","previewPanel","language","customRenders","renderToc","outline","clickToc","keydownToc","im","execAfterRender","insertBeforeBlock","trimRight","insertAfterBlock","tocElement","ignoreSpace","isHrMD","isHeadingMD","startSpace","endSpace","previousNode","previewRenderElement","firstLinkRefDefElement","isIRElement","footnoteElement","a1","blockquoteElement","O9","listPrevElement","listNextElement","inputType","debugger","footnoteItemElement","footnoteItemText","marker","footnoteRefElement","firstFootnoteElement","allLinkRefDefsElement","allFootnoteElement","ib","process_processAfterRender","enableAddUndoStack","enableHint","enableInput","matchHotKey","hotKey","yl","altKey","shiftKey","hotKeys","keyCode","hasShift","vU","expandMarker","nodeElement","JQ","nodeElementEnd","collapsed","nextNode","nodeValue","markerElement","parentNextNode","nextIsNode","previousIsNode","combineFootnote","afterCombine","footnote","thisNode","inputEvent","processAfterRender","codeBlockMarkerElement","openMarkerElement","getSideByType","mathBlockMarkerElement","mathBlockCloseElement","Caret","isSVElement","footnotes_1","processSpinVditorSVDOM","scrollCenter","setTheme","setPadding","minPadding","maxWidth","paddingLeft","offsetWidth","setTypewriterPosition","typewriterMode","minHeight","setProperty","UIUnbindListener","removeEventListener","extendStatics","templateObject_1","afterRender","initValue","pK","getItem","originalInnerHTML","HTML2Md","highlightToolbarIR","hlToolbarTimeoutId","Gb","zh","typeElement","liElement","afterRenderEvent","afterRenderTimeoutId","composingLock","counter","setItem","undo","addToUndoStack","undoDelay","getNextHTML","getPreviousHTML","modifyPre","pElement","cloneRangeOffset","insertBefore","setHeading","removeHeading","showCode","previousElement","removeBlockElement","click","highlightToolbarWYSIWYG","footnotesElement","genClose","setPopoverPosition","commentElement","ids_1","nextIds_1","tableElement","genUp","genDown","updateTable_1","oldRow","rows","oldColumn","cells","row","input_1","column","input2_1","columnDiff","rowDiff","rowHTML","l","setAlign_1","setTableAlign","left_1","center_1","right_1","td","th","alignType","alignLeft","ns","alignCenter","alignRight","insertRowElement","insertRowBelow","cellElement","insertRow","insertRowBElement","insertRowAbove","insertColumnElement","insertColumnRight","insertColumn","insertColumnBElement","insertColumnLeft","deleteRowElement","deleteRow","deleteColumnElement","deleteColumn","inputWrap","oninput","onkeydown","isComposing","select","focusToElement","input2Wrap","linkRefElement","genLinkRefPopover","footnotesRefElement","footnoteRef","input_2","blockRenderElement","isBlock","languageWrap","language_1","codeElement_1","recentLanguage","detail","onkeyup","matchLangData","selectionStart","langs","keyName","genHTML","input_3","genAPopover","backslashElement","offsetLeft","updateLinkRef","input1","textIsNotEmpty","linkHotkey","input1Wrap","linkRef","upElement","up","nextElement","downElement","down","nextInputElement","updateA","input2","tooltipText","highlightToolbar","renderDomByMd","md","Md2VditorDOM","cancelBES","commandName","jump","lastTagName","lastEndTagName","splitHTML","previousHTML","nextHTML","beforeHTML","afterHTML","splitElement","lastBeforeHTML","lastAfterHTML","MenuItem","menuItem","tip","iconElement","tipPosition","CustomEvent","useHighlight","useRender","quoteElement","inlineCodeElement","listToggle","surroundContents","deleteContents","textInputElement","textInputElements","tableHTML_1","tableText","delimiter_1","header","subIndex","cell","hrHTML","toolbarEvent","process_processToolbar","processToolbar","__extends","b","setPrototypeOf","__proto__","__","setEditMode","markdownText","SetVditorIR","SetVditorWYSIWYG","SetVditorSV","Md2VditorIRDOM","svHTML","resetIcon","toggle","EditMode","_super","instantRendering","splitView","_bindEvent","getSelectText","focusEvent","dblclickEvent","image","isPreview","blurEvent","expandElement","selectPopover","relatedTarget","hideComment","blur","dropEvent","dataTransfer","paste","pasteCode","copyEvent","cutEvent","comment","getComments","adjustTop","cursorTop","Ny","hotkeyEvent","keydown","_d","_e","recordFirstPosition","textElement","blockquoteMarkerElement","listMarkerElement","taskMarkerElement","listLastMarkerElement","startIndex","isTask","listFirstMarkerElement","fixTab","isFirst","newLineMatch","newLineText","processPreviousMarkers","extractContents","previousLastElement","processKeydown_processKeydown","fixGSKeyBackspace","fixCJKPosition","fixHR","fixMarkdown","fixList","fixTable","codeRenderElement","inputElemment","fixCodeBlock","fixBlockquote","topBQElement","E2","pTempElement","fixTask","linRefElement","inputElement","fixDelete","rangeStart","rangeStartOffset","nextIsCode","fixFirefoxArrowUpTable","fixCursorDownInlineMath","wysiwyg_processKeydown_processKeydown","newlineElement","beforeMarkerElement","afterMarkerElement","preRenderElement","preBeforeElement","isFirstCell","table2Element","isLastCell","headingMarkerElement","process_processHeading","headingLength","processKeydown","ctrlEnter","redo","esc","processHeading","subMenuItem","dispatchEvent","selectEvent","onmouseup","selectText","showComment","processPaste","spinHTML","SpinVditorSVDOM","spanNode","isPrevious","sideElement","spanType","markerText","hasNL","previousType","previousText","openMarker","processTimeoutId","newLine","insertAdjacentText","getElement","setHeaders","xhr","upload","headers","Upload","isUploading","uploadFiles","files","fileList","filesMax","fileItem","isValidate","validateResult","formData","extraData","iMax","multiple","DataTransferItem","getAsFile","handler","file","validate","hide","uploadFileList","errorTip","uploadingStr","nameEmpty","fileExt","filename","accept","fileTypeError","uploading","validateFile","FormData","fieldName","withCredentials","onreadystatechange","readyState","DONE","status","success","format","response","msg","errFiles","uploadError","succFileText","succMap","genUploadedLabel","onprogress","lengthComputable","progress","loaded","total","input_input","previousAEmptyElement","previoueIsEmptyA","wbr","html_1","firstLinkRefDefElement_1","isWYSIWYGElement","firstFootnoteElement_1","triggerRemoveComment","__makeTemplateObject","cooked","raw","fixBrowserBehavior_awaiter","fixBrowserBehavior_generator","pLiElement","zwspNode","inlineElement","insertEmptyBlock","goPreviousCell","isSelected","pHTML","childElementCount","trimLeft","replaceChild","listIndent","liElements_1","cloneContents","liParentElement","liHTML_1","tempTopListElement","listOutdent","liParentLiElement","liParentAfterElement","liElements_2","isMatch_1","afterHTML_1","columnCnt","rowCnt","currentColumn","textArray","tab","pText","pTextList","tableHeaderMD","pInnerHTML","innerHTMLList","lastElement","DX","theadHTML","tbodyElement","brElement","trElement","codePosition","taskItemElement","checked","afterHTML_2","beforeHTML_1","isAfter_1","taskItem","parentTagName","dataMarker","startAttribute","rangeElement","lastCellElement","textHTML","textPlain","renderLinkDest","doc","fileReader_1","file_1","items","entering","WalkContinue","TokensStr","__internal_object__","Parent","Type","linkToImgUrl","xhr_1","linkToImgFormat","responseJSON_1","original_1","originalURL","linkToImgCallback","stringify","EscapeHTMLStr","DOMParser","parseFromString","Sanitize","isCode","pres","processPasteCode","$j","HTML2VditorIRDOM","oC","Md2VditorSVDOM","FileReader","readAsDataURL","imgHTML","IsValidLinkDest","processHint","matchLangData_1","key_1","removeInline","aTextElement","hint_awaiter","hint_generator","Hint","hintExtends","splitChar","fillEmoji","preElement","timeId","focusNode","currentLineValue","getKey","emojiHint_1","GetEmojis","matchEmojiData_1","textareaPosition","hintsHTML","hintData","replaceHtml","replaceIndex","defaultView","getPropertyValue","currentHintElement","length_1","currentLastIndex","lastItem","preChar","IR","bindEvent","linkElement","lastRect","isOpen","getHTML","VditorDOM2HTML","VditorIRDOM2HTML","Outline","outlineLabel","Preview","classes","copyToX","actionElement","actionHtml","btn","actionCustom","w","mdTimeoutId","renderStartTime","responseJSON","startTime","performanceTip","cmtFocusElement","copyElement","backgroundImage","Resize","documentSelf","clientY","ondragstart","captureEvents","onmousemove","moveEvent","paddingBottom","onselectstart","onselect","Editor","textScrollTop","textHeight","textScrollHeight","Tip","setPreviewMode","Both_extends","Both","Br","CodeTheme_extends","CodeTheme","ContentTheme_extends","ContentTheme","Counter","Custom_extends","Custom","Devtools_extends","Devtools","Divider","Emoji_extends","Emoji","commonEmojiHTML","emojiValue","emojiTail","download","downloadTip","Export_extends","Export","exportMarkdown","generate","iframe","contentDocument","write","contentWindow","postMessage","exportPDF","exportHTML","Fullscreen_extends","Fullscreen","svgElement","dataset","fullscreen","Headings_extends","Headings","heading1","heading2","heading3","heading4","heading5","heading6","Help_extends","Help","Indent_extends","Indent","Info_extends","Info","Version","InsertAfter_extends","InsertAfter","InsertBefore_extends","InsertBefore","Outdent_extends","Outdent","Outline_extends","Outline_Outline","Preview_extends","Preview_Preview","toolbars","RecordMedia","SAMPLE_RATE","isRecording","readyFlag","leftChannel","rightChannel","recordingLength","AudioContext","webkitAudioContext","DEFAULT_SAMPLE_RATE","sampleRate","volume","createGain","createMediaStreamSource","connect","recorder","createScriptProcessor","onaudioprocess","destination","cloneChannelData","leftChannelData","rightChannelData","Float32Array","startRecordingNewWavFile","stopRecording","buildWavFileBlob","leftBuffer","mergeBuffers","rightBuffer","interleaved","downSampleBuffer","totalByteCount","writeUTFBytes","setUint32","setUint16","subChunk2ByteCount","lng","setInt16","rate","sampleRateRatio","newLength","offsetResult","offsetBuffer","nextOffsetBuffer","accum","desiredChannelBuffer","setUint8","Record_extends","Record","mediaRecorder","File","recording","mediaDevices","getUserMedia","audio","mediaStream","inputBuffer","getChannelData","Redo_extends","Redo","Undo_extends","Undo","Upload_extends","Upload_Upload","inputHTML","Toolbar","genItem","panelElement_1","subI","updateConfig","menuItemObj","undo_Undo","stackSize","resetStack","clearStack","undoStack","redoStack","state","renderDiff","hasUndo","G6","addCaret","lastText","diff","patchList","isRedo","redoPatchList","setFocus","Options","rtl","_f","_g","_h","_j","mergeToolbar","toolbarItem","toolbarResult","currentMenuItem","defaultMenuItem","WYSIWYG","commentIds","blockStartElement","blockEndElement","NewNodeID","rangeClone","contents","removeStart","removeEnd","startElement","endElement","comments_1","oldIds","removedIds","unbindListener","scrollListener","codeEndElement","aEndElement","aTitle","popoverTop1","popoverTop","scroll","topPx","checkElement","updateImg","alt","imageURL","elementEvent","altWrap","alternateText","titleWrap","genImagePopover","blockCodeElement","getRenderElementNextNode","nextRenderElement","src_extends","version","showErrorTip","updateToolbarConfig","contentThemePath","getCurrentMode","renderPreview","clearCache","removeItem","disabledCache","enableCache","html2md","exportJSON","RenderJSON","deleteValue","isCollapsed","updateValue","insertValue","tmpElement","setValue","destroy","iconScript","getCommentIds","hlCommentIds","hlItem","unHlCommentIds","unHlItem","removeCommentIds","removeIds","removeId","_lutePath","export","visualViewport","pendingUpdate_1","viewportHandler","requestAnimationFrame","layoutViewport","initUI"],"sourceRoot":""}
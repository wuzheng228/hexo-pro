{"version":3,"file":"static/js/8377ef39b25889.chunk.js","mappings":"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","sources":["webpack://hexo-pro-client/./client/src/pages/content/components/frontMatterAdder.tsx"],"sourcesContent":["import { Button, Card, Checkbox, Input, Tag, Tooltip } from \"antd\"\r\nimport React from \"react\"\r\nimport { useEffect, useState } from \"react\"\r\nimport useDeviceDetect from '../../../hooks/useDeviceDetect'\r\n\r\nconst CheckboxGroup = Checkbox.Group\r\n\r\nexport function FrontMatterAdder({ visible, onClose, title, existFrontMatter, frontMatter, onChange }) {\r\n    const { isMobile } = useDeviceDetect()\r\n    const [localVisible, setLocalVisible] = useState(false)\r\n    const [inputFmtKeyValue, setInputFmtKeyValue] = useState('')\r\n    const [inputFmtValueValue, setInputFmtValueValue] = useState('')\r\n\r\n    useEffect(() => {\r\n        setLocalVisible(visible)\r\n    }, [visible])\r\n\r\n    const existFontMatter = () => {\r\n        const fmkeys = Object.keys(existFrontMatter)\r\n        const options = []\r\n\r\n        fmkeys.forEach((name, i) => {\r\n            options.push({\r\n                label: (\r\n                    <Tooltip key={i} title={!frontMatter[name] ? 'unset' : frontMatter[name]}>\r\n                        <Tag color={!frontMatter[name] ? 'default' : 'blue'}>{name}</Tag>\r\n                    </Tooltip>\r\n                ),\r\n                value: name\r\n            })\r\n        })\r\n\r\n        return (\r\n            <CheckboxGroup options={options} defaultValue={fmkeys} onChange={(v) => {\r\n                const newfmt = {}\r\n                v.forEach(name => {\r\n                    newfmt[name] = !existFrontMatter[name] ? null : existFrontMatter[name]\r\n                })\r\n                console.log('newfmt', newfmt)\r\n                onChange(newfmt)\r\n            }} />\r\n        )\r\n    }\r\n\r\n    const onInputEnterKeyPress = () => {\r\n        if (inputFmtKeyValue.trim().length == 0) {\r\n            return\r\n        }\r\n        const newFmt = { ...frontMatter }\r\n        newFmt[inputFmtKeyValue] = inputFmtValueValue\r\n        onChange(newFmt)\r\n    }\r\n\r\n    const addFrontMatter = () => {\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                gap: 8,\r\n                width: '100%'\r\n            }}>\r\n                <div style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: isMobile ? '1fr 1fr' : '1fr auto auto',\r\n                    gridTemplateRows: isMobile ? 'auto auto' : 'unset',\r\n                    gap: 8,\r\n                    alignItems: 'center'\r\n                }}>\r\n                    <Input\r\n                        placeholder=\"键名\"\r\n                        value={inputFmtKeyValue}\r\n                        onChange={(v) => setInputFmtKeyValue(v.target.value)}\r\n                        onPressEnter={onInputEnterKeyPress}\r\n                        status={!inputFmtKeyValue.trim() ? 'error' : undefined}\r\n                    />\r\n                    <Input\r\n                        placeholder=\"键值\"\r\n                        value={inputFmtValueValue}\r\n                        onChange={(v) => setInputFmtValueValue(v.target.value)}\r\n                        onPressEnter={onInputEnterKeyPress}\r\n                    />\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={onInputEnterKeyPress}\r\n                        disabled={!inputFmtKeyValue.trim()}\r\n                        style={{ minWidth: isMobile ? '100%' : 80 }}\r\n                    >\r\n                        添加\r\n                    </Button>\r\n                </div>\r\n                <Button\r\n                    danger\r\n                    onClick={() => {\r\n                        setLocalVisible(false)\r\n                        onClose()\r\n                    }}\r\n                    style={{ alignSelf: 'flex-end' }}\r\n                >\r\n                    关闭\r\n                </Button>\r\n            </div >\r\n        )\r\n    }\r\n\r\n    return localVisible ? (\r\n        <Card\r\n            title={title}\r\n            bordered={true}\r\n            hoverable={true}\r\n            style={{\r\n                position: 'absolute',\r\n                top: '100%',\r\n                zIndex: 100,\r\n                width: isMobile ? '80vw' : '600px',\r\n                maxWidth: '100vw',\r\n                left: isMobile ? 0 : undefined,\r\n                boxShadow: '0 4px 12px rgba(0,0,0,0.15)'\r\n            }}\r\n            extra={addFrontMatter()}\r\n            bodyStyle={{ padding: isMobile ? 12 : 24 }}\r\n        >\r\n            <div style={{\r\n                maxHeight: '60vh',\r\n                overflowY: 'auto',\r\n                paddingRight: 8\r\n            }}>\r\n                {existFontMatter()}\r\n            </div>\r\n        </Card>\r\n    ) : null\r\n}"],"names":["CheckboxGroup","Checkbox","Group","FrontMatterAdder","_ref","visible","onClose","title","existFrontMatter","frontMatter","onChange","isMobile","useDeviceDetect","_useState2","_slicedToArray","useState","localVisible","setLocalVisible","_useState4","inputFmtKeyValue","setInputFmtKeyValue","_useState6","inputFmtValueValue","setInputFmtValueValue","useEffect","fmkeys","options","onInputEnterKeyPress","trim","length","newFmt","_objectSpread","React","Card","bordered","hoverable","style","position","top","zIndex","width","maxWidth","left","undefined","boxShadow","extra","display","flexDirection","gap","gridTemplateColumns","gridTemplateRows","alignItems","Input","placeholder","value","v","target","onPressEnter","status","Button","type","onClick","disabled","minWidth","danger","alignSelf","bodyStyle","padding","maxHeight","overflowY","paddingRight","Object","keys","forEach","name","i","push","label","Tooltip","key","Tag","color","defaultValue","newfmt","console","log"],"sourceRoot":""}
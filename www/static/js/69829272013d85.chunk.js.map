{"version":3,"file":"static/js/69829272013d85.chunk.js","mappings":"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","sources":["webpack://hexo-pro-client/./client/src/pages/content/yaml/components/YamlEditor.tsx","webpack://hexo-pro-client/./node_modules/monaco-editor/esm/vs/base/common/worker/ lazy ^.*$ namespace object","webpack://hexo-pro-client/./node_modules/monaco-editor/esm/vs/editor/common/services/ lazy ^.*$ namespace object"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport * as monaco from 'monaco-editor'\r\n\r\ninterface YamlEditorProps {\r\n  id: string;\r\n  initialValue: string;\r\n  height: string;\r\n  onChange?: (value: string) => void;\r\n  readOnly?: boolean; // 新增\r\n}\r\n\r\nconst YamlEditor: React.FC<YamlEditorProps> = ({ id, initialValue, height, onChange, readOnly = false }) => {\r\n  const editorRef = useRef<monaco.editor.IStandaloneCodeEditor | null>(null)\r\n  const containerRef = useRef<HTMLDivElement>(null)\r\n  const [value, setValue] = useState(initialValue)\r\n\r\n  // 初始化编辑器\r\n  useEffect(() => {\r\n    if (containerRef.current && !editorRef.current) {\r\n      // 配置编辑器\r\n      editorRef.current = monaco.editor.create(containerRef.current, {\r\n        value: initialValue,\r\n        language: 'yaml',\r\n        theme: 'vs',\r\n        automaticLayout: true,\r\n        minimap: { enabled: false },\r\n        scrollBeyondLastLine: false,\r\n        lineNumbers: 'on',\r\n        wordWrap: 'on',\r\n        tabSize: 2,\r\n        fontSize: window.innerWidth <= 768 ? 12 : 14, // 移动端字体更小\r\n        readOnly: readOnly // 新增\r\n      })\r\n\r\n      // 添加编辑器内容变化事件监听\r\n      if (onChange) {\r\n        editorRef.current.onDidChangeModelContent(() => {\r\n          const newValue = editorRef.current?.getValue() || ''\r\n          setValue(newValue)\r\n          onChange(newValue)\r\n        })\r\n      }\r\n\r\n      // 为编辑器添加getValue方法，方便外部获取内容\r\n      (document.getElementById(id) as any).getValue = () => {\r\n        return editorRef.current?.getValue() || ''\r\n      };\r\n      \r\n      // 为编辑器添加layout方法，方便外部调整大小\r\n      (document.getElementById(id) as any).layout = () => {\r\n        if (editorRef.current) {\r\n          editorRef.current.layout()\r\n        }\r\n      }\r\n      \r\n      // 监听窗口大小变化，自动调整编辑器大小\r\n      const handleResize = () => {\r\n        if (editorRef.current) {\r\n          editorRef.current.layout()\r\n          // 根据屏幕大小调整字体\r\n          editorRef.current.updateOptions({\r\n            fontSize: window.innerWidth <= 768 ? 12 : 14\r\n          })\r\n        }\r\n      }\r\n      \r\n      window.addEventListener('resize', handleResize)\r\n      \r\n      return () => {\r\n        window.removeEventListener('resize', handleResize)\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      // 组件卸载时清理编辑器实例\r\n      if (editorRef.current) {\r\n        try {\r\n          // 判断编辑器是否已经被销毁\r\n          if (editorRef.current.getModel()) {\r\n            editorRef.current.dispose()\r\n          }\r\n          editorRef.current = null\r\n        } catch (error) {\r\n          console.error('Error disposing Monaco editor:', error)\r\n        }\r\n      }\r\n    }\r\n  }, [id]) // 只依赖id，避免频繁销毁重建\r\n\r\n  // 处理initialValue变化\r\n  useEffect(() => {\r\n    if (editorRef.current && initialValue !== value) {\r\n      // 使用setValue更新编辑器内容，避免重新创建编辑器实例\r\n      editorRef.current.setValue(initialValue)\r\n      setValue(initialValue)\r\n    }\r\n  }, [initialValue])\r\n  \r\n  // 处理height变化\r\n  useEffect(() => {\r\n    if (editorRef.current && containerRef.current) {\r\n      containerRef.current.style.height = height\r\n      editorRef.current.layout()\r\n    }\r\n  }, [height])\r\n\r\n  return (\r\n    <div id={id} ref={containerRef} style={{ height, width: '100%', border: '1px solid #d9d9d9', borderRadius: '2px' }} />\r\n  )\r\n}\r\n\r\nexport default YamlEditor","var map = {\n\t\"./simpleWorker\": 45585,\n\t\"./simpleWorker.js\": 45585\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(() => {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 5890;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./editorBaseApi\": [\n\t\t93059\n\t],\n\t\"./editorBaseApi.js\": [\n\t\t93059\n\t],\n\t\"./editorSimpleWorker\": [\n\t\t90735\n\t],\n\t\"./editorSimpleWorker.js\": [\n\t\t90735\n\t],\n\t\"./editorWorker\": [\n\t\t90304\n\t],\n\t\"./editorWorker.js\": [\n\t\t90304\n\t],\n\t\"./editorWorkerHost\": [\n\t\t96358\n\t],\n\t\"./editorWorkerHost.js\": [\n\t\t96358\n\t],\n\t\"./findSectionHeaders\": [\n\t\t99307\n\t],\n\t\"./findSectionHeaders.js\": [\n\t\t99307\n\t],\n\t\"./getIconClasses\": [\n\t\t78148\n\t],\n\t\"./getIconClasses.js\": [\n\t\t78148\n\t],\n\t\"./languageFeatureDebounce\": [\n\t\t12060\n\t],\n\t\"./languageFeatureDebounce.js\": [\n\t\t12060\n\t],\n\t\"./languageFeatures\": [\n\t\t52230\n\t],\n\t\"./languageFeatures.js\": [\n\t\t52230\n\t],\n\t\"./languageFeaturesService\": [\n\t\t81197\n\t],\n\t\"./languageFeaturesService.js\": [\n\t\t81197\n\t],\n\t\"./languageService\": [\n\t\t83930\n\t],\n\t\"./languageService.js\": [\n\t\t83930\n\t],\n\t\"./languagesAssociations\": [\n\t\t55996\n\t],\n\t\"./languagesAssociations.js\": [\n\t\t55996\n\t],\n\t\"./languagesRegistry\": [\n\t\t66995\n\t],\n\t\"./languagesRegistry.js\": [\n\t\t66995\n\t],\n\t\"./markerDecorations\": [\n\t\t80886\n\t],\n\t\"./markerDecorations.js\": [\n\t\t80886\n\t],\n\t\"./markerDecorationsService\": [\n\t\t90011\n\t],\n\t\"./markerDecorationsService.js\": [\n\t\t90011\n\t],\n\t\"./model\": [\n\t\t64830\n\t],\n\t\"./model.js\": [\n\t\t64830\n\t],\n\t\"./modelService\": [\n\t\t40931\n\t],\n\t\"./modelService.js\": [\n\t\t40931\n\t],\n\t\"./resolverService\": [\n\t\t37042\n\t],\n\t\"./resolverService.js\": [\n\t\t37042\n\t],\n\t\"./semanticTokensDto\": [\n\t\t19376\n\t],\n\t\"./semanticTokensDto.js\": [\n\t\t19376\n\t],\n\t\"./semanticTokensProviderStyling\": [\n\t\t9520\n\t],\n\t\"./semanticTokensProviderStyling.js\": [\n\t\t9520\n\t],\n\t\"./semanticTokensStyling\": [\n\t\t82891\n\t],\n\t\"./semanticTokensStyling.js\": [\n\t\t82891\n\t],\n\t\"./semanticTokensStylingService\": [\n\t\t38148\n\t],\n\t\"./semanticTokensStylingService.js\": [\n\t\t38148\n\t],\n\t\"./textModelSync/textModelSync.impl\": [\n\t\t75456\n\t],\n\t\"./textModelSync/textModelSync.impl.js\": [\n\t\t75456\n\t],\n\t\"./textModelSync/textModelSync.protocol\": [\n\t\t45628,\n\t\t5628\n\t],\n\t\"./textModelSync/textModelSync.protocol.js\": [\n\t\t45628,\n\t\t5628\n\t],\n\t\"./textResourceConfiguration\": [\n\t\t41504\n\t],\n\t\"./textResourceConfiguration.js\": [\n\t\t41504\n\t],\n\t\"./treeSitterParserService\": [\n\t\t35320\n\t],\n\t\"./treeSitterParserService.js\": [\n\t\t35320\n\t],\n\t\"./treeViewsDnd\": [\n\t\t2603\n\t],\n\t\"./treeViewsDnd.js\": [\n\t\t2603\n\t],\n\t\"./treeViewsDndService\": [\n\t\t26756\n\t],\n\t\"./treeViewsDndService.js\": [\n\t\t26756\n\t],\n\t\"./unicodeTextModelHighlighter\": [\n\t\t49887\n\t],\n\t\"./unicodeTextModelHighlighter.js\": [\n\t\t49887\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 9204;\nmodule.exports = webpackAsyncContext;"],"names":["_ref","id","initialValue","height","onChange","_ref$readOnly","readOnly","editorRef","useRef","containerRef","_useState2","_slicedToArray","useState","value","setValue","useEffect","current","monaco","create","language","theme","automaticLayout","minimap","enabled","scrollBeyondLastLine","lineNumbers","wordWrap","tabSize","fontSize","window","innerWidth","onDidChangeModelContent","_editorRef$current","newValue","getValue","document","getElementById","_editorRef$current2","layout","handleResize","updateOptions","addEventListener","removeEventListener","getModel","dispose","error","console","style","React","ref","width","border","borderRadius","map","webpackAsyncContext","req","Promise","resolve","then","__webpack_require__","o","e","Error","code","keys","Object","module","exports","ids","all","slice"],"sourceRoot":""}
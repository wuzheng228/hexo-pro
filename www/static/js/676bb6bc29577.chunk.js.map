{"version":3,"file":"static/js/676bb6bc29577.chunk.js","mappings":"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","sources":["webpack://hexo-pro-client/./client/src/components/Vditor/index.tsx","webpack://hexo-pro-client/./client/src/assets/pin.svg","webpack://hexo-pro-client/./client/src/assets/pin-fill.svg","webpack://hexo-pro-client/./client/src/pages/content/components/EditorHeader.tsx","webpack://hexo-pro-client/./client/src/pages/content/components/frontMatterAdder.tsx","webpack://hexo-pro-client/./client/src/pages/content/style/index.module.less?ff0a"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\n\r\nimport Vditor from 'vditor'\r\nimport \"vditor/src/assets/less/index.less\"\r\nimport \"./style/index.less\"\r\nimport service from '@/utils/api'\r\nimport { GlobalContext } from '@/context'\r\nimport useLocale from '@/hooks/useLocale'\r\n\r\nexport default function HexoProVditor({ initValue, isPinToolbar, handleChangeContent, handleUploadingImage }) {\r\n    // 'emoji', 'headings', 'bold', 'italic', 'strike', '|', 'line', 'quote', 'list', 'ordered-list', 'check', 'outdent', 'indent', 'code', 'inline-code', 'insert-after', 'insert-before', 'undo', 'redo', 'upload', 'link', 'table', 'edit-mode', 'preview', 'fullscreen', 'outline', 'export'\r\n\r\n    const t = useLocale()\r\n\r\n    function uploadImage(image, filename) {\r\n        const promise = new Promise((f, r) => {\r\n            service.post('/hexopro/api/images/upload', { data: image, filename: filename }).then(res => {\r\n                f(res.data)\r\n            }).catch(err => {\r\n                r(err)\r\n            })\r\n        })\r\n        return promise\r\n    }\r\n\r\n    const [vd, setVd] = useState(undefined)\r\n    const [isUploadingImage, setIsUPloadingImage] = useState(false)\r\n\r\n    const [isEditorFocus, setIsEditorFocus] = useState(false)\r\n\r\n\r\n    const { theme, lang } = useContext(GlobalContext)\r\n\r\n    function getLocale() {\r\n        if (lang === 'zh-CN') {\r\n            return 'zh_CN'\r\n        } else {\r\n            return 'en_US'\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleUploadingImage(isUploadingImage)\r\n    }, [isUploadingImage, handleUploadingImage])\r\n\r\n    useEffect(() => {\r\n        console.log('isPinToolbar', isPinToolbar)\r\n        if (vd) {\r\n            console.log('isPinToolbar111', isPinToolbar)\r\n            vd.updateToolbarConfig({\r\n                pin: isPinToolbar\r\n            })\r\n        }\r\n    }, [vd, isPinToolbar])\r\n\r\n    useEffect(() => {\r\n        console.log('theme', theme)\r\n        if (vd) {\r\n            console.log('theme111', theme)\r\n            vd.setTheme(theme === 'dark' ? 'dark' : 'classic', theme === 'dark' ? 'dark' : 'light', theme === 'dark' ? 'native' : 'xcode')\r\n        }\r\n    }, [vd, theme])\r\n\r\n    useEffect(() => {\r\n        if (vd) {\r\n            const toolbar = document.querySelector('.vditor-toolbar') as HTMLElement\r\n            const vditorElement = document.getElementById('vditor') as HTMLElement\r\n            if (toolbar && vditorElement) {\r\n                toolbar.style.width = `${vditorElement.clientWidth}px !important`\r\n            }\r\n\r\n            const resizeHandler = () => {\r\n                if (toolbar && vditorElement) {\r\n                    toolbar.style.width = `${vditorElement.clientWidth}px`\r\n                }\r\n            }\r\n\r\n            window.addEventListener('resize', resizeHandler)\r\n\r\n            // 返回销毁逻辑\r\n            return () => {\r\n                window.removeEventListener('resize', resizeHandler)\r\n            }\r\n        }\r\n    }, [vd])\r\n\r\n    useEffect(() => {\r\n        const vditor = new Vditor('vditor', {\r\n            fullscreen: {\r\n                index: 100\r\n            },\r\n            lang: getLocale(),\r\n            theme: 'classic',\r\n            height: '100%',\r\n            width: '100%',\r\n            toolbarConfig: {\r\n                pin: false // 确保工具栏固定\r\n            },\r\n            after: () => {\r\n                // 设置初始值\r\n                vditor.setValue(initValue)\r\n                // 固定toolbar\r\n                const toolbar = document.querySelector('.vditor-toolbar') as HTMLElement\r\n                const vditorElement = document.getElementById('vditor') as HTMLElement\r\n                if (toolbar && vditorElement) {\r\n                    toolbar.style.width = `${vditorElement.clientWidth}px !important`\r\n                }\r\n\r\n                const content = document.querySelector('vditor-content') as HTMLElement\r\n                const editorHeader = document.querySelector('.editor-header') as HTMLElement\r\n\r\n                if (content && toolbar && editorHeader) {\r\n                    console.log('走到这里了')\r\n                    content.style.cssText = `margin-top: ${toolbar.clientHeight + editorHeader.clientHeight}px !important;`\r\n                }\r\n\r\n                window.addEventListener('resize', () => {\r\n                    if (toolbar && vditorElement) {\r\n                        toolbar.style.width = `${vditorElement.clientWidth}px`\r\n                        if (content) {\r\n                            content.style.marginTop = `${toolbar.clientHeight + editorHeader.clientHeight}px !important;`\r\n                        }\r\n                    }\r\n                })\r\n                setVd(vditor)\r\n            },\r\n            focus: (v: string) => {\r\n                setIsEditorFocus(true)\r\n            },\r\n            blur: (v) => {\r\n                setIsEditorFocus(false)\r\n            },\r\n            upload: {\r\n                multiple: true,\r\n                error: (err: any) => {\r\n                    console.log('err', err)\r\n                },\r\n                validate: (files) => {\r\n                    console.log('validate', files)\r\n                    return true\r\n                },\r\n                format: (files: File[], responseText: string): string => {\r\n                    // 这里可以添加处理文件格式化的逻辑\r\n                    console.log('format', files)\r\n                    return responseText\r\n                },\r\n                file: (files: File[]): File[] | Promise<File[]> => {\r\n                    console.log('file', files)\r\n                    return null\r\n                },\r\n                handler: (files: File[]): Promise<string | null> => {\r\n                    // 这里可以添加处理文件上传的逻辑\r\n                    console.log('files', files)\r\n\r\n                    const allowedTypes = ['image/png', 'image/jpeg', 'image/gif', 'image/bmp', 'image/webp']\r\n\r\n                    const filteredFiles = files.filter(file => allowedTypes.includes(file.type))\r\n                    for (const file of files) {\r\n                        if (!allowedTypes.includes(file.type)) {\r\n                            vditor.tip(`${t['vditor.upload.invalidFileType']}: ${file.name}`, 2000)\r\n                        }\r\n                    }\r\n\r\n                    for (const file of filteredFiles) {\r\n                        setIsUPloadingImage(true)\r\n                        const reader = new FileReader()\r\n                        reader.onload = (event) => {\r\n                            const filename = file.name\r\n                            uploadImage(event.target.result, filename).then((res: { src: string, msg: string }) => {\r\n                                console.log('update=> ', res)\r\n                                res['code'] = 0\r\n\r\n                                setTimeout(() => {\r\n                                    const currentValue = vditor.getValue()\r\n                                    const cursorPosition = vditor.getCursorPosition()\r\n                                    console.log('cursorPosition', cursorPosition)\r\n                                    if (isEditorFocus) {\r\n                                        vditor.setValue(currentValue + `\\n![alt text](${res.src})`)\r\n                                    } else {\r\n                                        vditor.insertValue(`\\n![alt text](${res.src})`)\r\n                                    }\r\n                                    // 重新渲染编辑器内容（如果需要）\r\n                                    vditor.tip(`${t['vditor.upload.success']}: ${filename}`, 3000)\r\n                                }, 300)\r\n                                return null\r\n                            }).catch((err) => {\r\n                                vditor.tip(`${t['vditor.upload.error']}: ${err.message}`, 3000)\r\n                                return err\r\n                            }).finally(() => {\r\n                                setIsUPloadingImage(false)\r\n                            })\r\n                        }\r\n                        reader.readAsDataURL(file)\r\n                    }\r\n                    return null // 确保函数返回一个值\r\n                }\r\n            },\r\n            input: (v) => {\r\n                handleChangeContent(vditor.getValue())\r\n            },\r\n            toolbar: [\r\n                // {\r\n                //     name: 'code-theme'\r\n                // },\r\n                // {\r\n                //     name: 'content-theme'\r\n                // },\r\n                {\r\n                    name: 'emoji'\r\n                },\r\n                {\r\n                    name: 'headings'\r\n                },\r\n                {\r\n                    name: 'bold'\r\n                },\r\n                {\r\n                    name: 'italic'\r\n                },\r\n                {\r\n                    name: 'strike'\r\n                },\r\n                {\r\n                    name: 'line'\r\n                },\r\n                {\r\n                    name: 'quote'\r\n                },\r\n                {\r\n                    name: 'list'\r\n                },\r\n                {\r\n                    name: 'ordered-list'\r\n                },\r\n                {\r\n                    name: 'check'\r\n                },\r\n                {\r\n                    name: 'outdent'\r\n                },\r\n                {\r\n                    name: 'indent'\r\n                },\r\n                {\r\n                    name: 'code'\r\n                },\r\n                {\r\n                    name: 'inline-code'\r\n                },\r\n                {\r\n                    name: 'inline-code'\r\n                },\r\n                {\r\n                    name: 'insert-after'\r\n                },\r\n                {\r\n                    name: 'insert-before'\r\n                },\r\n                {\r\n                    name: 'undo'\r\n                },\r\n                {\r\n                    name: 'redo'\r\n                },\r\n                {\r\n                    name: 'upload'\r\n                },\r\n                {\r\n                    name: 'link'\r\n                },\r\n                {\r\n                    name: 'table'\r\n                },\r\n                {\r\n                    name: 'edit-mode',\r\n                },\r\n                {\r\n                    name: 'preview',\r\n                    className: 'toolbar-right'\r\n                },\r\n                {\r\n                    name: 'fullscreen',\r\n                    className: 'toolbar-right',\r\n                    click() {\r\n                        const toolbar = document.querySelector('.vditor-toolbar') as HTMLElement\r\n                        const vditorElement = document.getElementById('vditor') as HTMLElement\r\n                        if (toolbar && vditorElement) {\r\n                            toolbar.style.width = `${vditorElement.clientWidth}px`\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: 'outline',\r\n                    className: 'toolbar-right'\r\n                },\r\n                {\r\n                    name: 'export',\r\n                    className: 'toolbar-right'\r\n                }\r\n            ]\r\n        })\r\n        return () => {\r\n            vd?.destroy()\r\n            setVd(undefined)\r\n        }\r\n    }, [initValue, lang])\r\n\r\n    return (\r\n        <div id='vditorWapper' style={{ width: '100%', height: '100%', flex: 1, borderRadius: '0px' }}>\r\n            <div\r\n                style={{ width: '100%', height: '100%' }}\r\n                id='vditor'\r\n                className='vditor'>\r\n            </div>\r\n        </div >\r\n\r\n    )\r\n}","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgPin = function SvgPin(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    className: \"pin_svg__icon\",\n    viewBox: \"0 0 1024 1024\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M648.728 130.78a73.1 73.1 0 0 1 22.675 15.433l191.56 191.756a73.143 73.143 0 0 1-22.137 118.564l-67.877 30.062-127.341 127.488-10.094 140.24a73.143 73.143 0 0 1-124.684 46.445L387.17 676.986l-210.725 211.7-51.834-51.615L335.458 625.25 207.53 497.225a73.143 73.143 0 0 1 46.3-124.635l144.237-10.777 125.074-125.22 29.38-67.78a73.143 73.143 0 0 1 96.206-38.034m-29.086 67.12-34.914 80.53-154.087 154.332-171.398 12.751 303.323 303.543 12.044-167.4 156.233-156.428 80.384-35.596z\"\n  })));\n};\nexport default SvgPin;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgPinFill = function SvgPinFill(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    className: \"pin-fill_svg__icon\",\n    viewBox: \"0 0 1024 1024\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M648.728 130.78a73.1 73.1 0 0 1 22.675 15.433l191.56 191.756a73.143 73.143 0 0 1-22.137 118.564l-67.877 30.062-127.341 127.488-10.094 140.24a73.143 73.143 0 0 1-124.684 46.445L387.17 676.986l-210.725 211.7-51.834-51.615L335.458 625.25 207.53 497.225a73.143 73.143 0 0 1 46.3-124.635l144.237-10.777 125.074-125.22 29.38-67.78a73.143 73.143 0 0 1 96.206-38.034\",\n    className: \"pin-fill_svg__custom-cursor-on-hover\"\n  })));\n};\nexport default SvgPinFill;","import { BarsOutlined, DeleteOutlined, SettingOutlined } from \"@ant-design/icons\"\r\nimport { Button, Col, message, Popconfirm, Row } from \"antd\"\r\nimport ButtonGroup from \"antd/es/button/button-group\"\r\nimport React, { useContext, useState } from \"react\"\r\nimport cs from 'classnames'\r\nimport IconPin from \"@/assets/pin.svg\"\r\nimport IconPinFill from \"@/assets/pin-fill.svg\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { GlobalContext } from \"@/context\"\r\nimport useLocale from \"@/hooks/useLocale\"\r\n\r\nexport default function EditorHeader({ initTitle, isPage, isDraft, popTitle, popDes, className = '', handleChangeTitle, handleSettingClick, handleRemoveSource, handlePublish, handleUnpublish }) {\r\n\r\n    const [isPin, setIsPin] = useState(true)\r\n    const dispatch = useDispatch()\r\n    const locale = useLocale()\r\n\r\n    const themeStyles = {\r\n        light: {\r\n            backgroundColor: \"white\",\r\n            borderBottomColor: 'gray',\r\n            inputBackgroundColor: \"white\",\r\n            inputColor: \"black\",\r\n            buttonBackgroundColor: \"white\",\r\n            buttonColor: \"black\"\r\n        },\r\n        dark: {\r\n            backgroundColor: \"#2e2e2e\",\r\n            borderBottomColor: '#555',\r\n            inputBackgroundColor: \"#2e2e2e\",\r\n            inputColor: \"white\",\r\n            buttonBackgroundColor: \"#555\",\r\n            buttonColor: \"white\"\r\n        }\r\n    }\r\n\r\n    const { theme } = useContext(GlobalContext)\r\n\r\n    const currentTheme = themeStyles[theme]\r\n\r\n    const handlePinClick = () => {\r\n        setIsPin(!isPin)\r\n        dispatch({\r\n            type: 'toggle-vditor-toolbar-pin',\r\n            payload: {\r\n                vditorToolbarPin: isPin\r\n            },\r\n        })\r\n        return () => {\r\n            setIsPin(false)\r\n            dispatch({\r\n                type: 'toggle-vditor-toolbar-pin',\r\n                payload: {\r\n                    vditorToolbarPin: false\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Row style={{\r\n            width: \"100%\", borderBottomColor: currentTheme.borderBottomColor, borderBottom: '1px solid',\r\n            backgroundColor: currentTheme.backgroundColor,\r\n        }} align='middle' className={cs(\"editor-header\", className)}>\r\n            {/* 博客名称输入 */}\r\n            <Col span={12}>\r\n                <input\r\n                    style={{\r\n                        width: \"100%\", height: 60, border: 'none', outline: 'none', boxSizing: 'border-box', fontSize: 28, fontWeight: 500, marginLeft: 10,\r\n                        backgroundColor: currentTheme.inputBackgroundColor,\r\n                        color: currentTheme.inputColor\r\n                    }}\r\n                    value={initTitle}\r\n                    onChange={(v) => {\r\n                        handleChangeTitle(v.target.value)\r\n                    }}\r\n                />\r\n            </Col>\r\n            {/* 博客发布按钮 */}\r\n            <Col span={2} offset={9} style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', paddingLeft: 50 }}>\r\n                <ButtonGroup>\r\n                    <Button type='default' icon={isPin ? <IconPinFill /> : <IconPin />} onClick={handlePinClick} style={{ backgroundColor: currentTheme.buttonBackgroundColor, color: currentTheme.buttonColor }} />\r\n                    <Button type='default' icon={<SettingOutlined />} onClick={(e) => handleSettingClick(e)} style={{ borderRight: 'none', backgroundColor: currentTheme.buttonBackgroundColor, color: currentTheme.buttonColor }} />\r\n                    {\r\n                        !isPage && (isDraft ?\r\n                            <Button type='primary' onClick={handlePublish} style={{ zIndex: 2, border: '1px dashed', borderColor: 'gray', backgroundColor: currentTheme.buttonBackgroundColor, color: currentTheme.buttonColor }}>{locale['editor.header.publish']}</Button>\r\n                            : <Button type='default' onClick={handleUnpublish} style={{ backgroundColor: currentTheme.buttonBackgroundColor, color: currentTheme.buttonColor }}>{locale['editor.header.unpublish']}</Button>\r\n                        )\r\n                    }\r\n                    <Popconfirm\r\n                        title={popTitle}\r\n                        description={popDes}\r\n                        onConfirm={() => {\r\n                            message.info({\r\n                                content: 'ok',\r\n                            })\r\n                            handleRemoveSource()\r\n                        }}\r\n                        onCancel={() => {\r\n                            message.error({\r\n                                content: 'cancel',\r\n                            })\r\n                        }}\r\n                    >\r\n                        <Button type='default' icon={<DeleteOutlined />} style={{ borderLeft: 'none', backgroundColor: currentTheme.buttonBackgroundColor, color: currentTheme.buttonColor }} />\r\n                    </Popconfirm>\r\n                </ButtonGroup>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n","import { Button, Card, Checkbox, Input, Space, Tag, Tooltip } from \"antd\"\r\nimport React from \"react\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nconst CheckboxGroup = Checkbox.Group\r\n\r\nexport function FrontMatterAdder({ visible, onClose, title, existFrontMatter, frontMatter, onChange }) {\r\n    const [localVisible, setLocalVisible] = useState(false)\r\n    const [inputFmtKeyValue, setInputFmtKeyValue] = useState('')\r\n    const [inputFmtValueValue, setInputFmtValueValue] = useState('')\r\n\r\n    useEffect(() => {\r\n        setLocalVisible(visible)\r\n    }, [visible])\r\n\r\n    const exitsFontMatter = () => {\r\n        const fmkeys = Object.keys(existFrontMatter)\r\n        const options = []\r\n\r\n        fmkeys.forEach((name, i) => {\r\n            options.push({\r\n                label: (\r\n                    <Tooltip key={i} title={!frontMatter[name] ? 'unset' : frontMatter[name]}>\r\n                        <Tag color={!frontMatter[name] ? 'default' : 'blue'}>{name}</Tag>\r\n                    </Tooltip>\r\n                ),\r\n                value: name\r\n            })\r\n        })\r\n\r\n        return (\r\n            <CheckboxGroup options={options} defaultValue={fmkeys} onChange={(v) => {\r\n                const newfmt = {}\r\n                v.forEach(name => {\r\n                    newfmt[name] = !existFrontMatter[name] ? null : existFrontMatter[name]\r\n                })\r\n                console.log('newfmt', newfmt)\r\n                onChange(newfmt)\r\n            }} />\r\n        )\r\n    }\r\n\r\n    const onInputEnterKeyPress = () => {\r\n        if (inputFmtKeyValue.trim().length == 0) {\r\n            return\r\n        }\r\n        const newFmt = { ...frontMatter }\r\n        newFmt[inputFmtKeyValue] = inputFmtValueValue\r\n        onChange(newFmt)\r\n    }\r\n\r\n    const addFrontMatter = () => {\r\n        return (\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                <Space>\r\n                    <Input style={{ flex: 1 }} placeholder=\"frontMatter Key\" value={inputFmtKeyValue} onChange={(v) => setInputFmtKeyValue(v.target.value)} onPressEnter={onInputEnterKeyPress} />\r\n                    <Input style={{ flex: 1 }} placeholder=\"frontMatter value\" value={inputFmtValueValue} onChange={(v) => setInputFmtValueValue(v.target.value)} onPressEnter={onInputEnterKeyPress} />\r\n                    <Button type='default' onClick={() => {\r\n                        setLocalVisible(false)\r\n                        onClose()\r\n                    }}>X</Button>\r\n                </Space>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    return (\r\n        localVisible &&\r\n        <Card title={title} bordered={true} hoverable={true} style={{ position: 'absolute', top: '100%', zIndex: 100, width: '600px' }} extra={addFrontMatter()}>\r\n            {exitsFontMatter()}\r\n        </Card>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"skeleton\":\"Gyn304SJSN07YNVwsKIw\"};"],"names":["HexoProVditor","_ref","initValue","isPinToolbar","handleChangeContent","handleUploadingImage","t","useLocale","_useState2","_slicedToArray","useState","undefined","vd","setVd","_useState4","isUploadingImage","setIsUPloadingImage","_useState6","isEditorFocus","setIsEditorFocus","_useContext","useContext","GlobalContext","theme","lang","useEffect","console","log","updateToolbarConfig","pin","setTheme","toolbar","document","querySelector","vditorElement","getElementById","style","width","concat","clientWidth","resizeHandler","window","addEventListener","removeEventListener","vditor","Vditor","fullscreen","index","height","toolbarConfig","after","setValue","content","editorHeader","cssText","clientHeight","marginTop","focus","v","blur","upload","multiple","error","err","validate","files","format","responseText","file","handler","_step","allowedTypes","filteredFiles","filter","includes","type","_iterator","_createForOfIteratorHelper","s","n","done","value","tip","name","e","f","_step2","_iterator2","_loop","reader","FileReader","onload","event","filename","image","Promise","r","service","data","then","res","uploadImage","target","result","setTimeout","currentValue","getValue","cursorPosition","getCursorPosition","src","insertValue","message","readAsDataURL","input","className","click","destroy","React","id","flex","borderRadius","_path","_extends","Object","assign","bind","arguments","length","hasOwnProperty","call","apply","props","xmlns","viewBox","d","EditorHeader","initTitle","isPage","isDraft","popTitle","popDes","_ref$className","handleChangeTitle","handleSettingClick","handleRemoveSource","handlePublish","handleUnpublish","isPin","setIsPin","dispatch","useDispatch","locale","currentTheme","light","backgroundColor","borderBottomColor","inputBackgroundColor","inputColor","buttonBackgroundColor","buttonColor","dark","Row","borderBottom","align","cs","Col","span","border","outline","boxSizing","fontSize","fontWeight","marginLeft","color","onChange","offset","display","alignItems","justifyContent","paddingLeft","ButtonGroup","Button","icon","IconPinFill","IconPin","onClick","payload","vditorToolbarPin","SettingOutlined","borderRight","zIndex","borderColor","Popconfirm","title","description","onConfirm","info","onCancel","DeleteOutlined","borderLeft","CheckboxGroup","Checkbox","Group","FrontMatterAdder","visible","onClose","existFrontMatter","frontMatter","localVisible","setLocalVisible","inputFmtKeyValue","setInputFmtKeyValue","inputFmtValueValue","setInputFmtValueValue","fmkeys","options","onInputEnterKeyPress","trim","newFmt","_objectSpread","Card","bordered","hoverable","position","top","extra","Space","Input","placeholder","onPressEnter","keys","forEach","i","push","label","Tooltip","key","Tag","defaultValue","newfmt"],"sourceRoot":""}
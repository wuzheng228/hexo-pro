"use strict";(self.webpackChunkhexo_pro_client=self.webpackChunkhexo_pro_client||[]).push([[676,377],{6579:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(6540),o=n(2248),a=n.n(o),l=n(1923),i=n(8430),c=n(6510);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw a}}}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.initValue,n=e.isPinToolbar,o=e.handleChangeContent,f=e.handleUploadingImage,d=(0,c.A)();var m=s((0,r.useState)(void 0),2),p=m[0],y=m[1],b=s((0,r.useState)(!1),2),g=b[0],h=b[1],v=s((0,r.useState)(!1),2),C=v[0],w=v[1],E=(0,r.useContext)(i.F),A=E.theme,S=E.lang;return(0,r.useEffect)((function(){f(g)}),[g,f]),(0,r.useEffect)((function(){p&&p.updateToolbarConfig({pin:n})}),[p,n]),(0,r.useEffect)((function(){p&&p.setTheme("dark"===A?"dark":"classic","dark"===A?"dark":"light","dark"===A?"native":"xcode")}),[p,A]),(0,r.useEffect)((function(){if(p){var e=document.querySelector(".vditor-toolbar"),t=document.getElementById("vditor");e&&t&&(e.style.width="".concat(t.clientWidth,"px !important"));var n=function(){e&&t&&(e.style.width="".concat(t.clientWidth,"px"))};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}}),[p]),(0,r.useEffect)((function(){p&&p.setValue(t)}),[p,t]),(0,r.useEffect)((function(){var e=new(a())("vditor",{keydown:function(t){if(t.shiftKey&&"Tab"===t.key){t.preventDefault();var n=window.getSelection();if(n.rangeCount>0){var r=n.getRangeAt(0),a=r.startContainer.parentElement;if(a&&("P"===a.tagName||"SPAN"===a.tagName)){var l=a.textContent,i=r.startOffset;if(console.log("parentElement",l.slice(i-24,i)),console.log("parentElement",i,i-24),"&nbsp;&nbsp;&nbsp;&nbsp;"===l.slice(i-24,i)){var c=l.slice(0,i-24)+l.slice(i);a.textContent=c;var u=i-24;o(e.getValue()),r.setStart(a.firstChild,u),r.collapse(!0),n.removeAllRanges(),n.addRange(r)}}}}else if(!t.shiftKey&&"Tab"===t.key){t.preventDefault();var s=window.getSelection();if(s.rangeCount>0){var f=s.getRangeAt(0),d=f.startContainer.parentElement;if(d&&("P"===d.tagName||"SPAN"===d.tagName)){var m=d.textContent,p=f.startOffset,y=m.slice(0,p)+"&nbsp;&nbsp;&nbsp;&nbsp;"+m.slice(p);d.textContent=y;var b=p+24;o(e.getValue()),f.setStart(d.firstChild,b),f.collapse(!0),s.removeAllRanges(),s.addRange(f)}}}},fullscreen:{index:100},lang:"zh-CN"===S?"zh_CN":"en_US",theme:"classic",height:"100%",width:"100%",toolbarConfig:{pin:!1},after:function(){t||""===t||e.setValue(t);var n=document.querySelector(".vditor-toolbar"),r=document.getElementById("vditor");n&&r&&(n.style.width="".concat(r.clientWidth,"px !important"));var o=document.querySelector("vditor-content"),a=document.querySelector(".editor-header");o&&n&&a&&(o.style.cssText="margin-top: ".concat(n.clientHeight+a.clientHeight,"px !important;")),window.addEventListener("resize",(function(){n&&r&&(n.style.width="".concat(r.clientWidth,"px"),o&&(o.style.marginTop="".concat(n.clientHeight+a.clientHeight,"px !important;")))})),y(e)},focus:function(e){w(!0)},blur:function(e){w(!1)},upload:{multiple:!0,handler:function(t){var n,r=["image/png","image/jpeg","image/gif","image/bmp","image/webp"],o=t.filter((function(e){return r.includes(e.type)})),a=u(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.includes(i.type)||e.tip("".concat(d["vditor.upload.invalidFileType"],": ").concat(i.name),2e3)}}catch(e){a.e(e)}finally{a.f()}var c,s=u(o);try{var f=function(){var t=c.value;h(!0);var n=new FileReader;n.onload=function(n){var r=t.name;(function(e,t){return new Promise((function(n,r){l.Ay.post("/hexopro/api/images/upload",{data:e,filename:t}).then((function(e){n(e.data)})).catch((function(e){r(e)}))}))})(n.target.result,r).then((function(t){return t.code=0,setTimeout((function(){var n=e.getValue();e.getCursorPosition();C?e.setValue(n+"\n![alt text](".concat(t.src,")")):e.insertValue("\n![alt text](".concat(t.src,")")),e.tip("".concat(d["vditor.upload.success"],": ").concat(r),3e3)}),600),null})).catch((function(t){return e.tip("".concat(d["vditor.upload.error"],": ").concat(t.message),3e3),t})).finally((function(){h(!1)}))},n.readAsDataURL(t)};for(s.s();!(c=s.n()).done;)f()}catch(e){s.e(e)}finally{s.f()}return null}},input:function(t){o(e.getValue())},toolbar:[{name:"emoji"},{name:"headings"},{name:"bold"},{name:"italic"},{name:"strike"},{name:"line"},{name:"quote"},{name:"list"},{name:"ordered-list"},{name:"check"},{name:"outdent"},{name:"indent"},{name:"code",hotkey:"Ctrl-E"},{name:"inline-code"},{name:"insert-after"},{name:"insert-before"},{name:"undo"},{name:"redo"},{name:"upload"},{name:"link"},{name:"table"},{name:"edit-mode"},{name:"preview",className:"toolbar-right"},{name:"fullscreen",className:"toolbar-right",click:function(){var e=document.querySelector(".vditor-toolbar"),t=document.getElementById("vditor");e&&t&&(e.style.width="".concat(t.clientWidth,"px"))}},{name:"outline",className:"toolbar-right"},{name:"export",className:"toolbar-right"}]});return function(){null==p||p.destroy(),y(void 0)}}),[t,S]),r.createElement("div",{id:"vditorWapper",style:{width:"100%",height:"100%",flex:1,borderRadius:"0px"}},r.createElement("div",{style:{width:"100%",height:"100%"},id:"vditor",className:"vditor"}))}},9641:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r,o=n(8602),a=n(3598),l=n(7152),i=n(6370),c=n(1198),u=n(6044),s=n(9036),f=n(6476),d=n(6540),m=n(6942),p=n.n(m);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}const b=function(e){return d.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,className:"pin_svg__icon",viewBox:"0 0 1024 1024"},e),r||(r=d.createElement("path",{d:"M648.728 130.78a73.1 73.1 0 0 1 22.675 15.433l191.56 191.756a73.143 73.143 0 0 1-22.137 118.564l-67.877 30.062-127.341 127.488-10.094 140.24a73.143 73.143 0 0 1-124.684 46.445L387.17 676.986l-210.725 211.7-51.834-51.615L335.458 625.25 207.53 497.225a73.143 73.143 0 0 1 46.3-124.635l144.237-10.777 125.074-125.22 29.38-67.78a73.143 73.143 0 0 1 96.206-38.034m-29.086 67.12-34.914 80.53-154.087 154.332-171.398 12.751 303.323 303.543 12.044-167.4 156.233-156.428 80.384-35.596z"})))};var g;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}const v=function(e){return d.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,className:"pin-fill_svg__icon",viewBox:"0 0 1024 1024"},e),g||(g=d.createElement("path",{d:"M648.728 130.78a73.1 73.1 0 0 1 22.675 15.433l191.56 191.756a73.143 73.143 0 0 1-22.137 118.564l-67.877 30.062-127.341 127.488-10.094 140.24a73.143 73.143 0 0 1-124.684 46.445L387.17 676.986l-210.725 211.7-51.834-51.615L335.458 625.25 207.53 497.225a73.143 73.143 0 0 1 46.3-124.635l144.237-10.777 125.074-125.22 29.38-67.78a73.143 73.143 0 0 1 96.206-38.034",className:"pin-fill_svg__custom-cursor-on-hover"})))};var C=n(1448),w=n(8430),E=n(6510);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t=e.initTitle,n=e.isPage,r=e.isDraft,m=e.popTitle,y=e.popDes,g=e.className,h=void 0===g?"":g,S=e.handleChangeTitle,k=e.handleSettingClick,x=e.handleRemoveSource,O=e.handlePublish,j=e.handleUnpublish,P=A((0,d.useState)(!0),2),N=P[0],B=P[1],I=(0,C.wA)(),T=(0,E.A)(),_={light:{backgroundColor:"white",borderBottomColor:"gray",inputBackgroundColor:"white",inputColor:"black",buttonBackgroundColor:"white",buttonColor:"black"},dark:{backgroundColor:"#2e2e2e",borderBottomColor:"#555",inputBackgroundColor:"#2e2e2e",inputColor:"white",buttonBackgroundColor:"#555",buttonColor:"white"}}[(0,d.useContext)(w.F).theme];return d.createElement(l.A,{style:{width:"100%",borderBottomColor:_.borderBottomColor,borderBottom:"1px solid",backgroundColor:_.backgroundColor},align:"middle",className:p()("editor-header",h)},d.createElement(i.A,{span:12},d.createElement("input",{style:{width:"100%",height:60,border:"none",outline:"none",boxSizing:"border-box",fontSize:28,fontWeight:500,marginLeft:10,backgroundColor:_.inputBackgroundColor,color:_.inputColor},value:t,onChange:function(e){S(e.target.value)}})),d.createElement(i.A,{span:2,offset:9,style:{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:50}},d.createElement(f.A,null,d.createElement(c.Ay,{type:"default",icon:N?d.createElement(v,null):d.createElement(b,null),onClick:function(){return B(!N),I({type:"toggle-vditor-toolbar-pin",payload:{vditorToolbarPin:N}}),function(){B(!1),I({type:"toggle-vditor-toolbar-pin",payload:{vditorToolbarPin:!1}})}},style:{backgroundColor:_.buttonBackgroundColor,color:_.buttonColor}}),d.createElement(c.Ay,{type:"default",icon:d.createElement(o.A,null),onClick:function(e){return k(e)},style:{borderRight:"none",backgroundColor:_.buttonBackgroundColor,color:_.buttonColor}}),!n&&(r?d.createElement(c.Ay,{type:"primary",onClick:O,style:{zIndex:2,border:"1px dashed",borderColor:"gray",backgroundColor:_.buttonBackgroundColor,color:_.buttonColor}},T["editor.header.publish"]):d.createElement(c.Ay,{type:"default",onClick:j,style:{backgroundColor:_.buttonBackgroundColor,color:_.buttonColor}},T["editor.header.unpublish"])),d.createElement(u.A,{title:m,description:y,onConfirm:function(){s.Ay.info({content:"ok"}),x()},onCancel:function(){s.Ay.error({content:"cancel"})}},d.createElement(c.Ay,{type:"default",icon:d.createElement(a.A,null),style:{borderLeft:"none",backgroundColor:_.buttonBackgroundColor,color:_.buttonColor}})))))}},8377:(e,t,n)=>{n.r(t),n.d(t,{FrontMatterAdder:()=>g});var r=n(1196),o=n(7977),a=n(6914),l=n(2702),i=n(6789),c=n(1198),u=n(1575),s=n(6540);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=r.A.Group;function g(e){var t=e.visible,n=e.onClose,r=e.title,f=e.existFrontMatter,y=e.frontMatter,g=e.onChange,h=p((0,s.useState)(!1),2),v=h[0],C=h[1],w=p((0,s.useState)(""),2),E=w[0],A=w[1],S=p((0,s.useState)(""),2),k=S[0],x=S[1];(0,s.useEffect)((function(){C(t)}),[t]);var O,j,P=function(){if(0!=E.trim().length){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y);e[E]=k,g(e)}};return v&&s.createElement(u.A,{title:r,bordered:!0,hoverable:!0,style:{position:"absolute",top:"100%",zIndex:100,width:"600px"},extra:s.createElement("div",{style:{display:"flex",alignItems:"center"}},s.createElement(l.A,null,s.createElement(i.A,{style:{flex:1},placeholder:"frontMatter Key",value:E,onChange:function(e){return A(e.target.value)},onPressEnter:P}),s.createElement(i.A,{style:{flex:1},placeholder:"frontMatter value",value:k,onChange:function(e){return x(e.target.value)},onPressEnter:P}),s.createElement(c.Ay,{type:"default",onClick:function(){C(!1),n()}},"X")))},(O=Object.keys(f),j=[],O.forEach((function(e,t){j.push({label:s.createElement(o.A,{key:t,title:y[e]?y[e]:"unset"},s.createElement(a.A,{color:y[e]?"blue":"default"},e)),value:e})})),s.createElement(b,{options:j,defaultValue:O,onChange:function(e){var t={};e.forEach((function(e){t[e]=f[e]?f[e]:null})),console.log("newfmt",t),g(t)}})))}},6874:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={skeleton:"Gyn304SJSN07YNVwsKIw"}}}]);
//# sourceMappingURL=67629620b1205.chunk.js.map